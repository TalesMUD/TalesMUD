var app=function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function i(e,t){return e(t={exports:{}},t.exports),t.exports}i((function(t,n){
/*!
   * Materialize v1.0.0-rc.2 (http://materializecss.com)
   * Copyright 2014-2017 Materialize
   * MIT License (https://raw.githubusercontent.com/Dogfalo/materialize/master/LICENSE)
   */
var i=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
/*! cash-dom 1.3.5, https://github.com/kenwheeler/cash @license MIT */window.cash=function(){var e,t=document,n=window,i=Array.prototype,r=i.slice,o=i.filter,s=i.push,a=function(){},c=function(e){return typeof e==typeof a&&e.call},l=function(e){return"string"==typeof e},u=/^#[\w-]*$/,h=/^\.[\w-]*$/,d=/<.+>/,f=/^\w+$/;function p(e,n){return n=n||t,h.test(e)?n.getElementsByClassName(e.slice(1)):f.test(e)?n.getElementsByTagName(e):n.querySelectorAll(e)}function v(n){if(!e){var i=(e=t.implementation.createHTMLDocument(null)).createElement("base");i.href=t.location.href,e.head.appendChild(i)}return e.body.innerHTML=n,e.body.childNodes}function m(e){"loading"!==t.readyState?e():t.addEventListener("DOMContentLoaded",e)}function _(e,i){if(!e)return this;if(e.cash&&e!==n)return e;var r,o=e,s=0;if(l(e))o=u.test(e)?t.getElementById(e.slice(1)):d.test(e)?v(e):p(e,i);else if(c(e))return m(e),this;if(!o)return this;if(o.nodeType||o===n)this[0]=o,this.length=1;else for(r=this.length=o.length;s<r;s++)this[s]=o[s];return this}function g(e,t){return new _(e,t)}var y=g.fn=g.prototype=_.prototype={cash:!0,length:0,push:s,splice:i.splice,map:i.map,init:_};function b(e,t){for(var n=e.length,i=0;i<n&&!1!==t.call(e[i],e[i],i,e);i++);}function w(e,t){var n=e&&(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector);return!!n&&n.call(e,t)}function C(e){return l(e)?w:e.cash?function(t){return e.is(t)}:function(e,t){return e===t}}function S(e){return g(r.call(e).filter((function(e,t,n){return n.indexOf(e)===t})))}Object.defineProperty(y,"constructor",{value:g}),g.parseHTML=v,g.noop=a,g.isFunction=c,g.isString=l,g.extend=y.extend=function(e){e=e||{};var t=r.call(arguments),n=t.length,i=1;for(1===t.length&&(e=this,i=0);i<n;i++)if(t[i])for(var o in t[i])t[i].hasOwnProperty(o)&&(e[o]=t[i][o]);return e},g.extend({merge:function(e,t){for(var n=+t.length,i=e.length,r=0;r<n;i++,r++)e[i]=t[r];return e.length=i,e},each:b,matches:w,unique:S,isArray:Array.isArray,isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}});var k=g.uid="_cash"+Date.now();function E(e){return e[k]=e[k]||{}}function x(e,t,n){return E(e)[t]=n}function T(e,t){var n=E(e);return void 0===n[t]&&(n[t]=e.dataset?e.dataset[t]:g(e).attr("data-"+t)),n[t]}y.extend({data:function(e,t){if(l(e))return void 0===t?T(this[0],e):this.each((function(n){return x(n,e,t)}));for(var n in e)this.data(n,e[n]);return this},removeData:function(e){return this.each((function(t){return function(e,t){var n=E(e);n?delete n[t]:e.dataset?delete e.dataset[t]:g(e).removeAttr("data-"+name)}(t,e)}))}});var L=/\S+/g;function M(e){return l(e)&&e.match(L)}function O(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function R(e,t,n){e.classList?e.classList.add(t):n.indexOf(" "+t+" ")&&(e.className+=" "+t)}function $(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(t,"")}y.extend({addClass:function(e){var t=M(e);return t?this.each((function(e){var n=" "+e.className+" ";b(t,(function(t){R(e,t,n)}))})):this},attr:function(e,t){if(e){if(l(e))return void 0===t?this[0]?this[0].getAttribute?this[0].getAttribute(e):this[0][e]:void 0:this.each((function(n){n.setAttribute?n.setAttribute(e,t):n[e]=t}));for(var n in e)this.attr(n,e[n]);return this}},hasClass:function(e){var t=!1,n=M(e);return n&&n.length&&this.each((function(e){return!(t=O(e,n[0]))})),t},prop:function(e,t){if(l(e))return void 0===t?this[0][e]:this.each((function(n){n[e]=t}));for(var n in e)this.prop(n,e[n]);return this},removeAttr:function(e){return this.each((function(t){t.removeAttribute?t.removeAttribute(e):delete t[e]}))},removeClass:function(e){if(!arguments.length)return this.attr("class","");var t=M(e);return t?this.each((function(e){b(t,(function(t){$(e,t)}))})):this},removeProp:function(e){return this.each((function(t){delete t[e]}))},toggleClass:function(e,t){if(void 0!==t)return this[t?"addClass":"removeClass"](e);var n=M(e);return n?this.each((function(e){var t=" "+e.className+" ";b(n,(function(n){O(e,n)?$(e,n):R(e,n,t)}))})):this}}),y.extend({add:function(e,t){return S(g.merge(this,g(e,t)))},each:function(e){return b(this,e),this},eq:function(e){return g(this.get(e))},filter:function(e){if(!e)return this;var t=c(e)?e:C(e);return g(o.call(this,(function(n){return t(n,e)})))},first:function(){return this.eq(0)},get:function(e){return void 0===e?r.call(this):e<0?this[e+this.length]:this[e]},index:function(e){var t=e?g(e)[0]:this[0],n=e?this:g(t).parent().children();return r.call(n).indexOf(t)},last:function(){return this.eq(-1)}});var A,D,I=(A=/(?:^\w|[A-Z]|\b\w)/g,D=/[\s-_]+/g,function(e){return e.replace(A,(function(e,t){return e[0===t?"toLowerCase":"toUpperCase"]()})).replace(D,"")}),P=function(){var e={},t=document.createElement("div").style;return function(n){if(n=I(n),e[n])return e[n];var i=n.charAt(0).toUpperCase()+n.slice(1);return b((n+" "+["webkit","moz","ms","o"].join(i+" ")+i).split(" "),(function(i){if(i in t)return e[i]=n=e[n]=i,!1})),e[n]}}();function B(e,t){return parseInt(n.getComputedStyle(e[0],null)[t],10)||0}function j(e,t,n){var i,r=T(e,"_cashEvents"),o=r&&r[t];o&&(n?(e.removeEventListener(t,n),(i=o.indexOf(n))>=0&&o.splice(i,1)):(b(o,(function(n){e.removeEventListener(t,n)})),o=[]))}function H(e,t){return"&"+encodeURIComponent(e)+"="+encodeURIComponent(t).replace(/%20/g,"+")}function W(e){var t=e.type;if(!t)return null;switch(t.toLowerCase()){case"select-one":return function(e){var t=e.selectedIndex;return t>=0?e.options[t].value:null}(e);case"select-multiple":return function(e){var t=[];return b(e.options,(function(e){e.selected&&t.push(e.value)})),t.length?t:null}(e);case"radio":case"checkbox":return e.checked?e.value:null;default:return e.value?e.value:null}}function F(e,t,n){var i=l(t);i||!t.length?b(e,i?function(e){return e.insertAdjacentHTML(n?"afterbegin":"beforeend",t)}:function(e,i){return function(e,t,n){if(n){var i=e.childNodes[0];e.insertBefore(t,i)}else e.appendChild(t)}(e,0===i?t:t.cloneNode(!0),n)}):b(t,(function(t){return F(e,t,n)}))}g.prefixedProp=P,g.camelCase=I,y.extend({css:function(e,t){if(l(e))return e=P(e),arguments.length>1?this.each((function(n){return n.style[e]=t})):n.getComputedStyle(this[0])[e];for(var i in e)this.css(i,e[i]);return this}}),b(["Width","Height"],(function(e){var t=e.toLowerCase();y[t]=function(){return this[0].getBoundingClientRect()[t]},y["inner"+e]=function(){return this[0]["client"+e]},y["outer"+e]=function(t){return this[0]["offset"+e]+(t?B(this,"margin"+("Width"===e?"Left":"Top"))+B(this,"margin"+("Width"===e?"Right":"Bottom")):0)}})),y.extend({off:function(e,t){return this.each((function(n){return j(n,e,t)}))},on:function(e,t,n,i){var r;if(!l(e)){for(var o in e)this.on(o,t,e[o]);return this}return c(t)&&(n=t,t=null),"ready"===e?(m(n),this):(t&&(r=n,n=function(e){for(var n=e.target;!w(n,t);){if(n===this||null===n)return!1;n=n.parentNode}n&&r.call(n,e)}),this.each((function(t){var r=n;i&&(r=function(){n.apply(this,arguments),j(t,e,r)}),function(e,t,n){var i=T(e,"_cashEvents")||x(e,"_cashEvents",{});i[t]=i[t]||[],i[t].push(n),e.addEventListener(t,n)}(t,e,r)})))},one:function(e,t,n){return this.on(e,t,n,!0)},ready:m,trigger:function(e,t){if(document.createEvent){var n=document.createEvent("HTMLEvents");return n.initEvent(e,!0,!1),n=this.extend(n,t),this.each((function(e){return e.dispatchEvent(n)}))}}}),y.extend({serialize:function(){var e="";return b(this[0].elements||this,(function(t){if(!t.disabled&&"FIELDSET"!==t.tagName){var n=t.name;switch(t.type.toLowerCase()){case"file":case"reset":case"submit":case"button":break;case"select-multiple":var i=W(t);null!==i&&b(i,(function(t){e+=H(n,t)}));break;default:var r=W(t);null!==r&&(e+=H(n,r))}}})),e.substr(1)},val:function(e){return void 0===e?W(this[0]):this.each((function(t){return t.value=e}))}}),y.extend({after:function(e){return g(e).insertAfter(this),this},append:function(e){return F(this,e),this},appendTo:function(e){return F(g(e),this),this},before:function(e){return g(e).insertBefore(this),this},clone:function(){return g(this.map((function(e){return e.cloneNode(!0)})))},empty:function(){return this.html(""),this},html:function(e){if(void 0===e)return this[0].innerHTML;var t=e.nodeType?e[0].outerHTML:e;return this.each((function(e){return e.innerHTML=t}))},insertAfter:function(e){var t=this;return g(e).each((function(e,n){var i=e.parentNode,r=e.nextSibling;t.each((function(e){i.insertBefore(0===n?e:e.cloneNode(!0),r)}))})),this},insertBefore:function(e){var t=this;return g(e).each((function(e,n){var i=e.parentNode;t.each((function(t){i.insertBefore(0===n?t:t.cloneNode(!0),e)}))})),this},prepend:function(e){return F(this,e,!0),this},prependTo:function(e){return F(g(e),this,!0),this},remove:function(){return this.each((function(e){if(e.parentNode)return e.parentNode.removeChild(e)}))},text:function(e){return void 0===e?this[0].textContent:this.each((function(t){return t.textContent=e}))}});var N=t.documentElement;return y.extend({position:function(){var e=this[0];return{left:e.offsetLeft,top:e.offsetTop}},offset:function(){var e=this[0].getBoundingClientRect();return{top:e.top+n.pageYOffset-N.clientTop,left:e.left+n.pageXOffset-N.clientLeft}},offsetParent:function(){return g(this[0].offsetParent)}}),y.extend({children:function(e){var t=[];return this.each((function(e){s.apply(t,e.children)})),t=S(t),e?t.filter((function(t){return w(t,e)})):t},closest:function(e){return!e||this.length<1?g():this.is(e)?this.filter(e):this.parent().closest(e)},is:function(e){if(!e)return!1;var t=!1,n=C(e);return this.each((function(i){return!(t=n(i,e))})),t},find:function(e){if(!e||e.nodeType)return g(e&&this.has(e).length?e:null);var t=[];return this.each((function(n){s.apply(t,p(e,n))})),S(t)},has:function(e){var t=l(e)?function(t){return 0!==p(e,t).length}:function(t){return t.contains(e)};return this.filter(t)},next:function(){return g(this[0].nextElementSibling)},not:function(e){if(!e)return this;var t=C(e);return this.filter((function(n){return!t(n,e)}))},parent:function(){var e=[];return this.each((function(t){t&&t.parentNode&&e.push(t.parentNode)})),S(e)},parents:function(e){var n,i=[];return this.each((function(r){for(n=r;n&&n.parentNode&&n!==t.body.parentNode;)n=n.parentNode,(!e||e&&w(n,e))&&i.push(n)})),S(i)},prev:function(){return g(this[0].previousElementSibling)},siblings:function(e){var t=this.parent().children(e),n=this[0];return t.filter((function(e){return e!==n}))}}),g}();var c=function(){function e(t,n,i){a(this,e),n instanceof Element||console.error(Error(n+" is not an HTML Element"));var r=t.getInstance(n);r&&r.destroy(),this.el=n,this.$el=cash(n)}return r(e,null,[{key:"init",value:function(e,t,n){var i=null;if(t instanceof Element)i=new e(t,n);else if(t&&(t.jquery||t.cash||t instanceof NodeList)){for(var r=[],o=0;o<t.length;o++)r.push(new e(t[o],n));i=r}return i}}]),e}();!function(e){e.Package?M={}:e.M={},M.jQueryLoaded=!!e.jQuery}(window),n.nodeType||(!t.nodeType&&t.exports&&(n=t.exports=M),n.default=M),M.keys={TAB:9,ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40},M.tabPressed=!1,M.keyDown=!1;document.addEventListener("keydown",(function(e){M.keyDown=!0,e.which!==M.keys.TAB&&e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ARROW_UP||(M.tabPressed=!0)}),!0),document.addEventListener("keyup",(function(e){M.keyDown=!1,e.which!==M.keys.TAB&&e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ARROW_UP||(M.tabPressed=!1)}),!0),document.addEventListener("focus",(function(e){M.keyDown&&document.body.classList.add("keyboard-focused")}),!0),document.addEventListener("blur",(function(e){document.body.classList.remove("keyboard-focused")}),!0),M.initializeJqueryWrapper=function(e,t,n){jQuery.fn[t]=function(i){if(e.prototype[i]){var r=Array.prototype.slice.call(arguments,1);if("get"===i.slice(0,3)){var o=this.first()[0][n];return o[i].apply(o,r)}return this.each((function(){var e=this[n];e[i].apply(e,r)}))}if("object"==typeof i||!i)return e.init(this,arguments[0]),this;jQuery.error("Method "+i+" does not exist on jQuery."+t)}},M.AutoInit=function(e){var t=e||document.body,n={Autocomplete:t.querySelectorAll(".autocomplete:not(.no-autoinit)"),Carousel:t.querySelectorAll(".carousel:not(.no-autoinit)"),Chips:t.querySelectorAll(".chips:not(.no-autoinit)"),Collapsible:t.querySelectorAll(".collapsible:not(.no-autoinit)"),Datepicker:t.querySelectorAll(".datepicker:not(.no-autoinit)"),Dropdown:t.querySelectorAll(".dropdown-trigger:not(.no-autoinit)"),Materialbox:t.querySelectorAll(".materialboxed:not(.no-autoinit)"),Modal:t.querySelectorAll(".modal:not(.no-autoinit)"),Parallax:t.querySelectorAll(".parallax:not(.no-autoinit)"),Pushpin:t.querySelectorAll(".pushpin:not(.no-autoinit)"),ScrollSpy:t.querySelectorAll(".scrollspy:not(.no-autoinit)"),FormSelect:t.querySelectorAll("select:not(.no-autoinit)"),Sidenav:t.querySelectorAll(".sidenav:not(.no-autoinit)"),Tabs:t.querySelectorAll(".tabs:not(.no-autoinit)"),TapTarget:t.querySelectorAll(".tap-target:not(.no-autoinit)"),Timepicker:t.querySelectorAll(".timepicker:not(.no-autoinit)"),Tooltip:t.querySelectorAll(".tooltipped:not(.no-autoinit)"),FloatingActionButton:t.querySelectorAll(".fixed-action-btn:not(.no-autoinit)")};for(var i in n){M[i].init(n[i])}},M.objectSelectorString=function(e){return((e.prop("tagName")||"")+(e.attr("id")||"")+(e.attr("class")||"")).replace(/\s/g,"")},M.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}(),M.escapeHash=function(e){return e.replace(/(:|\.|\[|\]|,|=|\/)/g,"\\$1")},M.elementOrParentIsFixed=function(e){var t=$(e),n=t.add(t.parents()),i=!1;return n.each((function(){if("fixed"===$(this).css("position"))return i=!0,!1})),i},M.checkWithinContainer=function(e,t,n){var i={top:!1,right:!1,bottom:!1,left:!1},r=e.getBoundingClientRect(),o=e===document.body?Math.max(r.bottom,window.innerHeight):r.bottom,s=e.scrollLeft,a=e.scrollTop,c=t.left-s,l=t.top-a;return(c<r.left+n||c<n)&&(i.left=!0),(c+t.width>r.right-n||c+t.width>window.innerWidth-n)&&(i.right=!0),(l<r.top+n||l<n)&&(i.top=!0),(l+t.height>o-n||l+t.height>window.innerHeight-n)&&(i.bottom=!0),i},M.checkPossibleAlignments=function(e,t,n,i){var r={top:!0,right:!0,bottom:!0,left:!0,spaceOnTop:null,spaceOnRight:null,spaceOnBottom:null,spaceOnLeft:null},o="visible"===getComputedStyle(t).overflow,s=t.getBoundingClientRect(),a=Math.min(s.height,window.innerHeight),c=Math.min(s.width,window.innerWidth),l=e.getBoundingClientRect(),u=t.scrollLeft,h=t.scrollTop,d=n.left-u,f=n.top-h,p=n.top+l.height-h;return r.spaceOnRight=o?window.innerWidth-(l.left+n.width):c-(d+n.width),r.spaceOnRight<0&&(r.left=!1),r.spaceOnLeft=o?l.right-n.width:d-n.width+l.width,r.spaceOnLeft<0&&(r.right=!1),r.spaceOnBottom=o?window.innerHeight-(l.top+n.height+i):a-(f+n.height+i),r.spaceOnBottom<0&&(r.top=!1),r.spaceOnTop=o?l.bottom-(n.height+i):p-(n.height-i),r.spaceOnTop<0&&(r.bottom=!1),r},M.getOverflowParent=function(e){return null==e?null:e===document.body||"visible"!==getComputedStyle(e).overflow?e:M.getOverflowParent(e.parentElement)},M.getIdFromTrigger=function(e){var t=e.getAttribute("data-target");return t||(t=(t=e.getAttribute("href"))?t.slice(1):""),t},M.getDocumentScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},M.getDocumentScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};
/**
   * Get time in ms
   * @license https://raw.github.com/jashkenas/underscore/master/LICENSE
   * @type {function}
   * @return {number}
   */
var l=Date.now||function(){return(new Date).getTime()};
/**
   * Returns a function, that, when invoked, will only be triggered at most once
   * during a given window of time. Normally, the throttled function will run
   * as much as it can, without ever going more than once per `wait` duration;
   * but if you'd like to disable the execution on the leading edge, pass
   * `{leading: false}`. To disable execution on the trailing edge, ditto.
   * @license https://raw.github.com/jashkenas/underscore/master/LICENSE
   * @param {function} func
   * @param {number} wait
   * @param {Object=} options
   * @returns {Function}
   */M.throttle=function(e,t,n){var i=void 0,r=void 0,o=void 0,s=null,a=0;n||(n={});var c=function(){a=!1===n.leading?0:l(),s=null,o=e.apply(i,r),i=r=null};return function(){var u=l();a||!1!==n.leading||(a=u);var h=t-(u-a);return i=this,r=arguments,h<=0?(clearTimeout(s),s=null,a=u,o=e.apply(i,r),i=r=null):s||!1===n.trailing||(s=setTimeout(c,h)),o}};var u={scope:{}};u.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},u.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:void 0!==e&&null!=e?e:t},u.global=u.getGlobal(e),u.SYMBOL_PREFIX="jscomp_symbol_",u.initSymbol=function(){u.initSymbol=function(){},u.global.Symbol||(u.global.Symbol=u.Symbol)},u.symbolCounter_=0,u.Symbol=function(e){return u.SYMBOL_PREFIX+(e||"")+u.symbolCounter_++},u.initSymbolIterator=function(){u.initSymbol();var e=u.global.Symbol.iterator;e||(e=u.global.Symbol.iterator=u.global.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&u.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return u.arrayIterator(this)}}),u.initSymbolIterator=function(){}},u.arrayIterator=function(e){var t=0;return u.iteratorPrototype((function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}))},u.iteratorPrototype=function(e){return u.initSymbolIterator(),(e={next:e})[u.global.Symbol.iterator]=function(){return this},e},u.array=u.array||{},u.iteratorFromArray=function(e,t){u.initSymbolIterator(),e instanceof String&&(e+="");var n=0,i={next:function(){if(n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return i.next=function(){return{done:!0,value:void 0}},i.next()}};return i[Symbol.iterator]=function(){return i},i},u.polyfill=function(e,t,n,i){if(t){for(n=u.global,e=e.split("."),i=0;i<e.length-1;i++){var r=e[i];r in n||(n[r]={}),n=n[r]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&u.defineProperty(n,e,{configurable:!0,writable:!0,value:t})}},u.polyfill("Array.prototype.keys",(function(e){return e||function(){return u.iteratorFromArray(this,(function(e){return e}))}}),"es6-impl","es3");var h=e;M.anime=function(){function e(e){if(!O.col(e))try{return document.querySelectorAll(e)}catch(e){}}function t(e,t){for(var n=e.length,i=2<=arguments.length?arguments[1]:void 0,r=[],o=0;o<n;o++)if(o in e){var s=e[o];t.call(i,s,o,e)&&r.push(s)}return r}function n(e){return e.reduce((function(e,t){return e.concat(O.arr(t)?n(t):t)}),[])}function i(t){return O.arr(t)?t:(O.str(t)&&(t=e(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function r(e,t){return e.some((function(e){return e===t}))}function o(e){var t,n={};for(t in e)n[t]=e[t];return n}function s(e,t){var n,i=o(e);for(n in e)i[n]=t.hasOwnProperty(n)?t[n]:e[n];return i}function a(e,t){var n,i=o(e);for(n in t)i[n]=O.und(e[n])?t[n]:e[n];return i}function c(e){if(e=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e))return e[2]}function l(e,t){return O.fnc(e)?e(t.target,t.id,t.total):e}function u(e,t){if(t in e.style)return getComputedStyle(e).getPropertyValue(t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function d(e,t){return O.dom(e)&&r(M,t)?"transform":O.dom(e)&&(e.getAttribute(t)||O.svg(e)&&e[t])?"attribute":O.dom(e)&&"transform"!==t&&u(e,t)?"css":null!=e[t]?"object":void 0}function f(e,n){switch(d(e,n)){case"transform":return function(e,n){var i=function(e){return-1<e.indexOf("translate")||"perspective"===e?"px":-1<e.indexOf("rotate")||-1<e.indexOf("skew")?"deg":void 0}(n);if(i=-1<n.indexOf("scale")?1:0+i,!(e=e.style.transform))return i;for(var r=[],o=[],s=[],a=/(\w+)\((.+?)\)/g;r=a.exec(e);)o.push(r[1]),s.push(r[2]);return(e=t(s,(function(e,t){return o[t]===n}))).length?e[0]:i}(e,n);case"css":return u(e,n);case"attribute":return e.getAttribute(n)}return e[n]||0}function p(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=c(e)||0;switch(t=parseFloat(t),e=parseFloat(e.replace(n[0],"")),n[0][0]){case"+":return t+e+i;case"-":return t-e+i;case"*":return t*e+i}}function v(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function m(e){e=e.points;for(var t,n=0,i=0;i<e.numberOfItems;i++){var r=e.getItem(i);0<i&&(n+=v(t,r)),t=r}return n}function _(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return 2*Math.PI*e.getAttribute("r");case"rect":return 2*e.getAttribute("width")+2*e.getAttribute("height");case"line":return v({x:e.getAttribute("x1"),y:e.getAttribute("y1")},{x:e.getAttribute("x2"),y:e.getAttribute("y2")});case"polyline":return m(e);case"polygon":var t=e.points;return m(e)+v(t.getItem(t.numberOfItems-1),t.getItem(0))}}function g(e,t){function n(n){return n=void 0===n?0:n,e.el.getPointAtLength(1<=t+n?t+n:0)}var i=n(),r=n(-1),o=n(1);switch(e.property){case"x":return i.x;case"y":return i.y;case"angle":return 180*Math.atan2(o.y-r.y,o.x-r.x)/Math.PI}}function y(e,t){var n,i=/-?\d*\.?\d+/g;if(n=O.pth(e)?e.totalLength:e,O.col(n))if(O.rgb(n)){var r=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n);n=r?"rgba("+r[1]+",1)":n}else n=O.hex(n)?function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,i){return t+t+n+n+i+i}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return"rgba("+(e=parseInt(t[1],16))+","+parseInt(t[2],16)+","+(t=parseInt(t[3],16))+",1)"}(n):O.hsl(n)?function(e){function t(e,t,n){return 0>n&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:.5>n?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var n=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e);e=parseInt(n[1])/360;var i=parseInt(n[2])/100,r=parseInt(n[3])/100;if(n=n[4]||1,0==i)r=i=e=r;else{var o=.5>r?r*(1+i):r+i-r*i,s=2*r-o;r=t(s,o,e+1/3),i=t(s,o,e),e=t(s,o,e-1/3)}return"rgba("+255*r+","+255*i+","+255*e+","+n+")"}(n):void 0;else r=(r=c(n))?n.substr(0,n.length-r.length):n,n=t&&!/\s/g.test(n)?r+t:r;return{original:n+="",numbers:n.match(i)?n.match(i).map(Number):[0],strings:O.str(e)||t?n.split(i):[]}}function b(e){return t(e=e?n(O.arr(e)?e.map(i):i(e)):[],(function(e,t,n){return n.indexOf(e)===t}))}function w(e,t){var n=o(t);if(O.arr(e)){var r=e.length;2!==r||O.obj(e[0])?O.fnc(t.duration)||(n.duration=t.duration/r):e={value:e}}return i(e).map((function(e,n){return n=n?0:t.delay,e=O.obj(e)&&!O.pth(e)?e:{value:e},O.und(e.delay)&&(e.delay=n),e})).map((function(e){return a(e,n)}))}function C(e,t){var n;return e.tweens.map((function(i){var r=(i=function(e,t){var n,i={};for(n in e){var r=l(e[n],t);O.arr(r)&&1===(r=r.map((function(e){return l(e,t)}))).length&&(r=r[0]),i[n]=r}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}(i,t)).value,o=f(t.target,e.name),s=n?n.to.original:o,a=(s=O.arr(r)?r[0]:s,p(O.arr(r)?r[1]:r,s));return o=c(a)||c(s)||c(o),i.from=y(s,o),i.to=y(a,o),i.start=n?n.end:e.offset,i.end=i.start+i.delay+i.duration,i.easing=function(e){return O.arr(e)?R.apply(this,e):$[e]}(i.easing),i.elasticity=(1e3-Math.min(Math.max(i.elasticity,1),999))/1e3,i.isPath=O.pth(r),i.isColor=O.col(i.from.original),i.isColor&&(i.round=1),n=i}))}function S(e,t,n,i){var r="delay"===e;return t.length?(r?Math.min:Math.max).apply(Math,t.map((function(t){return t[e]}))):r?i.delay:n.offset+i.delay+i.duration}function k(e){var i,r=s(T,e),o=s(L,e),c=function(e){var t=b(e);return t.map((function(e,n){return{target:e,id:n,total:t.length}}))}(e.targets),l=[],u=a(r,o);for(i in e)u.hasOwnProperty(i)||"targets"===i||l.push({name:i,offset:u.offset,tweens:w(e[i],o)});return e=function(e,i){return t(n(e.map((function(e){return i.map((function(t){var n=d(e.target,t.name);if(n){var i=C(t,e);t={type:n,property:t.name,animatable:e,tweens:i,duration:i[i.length-1].end,delay:i[0].delay}}else t=void 0;return t}))}))),(function(e){return!O.und(e)}))}(c,l),a(r,{children:[],animatables:c,animations:e,duration:S("duration",e,r,o),delay:S("delay",e,r,o)})}function E(e){function n(){return window.Promise&&new Promise((function(e){return d=e}))}function i(e){return p.reversed?p.duration-e:e}function r(e){for(var n=0,i={},r=p.animations,o=r.length;n<o;){var s=r[n],a=s.animatable,c=(l=s.tweens)[f=l.length-1];f&&(c=t(l,(function(t){return e<t.end}))[0]||c);for(var l=Math.min(Math.max(e-c.start-c.delay,0),c.duration)/c.duration,h=isNaN(l)?1:c.easing(l,c.elasticity),d=(l=c.to.strings,c.round),f=[],v=void 0,m=(v=c.to.numbers.length,0);m<v;m++){var _=void 0,y=(_=c.to.numbers[m],c.from.numbers[m]);_=c.isPath?g(c.value,h*_):y+h*(_-y),d&&(c.isColor&&2<m||(_=Math.round(_*d)/d)),f.push(_)}if(c=l.length)for(v=l[0],h=0;h<c;h++)d=l[h+1],m=f[h],isNaN(m)||(v=d?v+(m+d):v+(m+" "));else v=f[0];A[s.type](a.target,s.property,v,i,a.id),s.currentValue=v,n++}if(n=Object.keys(i).length)for(r=0;r<n;r++)x||(x=u(document.body,"transform")?"transform":"-webkit-transform"),p.animatables[r].target.style[x]=i[r].join(" ");p.currentTime=e,p.progress=e/p.duration*100}function o(e){p[e]&&p[e](p)}function s(){p.remaining&&!0!==p.remaining&&p.remaining--}function a(e){var t=p.duration,a=p.offset,u=a+p.delay,v=p.currentTime,m=p.reversed,_=i(e);if(p.children.length){var g=p.children,y=g.length;if(_>=p.currentTime)for(var b=0;b<y;b++)g[b].seek(_);else for(;y--;)g[y].seek(_)}(_>=u||!t)&&(p.began||(p.began=!0,o("begin")),o("run")),_>a&&_<t?r(_):(_<=a&&0!==v&&(r(0),m&&s()),(_>=t&&v!==t||!t)&&(r(t),m||s())),o("update"),e>=t&&(p.remaining?(l=c,"alternate"===p.direction&&(p.reversed=!p.reversed)):(p.pause(),p.completed||(p.completed=!0,o("complete"),"Promise"in window&&(d(),f=n()))),h=0)}e=void 0===e?{}:e;var c,l,h=0,d=null,f=n(),p=k(e);return p.reset=function(){var e=p.direction,t=p.loop;for(p.currentTime=0,p.progress=0,p.paused=!0,p.began=!1,p.completed=!1,p.reversed="reverse"===e,p.remaining="alternate"===e&&1===t?2:t,r(0),e=p.children.length;e--;)p.children[e].reset()},p.tick=function(e){c=e,l||(l=c),a((h+c-l)*E.speed)},p.seek=function(e){a(i(e))},p.pause=function(){var e=D.indexOf(p);-1<e&&D.splice(e,1),p.paused=!0},p.play=function(){p.paused&&(p.paused=!1,l=0,h=i(p.currentTime),D.push(p),I||P())},p.reverse=function(){p.reversed=!p.reversed,l=0,h=i(p.currentTime)},p.restart=function(){p.pause(),p.reset(),p.play()},p.finished=f,p.reset(),p.autoplay&&p.play(),p}var x,T={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},L={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},M="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),O={arr:function(e){return Array.isArray(e)},obj:function(e){return-1<Object.prototype.toString.call(e).indexOf("Object")},pth:function(e){return O.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},dom:function(e){return e.nodeType||O.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return O.hex(e)||O.rgb(e)||O.hsl(e)}},R=function(){function e(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e}return function(t,n,i,r){if(0<=t&&1>=t&&0<=i&&1>=i){var o=new Float32Array(11);if(t!==n||i!==r)for(var s=0;11>s;++s)o[s]=e(.1*s,t,i);return function(s){if(t===n&&i===r)return s;if(0===s)return 0;if(1===s)return 1;for(var a=0,c=1;10!==c&&o[c]<=s;++c)a+=.1;--c,c=a+(s-o[c])/(o[c+1]-o[c])*.1;var l=3*(1-3*i+3*t)*c*c+2*(3*i-6*t)*c+3*t;if(.001<=l){for(a=0;4>a&&0!=(l=3*(1-3*i+3*t)*c*c+2*(3*i-6*t)*c+3*t);++a){var u=e(c,t,i)-s;c-=u/l}s=c}else if(0===l)s=c;else{c=a,a+=.1;var h=0;do{0<(l=e(u=c+(a-c)/2,t,i)-s)?a=u:c=u}while(1e-7<Math.abs(l)&&10>++h);s=u}return e(s,n,r)}}}}(),$=function(){function e(e,t){return 0===e||1===e?e:-Math.pow(2,10*(e-1))*Math.sin(2*(e-1-t/(2*Math.PI)*Math.asin(1))*Math.PI/t)}var t,n="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),i={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],e],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(t,n){return 1-e(1-t,n)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(t,n){return.5>t?e(2*t,n)/2:1-e(-2*t+2,n)/2}]},r={linear:R(.25,.25,.75,.75)},o={};for(t in i)o.type=t,i[o.type].forEach(function(e){return function(t,i){r["ease"+e.type+n[i]]=O.fnc(t)?t:R.apply(h,t)}}(o)),o={type:o.type};return r}(),A={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,i,r){i[r]||(i[r]=[]),i[r].push(t+"("+n+")")}},D=[],I=0,P=function(){function e(){I=requestAnimationFrame(t)}function t(t){var n=D.length;if(n){for(var i=0;i<n;)D[i]&&D[i].tick(t),i++;e()}else cancelAnimationFrame(I),I=0}return e}();return E.version="2.2.0",E.speed=1,E.running=D,E.remove=function(e){e=b(e);for(var t=D.length;t--;)for(var n=D[t],i=n.animations,o=i.length;o--;)r(e,i[o].animatable.target)&&(i.splice(o,1),i.length||n.pause())},E.getValue=f,E.path=function(t,n){var i=O.str(t)?e(t)[0]:t,r=n||100;return function(e){return{el:i,property:e,totalLength:_(i)*(r/100)}}},E.setDashoffset=function(e){var t=_(e);return e.setAttribute("stroke-dasharray",t),t},E.bezier=R,E.easings=$,E.timeline=function(e){var t=E(e);return t.pause(),t.duration=0,t.add=function(n){return t.children.forEach((function(e){e.began=!0,e.completed=!0})),i(n).forEach((function(n){var i=a(n,s(L,e||{}));i.targets=i.targets||e.targets,n=t.duration;var r=i.offset;i.autoplay=!1,i.direction=t.direction,i.offset=O.und(r)?n:p(r,n),t.began=!0,t.completed=!0,t.seek(i.offset),(i=E(i)).began=!0,i.completed=!0,i.duration>n&&(t.duration=i.duration),t.children.push(i)})),t.seek(0),t.reset(),t.autoplay&&t.restart(),t},t},E.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},E}(),function(e,t){var n={accordion:!0,onOpenStart:void 0,onOpenEnd:void 0,onCloseStart:void 0,onCloseEnd:void 0,inDuration:300,outDuration:300},l=function(c){function l(t,n){a(this,l);var i=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));i.el.M_Collapsible=i,i.options=e.extend({},l.defaults,n),i.$headers=i.$el.children("li").children(".collapsible-header"),i.$headers.attr("tabindex",0),i._setupEventHandlers();var r=i.$el.children("li.active").children(".collapsible-body");return i.options.accordion?r.first().css("display","block"):r.css("display","block"),i}return s(l,c),r(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Collapsible=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleCollapsibleClickBound=this._handleCollapsibleClick.bind(this),this._handleCollapsibleKeydownBound=this._handleCollapsibleKeydown.bind(this),this.el.addEventListener("click",this._handleCollapsibleClickBound),this.$headers.each((function(t){t.addEventListener("keydown",e._handleCollapsibleKeydownBound)}))}},{key:"_removeEventHandlers",value:function(){var e=this;this.el.removeEventListener("click",this._handleCollapsibleClickBound),this.$headers.each((function(t){t.removeEventListener("keydown",e._handleCollapsibleKeydownBound)}))}},{key:"_handleCollapsibleClick",value:function(t){var n=e(t.target).closest(".collapsible-header");if(t.target&&n.length){var i=n.closest(".collapsible");if(i[0]===this.el){var r=n.closest("li"),o=i.children("li"),s=r[0].classList.contains("active"),a=o.index(r);s?this.close(a):this.open(a)}}}},{key:"_handleCollapsibleKeydown",value:function(e){13===e.keyCode&&this._handleCollapsibleClickBound(e)}},{key:"_animateIn",value:function(e){var n=this,i=this.$el.children("li").eq(e);if(i.length){var r=i.children(".collapsible-body");t.remove(r[0]),r.css({display:"block",overflow:"hidden",height:0,paddingTop:"",paddingBottom:""});var o=r.css("padding-top"),s=r.css("padding-bottom"),a=r[0].scrollHeight;r.css({paddingTop:0,paddingBottom:0}),t({targets:r[0],height:a,paddingTop:o,paddingBottom:s,duration:this.options.inDuration,easing:"easeInOutCubic",complete:function(e){r.css({overflow:"",paddingTop:"",paddingBottom:"",height:""}),"function"==typeof n.options.onOpenEnd&&n.options.onOpenEnd.call(n,i[0])}})}}},{key:"_animateOut",value:function(e){var n=this,i=this.$el.children("li").eq(e);if(i.length){var r=i.children(".collapsible-body");t.remove(r[0]),r.css("overflow","hidden"),t({targets:r[0],height:0,paddingTop:0,paddingBottom:0,duration:this.options.outDuration,easing:"easeInOutCubic",complete:function(){r.css({height:"",overflow:"",padding:"",display:""}),"function"==typeof n.options.onCloseEnd&&n.options.onCloseEnd.call(n,i[0])}})}}},{key:"open",value:function(t){var n=this,i=this.$el.children("li").eq(t);if(i.length&&!i[0].classList.contains("active")){if("function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,i[0]),this.options.accordion){var r=this.$el.children("li");this.$el.children("li.active").each((function(t){var i=r.index(e(t));n.close(i)}))}i[0].classList.add("active"),this._animateIn(t)}}},{key:"close",value:function(e){var t=this.$el.children("li").eq(e);t.length&&t[0].classList.contains("active")&&("function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,t[0]),t[0].classList.remove("active"),this._animateOut(e))}}],[{key:"init",value:function(e,t){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Collapsible}},{key:"defaults",get:function(){return n}}]),l}(c);M.Collapsible=l,M.jQueryLoaded&&M.initializeJqueryWrapper(l,"collapsible","M_Collapsible")}(cash,M.anime),function(e,t){var n={alignment:"left",autoFocus:!0,constrainWidth:!0,container:null,coverTrigger:!0,closeOnClick:!0,hover:!1,inDuration:150,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onItemClick:null},l=function(c){function l(t,n){a(this,l);var i=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.el.M_Dropdown=i,l._dropdowns.push(i),i.id=M.getIdFromTrigger(t),i.dropdownEl=document.getElementById(i.id),i.$dropdownEl=e(i.dropdownEl),i.options=e.extend({},l.defaults,n),i.isOpen=!1,i.isScrollable=!1,i.isTouchMoving=!1,i.focusedIndex=-1,i.filterQuery=[],i.options.container?e(i.options.container).append(i.dropdownEl):i.$el.after(i.dropdownEl),i._makeDropdownFocusable(),i._resetFilterQueryBound=i._resetFilterQuery.bind(i),i._handleDocumentClickBound=i._handleDocumentClick.bind(i),i._handleDocumentTouchmoveBound=i._handleDocumentTouchmove.bind(i),i._handleDropdownClickBound=i._handleDropdownClick.bind(i),i._handleDropdownKeydownBound=i._handleDropdownKeydown.bind(i),i._handleTriggerKeydownBound=i._handleTriggerKeydown.bind(i),i._setupEventHandlers(),i}return s(l,c),r(l,[{key:"destroy",value:function(){this._resetDropdownStyles(),this._removeEventHandlers(),l._dropdowns.splice(l._dropdowns.indexOf(this),1),this.el.M_Dropdown=void 0}},{key:"_setupEventHandlers",value:function(){this.el.addEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.addEventListener("click",this._handleDropdownClickBound),this.options.hover?(this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.addEventListener("mouseleave",this._handleMouseLeaveBound)):(this._handleClickBound=this._handleClick.bind(this),this.el.addEventListener("click",this._handleClickBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.removeEventListener("click",this._handleDropdownClickBound),this.options.hover?(this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.removeEventListener("mouseleave",this._handleMouseLeaveBound)):this.el.removeEventListener("click",this._handleClickBound)}},{key:"_setupTemporaryEventHandlers",value:function(){document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound),document.body.addEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.addEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_removeTemporaryEventHandlers",value:function(){document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound),document.body.removeEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.removeEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_handleClick",value:function(e){e.preventDefault(),this.open()}},{key:"_handleMouseEnter",value:function(){this.open()}},{key:"_handleMouseLeave",value:function(t){var n=t.toElement||t.relatedTarget,i=!!e(n).closest(".dropdown-content").length,r=!1,o=e(n).closest(".dropdown-trigger");o.length&&o[0].M_Dropdown&&o[0].M_Dropdown.isOpen&&(r=!0),r||i||this.close()}},{key:"_handleDocumentClick",value:function(t){var n=this,i=e(t.target);this.options.closeOnClick&&i.closest(".dropdown-content").length&&!this.isTouchMoving?setTimeout((function(){n.close()}),0):!i.closest(".dropdown-trigger").length&&i.closest(".dropdown-content").length||setTimeout((function(){n.close()}),0),this.isTouchMoving=!1}},{key:"_handleTriggerKeydown",value:function(e){e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ENTER||this.isOpen||(e.preventDefault(),this.open())}},{key:"_handleDocumentTouchmove",value:function(t){e(t.target).closest(".dropdown-content").length&&(this.isTouchMoving=!0)}},{key:"_handleDropdownClick",value:function(t){if("function"==typeof this.options.onItemClick){var n=e(t.target).closest("li")[0];this.options.onItemClick.call(this,n)}}},{key:"_handleDropdownKeydown",value:function(t){if(t.which===M.keys.TAB)t.preventDefault(),this.close();else if(t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ARROW_UP||!this.isOpen)if(t.which===M.keys.ENTER&&this.isOpen){var n=this.dropdownEl.children[this.focusedIndex],i=e(n).find("a, button").first();i.length?i[0].click():n.click()}else t.which===M.keys.ESC&&this.isOpen&&(t.preventDefault(),this.close());else{t.preventDefault();var r=t.which===M.keys.ARROW_DOWN?1:-1,o=this.focusedIndex,s=!1;do{if(o+=r,this.dropdownEl.children[o]&&-1!==this.dropdownEl.children[o].tabIndex){s=!0;break}}while(o<this.dropdownEl.children.length&&o>=0);s&&(this.focusedIndex=o,this._focusFocusedItem())}var a=String.fromCharCode(t.which).toLowerCase();if(a&&-1===[9,13,27,38,40].indexOf(t.which)){this.filterQuery.push(a);var c=this.filterQuery.join(""),l=e(this.dropdownEl).find("li").filter((function(t){return 0===e(t).text().toLowerCase().indexOf(c)}))[0];l&&(this.focusedIndex=e(l).index(),this._focusFocusedItem())}this.filterTimeout=setTimeout(this._resetFilterQueryBound,1e3)}},{key:"_resetFilterQuery",value:function(){this.filterQuery=[]}},{key:"_resetDropdownStyles",value:function(){this.$dropdownEl.css({display:"",width:"",height:"",left:"",top:"","transform-origin":"",transform:"",opacity:""})}},{key:"_makeDropdownFocusable",value:function(){this.dropdownEl.tabIndex=0,e(this.dropdownEl).children().each((function(e){e.getAttribute("tabindex")||e.setAttribute("tabindex",0)}))}},{key:"_focusFocusedItem",value:function(){this.focusedIndex>=0&&this.focusedIndex<this.dropdownEl.children.length&&this.options.autoFocus&&this.dropdownEl.children[this.focusedIndex].focus()}},{key:"_getDropdownPosition",value:function(){this.el.offsetParent.getBoundingClientRect();var e=this.el.getBoundingClientRect(),t=this.dropdownEl.getBoundingClientRect(),n=t.height,i=t.width,r=e.left-t.left,o=e.top-t.top,s={left:r,top:o,height:n,width:i},a=this.dropdownEl.offsetParent?this.dropdownEl.offsetParent:this.dropdownEl.parentNode,c=M.checkPossibleAlignments(this.el,a,s,this.options.coverTrigger?0:e.height),l="top",u=this.options.alignment;if(o+=this.options.coverTrigger?0:e.height,this.isScrollable=!1,c.top||(c.bottom?l="bottom":(this.isScrollable=!0,c.spaceOnTop>c.spaceOnBottom?(l="bottom",n+=c.spaceOnTop,o-=c.spaceOnTop):n+=c.spaceOnBottom)),!c[u]){var h="left"===u?"right":"left";c[h]?u=h:c.spaceOnLeft>c.spaceOnRight?(u="right",i+=c.spaceOnLeft,r-=c.spaceOnLeft):(u="left",i+=c.spaceOnRight)}return"bottom"===l&&(o=o-t.height+(this.options.coverTrigger?e.height:0)),"right"===u&&(r=r-t.width+e.width),{x:r,y:o,verticalAlignment:l,horizontalAlignment:u,height:n,width:i}}},{key:"_animateIn",value:function(){var e=this;t.remove(this.dropdownEl),t({targets:this.dropdownEl,opacity:{value:[0,1],easing:"easeOutQuad"},scaleX:[.3,1],scaleY:[.3,1],duration:this.options.inDuration,easing:"easeOutQuint",complete:function(t){if(e.options.autoFocus&&e.dropdownEl.focus(),"function"==typeof e.options.onOpenEnd){var n=t.animatables[0].target;e.options.onOpenEnd.call(n,e.el)}}})}},{key:"_animateOut",value:function(){var e=this;t.remove(this.dropdownEl),t({targets:this.dropdownEl,opacity:{value:0,easing:"easeOutQuint"},scaleX:.3,scaleY:.3,duration:this.options.outDuration,easing:"easeOutQuint",complete:function(t){if(e._resetDropdownStyles(),"function"==typeof e.options.onCloseEnd){t.animatables[0].target;e.options.onCloseEnd.call(e,e.el)}}})}},{key:"_placeDropdown",value:function(){var e=this.options.constrainWidth?this.el.getBoundingClientRect().width:this.dropdownEl.getBoundingClientRect().width;this.dropdownEl.style.width=e+"px";var t=this._getDropdownPosition();this.dropdownEl.style.left=t.x+"px",this.dropdownEl.style.top=t.y+"px",this.dropdownEl.style.height=t.height+"px",this.dropdownEl.style.width=t.width+"px",this.dropdownEl.style.transformOrigin=("left"===t.horizontalAlignment?"0":"100%")+" "+("top"===t.verticalAlignment?"0":"100%")}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._resetDropdownStyles(),this.dropdownEl.style.display="block",this._placeDropdown(),this._animateIn(),this._setupTemporaryEventHandlers())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.focusedIndex=-1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._animateOut(),this._removeTemporaryEventHandlers(),this.options.autoFocus&&this.el.focus())}},{key:"recalculateDimensions",value:function(){this.isOpen&&(this.$dropdownEl.css({width:"",height:"",left:"",top:"","transform-origin":""}),this._placeDropdown())}}],[{key:"init",value:function(e,t){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Dropdown}},{key:"defaults",get:function(){return n}}]),l}(c);l._dropdowns=[],window.M.Dropdown=l,M.jQueryLoaded&&M.initializeJqueryWrapper(l,"dropdown","M_Dropdown")}(cash,M.anime),function(e,t){var n={opacity:.5,inDuration:250,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0,dismissible:!0,startingTop:"4%",endingTop:"10%"},l=function(c){function l(t,n){a(this,l);var i=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.el.M_Modal=i,i.options=e.extend({},l.defaults,n),i.isOpen=!1,i.id=i.$el.attr("id"),i._openingTrigger=void 0,i.$overlay=e('<div class="modal-overlay"></div>'),i.el.tabIndex=0,i._nthModalOpened=0,l._count++,i._setupEventHandlers(),i}return s(l,c),r(l,[{key:"destroy",value:function(){l._count--,this._removeEventHandlers(),this.el.removeAttribute("style"),this.$overlay.remove(),this.el.M_Modal=void 0}},{key:"_setupEventHandlers",value:function(){this._handleOverlayClickBound=this._handleOverlayClick.bind(this),this._handleModalCloseClickBound=this._handleModalCloseClick.bind(this),1===l._count&&document.body.addEventListener("click",this._handleTriggerClick),this.$overlay[0].addEventListener("click",this._handleOverlayClickBound),this.el.addEventListener("click",this._handleModalCloseClickBound)}},{key:"_removeEventHandlers",value:function(){0===l._count&&document.body.removeEventListener("click",this._handleTriggerClick),this.$overlay[0].removeEventListener("click",this._handleOverlayClickBound),this.el.removeEventListener("click",this._handleModalCloseClickBound)}},{key:"_handleTriggerClick",value:function(t){var n=e(t.target).closest(".modal-trigger");if(n.length){var i=M.getIdFromTrigger(n[0]),r=document.getElementById(i).M_Modal;r&&r.open(n),t.preventDefault()}}},{key:"_handleOverlayClick",value:function(){this.options.dismissible&&this.close()}},{key:"_handleModalCloseClick",value:function(t){e(t.target).closest(".modal-close").length&&this.close()}},{key:"_handleKeydown",value:function(e){27===e.keyCode&&this.options.dismissible&&this.close()}},{key:"_handleFocus",value:function(e){this.el.contains(e.target)||this._nthModalOpened!==l._modalsOpen||this.el.focus()}},{key:"_animateIn",value:function(){var n=this;e.extend(this.el.style,{display:"block",opacity:0}),e.extend(this.$overlay[0].style,{display:"block",opacity:0}),t({targets:this.$overlay[0],opacity:this.options.opacity,duration:this.options.inDuration,easing:"easeOutQuad"});var i={targets:this.el,duration:this.options.inDuration,easing:"easeOutCubic",complete:function(){"function"==typeof n.options.onOpenEnd&&n.options.onOpenEnd.call(n,n.el,n._openingTrigger)}};this.el.classList.contains("bottom-sheet")?(e.extend(i,{bottom:0,opacity:1}),t(i)):(e.extend(i,{top:[this.options.startingTop,this.options.endingTop],opacity:1,scaleX:[.8,1],scaleY:[.8,1]}),t(i))}},{key:"_animateOut",value:function(){var n=this;t({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuart"});var i={targets:this.el,duration:this.options.outDuration,easing:"easeOutCubic",complete:function(){n.el.style.display="none",n.$overlay.remove(),"function"==typeof n.options.onCloseEnd&&n.options.onCloseEnd.call(n,n.el)}};this.el.classList.contains("bottom-sheet")?(e.extend(i,{bottom:"-100%",opacity:0}),t(i)):(e.extend(i,{top:[this.options.endingTop,this.options.startingTop],opacity:0,scaleX:.8,scaleY:.8}),t(i))}},{key:"open",value:function(e){if(!this.isOpen)return this.isOpen=!0,l._modalsOpen++,this._nthModalOpened=l._modalsOpen,this.$overlay[0].style.zIndex=1e3+2*l._modalsOpen,this.el.style.zIndex=1e3+2*l._modalsOpen+1,this._openingTrigger=e?e[0]:void 0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el,this._openingTrigger),this.options.preventScrolling&&(document.body.style.overflow="hidden"),this.el.classList.add("open"),this.el.insertAdjacentElement("afterend",this.$overlay[0]),this.options.dismissible&&(this._handleKeydownBound=this._handleKeydown.bind(this),this._handleFocusBound=this._handleFocus.bind(this),document.addEventListener("keydown",this._handleKeydownBound),document.addEventListener("focus",this._handleFocusBound,!0)),t.remove(this.el),t.remove(this.$overlay[0]),this._animateIn(),this.el.focus(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,l._modalsOpen--,this._nthModalOpened=0,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this.el.classList.remove("open"),0===l._modalsOpen&&(document.body.style.overflow=""),this.options.dismissible&&(document.removeEventListener("keydown",this._handleKeydownBound),document.removeEventListener("focus",this._handleFocusBound,!0)),t.remove(this.el),t.remove(this.$overlay[0]),this._animateOut(),this}}],[{key:"init",value:function(e,t){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Modal}},{key:"defaults",get:function(){return n}}]),l}(c);l._modalsOpen=0,l._count=0,M.Modal=l,M.jQueryLoaded&&M.initializeJqueryWrapper(l,"modal","M_Modal")}(cash,M.anime),function(e,t){var n={inDuration:275,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null},l=function(c){function l(t,n){a(this,l);var i=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.el.M_Materialbox=i,i.options=e.extend({},l.defaults,n),i.overlayActive=!1,i.doneAnimating=!0,i.placeholder=e("<div></div>").addClass("material-placeholder"),i.originalWidth=0,i.originalHeight=0,i.originInlineStyles=i.$el.attr("style"),i.caption=i.el.getAttribute("data-caption")||"",i.$el.before(i.placeholder),i.placeholder.append(i.$el),i._setupEventHandlers(),i}return s(l,c),r(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Materialbox=void 0,e(this.placeholder).after(this.el).remove(),this.$el.removeAttr("style")}},{key:"_setupEventHandlers",value:function(){this._handleMaterialboxClickBound=this._handleMaterialboxClick.bind(this),this.el.addEventListener("click",this._handleMaterialboxClickBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleMaterialboxClickBound)}},{key:"_handleMaterialboxClick",value:function(e){!1===this.doneAnimating||this.overlayActive&&this.doneAnimating?this.close():this.open()}},{key:"_handleWindowScroll",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowResize",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowEscape",value:function(e){27===e.keyCode&&this.doneAnimating&&this.overlayActive&&this.close()}},{key:"_makeAncestorsOverflowVisible",value:function(){this.ancestorsChanged=e();for(var t=this.placeholder[0].parentNode;null!==t&&!e(t).is(document);){var n=e(t);"visible"!==n.css("overflow")&&(n.css("overflow","visible"),void 0===this.ancestorsChanged?this.ancestorsChanged=n:this.ancestorsChanged=this.ancestorsChanged.add(n)),t=t.parentNode}}},{key:"_animateImageIn",value:function(){var e=this,n={targets:this.el,height:[this.originalHeight,this.newHeight],width:[this.originalWidth,this.newWidth],left:M.getDocumentScrollLeft()+this.windowWidth/2-this.placeholder.offset().left-this.newWidth/2,top:M.getDocumentScrollTop()+this.windowHeight/2-this.placeholder.offset().top-this.newHeight/2,duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){e.doneAnimating=!0,"function"==typeof e.options.onOpenEnd&&e.options.onOpenEnd.call(e,e.el)}};this.maxWidth=this.$el.css("max-width"),this.maxHeight=this.$el.css("max-height"),"none"!==this.maxWidth&&(n.maxWidth=this.newWidth),"none"!==this.maxHeight&&(n.maxHeight=this.newHeight),t(n)}},{key:"_animateImageOut",value:function(){var e=this,n={targets:this.el,width:this.originalWidth,height:this.originalHeight,left:0,top:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e.placeholder.css({height:"",width:"",position:"",top:"",left:""}),e.attrWidth&&e.$el.attr("width",e.attrWidth),e.attrHeight&&e.$el.attr("height",e.attrHeight),e.$el.removeAttr("style"),e.originInlineStyles&&e.$el.attr("style",e.originInlineStyles),e.$el.removeClass("active"),e.doneAnimating=!0,e.ancestorsChanged.length&&e.ancestorsChanged.css("overflow",""),"function"==typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e,e.el)}};t(n)}},{key:"_updateVars",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.caption=this.el.getAttribute("data-caption")||""}},{key:"open",value:function(){var n=this;this._updateVars(),this.originalWidth=this.el.getBoundingClientRect().width,this.originalHeight=this.el.getBoundingClientRect().height,this.doneAnimating=!1,this.$el.addClass("active"),this.overlayActive=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this.placeholder.css({width:this.placeholder[0].getBoundingClientRect().width+"px",height:this.placeholder[0].getBoundingClientRect().height+"px",position:"relative",top:0,left:0}),this._makeAncestorsOverflowVisible(),this.$el.css({position:"absolute","z-index":1e3,"will-change":"left, top, width, height"}),this.attrWidth=this.$el.attr("width"),this.attrHeight=this.$el.attr("height"),this.attrWidth&&(this.$el.css("width",this.attrWidth+"px"),this.$el.removeAttr("width")),this.attrHeight&&(this.$el.css("width",this.attrHeight+"px"),this.$el.removeAttr("height")),this.$overlay=e('<div id="materialbox-overlay"></div>').css({opacity:0}).one("click",(function(){n.doneAnimating&&n.close()})),this.$el.before(this.$overlay);var i=this.$overlay[0].getBoundingClientRect();this.$overlay.css({width:this.windowWidth+"px",height:this.windowHeight+"px",left:-1*i.left+"px",top:-1*i.top+"px"}),t.remove(this.el),t.remove(this.$overlay[0]),t({targets:this.$overlay[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}),""!==this.caption&&(this.$photocaption&&t.remove(this.$photoCaption[0]),this.$photoCaption=e('<div class="materialbox-caption"></div>'),this.$photoCaption.text(this.caption),e("body").append(this.$photoCaption),this.$photoCaption.css({display:"inline"}),t({targets:this.$photoCaption[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}));var r=0,o=this.originalWidth/this.windowWidth,s=this.originalHeight/this.windowHeight;this.newWidth=0,this.newHeight=0,o>s?(r=this.originalHeight/this.originalWidth,this.newWidth=.9*this.windowWidth,this.newHeight=.9*this.windowWidth*r):(r=this.originalWidth/this.originalHeight,this.newWidth=.9*this.windowHeight*r,this.newHeight=.9*this.windowHeight),this._animateImageIn(),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),this._handleWindowResizeBound=this._handleWindowResize.bind(this),this._handleWindowEscapeBound=this._handleWindowEscape.bind(this),window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleWindowResizeBound),window.addEventListener("keyup",this._handleWindowEscapeBound)}},{key:"close",value:function(){var e=this;this._updateVars(),this.doneAnimating=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),t.remove(this.el),t.remove(this.$overlay[0]),""!==this.caption&&t.remove(this.$photoCaption[0]),window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleWindowResizeBound),window.removeEventListener("keyup",this._handleWindowEscapeBound),t({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e.overlayActive=!1,e.$overlay.remove()}}),this._animateImageOut(),""!==this.caption&&t({targets:this.$photoCaption[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e.$photoCaption.remove()}})}}],[{key:"init",value:function(e,t){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Materialbox}},{key:"defaults",get:function(){return n}}]),l}(c);M.Materialbox=l,M.jQueryLoaded&&M.initializeJqueryWrapper(l,"materialbox","M_Materialbox")}(cash,M.anime),function(e){var t={responsiveThreshold:0},n=function(n){function c(t,n){a(this,c);var i=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,t,n));return i.el.M_Parallax=i,i.options=e.extend({},c.defaults,n),i._enabled=window.innerWidth>i.options.responsiveThreshold,i.$img=i.$el.find("img").first(),i.$img.each((function(){this.complete&&e(this).trigger("load")})),i._updateParallax(),i._setupEventHandlers(),i._setupStyles(),c._parallaxes.push(i),i}return s(c,n),r(c,[{key:"destroy",value:function(){c._parallaxes.splice(c._parallaxes.indexOf(this),1),this.$img[0].style.transform="",this._removeEventHandlers(),this.$el[0].M_Parallax=void 0}},{key:"_setupEventHandlers",value:function(){this._handleImageLoadBound=this._handleImageLoad.bind(this),this.$img[0].addEventListener("load",this._handleImageLoadBound),0===c._parallaxes.length&&(c._handleScrollThrottled=M.throttle(c._handleScroll,5),window.addEventListener("scroll",c._handleScrollThrottled),c._handleWindowResizeThrottled=M.throttle(c._handleWindowResize,5),window.addEventListener("resize",c._handleWindowResizeThrottled))}},{key:"_removeEventHandlers",value:function(){this.$img[0].removeEventListener("load",this._handleImageLoadBound),0===c._parallaxes.length&&(window.removeEventListener("scroll",c._handleScrollThrottled),window.removeEventListener("resize",c._handleWindowResizeThrottled))}},{key:"_setupStyles",value:function(){this.$img[0].style.opacity=1}},{key:"_handleImageLoad",value:function(){this._updateParallax()}},{key:"_updateParallax",value:function(){var e=this.$el.height()>0?this.el.parentNode.offsetHeight:500,t=this.$img[0].offsetHeight-e,n=this.$el.offset().top+e,i=this.$el.offset().top,r=M.getDocumentScrollTop(),o=window.innerHeight,s=t*((r+o-i)/(e+o));this._enabled?n>r&&i<r+o&&(this.$img[0].style.transform="translate3D(-50%, "+s+"px, 0)"):this.$img[0].style.transform=""}}],[{key:"init",value:function(e,t){return i(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Parallax}},{key:"_handleScroll",value:function(){for(var e=0;e<c._parallaxes.length;e++){var t=c._parallaxes[e];t._updateParallax.call(t)}}},{key:"_handleWindowResize",value:function(){for(var e=0;e<c._parallaxes.length;e++){var t=c._parallaxes[e];t._enabled=window.innerWidth>t.options.responsiveThreshold}}},{key:"defaults",get:function(){return t}}]),c}(c);n._parallaxes=[],M.Parallax=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"parallax","M_Parallax")}(cash),function(e,t){var n={duration:300,onShow:null,swipeable:!1,responsiveThreshold:1/0},l=function(c){function l(t,n){a(this,l);var i=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.el.M_Tabs=i,i.options=e.extend({},l.defaults,n),i.$tabLinks=i.$el.children("li.tab").children("a"),i.index=0,i._setupActiveTabLink(),i.options.swipeable?i._setupSwipeableTabs():i._setupNormalTabs(),i._setTabsAndTabWidth(),i._createIndicator(),i._setupEventHandlers(),i}return s(l,c),r(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this._indicator.parentNode.removeChild(this._indicator),this.options.swipeable?this._teardownSwipeableTabs():this._teardownNormalTabs(),this.$el[0].M_Tabs=void 0}},{key:"_setupEventHandlers",value:function(){this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound),this._handleTabClickBound=this._handleTabClick.bind(this),this.el.addEventListener("click",this._handleTabClickBound)}},{key:"_removeEventHandlers",value:function(){window.removeEventListener("resize",this._handleWindowResizeBound),this.el.removeEventListener("click",this._handleTabClickBound)}},{key:"_handleWindowResize",value:function(){this._setTabsAndTabWidth(),0!==this.tabWidth&&0!==this.tabsWidth&&(this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+"px",this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+"px")}},{key:"_handleTabClick",value:function(t){var n=this,i=e(t.target).closest("li.tab"),r=e(t.target).closest("a");if(r.length&&r.parent().hasClass("tab"))if(i.hasClass("disabled"))t.preventDefault();else if(!r.attr("target")){this.$activeTabLink.removeClass("active");var o=this.$content;this.$activeTabLink=r,this.$content=e(M.escapeHash(r[0].hash)),this.$tabLinks=this.$el.children("li.tab").children("a"),this.$activeTabLink.addClass("active");var s=this.index;this.index=Math.max(this.$tabLinks.index(r),0),this.options.swipeable?this._tabsCarousel&&this._tabsCarousel.set(this.index,(function(){"function"==typeof n.options.onShow&&n.options.onShow.call(n,n.$content[0])})):this.$content.length&&(this.$content[0].style.display="block",this.$content.addClass("active"),"function"==typeof this.options.onShow&&this.options.onShow.call(this,this.$content[0]),o.length&&!o.is(this.$content)&&(o[0].style.display="none",o.removeClass("active"))),this._setTabsAndTabWidth(),this._animateIndicator(s),t.preventDefault()}}},{key:"_createIndicator",value:function(){var e=this,t=document.createElement("li");t.classList.add("indicator"),this.el.appendChild(t),this._indicator=t,setTimeout((function(){e._indicator.style.left=e._calcLeftPos(e.$activeTabLink)+"px",e._indicator.style.right=e._calcRightPos(e.$activeTabLink)+"px"}),0)}},{key:"_setupActiveTabLink",value:function(){this.$activeTabLink=e(this.$tabLinks.filter('[href="'+location.hash+'"]')),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a.active").first()),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a").first()),this.$tabLinks.removeClass("active"),this.$activeTabLink[0].classList.add("active"),this.index=Math.max(this.$tabLinks.index(this.$activeTabLink),0),this.$activeTabLink.length&&(this.$content=e(M.escapeHash(this.$activeTabLink[0].hash)),this.$content.addClass("active"))}},{key:"_setupSwipeableTabs",value:function(){var t=this;window.innerWidth>this.options.responsiveThreshold&&(this.options.swipeable=!1);var n=e();this.$tabLinks.each((function(t){var i=e(M.escapeHash(t.hash));i.addClass("carousel-item"),n=n.add(i)}));var i=e('<div class="tabs-content carousel carousel-slider"></div>');n.first().before(i),i.append(n),n[0].style.display="";var r=this.$activeTabLink.closest(".tab").index();this._tabsCarousel=M.Carousel.init(i[0],{fullWidth:!0,noWrap:!0,onCycleTo:function(n){var i=t.index;t.index=e(n).index(),t.$activeTabLink.removeClass("active"),t.$activeTabLink=t.$tabLinks.eq(t.index),t.$activeTabLink.addClass("active"),t._animateIndicator(i),"function"==typeof t.options.onShow&&t.options.onShow.call(t,t.$content[0])}}),this._tabsCarousel.set(r)}},{key:"_teardownSwipeableTabs",value:function(){var e=this._tabsCarousel.$el;this._tabsCarousel.destroy(),e.after(e.children()),e.remove()}},{key:"_setupNormalTabs",value:function(){this.$tabLinks.not(this.$activeTabLink).each((function(t){if(t.hash){var n=e(M.escapeHash(t.hash));n.length&&(n[0].style.display="none")}}))}},{key:"_teardownNormalTabs",value:function(){this.$tabLinks.each((function(t){if(t.hash){var n=e(M.escapeHash(t.hash));n.length&&(n[0].style.display="")}}))}},{key:"_setTabsAndTabWidth",value:function(){this.tabsWidth=this.$el.width(),this.tabWidth=Math.max(this.tabsWidth,this.el.scrollWidth)/this.$tabLinks.length}},{key:"_calcRightPos",value:function(e){return Math.ceil(this.tabsWidth-e.position().left-e[0].getBoundingClientRect().width)}},{key:"_calcLeftPos",value:function(e){return Math.floor(e.position().left)}},{key:"updateTabIndicator",value:function(){this._setTabsAndTabWidth(),this._animateIndicator(this.index)}},{key:"_animateIndicator",value:function(e){var n=0,i=0;this.index-e>=0?n=90:i=90;var r={targets:this._indicator,left:{value:this._calcLeftPos(this.$activeTabLink),delay:n},right:{value:this._calcRightPos(this.$activeTabLink),delay:i},duration:this.options.duration,easing:"easeOutQuad"};t.remove(this._indicator),t(r)}},{key:"select",value:function(e){var t=this.$tabLinks.filter('[href="#'+e+'"]');t.length&&t.trigger("click")}}],[{key:"init",value:function(e,t){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Tabs}},{key:"defaults",get:function(){return n}}]),l}(c);window.M.Tabs=l,M.jQueryLoaded&&M.initializeJqueryWrapper(l,"tabs","M_Tabs")}(cash,M.anime),function(e,t){var n={exitDelay:200,enterDelay:0,html:null,margin:5,inDuration:250,outDuration:200,position:"bottom",transitionMovement:10},l=function(c){function l(t,n){a(this,l);var i=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.el.M_Tooltip=i,i.options=e.extend({},l.defaults,n),i.isOpen=!1,i.isHovered=!1,i.isFocused=!1,i._appendTooltipEl(),i._setupEventHandlers(),i}return s(l,c),r(l,[{key:"destroy",value:function(){e(this.tooltipEl).remove(),this._removeEventHandlers(),this.el.M_Tooltip=void 0}},{key:"_appendTooltipEl",value:function(){var e=document.createElement("div");e.classList.add("material-tooltip"),this.tooltipEl=e;var t=document.createElement("div");t.classList.add("tooltip-content"),t.innerHTML=this.options.html,e.appendChild(t),document.body.appendChild(e)}},{key:"_updateTooltipContent",value:function(){this.tooltipEl.querySelector(".tooltip-content").innerHTML=this.options.html}},{key:"_setupEventHandlers",value:function(){this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this._handleFocusBound=this._handleFocus.bind(this),this._handleBlurBound=this._handleBlur.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.el.addEventListener("focus",this._handleFocusBound,!0),this.el.addEventListener("blur",this._handleBlurBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.el.removeEventListener("focus",this._handleFocusBound,!0),this.el.removeEventListener("blur",this._handleBlurBound,!0)}},{key:"open",value:function(t){this.isOpen||(t=void 0===t||void 0,this.isOpen=!0,this.options=e.extend({},this.options,this._getAttributeOptions()),this._updateTooltipContent(),this._setEnterDelayTimeout(t))}},{key:"close",value:function(){this.isOpen&&(this.isHovered=!1,this.isFocused=!1,this.isOpen=!1,this._setExitDelayTimeout())}},{key:"_setExitDelayTimeout",value:function(){var e=this;clearTimeout(this._exitDelayTimeout),this._exitDelayTimeout=setTimeout((function(){e.isHovered||e.isFocused||e._animateOut()}),this.options.exitDelay)}},{key:"_setEnterDelayTimeout",value:function(e){var t=this;clearTimeout(this._enterDelayTimeout),this._enterDelayTimeout=setTimeout((function(){(t.isHovered||t.isFocused||e)&&t._animateIn()}),this.options.enterDelay)}},{key:"_positionTooltip",value:function(){var t,n=this.el,i=this.tooltipEl,r=n.offsetHeight,o=n.offsetWidth,s=i.offsetHeight,a=i.offsetWidth,c=this.options.margin,l=void 0,u=void 0;this.xMovement=0,this.yMovement=0,l=n.getBoundingClientRect().top+M.getDocumentScrollTop(),u=n.getBoundingClientRect().left+M.getDocumentScrollLeft(),"top"===this.options.position?(l+=-s-c,u+=o/2-a/2,this.yMovement=-this.options.transitionMovement):"right"===this.options.position?(l+=r/2-s/2,u+=o+c,this.xMovement=this.options.transitionMovement):"left"===this.options.position?(l+=r/2-s/2,u+=-a-c,this.xMovement=-this.options.transitionMovement):(l+=r+c,u+=o/2-a/2,this.yMovement=this.options.transitionMovement),t=this._repositionWithinScreen(u,l,a,s),e(i).css({top:t.y+"px",left:t.x+"px"})}},{key:"_repositionWithinScreen",value:function(e,t,n,i){var r=M.getDocumentScrollLeft(),o=M.getDocumentScrollTop(),s=e-r,a=t-o,c={left:s,top:a,width:n,height:i},l=this.options.margin+this.options.transitionMovement,u=M.checkWithinContainer(document.body,c,l);return u.left?s=l:u.right&&(s-=s+n-window.innerWidth),u.top?a=l:u.bottom&&(a-=a+i-window.innerHeight),{x:s+r,y:a+o}}},{key:"_animateIn",value:function(){this._positionTooltip(),this.tooltipEl.style.visibility="visible",t.remove(this.tooltipEl),t({targets:this.tooltipEl,opacity:1,translateX:this.xMovement,translateY:this.yMovement,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_animateOut",value:function(){t.remove(this.tooltipEl),t({targets:this.tooltipEl,opacity:0,translateX:0,translateY:0,duration:this.options.outDuration,easing:"easeOutCubic"})}},{key:"_handleMouseEnter",value:function(){this.isHovered=!0,this.isFocused=!1,this.open(!1)}},{key:"_handleMouseLeave",value:function(){this.isHovered=!1,this.isFocused=!1,this.close()}},{key:"_handleFocus",value:function(){M.tabPressed&&(this.isFocused=!0,this.open(!1))}},{key:"_handleBlur",value:function(){this.isFocused=!1,this.close()}},{key:"_getAttributeOptions",value:function(){var e={},t=this.el.getAttribute("data-tooltip"),n=this.el.getAttribute("data-position");return t&&(e.html=t),n&&(e.position=n),e}}],[{key:"init",value:function(e,t){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Tooltip}},{key:"defaults",get:function(){return n}}]),l}(c);M.Tooltip=l,M.jQueryLoaded&&M.initializeJqueryWrapper(l,"tooltip","M_Tooltip")}(cash,M.anime),function(e){var t=t||{},n=document.querySelectorAll.bind(document);function i(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t}var r={duration:750,show:function(e,t){if(2===e.button)return!1;var n=t||this,o=document.createElement("div");o.className="waves-ripple",n.appendChild(o);var s,a,c,l,u,h=(l={top:0,left:0},u=(s=n)&&s.ownerDocument,a=u.documentElement,void 0!==s.getBoundingClientRect&&(l=s.getBoundingClientRect()),c=function(e){return null!==(t=e)&&t===t.window?e:9===e.nodeType&&e.defaultView;var t}(u),{top:l.top+c.pageYOffset-a.clientTop,left:l.left+c.pageXOffset-a.clientLeft}),d=e.pageY-h.top,f=e.pageX-h.left,p="scale("+n.clientWidth/100*10+")";"touches"in e&&(d=e.touches[0].pageY-h.top,f=e.touches[0].pageX-h.left),o.setAttribute("data-hold",Date.now()),o.setAttribute("data-scale",p),o.setAttribute("data-x",f),o.setAttribute("data-y",d);var v={top:d+"px",left:f+"px"};o.className=o.className+" waves-notransition",o.setAttribute("style",i(v)),o.className=o.className.replace("waves-notransition",""),v["-webkit-transform"]=p,v["-moz-transform"]=p,v["-ms-transform"]=p,v["-o-transform"]=p,v.transform=p,v.opacity="1",v["-webkit-transition-duration"]=r.duration+"ms",v["-moz-transition-duration"]=r.duration+"ms",v["-o-transition-duration"]=r.duration+"ms",v["transition-duration"]=r.duration+"ms",v["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",v["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",v["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",v["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",o.setAttribute("style",i(v))},hide:function(e){o.touchup(e);var t=this,n=(t.clientWidth,null),s=t.getElementsByClassName("waves-ripple");if(!(s.length>0))return!1;var a=(n=s[s.length-1]).getAttribute("data-x"),c=n.getAttribute("data-y"),l=n.getAttribute("data-scale"),u=350-(Date.now()-Number(n.getAttribute("data-hold")));u<0&&(u=0),setTimeout((function(){var e={top:c+"px",left:a+"px",opacity:"0","-webkit-transition-duration":r.duration+"ms","-moz-transition-duration":r.duration+"ms","-o-transition-duration":r.duration+"ms","transition-duration":r.duration+"ms","-webkit-transform":l,"-moz-transform":l,"-ms-transform":l,"-o-transform":l,transform:l};n.setAttribute("style",i(e)),setTimeout((function(){try{t.removeChild(n)}catch(e){return!1}}),r.duration)}),u)},wrapInput:function(e){for(var t=0;t<e.length;t++){var n=e[t];if("input"===n.tagName.toLowerCase()){var i=n.parentNode;if("i"===i.tagName.toLowerCase()&&-1!==i.className.indexOf("waves-effect"))continue;var r=document.createElement("i");r.className=n.className+" waves-input-wrapper";var o=n.getAttribute("style");o||(o=""),r.setAttribute("style",o),n.className="waves-button-input",n.removeAttribute("style"),i.replaceChild(r,n),r.appendChild(n)}}}},o={touches:0,allowEvent:function(e){var t=!0;return"touchstart"===e.type?o.touches+=1:"touchend"===e.type||"touchcancel"===e.type?setTimeout((function(){o.touches>0&&(o.touches-=1)}),500):"mousedown"===e.type&&o.touches>0&&(t=!1),t},touchup:function(e){o.allowEvent(e)}};function s(t){var n=function(e){if(!1===o.allowEvent(e))return null;for(var t=null,n=e.target||e.srcElement;null!==n.parentNode;){if(!(n instanceof SVGElement)&&-1!==n.className.indexOf("waves-effect")){t=n;break}n=n.parentNode}return t}(t);null!==n&&(r.show(t,n),"ontouchstart"in e&&(n.addEventListener("touchend",r.hide,!1),n.addEventListener("touchcancel",r.hide,!1)),n.addEventListener("mouseup",r.hide,!1),n.addEventListener("mouseleave",r.hide,!1),n.addEventListener("dragend",r.hide,!1))}t.displayEffect=function(t){"duration"in(t=t||{})&&(r.duration=t.duration),r.wrapInput(n(".waves-effect")),"ontouchstart"in e&&document.body.addEventListener("touchstart",s,!1),document.body.addEventListener("mousedown",s,!1)},t.attach=function(t){"input"===t.tagName.toLowerCase()&&(r.wrapInput([t]),t=t.parentNode),"ontouchstart"in e&&t.addEventListener("touchstart",s,!1),t.addEventListener("mousedown",s,!1)},e.Waves=t,document.addEventListener("DOMContentLoaded",(function(){t.displayEffect()}),!1)}(window),function(e,t){var n={html:"",displayLength:4e3,inDuration:300,outDuration:375,classes:"",completeCallback:null,activationPercent:.8},i=function(){function i(t){a(this,i),this.options=e.extend({},i.defaults,t),this.message=this.options.html,this.panning=!1,this.timeRemaining=this.options.displayLength,0===i._toasts.length&&i._createContainer(),i._toasts.push(this);var n=this._createToast();n.M_Toast=this,this.el=n,this.$el=e(n),this._animateIn(),this._setTimer()}return r(i,[{key:"_createToast",value:function(){var t=document.createElement("div");return t.classList.add("toast"),this.options.classes.length&&e(t).addClass(this.options.classes),("object"==typeof HTMLElement?this.message instanceof HTMLElement:this.message&&"object"==typeof this.message&&null!==this.message&&1===this.message.nodeType&&"string"==typeof this.message.nodeName)?t.appendChild(this.message):this.message.jquery?e(t).append(this.message[0]):t.innerHTML=this.message,i._container.appendChild(t),t}},{key:"_animateIn",value:function(){t({targets:this.el,top:0,opacity:1,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_setTimer",value:function(){var e=this;this.timeRemaining!==1/0&&(this.counterInterval=setInterval((function(){e.panning||(e.timeRemaining-=20),e.timeRemaining<=0&&e.dismiss()}),20))}},{key:"dismiss",value:function(){var e=this;window.clearInterval(this.counterInterval);var n=this.el.offsetWidth*this.options.activationPercent;this.wasSwiped&&(this.el.style.transition="transform .05s, opacity .05s",this.el.style.transform="translateX("+n+"px)",this.el.style.opacity=0),t({targets:this.el,opacity:0,marginTop:-40,duration:this.options.outDuration,easing:"easeOutExpo",complete:function(){"function"==typeof e.options.completeCallback&&e.options.completeCallback(),e.$el.remove(),i._toasts.splice(i._toasts.indexOf(e),1),0===i._toasts.length&&i._removeContainer()}})}}],[{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Toast}},{key:"_createContainer",value:function(){var e=document.createElement("div");e.setAttribute("id","toast-container"),e.addEventListener("touchstart",i._onDragStart),e.addEventListener("touchmove",i._onDragMove),e.addEventListener("touchend",i._onDragEnd),e.addEventListener("mousedown",i._onDragStart),document.addEventListener("mousemove",i._onDragMove),document.addEventListener("mouseup",i._onDragEnd),document.body.appendChild(e),i._container=e}},{key:"_removeContainer",value:function(){document.removeEventListener("mousemove",i._onDragMove),document.removeEventListener("mouseup",i._onDragEnd),e(i._container).remove(),i._container=null}},{key:"_onDragStart",value:function(t){if(t.target&&e(t.target).closest(".toast").length){var n=e(t.target).closest(".toast")[0].M_Toast;n.panning=!0,i._draggedToast=n,n.el.classList.add("panning"),n.el.style.transition="",n.startingXPos=i._xPos(t),n.time=Date.now(),n.xPos=i._xPos(t)}}},{key:"_onDragMove",value:function(e){if(i._draggedToast){e.preventDefault();var t=i._draggedToast;t.deltaX=Math.abs(t.xPos-i._xPos(e)),t.xPos=i._xPos(e),t.velocityX=t.deltaX/(Date.now()-t.time),t.time=Date.now();var n=t.xPos-t.startingXPos,r=t.el.offsetWidth*t.options.activationPercent;t.el.style.transform="translateX("+n+"px)",t.el.style.opacity=1-Math.abs(n/r)}}},{key:"_onDragEnd",value:function(){if(i._draggedToast){var e=i._draggedToast;e.panning=!1,e.el.classList.remove("panning");var t=e.xPos-e.startingXPos,n=e.el.offsetWidth*e.options.activationPercent;Math.abs(t)>n||e.velocityX>1?(e.wasSwiped=!0,e.dismiss()):(e.el.style.transition="transform .2s, opacity .2s",e.el.style.transform="",e.el.style.opacity=""),i._draggedToast=null}}},{key:"_xPos",value:function(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}},{key:"dismissAll",value:function(){for(var e in i._toasts)i._toasts[e].dismiss()}},{key:"defaults",get:function(){return n}}]),i}();i._toasts=[],i._container=null,i._draggedToast=null,M.Toast=i,M.toast=function(e){return new i(e)}}(cash,M.anime),function(e,t){var n={edge:"left",draggable:!0,inDuration:250,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0},l=function(c){function l(t,n){a(this,l);var i=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.el.M_Sidenav=i,i.id=i.$el.attr("id"),i.options=e.extend({},l.defaults,n),i.isOpen=!1,i.isFixed=i.el.classList.contains("sidenav-fixed"),i.isDragged=!1,i.lastWindowWidth=window.innerWidth,i.lastWindowHeight=window.innerHeight,i._createOverlay(),i._createDragTarget(),i._setupEventHandlers(),i._setupClasses(),i._setupFixed(),l._sidenavs.push(i),i}return s(l,c),r(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this._enableBodyScrolling(),this._overlay.parentNode.removeChild(this._overlay),this.dragTarget.parentNode.removeChild(this.dragTarget),this.el.M_Sidenav=void 0,this.el.style.transform="";var e=l._sidenavs.indexOf(this);e>=0&&l._sidenavs.splice(e,1)}},{key:"_createOverlay",value:function(){var e=document.createElement("div");this._closeBound=this.close.bind(this),e.classList.add("sidenav-overlay"),e.addEventListener("click",this._closeBound),document.body.appendChild(e),this._overlay=e}},{key:"_setupEventHandlers",value:function(){0===l._sidenavs.length&&document.body.addEventListener("click",this._handleTriggerClick),this._handleDragTargetDragBound=this._handleDragTargetDrag.bind(this),this._handleDragTargetReleaseBound=this._handleDragTargetRelease.bind(this),this._handleCloseDragBound=this._handleCloseDrag.bind(this),this._handleCloseReleaseBound=this._handleCloseRelease.bind(this),this._handleCloseTriggerClickBound=this._handleCloseTriggerClick.bind(this),this.dragTarget.addEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.addEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.addEventListener("touchmove",this._handleCloseDragBound),this._overlay.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("touchmove",this._handleCloseDragBound),this.el.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&(this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound))}},{key:"_removeEventHandlers",value:function(){1===l._sidenavs.length&&document.body.removeEventListener("click",this._handleTriggerClick),this.dragTarget.removeEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.removeEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.removeEventListener("touchmove",this._handleCloseDragBound),this._overlay.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("touchmove",this._handleCloseDragBound),this.el.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&window.removeEventListener("resize",this._handleWindowResizeBound)}},{key:"_handleTriggerClick",value:function(t){var n=e(t.target).closest(".sidenav-trigger");if(t.target&&n.length){var i=M.getIdFromTrigger(n[0]),r=document.getElementById(i).M_Sidenav;r&&r.open(n),t.preventDefault()}}},{key:"_startDrag",value:function(e){var n=e.targetTouches[0].clientX;this.isDragged=!0,this._startingXpos=n,this._xPos=this._startingXpos,this._time=Date.now(),this._width=this.el.getBoundingClientRect().width,this._overlay.style.display="block",this._initialScrollTop=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop(),this._verticallyScrolling=!1,t.remove(this.el),t.remove(this._overlay)}},{key:"_dragMoveUpdate",value:function(e){var t=e.targetTouches[0].clientX,n=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop();this.deltaX=Math.abs(this._xPos-t),this._xPos=t,this.velocityX=this.deltaX/(Date.now()-this._time),this._time=Date.now(),this._initialScrollTop!==n&&(this._verticallyScrolling=!0)}},{key:"_handleDragTargetDrag",value:function(e){if(this.options.draggable&&!this._isCurrentlyFixed()&&!this._verticallyScrolling){this.isDragged||this._startDrag(e),this._dragMoveUpdate(e);var t=this._xPos-this._startingXpos,n=t>0?"right":"left";t=Math.min(this._width,Math.abs(t)),this.options.edge===n&&(t=0);var i=t,r="translateX(-100%)";"right"===this.options.edge&&(r="translateX(100%)",i=-i),this.percentOpen=Math.min(1,t/this._width),this.el.style.transform=r+" translateX("+i+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleDragTargetRelease",value:function(){this.isDragged&&(this.percentOpen>.2?this.open():this._animateOut(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseDrag",value:function(e){if(this.isOpen){if(!this.options.draggable||this._isCurrentlyFixed()||this._verticallyScrolling)return;this.isDragged||this._startDrag(e),this._dragMoveUpdate(e);var t=this._xPos-this._startingXpos,n=t>0?"right":"left";t=Math.min(this._width,Math.abs(t)),this.options.edge!==n&&(t=0);var i=-t;"right"===this.options.edge&&(i=-i),this.percentOpen=Math.min(1,1-t/this._width),this.el.style.transform="translateX("+i+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleCloseRelease",value:function(){this.isOpen&&this.isDragged&&(this.percentOpen>.8?this._animateIn():this.close(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseTriggerClick",value:function(t){e(t.target).closest(".sidenav-close").length&&!this._isCurrentlyFixed()&&this.close()}},{key:"_handleWindowResize",value:function(){this.lastWindowWidth!==window.innerWidth&&(window.innerWidth>992?this.open():this.close()),this.lastWindowWidth=window.innerWidth,this.lastWindowHeight=window.innerHeight}},{key:"_setupClasses",value:function(){"right"===this.options.edge&&(this.el.classList.add("right-aligned"),this.dragTarget.classList.add("right-aligned"))}},{key:"_removeClasses",value:function(){this.el.classList.remove("right-aligned"),this.dragTarget.classList.remove("right-aligned")}},{key:"_setupFixed",value:function(){this._isCurrentlyFixed()&&this.open()}},{key:"_isCurrentlyFixed",value:function(){return this.isFixed&&window.innerWidth>992}},{key:"_createDragTarget",value:function(){var e=document.createElement("div");e.classList.add("drag-target"),document.body.appendChild(e),this.dragTarget=e}},{key:"_preventBodyScrolling",value:function(){document.body.style.overflow="hidden"}},{key:"_enableBodyScrolling",value:function(){document.body.style.overflow=""}},{key:"open",value:function(){!0!==this.isOpen&&(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._isCurrentlyFixed()?(t.remove(this.el),t({targets:this.el,translateX:0,duration:0,easing:"easeOutQuad"}),this._enableBodyScrolling(),this._overlay.style.display="none"):(this.options.preventScrolling&&this._preventBodyScrolling(),this.isDragged&&1==this.percentOpen||this._animateIn()))}},{key:"close",value:function(){if(!1!==this.isOpen)if(this.isOpen=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._isCurrentlyFixed()){var e="left"===this.options.edge?"-105%":"105%";this.el.style.transform="translateX("+e+")"}else this._enableBodyScrolling(),this.isDragged&&0==this.percentOpen?this._overlay.style.display="none":this._animateOut()}},{key:"_animateIn",value:function(){this._animateSidenavIn(),this._animateOverlayIn()}},{key:"_animateSidenavIn",value:function(){var e=this,n="left"===this.options.edge?-1:1;this.isDragged&&(n="left"===this.options.edge?n+this.percentOpen:n-this.percentOpen),t.remove(this.el),t({targets:this.el,translateX:[100*n+"%",0],duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){"function"==typeof e.options.onOpenEnd&&e.options.onOpenEnd.call(e,e.el)}})}},{key:"_animateOverlayIn",value:function(){var n=0;this.isDragged?n=this.percentOpen:e(this._overlay).css({display:"block"}),t.remove(this._overlay),t({targets:this._overlay,opacity:[n,1],duration:this.options.inDuration,easing:"easeOutQuad"})}},{key:"_animateOut",value:function(){this._animateSidenavOut(),this._animateOverlayOut()}},{key:"_animateSidenavOut",value:function(){var e=this,n="left"===this.options.edge?-1:1,i=0;this.isDragged&&(i="left"===this.options.edge?n+this.percentOpen:n-this.percentOpen),t.remove(this.el),t({targets:this.el,translateX:[100*i+"%",105*n+"%"],duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){"function"==typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e,e.el)}})}},{key:"_animateOverlayOut",value:function(){var n=this;t.remove(this._overlay),t({targets:this._overlay,opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e(n._overlay).css("display","none")}})}}],[{key:"init",value:function(e,t){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Sidenav}},{key:"defaults",get:function(){return n}}]),l}(c);l._sidenavs=[],window.M.Sidenav=l,M.jQueryLoaded&&M.initializeJqueryWrapper(l,"sidenav","M_Sidenav")}(cash,M.anime),function(e,t){var n={throttle:100,scrollOffset:200,activeClass:"active",getActiveElement:function(e){return'a[href="#'+e+'"]'}},l=function(c){function l(t,n){a(this,l);var i=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.el.M_ScrollSpy=i,i.options=e.extend({},l.defaults,n),l._elements.push(i),l._count++,l._increment++,i.tickId=-1,i.id=l._increment,i._setupEventHandlers(),i._handleWindowScroll(),i}return s(l,c),r(l,[{key:"destroy",value:function(){l._elements.splice(l._elements.indexOf(this),1),l._elementsInView.splice(l._elementsInView.indexOf(this),1),l._visibleElements.splice(l._visibleElements.indexOf(this.$el),1),l._count--,this._removeEventHandlers(),e(this.options.getActiveElement(this.$el.attr("id"))).removeClass(this.options.activeClass),this.el.M_ScrollSpy=void 0}},{key:"_setupEventHandlers",value:function(){var e=M.throttle(this._handleWindowScroll,200);this._handleThrottledResizeBound=e.bind(this),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),1===l._count&&(window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleThrottledResizeBound),document.body.addEventListener("click",this._handleTriggerClick))}},{key:"_removeEventHandlers",value:function(){0===l._count&&(window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleThrottledResizeBound),document.body.removeEventListener("click",this._handleTriggerClick))}},{key:"_handleTriggerClick",value:function(n){for(var i=e(n.target),r=l._elements.length-1;r>=0;r--){var o=l._elements[r];if(i.is('a[href="#'+o.$el.attr("id")+'"]')){n.preventDefault();var s=o.$el.offset().top+1;t({targets:[document.documentElement,document.body],scrollTop:s-o.options.scrollOffset,duration:400,easing:"easeOutCubic"});break}}}},{key:"_handleWindowScroll",value:function(){l._ticks++;for(var e=M.getDocumentScrollTop(),t=M.getDocumentScrollLeft(),n=t+window.innerWidth,i=e+window.innerHeight,r=l._findElements(e,n,i,t),o=0;o<r.length;o++){var s=r[o];s.tickId<0&&s._enter(),s.tickId=l._ticks}for(var a=0;a<l._elementsInView.length;a++){var c=l._elementsInView[a],u=c.tickId;u>=0&&u!==l._ticks&&(c._exit(),c.tickId=-1)}l._elementsInView=r}},{key:"_enter",value:function(){l._visibleElements=l._visibleElements.filter((function(e){return 0!=e.height()})),l._visibleElements[0]?(e(this.options.getActiveElement(l._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),l._visibleElements[0][0].M_ScrollSpy&&this.id<l._visibleElements[0][0].M_ScrollSpy.id?l._visibleElements.unshift(this.$el):l._visibleElements.push(this.$el)):l._visibleElements.push(this.$el),e(this.options.getActiveElement(l._visibleElements[0].attr("id"))).addClass(this.options.activeClass)}},{key:"_exit",value:function(){var t=this;l._visibleElements=l._visibleElements.filter((function(e){return 0!=e.height()})),l._visibleElements[0]&&(e(this.options.getActiveElement(l._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),l._visibleElements=l._visibleElements.filter((function(e){return e.attr("id")!=t.$el.attr("id")})),l._visibleElements[0]&&e(this.options.getActiveElement(l._visibleElements[0].attr("id"))).addClass(this.options.activeClass))}}],[{key:"init",value:function(e,t){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_ScrollSpy}},{key:"_findElements",value:function(e,t,n,i){for(var r=[],o=0;o<l._elements.length;o++){var s=l._elements[o],a=e+s.options.scrollOffset||200;if(s.$el.height()>0){var c=s.$el.offset().top,u=s.$el.offset().left,h=u+s.$el.width(),d=c+s.$el.height();!(u>t||h<i||c>n||d<a)&&r.push(s)}}return r}},{key:"defaults",get:function(){return n}}]),l}(c);l._elements=[],l._elementsInView=[],l._visibleElements=[],l._count=0,l._increment=0,l._ticks=0,M.ScrollSpy=l,M.jQueryLoaded&&M.initializeJqueryWrapper(l,"scrollSpy","M_ScrollSpy")}(cash,M.anime),function(e){var t={data:{},limit:1/0,onAutocomplete:null,minLength:1,sortFunction:function(e,t,n){return e.indexOf(n)-t.indexOf(n)}},n=function(n){function c(t,n){a(this,c);var i=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,t,n));return i.el.M_Autocomplete=i,i.options=e.extend({},c.defaults,n),i.isOpen=!1,i.count=0,i.activeIndex=-1,i.oldVal,i.$inputField=i.$el.closest(".input-field"),i.$active=e(),i._mousedown=!1,i._setupDropdown(),i._setupEventHandlers(),i}return s(c,n),r(c,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_Autocomplete=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputBlurBound=this._handleInputBlur.bind(this),this._handleInputKeyupAndFocusBound=this._handleInputKeyupAndFocus.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleContainerMousedownAndTouchstartBound=this._handleContainerMousedownAndTouchstart.bind(this),this._handleContainerMouseupAndTouchendBound=this._handleContainerMouseupAndTouchend.bind(this),this.el.addEventListener("blur",this._handleInputBlurBound),this.el.addEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.addEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("click",this._handleInputClickBound),this.container.addEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),void 0!==window.ontouchstart&&(this.container.addEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("blur",this._handleInputBlurBound),this.el.removeEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("click",this._handleInputClickBound),this.container.removeEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),void 0!==window.ontouchstart&&(this.container.removeEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_setupDropdown",value:function(){var t=this;this.container=document.createElement("ul"),this.container.id="autocomplete-options-"+M.guid(),e(this.container).addClass("autocomplete-content dropdown-content"),this.$inputField.append(this.container),this.el.setAttribute("data-target",this.container.id),this.dropdown=M.Dropdown.init(this.el,{autoFocus:!1,closeOnClick:!1,coverTrigger:!1,onItemClick:function(n){t.selectOption(e(n))}}),this.el.removeEventListener("click",this.dropdown._handleClickBound)}},{key:"_removeDropdown",value:function(){this.container.parentNode.removeChild(this.container)}},{key:"_handleInputBlur",value:function(){this._mousedown||(this.close(),this._resetAutocomplete())}},{key:"_handleInputKeyupAndFocus",value:function(e){"keyup"===e.type&&(c._keydown=!1),this.count=0;var t=this.el.value.toLowerCase();13!==e.keyCode&&38!==e.keyCode&&40!==e.keyCode&&(this.oldVal===t||!M.tabPressed&&"focus"===e.type||this.open(),this.oldVal=t)}},{key:"_handleInputKeydown",value:function(t){c._keydown=!0;var n=t.keyCode,i=void 0,r=e(this.container).children("li").length;n===M.keys.ENTER&&this.activeIndex>=0?(i=e(this.container).children("li").eq(this.activeIndex)).length&&(this.selectOption(i),t.preventDefault()):n!==M.keys.ARROW_UP&&n!==M.keys.ARROW_DOWN||(t.preventDefault(),n===M.keys.ARROW_UP&&this.activeIndex>0&&this.activeIndex--,n===M.keys.ARROW_DOWN&&this.activeIndex<r-1&&this.activeIndex++,this.$active.removeClass("active"),this.activeIndex>=0&&(this.$active=e(this.container).children("li").eq(this.activeIndex),this.$active.addClass("active")))}},{key:"_handleInputClick",value:function(e){this.open()}},{key:"_handleContainerMousedownAndTouchstart",value:function(e){this._mousedown=!0}},{key:"_handleContainerMouseupAndTouchend",value:function(e){this._mousedown=!1}},{key:"_highlight",value:function(e,t){var n=t.find("img"),i=t.text().toLowerCase().indexOf(""+e.toLowerCase()),r=i+e.length-1,o=t.text().slice(0,i),s=t.text().slice(i,r+1),a=t.text().slice(r+1);t.html("<span>"+o+"<span class='highlight'>"+s+"</span>"+a+"</span>"),n.length&&t.prepend(n)}},{key:"_resetCurrentElement",value:function(){this.activeIndex=-1,this.$active.removeClass("active")}},{key:"_resetAutocomplete",value:function(){e(this.container).empty(),this._resetCurrentElement(),this.oldVal=null,this.isOpen=!1,this._mousedown=!1}},{key:"selectOption",value:function(e){var t=e.text().trim();this.el.value=t,this.$el.trigger("change"),this._resetAutocomplete(),this.close(),"function"==typeof this.options.onAutocomplete&&this.options.onAutocomplete.call(this,t)}},{key:"_renderDropdown",value:function(t,n){var i=this;this._resetAutocomplete();var r=[];for(var o in t)if(t.hasOwnProperty(o)&&-1!==o.toLowerCase().indexOf(n)){if(this.count>=this.options.limit)break;var s={data:t[o],key:o};r.push(s),this.count++}if(this.options.sortFunction){r.sort((function(e,t){return i.options.sortFunction(e.key.toLowerCase(),t.key.toLowerCase(),n.toLowerCase())}))}for(var a=0;a<r.length;a++){var c=r[a],l=e("<li></li>");c.data?l.append('<img src="'+c.data+'" class="right circle"><span>'+c.key+"</span>"):l.append("<span>"+c.key+"</span>"),e(this.container).append(l),this._highlight(n,l)}}},{key:"open",value:function(){var e=this.el.value.toLowerCase();this._resetAutocomplete(),e.length>=this.options.minLength&&(this.isOpen=!0,this._renderDropdown(this.options.data,e)),this.dropdown.isOpen?this.dropdown.recalculateDimensions():this.dropdown.open()}},{key:"close",value:function(){this.dropdown.close()}},{key:"updateData",value:function(e){var t=this.el.value.toLowerCase();this.options.data=e,this.isOpen&&this._renderDropdown(e,t)}}],[{key:"init",value:function(e,t){return i(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Autocomplete}},{key:"defaults",get:function(){return t}}]),c}(c);n._keydown=!1,M.Autocomplete=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"autocomplete","M_Autocomplete")}(cash),function(e){M.updateTextFields=function(){e("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea").each((function(t,n){var i=e(this);t.value.length>0||e(t).is(":focus")||t.autofocus||null!==i.attr("placeholder")?i.siblings("label").addClass("active"):t.validity?i.siblings("label").toggleClass("active",!0===t.validity.badInput):i.siblings("label").removeClass("active")}))},M.validate_field=function(e){var t=null!==e.attr("data-length"),n=parseInt(e.attr("data-length")),i=e[0].value.length;0!==i||!1!==e[0].validity.badInput||e.is(":required")?e.hasClass("validate")&&(e.is(":valid")&&t&&i<=n||e.is(":valid")&&!t?(e.removeClass("invalid"),e.addClass("valid")):(e.removeClass("valid"),e.addClass("invalid"))):e.hasClass("validate")&&(e.removeClass("valid"),e.removeClass("invalid"))},M.textareaAutoResize=function(t){if(t instanceof Element&&(t=e(t)),t.length){var n=e(".hiddendiv").first();n.length||(n=e('<div class="hiddendiv common"></div>'),e("body").append(n));var i=t.css("font-family"),r=t.css("font-size"),o=t.css("line-height"),s=t.css("padding-top"),a=t.css("padding-right"),c=t.css("padding-bottom"),l=t.css("padding-left");r&&n.css("font-size",r),i&&n.css("font-family",i),o&&n.css("line-height",o),s&&n.css("padding-top",s),a&&n.css("padding-right",a),c&&n.css("padding-bottom",c),l&&n.css("padding-left",l),t.data("original-height")||t.data("original-height",t.height()),"off"===t.attr("wrap")&&n.css("overflow-wrap","normal").css("white-space","pre"),n.text(t[0].value+"\n");var u=n.html().replace(/\n/g,"<br>");n.html(u),t[0].offsetWidth>0&&t[0].offsetHeight>0?n.css("width",t.width()+"px"):n.css("width",window.innerWidth/2+"px"),t.data("original-height")<=n.innerHeight()?t.css("height",n.innerHeight()+"px"):t[0].value.length<t.data("previous-length")&&t.css("height",t.data("original-height")+"px"),t.data("previous-length",t[0].value.length)}else console.error("No textarea element found")},e(document).ready((function(){var t="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea";e(document).on("change",t,(function(){0===this.value.length&&null===e(this).attr("placeholder")||e(this).siblings("label").addClass("active"),M.validate_field(e(this))})),e(document).ready((function(){M.updateTextFields()})),e(document).on("reset",(function(n){var i=e(n.target);i.is("form")&&(i.find(t).removeClass("valid").removeClass("invalid"),i.find(t).each((function(t){this.value.length&&e(this).siblings("label").removeClass("active")})),setTimeout((function(){i.find("select").each((function(){this.M_FormSelect&&e(this).trigger("change")}))}),0))})),document.addEventListener("focus",(function(n){e(n.target).is(t)&&e(n.target).siblings("label, .prefix").addClass("active")}),!0),document.addEventListener("blur",(function(n){var i=e(n.target);if(i.is(t)){var r=".prefix";0===i[0].value.length&&!0!==i[0].validity.badInput&&null===i.attr("placeholder")&&(r+=", label"),i.siblings(r).removeClass("active"),M.validate_field(i)}}),!0);e(document).on("keyup","input[type=radio], input[type=checkbox]",(function(t){if(t.which===M.keys.TAB)return e(this).addClass("tabbed"),void e(this).one("blur",(function(t){e(this).removeClass("tabbed")}))}));e(".materialize-textarea").each((function(){var t=e(this);t.data("original-height",t.height()),t.data("previous-length",this.value.length),M.textareaAutoResize(t)})),e(document).on("keyup",".materialize-textarea",(function(){M.textareaAutoResize(e(this))})),e(document).on("keydown",".materialize-textarea",(function(){M.textareaAutoResize(e(this))})),e(document).on("change",'.file-field input[type="file"]',(function(){for(var t=e(this).closest(".file-field").find("input.file-path"),n=e(this)[0].files,i=[],r=0;r<n.length;r++)i.push(n[r].name);t[0].value=i.join(", "),t.trigger("change")}))}))}(cash),function(e,t){var n={indicators:!0,height:400,duration:500,interval:6e3},l=function(c){function l(n,i){a(this,l);var r=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,n,i));return r.el.M_Slider=r,r.options=e.extend({},l.defaults,i),r.$slider=r.$el.find(".slides"),r.$slides=r.$slider.children("li"),r.activeIndex=r.$slides.filter((function(t){return e(t).hasClass("active")})).first().index(),-1!=r.activeIndex&&(r.$active=r.$slides.eq(r.activeIndex)),r._setSliderHeight(),r.$slides.find(".caption").each((function(e){r._animateCaptionIn(e,0)})),r.$slides.find("img").each((function(t){var n="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";e(t).attr("src")!==n&&(e(t).css("background-image",'url("'+e(t).attr("src")+'")'),e(t).attr("src",n))})),r._setupIndicators(),r.$active?r.$active.css("display","block"):(r.$slides.first().addClass("active"),t({targets:r.$slides.first()[0],opacity:1,duration:r.options.duration,easing:"easeOutQuad"}),r.activeIndex=0,r.$active=r.$slides.eq(r.activeIndex),r.options.indicators&&r.$indicators.eq(r.activeIndex).addClass("active")),r.$active.find("img").each((function(e){t({targets:r.$active.find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:r.options.duration,easing:"easeOutQuad"})})),r._setupEventHandlers(),r.start(),r}return s(l,c),r(l,[{key:"destroy",value:function(){this.pause(),this._removeIndicators(),this._removeEventHandlers(),this.el.M_Slider=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleIntervalBound=this._handleInterval.bind(this),this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.options.indicators&&this.$indicators.each((function(t){t.addEventListener("click",e._handleIndicatorClickBound)}))}},{key:"_removeEventHandlers",value:function(){var e=this;this.options.indicators&&this.$indicators.each((function(t){t.removeEventListener("click",e._handleIndicatorClickBound)}))}},{key:"_handleIndicatorClick",value:function(t){var n=e(t.target).index();this.set(n)}},{key:"_handleInterval",value:function(){var e=this.$slider.find(".active").index();this.$slides.length===e+1?e=0:e+=1,this.set(e)}},{key:"_animateCaptionIn",value:function(n,i){var r={targets:n,opacity:0,duration:i,easing:"easeOutQuad"};e(n).hasClass("center-align")?r.translateY=-100:e(n).hasClass("right-align")?r.translateX=100:e(n).hasClass("left-align")&&(r.translateX=-100),t(r)}},{key:"_setSliderHeight",value:function(){this.$el.hasClass("fullscreen")||(this.options.indicators?this.$el.css("height",this.options.height+40+"px"):this.$el.css("height",this.options.height+"px"),this.$slider.css("height",this.options.height+"px"))}},{key:"_setupIndicators",value:function(){var t=this;this.options.indicators&&(this.$indicators=e('<ul class="indicators"></ul>'),this.$slides.each((function(n,i){var r=e('<li class="indicator-item"></li>');t.$indicators.append(r[0])})),this.$el.append(this.$indicators[0]),this.$indicators=this.$indicators.children("li.indicator-item"))}},{key:"_removeIndicators",value:function(){this.$el.find("ul.indicators").remove()}},{key:"set",value:function(e){var n=this;if(e>=this.$slides.length?e=0:e<0&&(e=this.$slides.length-1),this.activeIndex!=e){this.$active=this.$slides.eq(this.activeIndex);var i=this.$active.find(".caption");this.$active.removeClass("active"),t({targets:this.$active[0],opacity:0,duration:this.options.duration,easing:"easeOutQuad",complete:function(){n.$slides.not(".active").each((function(e){t({targets:e,opacity:0,translateX:0,translateY:0,duration:0,easing:"easeOutQuad"})}))}}),this._animateCaptionIn(i[0],this.options.duration),this.options.indicators&&(this.$indicators.eq(this.activeIndex).removeClass("active"),this.$indicators.eq(e).addClass("active")),t({targets:this.$slides.eq(e)[0],opacity:1,duration:this.options.duration,easing:"easeOutQuad"}),t({targets:this.$slides.eq(e).find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:this.options.duration,delay:this.options.duration,easing:"easeOutQuad"}),this.$slides.eq(e).addClass("active"),this.activeIndex=e,this.start()}}},{key:"pause",value:function(){clearInterval(this.interval)}},{key:"start",value:function(){clearInterval(this.interval),this.interval=setInterval(this._handleIntervalBound,this.options.duration+this.options.interval)}},{key:"next",value:function(){var e=this.activeIndex+1;e>=this.$slides.length?e=0:e<0&&(e=this.$slides.length-1),this.set(e)}},{key:"prev",value:function(){var e=this.activeIndex-1;e>=this.$slides.length?e=0:e<0&&(e=this.$slides.length-1),this.set(e)}}],[{key:"init",value:function(e,t){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Slider}},{key:"defaults",get:function(){return n}}]),l}(c);M.Slider=l,M.jQueryLoaded&&M.initializeJqueryWrapper(l,"slider","M_Slider")}(cash,M.anime),function(e,t){e(document).on("click",".card",(function(n){if(e(this).children(".card-reveal").length){var i=e(n.target).closest(".card");void 0===i.data("initialOverflow")&&i.data("initialOverflow",void 0===i.css("overflow")?"":i.css("overflow"));var r=e(this).find(".card-reveal");e(n.target).is(e(".card-reveal .card-title"))||e(n.target).is(e(".card-reveal .card-title i"))?t({targets:r[0],translateY:0,duration:225,easing:"easeInOutQuad",complete:function(t){var n=t.animatables[0].target;e(n).css({display:"none"}),i.css("overflow",i.data("initialOverflow"))}}):(e(n.target).is(e(".card .activator"))||e(n.target).is(e(".card .activator i")))&&(i.css("overflow","hidden"),r.css({display:"block"}),t({targets:r[0],translateY:"-100%",duration:300,easing:"easeInOutQuad"}))}}))}(cash,M.anime),function(e){var t={data:[],placeholder:"",secondaryPlaceholder:"",autocompleteOptions:{},limit:1/0,onChipAdd:null,onChipSelect:null,onChipDelete:null},n=function(n){function c(t,n){a(this,c);var i=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,t,n));return i.el.M_Chips=i,i.options=e.extend({},c.defaults,n),i.$el.addClass("chips input-field"),i.chipsData=[],i.$chips=e(),i._setupInput(),i.hasAutocomplete=Object.keys(i.options.autocompleteOptions).length>0,i.$input.attr("id")||i.$input.attr("id",M.guid()),i.options.data.length&&(i.chipsData=i.options.data,i._renderChips(i.chipsData)),i.hasAutocomplete&&i._setupAutocomplete(),i._setPlaceholder(),i._setupLabel(),i._setupEventHandlers(),i}return s(c,n),r(c,[{key:"getData",value:function(){return this.chipsData}},{key:"destroy",value:function(){this._removeEventHandlers(),this.$chips.remove(),this.el.M_Chips=void 0}},{key:"_setupEventHandlers",value:function(){this._handleChipClickBound=this._handleChipClick.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputFocusBound=this._handleInputFocus.bind(this),this._handleInputBlurBound=this._handleInputBlur.bind(this),this.el.addEventListener("click",this._handleChipClickBound),document.addEventListener("keydown",c._handleChipsKeydown),document.addEventListener("keyup",c._handleChipsKeyup),this.el.addEventListener("blur",c._handleChipsBlur,!0),this.$input[0].addEventListener("focus",this._handleInputFocusBound),this.$input[0].addEventListener("blur",this._handleInputBlurBound),this.$input[0].addEventListener("keydown",this._handleInputKeydownBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleChipClickBound),document.removeEventListener("keydown",c._handleChipsKeydown),document.removeEventListener("keyup",c._handleChipsKeyup),this.el.removeEventListener("blur",c._handleChipsBlur,!0),this.$input[0].removeEventListener("focus",this._handleInputFocusBound),this.$input[0].removeEventListener("blur",this._handleInputBlurBound),this.$input[0].removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleChipClick",value:function(t){var n=e(t.target).closest(".chip"),i=e(t.target).is(".close");if(n.length){var r=n.index();i?(this.deleteChip(r),this.$input[0].focus()):this.selectChip(r)}else this.$input[0].focus()}},{key:"_handleInputFocus",value:function(){this.$el.addClass("focus")}},{key:"_handleInputBlur",value:function(){this.$el.removeClass("focus")}},{key:"_handleInputKeydown",value:function(e){if(c._keydown=!0,13===e.keyCode){if(this.hasAutocomplete&&this.autocomplete&&this.autocomplete.isOpen)return;e.preventDefault(),this.addChip({tag:this.$input[0].value}),this.$input[0].value=""}else 8!==e.keyCode&&37!==e.keyCode||""!==this.$input[0].value||!this.chipsData.length||(e.preventDefault(),this.selectChip(this.chipsData.length-1))}},{key:"_renderChip",value:function(t){if(t.tag){var n=document.createElement("div"),i=document.createElement("i");if(n.classList.add("chip"),n.textContent=t.tag,n.setAttribute("tabindex",0),e(i).addClass("material-icons close"),i.textContent="close",t.image){var r=document.createElement("img");r.setAttribute("src",t.image),n.insertBefore(r,n.firstChild)}return n.appendChild(i),n}}},{key:"_renderChips",value:function(){this.$chips.remove();for(var e=0;e<this.chipsData.length;e++){var t=this._renderChip(this.chipsData[e]);this.$el.append(t),this.$chips.add(t)}this.$el.append(this.$input[0])}},{key:"_setupAutocomplete",value:function(){var e=this;this.options.autocompleteOptions.onAutocomplete=function(t){e.addChip({tag:t}),e.$input[0].value="",e.$input[0].focus()},this.autocomplete=M.Autocomplete.init(this.$input[0],this.options.autocompleteOptions)}},{key:"_setupInput",value:function(){this.$input=this.$el.find("input"),this.$input.length||(this.$input=e("<input></input>"),this.$el.append(this.$input)),this.$input.addClass("input")}},{key:"_setupLabel",value:function(){this.$label=this.$el.find("label"),this.$label.length&&this.$label.setAttribute("for",this.$input.attr("id"))}},{key:"_setPlaceholder",value:function(){void 0!==this.chipsData&&!this.chipsData.length&&this.options.placeholder?e(this.$input).prop("placeholder",this.options.placeholder):(void 0===this.chipsData||this.chipsData.length)&&this.options.secondaryPlaceholder&&e(this.$input).prop("placeholder",this.options.secondaryPlaceholder)}},{key:"_isValid",value:function(e){if(e.hasOwnProperty("tag")&&""!==e.tag){for(var t=!1,n=0;n<this.chipsData.length;n++)if(this.chipsData[n].tag===e.tag){t=!0;break}return!t}return!1}},{key:"addChip",value:function(t){if(this._isValid(t)&&!(this.chipsData.length>=this.options.limit)){var n=this._renderChip(t);this.$chips.add(n),this.chipsData.push(t),e(this.$input).before(n),this._setPlaceholder(),"function"==typeof this.options.onChipAdd&&this.options.onChipAdd.call(this,this.$el,n)}}},{key:"deleteChip",value:function(t){var n=this.$chips.eq(t);this.$chips.eq(t).remove(),this.$chips=this.$chips.filter((function(t){return e(t).index()>=0})),this.chipsData.splice(t,1),this._setPlaceholder(),"function"==typeof this.options.onChipDelete&&this.options.onChipDelete.call(this,this.$el,n[0])}},{key:"selectChip",value:function(e){var t=this.$chips.eq(e);this._selectedChip=t,t[0].focus(),"function"==typeof this.options.onChipSelect&&this.options.onChipSelect.call(this,this.$el,t[0])}}],[{key:"init",value:function(e,t){return i(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Chips}},{key:"_handleChipsKeydown",value:function(t){c._keydown=!0;var n=e(t.target).closest(".chips"),i=t.target&&n.length;if(!e(t.target).is("input, textarea")&&i){var r=n[0].M_Chips;if(8===t.keyCode||46===t.keyCode){t.preventDefault();var o=r.chipsData.length;if(r._selectedChip){var s=r._selectedChip.index();r.deleteChip(s),r._selectedChip=null,o=Math.max(s-1,0)}r.chipsData.length&&r.selectChip(o)}else if(37===t.keyCode){if(r._selectedChip){var a=r._selectedChip.index()-1;if(a<0)return;r.selectChip(a)}}else if(39===t.keyCode&&r._selectedChip){var l=r._selectedChip.index()+1;l>=r.chipsData.length?r.$input[0].focus():r.selectChip(l)}}}},{key:"_handleChipsKeyup",value:function(e){c._keydown=!1}},{key:"_handleChipsBlur",value:function(t){c._keydown||(e(t.target).closest(".chips")[0].M_Chips._selectedChip=null)}},{key:"defaults",get:function(){return t}}]),c}(c);n._keydown=!1,M.Chips=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"chips","M_Chips"),e(document).ready((function(){e(document.body).on("click",".chip .close",(function(){var t=e(this).closest(".chips");t.length&&t[0].M_Chips||e(this).closest(".chip").remove()}))}))}(cash),function(e){var t={top:0,bottom:1/0,offset:0,onPositionChange:null},n=function(n){function c(t,n){a(this,c);var i=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,t,n));return i.el.M_Pushpin=i,i.options=e.extend({},c.defaults,n),i.originalOffset=i.el.offsetTop,c._pushpins.push(i),i._setupEventHandlers(),i._updatePosition(),i}return s(c,n),r(c,[{key:"destroy",value:function(){this.el.style.top=null,this._removePinClasses(),this._removeEventHandlers();var e=c._pushpins.indexOf(this);c._pushpins.splice(e,1)}},{key:"_setupEventHandlers",value:function(){document.addEventListener("scroll",c._updateElements)}},{key:"_removeEventHandlers",value:function(){document.removeEventListener("scroll",c._updateElements)}},{key:"_updatePosition",value:function(){var e=M.getDocumentScrollTop()+this.options.offset;this.options.top<=e&&this.options.bottom>=e&&!this.el.classList.contains("pinned")&&(this._removePinClasses(),this.el.style.top=this.options.offset+"px",this.el.classList.add("pinned"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pinned")),e<this.options.top&&!this.el.classList.contains("pin-top")&&(this._removePinClasses(),this.el.style.top=0,this.el.classList.add("pin-top"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-top")),e>this.options.bottom&&!this.el.classList.contains("pin-bottom")&&(this._removePinClasses(),this.el.classList.add("pin-bottom"),this.el.style.top=this.options.bottom-this.originalOffset+"px","function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-bottom"))}},{key:"_removePinClasses",value:function(){this.el.classList.remove("pin-top"),this.el.classList.remove("pinned"),this.el.classList.remove("pin-bottom")}}],[{key:"init",value:function(e,t){return i(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Pushpin}},{key:"_updateElements",value:function(){for(var e in c._pushpins){c._pushpins[e]._updatePosition()}}},{key:"defaults",get:function(){return t}}]),c}(c);n._pushpins=[],M.Pushpin=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"pushpin","M_Pushpin")}(cash),function(e,t){var n={direction:"top",hoverEnabled:!0,toolbarEnabled:!1};e.fn.reverse=[].reverse;var l=function(c){function l(t,n){a(this,l);var i=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.el.M_FloatingActionButton=i,i.options=e.extend({},l.defaults,n),i.isOpen=!1,i.$anchor=i.$el.children("a").first(),i.$menu=i.$el.children("ul").first(),i.$floatingBtns=i.$el.find("ul .btn-floating"),i.$floatingBtnsReverse=i.$el.find("ul .btn-floating").reverse(),i.offsetY=0,i.offsetX=0,i.$el.addClass("direction-"+i.options.direction),"top"===i.options.direction?i.offsetY=40:"right"===i.options.direction?i.offsetX=-40:"bottom"===i.options.direction?i.offsetY=-40:i.offsetX=40,i._setupEventHandlers(),i}return s(l,c),r(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_FloatingActionButton=void 0}},{key:"_setupEventHandlers",value:function(){this._handleFABClickBound=this._handleFABClick.bind(this),this._handleOpenBound=this.open.bind(this),this._handleCloseBound=this.close.bind(this),this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.addEventListener("mouseenter",this._handleOpenBound),this.el.addEventListener("mouseleave",this._handleCloseBound)):this.el.addEventListener("click",this._handleFABClickBound)}},{key:"_removeEventHandlers",value:function(){this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.removeEventListener("mouseenter",this._handleOpenBound),this.el.removeEventListener("mouseleave",this._handleCloseBound)):this.el.removeEventListener("click",this._handleFABClickBound)}},{key:"_handleFABClick",value:function(){this.isOpen?this.close():this.open()}},{key:"_handleDocumentClick",value:function(t){e(t.target).closest(this.$menu).length||this.close()}},{key:"open",value:function(){this.isOpen||(this.options.toolbarEnabled?this._animateInToolbar():this._animateInFAB(),this.isOpen=!0)}},{key:"close",value:function(){this.isOpen&&(this.options.toolbarEnabled?(window.removeEventListener("scroll",this._handleCloseBound,!0),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),this._animateOutToolbar()):this._animateOutFAB(),this.isOpen=!1)}},{key:"_animateInFAB",value:function(){var e=this;this.$el.addClass("active");var n=0;this.$floatingBtnsReverse.each((function(i){t({targets:i,opacity:1,scale:[.4,1],translateY:[e.offsetY,0],translateX:[e.offsetX,0],duration:275,delay:n,easing:"easeInOutQuad"}),n+=40}))}},{key:"_animateOutFAB",value:function(){var e=this;this.$floatingBtnsReverse.each((function(n){t.remove(n),t({targets:n,opacity:0,scale:.4,translateY:e.offsetY,translateX:e.offsetX,duration:175,easing:"easeOutQuad",complete:function(){e.$el.removeClass("active")}})}))}},{key:"_animateInToolbar",value:function(){var t,n=this,i=window.innerWidth,r=window.innerHeight,o=this.el.getBoundingClientRect(),s=e('<div class="fab-backdrop"></div>'),a=this.$anchor.css("background-color");this.$anchor.append(s),this.offsetX=o.left-i/2+o.width/2,this.offsetY=r-o.bottom,t=i/s[0].clientWidth,this.btnBottom=o.bottom,this.btnLeft=o.left,this.btnWidth=o.width,this.$el.addClass("active"),this.$el.css({"text-align":"center",width:"100%",bottom:0,left:0,transform:"translateX("+this.offsetX+"px)",transition:"none"}),this.$anchor.css({transform:"translateY("+-this.offsetY+"px)",transition:"none"}),s.css({"background-color":a}),setTimeout((function(){n.$el.css({transform:"",transition:"transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s"}),n.$anchor.css({overflow:"visible",transform:"",transition:"transform .2s"}),setTimeout((function(){n.$el.css({overflow:"hidden","background-color":a}),s.css({transform:"scale("+t+")",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"}),n.$menu.children("li").children("a").css({opacity:1}),n._handleDocumentClickBound=n._handleDocumentClick.bind(n),window.addEventListener("scroll",n._handleCloseBound,!0),document.body.addEventListener("click",n._handleDocumentClickBound,!0)}),100)}),0)}},{key:"_animateOutToolbar",value:function(){var e=this,t=window.innerWidth,n=window.innerHeight,i=this.$el.find(".fab-backdrop"),r=this.$anchor.css("background-color");this.offsetX=this.btnLeft-t/2+this.btnWidth/2,this.offsetY=n-this.btnBottom,this.$el.removeClass("active"),this.$el.css({"background-color":"transparent",transition:"none"}),this.$anchor.css({transition:"none"}),i.css({transform:"scale(0)","background-color":r}),this.$menu.children("li").children("a").css({opacity:""}),setTimeout((function(){i.remove(),e.$el.css({"text-align":"",width:"",bottom:"",left:"",overflow:"","background-color":"",transform:"translate3d("+-e.offsetX+"px,0,0)"}),e.$anchor.css({overflow:"",transform:"translate3d(0,"+e.offsetY+"px,0)"}),setTimeout((function(){e.$el.css({transform:"translate3d(0,0,0)",transition:"transform .2s"}),e.$anchor.css({transform:"translate3d(0,0,0)",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"})}),20)}),200)}}],[{key:"init",value:function(e,t){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_FloatingActionButton}},{key:"defaults",get:function(){return n}}]),l}(c);M.FloatingActionButton=l,M.jQueryLoaded&&M.initializeJqueryWrapper(l,"floatingActionButton","M_FloatingActionButton")}(cash,M.anime),function(e){var t={autoClose:!1,format:"mmm dd, yyyy",parse:null,defaultDate:null,setDefaultDate:!1,disableWeekends:!1,disableDayFn:null,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,container:null,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok",previousMonth:"‹",nextMonth:"›",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysAbbrev:["S","M","T","W","T","F","S"]},events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},n=function(n){function c(t,n){a(this,c);var i=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,t,n));i.el.M_Datepicker=i,i.options=e.extend({},c.defaults,n),n&&n.hasOwnProperty("i18n")&&"object"==typeof n.i18n&&(i.options.i18n=e.extend({},c.defaults.i18n,n.i18n)),i.options.minDate&&i.options.minDate.setHours(0,0,0,0),i.options.maxDate&&i.options.maxDate.setHours(0,0,0,0),i.id=M.guid(),i._setupVariables(),i._insertHTMLIntoDOM(),i._setupModal(),i._setupEventHandlers(),i.options.defaultDate||(i.options.defaultDate=new Date(Date.parse(i.el.value)));var r=i.options.defaultDate;return c._isDate(r)?i.options.setDefaultDate?(i.setDate(r,!0),i.setInputValue()):i.gotoDate(r):i.gotoDate(new Date),i.isOpen=!1,i}return s(c,n),r(c,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),e(this.modalEl).remove(),this.destroySelects(),this.el.M_Datepicker=void 0}},{key:"destroySelects",value:function(){var e=this.calendarEl.querySelector(".orig-select-year");e&&M.FormSelect.getInstance(e).destroy();var t=this.calendarEl.querySelector(".orig-select-month");t&&M.FormSelect.getInstance(t).destroy()}},{key:"_insertHTMLIntoDOM",value:function(){this.options.showClearBtn&&(e(this.clearBtn).css({visibility:""}),this.clearBtn.innerHTML=this.options.i18n.clear),this.doneBtn.innerHTML=this.options.i18n.done,this.cancelBtn.innerHTML=this.options.i18n.cancel,this.options.container?this.$modalEl.appendTo(this.options.container):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var e=this;this.modalEl.id="modal-"+this.id,this.modal=M.Modal.init(this.modalEl,{onCloseEnd:function(){e.isOpen=!1}})}},{key:"toString",value:function(e){var t=this;return e=e||this.options.format,c._isDate(this.date)?e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g).map((function(e){return t.formats[e]?t.formats[e]():e})).join(""):""}},{key:"setDate",value:function(e,t){if(!e)return this.date=null,this._renderDateDisplay(),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),c._isDate(e)){var n=this.options.minDate,i=this.options.maxDate;c._isDate(n)&&e<n?e=n:c._isDate(i)&&e>i&&(e=i),this.date=new Date(e.getTime()),this._renderDateDisplay(),c._setToStartOfDay(this.date),this.gotoDate(this.date),t||"function"!=typeof this.options.onSelect||this.options.onSelect.call(this,this.date)}}},{key:"setInputValue",value:function(){this.el.value=this.toString(),this.$el.trigger("change",{firedBy:this})}},{key:"_renderDateDisplay",value:function(){var e=c._isDate(this.date)?this.date:new Date,t=this.options.i18n,n=t.weekdaysShort[e.getDay()],i=t.monthsShort[e.getMonth()],r=e.getDate();this.yearTextEl.innerHTML=e.getFullYear(),this.dateTextEl.innerHTML=n+", "+i+" "+r}},{key:"gotoDate",value:function(e){var t=!0;if(c._isDate(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),i=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),r=e.getTime();i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),t=r<n.getTime()||i.getTime()<r}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}]),this.adjustCalendars()}}},{key:"adjustCalendars",value:function(){this.calendars[0]=this.adjustCalendar(this.calendars[0]),this.draw()}},{key:"adjustCalendar",value:function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e}},{key:"nextMonth",value:function(){this.calendars[0].month++,this.adjustCalendars()}},{key:"prevMonth",value:function(){this.calendars[0].month--,this.adjustCalendars()}},{key:"render",value:function(e,t,n){var i=this.options,r=new Date,o=c._getDaysInMonth(e,t),s=new Date(e,t,1).getDay(),a=[],l=[];c._setToStartOfDay(r),i.firstDay>0&&(s-=i.firstDay)<0&&(s+=7);for(var u=0===t?11:t-1,h=11===t?0:t+1,d=0===t?e-1:e,f=11===t?e+1:e,p=c._getDaysInMonth(d,u),v=o+s,m=v;m>7;)m-=7;v+=7-m;for(var _=!1,g=0,y=0;g<v;g++){var b=new Date(e,t,g-s+1),w=!!c._isDate(this.date)&&c._compareDates(b,this.date),C=c._compareDates(b,r),S=-1!==i.events.indexOf(b.toDateString()),k=g<s||g>=o+s,E=g-s+1,x=t,T=e,L=i.startRange&&c._compareDates(i.startRange,b),M=i.endRange&&c._compareDates(i.endRange,b),O=i.startRange&&i.endRange&&i.startRange<b&&b<i.endRange;k&&(g<s?(E=p+E,x=u,T=d):(E-=o,x=h,T=f));var R={day:E,month:x,year:T,hasEvent:S,isSelected:w,isToday:C,isDisabled:i.minDate&&b<i.minDate||i.maxDate&&b>i.maxDate||i.disableWeekends&&c._isWeekend(b)||i.disableDayFn&&i.disableDayFn(b),isEmpty:k,isStartRange:L,isEndRange:M,isInRange:O,showDaysInNextAndPreviousMonths:i.showDaysInNextAndPreviousMonths};l.push(this.renderDay(R)),7==++y&&(a.push(this.renderRow(l,i.isRTL,_)),l=[],y=0,_=!1)}return this.renderTable(i,a,n)}},{key:"renderDay",value:function(e){var t=[],n="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month"),t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),n="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+n+'"><button class="datepicker-day-button" type="button" data-year="'+e.year+'" data-month="'+e.month+'" data-day="'+e.day+'">'+e.day+"</button></td>"}},{key:"renderRow",value:function(e,t,n){return'<tr class="datepicker-row'+(n?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"}},{key:"renderTable",value:function(e,t,n){return'<div class="datepicker-table-wrapper"><table cellpadding="0" cellspacing="0" class="datepicker-table" role="grid" aria-labelledby="'+n+'">'+this.renderHead(e)+this.renderBody(t)+"</table></div>"}},{key:"renderHead",value:function(e){var t=void 0,n=[];for(t=0;t<7;t++)n.push('<th scope="col"><abbr title="'+this.renderDayName(e,t)+'">'+this.renderDayName(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?n.reverse():n).join("")+"</tr></thead>"}},{key:"renderBody",value:function(e){return"<tbody>"+e.join("")+"</tbody>"}},{key:"renderTitle",value:function(t,n,i,r,o,s){var a,c,l=void 0,u=void 0,h=void 0,d=this.options,f=i===d.minYear,p=i===d.maxYear,v='<div id="'+s+'" class="datepicker-controls" role="heading" aria-live="assertive">',m=!0,_=!0;for(h=[],l=0;l<12;l++)h.push('<option value="'+(i===o?l-n:12+l-n)+'"'+(l===r?' selected="selected"':"")+(f&&l<d.minMonth||p&&l>d.maxMonth?'disabled="disabled"':"")+">"+d.i18n.months[l]+"</option>");for(a='<select class="datepicker-select orig-select-month" tabindex="-1">'+h.join("")+"</select>",e.isArray(d.yearRange)?(l=d.yearRange[0],u=d.yearRange[1]+1):(l=i-d.yearRange,u=1+i+d.yearRange),h=[];l<u&&l<=d.maxYear;l++)l>=d.minYear&&h.push('<option value="'+l+'" '+(l===i?'selected="selected"':"")+">"+l+"</option>");c='<select class="datepicker-select orig-select-year" tabindex="-1">'+h.join("")+"</select>";v+='<button class="month-prev'+(m?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg></button>',v+='<div class="selects-container">',d.showMonthAfterYear?v+=c+a:v+=a+c,v+="</div>",f&&(0===r||d.minMonth>=r)&&(m=!1),p&&(11===r||d.maxMonth<=r)&&(_=!1);return(v+='<button class="month-next'+(_?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg></button>')+"</div>"}},{key:"draw",value:function(e){if(this.isOpen||e){var t,n=this.options,i=n.minYear,r=n.maxYear,o=n.minMonth,s=n.maxMonth,a="";this._y<=i&&(this._y=i,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=r&&(this._y=r,!isNaN(s)&&this._m>s&&(this._m=s)),t="datepicker-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var c=0;c<1;c++)this._renderDateDisplay(),a+=this.renderTitle(this,c,this.calendars[c].year,this.calendars[c].month,this.calendars[0].year,t)+this.render(this.calendars[c].year,this.calendars[c].month,t);this.destroySelects(),this.calendarEl.innerHTML=a;var l=this.calendarEl.querySelector(".orig-select-year"),u=this.calendarEl.querySelector(".orig-select-month");M.FormSelect.init(l,{classes:"select-year",dropdownOptions:{container:document.body,constrainWidth:!1}}),M.FormSelect.init(u,{classes:"select-month",dropdownOptions:{container:document.body,constrainWidth:!1}}),l.addEventListener("change",this._handleYearChange.bind(this)),u.addEventListener("change",this._handleMonthChange.bind(this)),"function"==typeof this.options.onDraw&&this.options.onDraw(this)}}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleInputChangeBound=this._handleInputChange.bind(this),this._handleCalendarClickBound=this._handleCalendarClick.bind(this),this._finishSelectionBound=this._finishSelection.bind(this),this._handleMonthChange=this._handleMonthChange.bind(this),this._closeBound=this.close.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("change",this._handleInputChangeBound),this.calendarEl.addEventListener("click",this._handleCalendarClickBound),this.doneBtn.addEventListener("click",this._finishSelectionBound),this.cancelBtn.addEventListener("click",this._closeBound),this.options.showClearBtn&&(this._handleClearClickBound=this._handleClearClick.bind(this),this.clearBtn.addEventListener("click",this._handleClearClickBound))}},{key:"_setupVariables",value:function(){var t=this;this.$modalEl=e(c._template),this.modalEl=this.$modalEl[0],this.calendarEl=this.modalEl.querySelector(".datepicker-calendar"),this.yearTextEl=this.modalEl.querySelector(".year-text"),this.dateTextEl=this.modalEl.querySelector(".date-text"),this.options.showClearBtn&&(this.clearBtn=this.modalEl.querySelector(".datepicker-clear")),this.doneBtn=this.modalEl.querySelector(".datepicker-done"),this.cancelBtn=this.modalEl.querySelector(".datepicker-cancel"),this.formats={d:function(){return t.date.getDate()},dd:function(){var e=t.date.getDate();return(e<10?"0":"")+e},ddd:function(){return t.options.i18n.weekdaysShort[t.date.getDay()]},dddd:function(){return t.options.i18n.weekdays[t.date.getDay()]},m:function(){return t.date.getMonth()+1},mm:function(){var e=t.date.getMonth()+1;return(e<10?"0":"")+e},mmm:function(){return t.options.i18n.monthsShort[t.date.getMonth()]},mmmm:function(){return t.options.i18n.months[t.date.getMonth()]},yy:function(){return(""+t.date.getFullYear()).slice(2)},yyyy:function(){return t.date.getFullYear()}}}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("change",this._handleInputChangeBound),this.calendarEl.removeEventListener("click",this._handleCalendarClickBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(e){e.which===M.keys.ENTER&&(e.preventDefault(),this.open())}},{key:"_handleCalendarClick",value:function(t){if(this.isOpen){var n=e(t.target);n.hasClass("is-disabled")||(!n.hasClass("datepicker-day-button")||n.hasClass("is-empty")||n.parent().hasClass("is-disabled")?n.closest(".month-prev").length?this.prevMonth():n.closest(".month-next").length&&this.nextMonth():(this.setDate(new Date(t.target.getAttribute("data-year"),t.target.getAttribute("data-month"),t.target.getAttribute("data-day"))),this.options.autoClose&&this._finishSelection()))}}},{key:"_handleClearClick",value:function(){this.date=null,this.setInputValue(),this.close()}},{key:"_handleMonthChange",value:function(e){this.gotoMonth(e.target.value)}},{key:"_handleYearChange",value:function(e){this.gotoYear(e.target.value)}},{key:"gotoMonth",value:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())}},{key:"gotoYear",value:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())}},{key:"_handleInputChange",value:function(e){var t=void 0;e.firedBy!==this&&(t=this.options.parse?this.options.parse(this.el.value,this.options.format):new Date(Date.parse(this.el.value)),c._isDate(t)&&this.setDate(t))}},{key:"renderDayName",value:function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysAbbrev[t]:e.i18n.weekdays[t]}},{key:"_finishSelection",value:function(){this.setInputValue(),this.close()}},{key:"open",value:function(){if(!this.isOpen)return this.isOpen=!0,"function"==typeof this.options.onOpen&&this.options.onOpen.call(this),this.draw(),this.modal.open(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,"function"==typeof this.options.onClose&&this.options.onClose.call(this),this.modal.close(),this}}],[{key:"init",value:function(e,t){return i(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,e,t)}},{key:"_isDate",value:function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())}},{key:"_isWeekend",value:function(e){var t=e.getDay();return 0===t||6===t}},{key:"_setToStartOfDay",value:function(e){c._isDate(e)&&e.setHours(0,0,0,0)}},{key:"_getDaysInMonth",value:function(e,t){return[31,c._isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]}},{key:"_isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"_compareDates",value:function(e,t){return e.getTime()===t.getTime()}},{key:"_setToStartOfDay",value:function(e){c._isDate(e)&&e.setHours(0,0,0,0)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Datepicker}},{key:"defaults",get:function(){return t}}]),c}(c);n._template=['<div class= "modal datepicker-modal">','<div class="modal-content datepicker-container">','<div class="datepicker-date-display">','<span class="year-text"></span>','<span class="date-text"></span>',"</div>",'<div class="datepicker-calendar-container">','<div class="datepicker-calendar"></div>','<div class="datepicker-footer">','<button class="btn-flat datepicker-clear waves-effect" style="visibility: hidden;" type="button"></button>','<div class="confirmation-btns">','<button class="btn-flat datepicker-cancel waves-effect" type="button"></button>','<button class="btn-flat datepicker-done waves-effect" type="button"></button>',"</div>","</div>","</div>","</div>","</div>"].join(""),M.Datepicker=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"datepicker","M_Datepicker")}(cash),function(e){var t={dialRadius:135,outerRadius:105,innerRadius:70,tickRadius:20,duration:350,container:null,defaultTime:"now",fromNow:0,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok"},autoClose:!1,twelveHour:!0,vibrate:!0,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onSelect:null},n=function(n){function c(t,n){a(this,c);var i=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,t,n));return i.el.M_Timepicker=i,i.options=e.extend({},c.defaults,n),i.id=M.guid(),i._insertHTMLIntoDOM(),i._setupModal(),i._setupVariables(),i._setupEventHandlers(),i._clockSetup(),i._pickerSetup(),i}return s(c,n),r(c,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),e(this.modalEl).remove(),this.el.M_Timepicker=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleClockClickStartBound=this._handleClockClickStart.bind(this),this._handleDocumentClickMoveBound=this._handleDocumentClickMove.bind(this),this._handleDocumentClickEndBound=this._handleDocumentClickEnd.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.plate.addEventListener("mousedown",this._handleClockClickStartBound),this.plate.addEventListener("touchstart",this._handleClockClickStartBound),e(this.spanHours).on("click",this.showView.bind(this,"hours")),e(this.spanMinutes).on("click",this.showView.bind(this,"minutes"))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(e){e.which===M.keys.ENTER&&(e.preventDefault(),this.open())}},{key:"_handleClockClickStart",value:function(e){e.preventDefault();var t=this.plate.getBoundingClientRect(),n=t.left,i=t.top;this.x0=n+this.options.dialRadius,this.y0=i+this.options.dialRadius,this.moved=!1;var r=c._Pos(e);this.dx=r.x-this.x0,this.dy=r.y-this.y0,this.setHand(this.dx,this.dy,!1),document.addEventListener("mousemove",this._handleDocumentClickMoveBound),document.addEventListener("touchmove",this._handleDocumentClickMoveBound),document.addEventListener("mouseup",this._handleDocumentClickEndBound),document.addEventListener("touchend",this._handleDocumentClickEndBound)}},{key:"_handleDocumentClickMove",value:function(e){e.preventDefault();var t=c._Pos(e),n=t.x-this.x0,i=t.y-this.y0;this.moved=!0,this.setHand(n,i,!1,!0)}},{key:"_handleDocumentClickEnd",value:function(t){var n=this;t.preventDefault(),document.removeEventListener("mouseup",this._handleDocumentClickEndBound),document.removeEventListener("touchend",this._handleDocumentClickEndBound);var i=c._Pos(t),r=i.x-this.x0,o=i.y-this.y0;this.moved&&r===this.dx&&o===this.dy&&this.setHand(r,o),"hours"===this.currentView?this.showView("minutes",this.options.duration/2):this.options.autoClose&&(e(this.minutesView).addClass("timepicker-dial-out"),setTimeout((function(){n.done()}),this.options.duration/2)),"function"==typeof this.options.onSelect&&this.options.onSelect.call(this,this.hours,this.minutes),document.removeEventListener("mousemove",this._handleDocumentClickMoveBound),document.removeEventListener("touchmove",this._handleDocumentClickMoveBound)}},{key:"_insertHTMLIntoDOM",value:function(){this.$modalEl=e(c._template),this.modalEl=this.$modalEl[0],this.modalEl.id="modal-"+this.id;var t=document.querySelector(this.options.container);this.options.container&&t?this.$modalEl.appendTo(t):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var e=this;this.modal=M.Modal.init(this.modalEl,{onOpenStart:this.options.onOpenStart,onOpenEnd:this.options.onOpenEnd,onCloseStart:this.options.onCloseStart,onCloseEnd:function(){"function"==typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e),e.isOpen=!1}})}},{key:"_setupVariables",value:function(){this.currentView="hours",this.vibrate=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,this._canvas=this.modalEl.querySelector(".timepicker-canvas"),this.plate=this.modalEl.querySelector(".timepicker-plate"),this.hoursView=this.modalEl.querySelector(".timepicker-hours"),this.minutesView=this.modalEl.querySelector(".timepicker-minutes"),this.spanHours=this.modalEl.querySelector(".timepicker-span-hours"),this.spanMinutes=this.modalEl.querySelector(".timepicker-span-minutes"),this.spanAmPm=this.modalEl.querySelector(".timepicker-span-am-pm"),this.footer=this.modalEl.querySelector(".timepicker-footer"),this.amOrPm="PM"}},{key:"_pickerSetup",value:function(){var t=e('<button class="btn-flat timepicker-clear waves-effect" style="visibility: hidden;" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.clear+"</button>").appendTo(this.footer).on("click",this.clear.bind(this));this.options.showClearBtn&&t.css({visibility:""});var n=e('<div class="confirmation-btns"></div>');e('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.cancel+"</button>").appendTo(n).on("click",this.close.bind(this)),e('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.done+"</button>").appendTo(n).on("click",this.done.bind(this)),n.appendTo(this.footer)}},{key:"_clockSetup",value:function(){this.options.twelveHour&&(this.$amBtn=e('<div class="am-btn">AM</div>'),this.$pmBtn=e('<div class="pm-btn">PM</div>'),this.$amBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm),this.$pmBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm)),this._buildHoursView(),this._buildMinutesView(),this._buildSVGClock()}},{key:"_buildSVGClock",value:function(){var e=this.options.dialRadius,t=this.options.tickRadius,n=2*e,i=c._createSVGEl("svg");i.setAttribute("class","timepicker-svg"),i.setAttribute("width",n),i.setAttribute("height",n);var r=c._createSVGEl("g");r.setAttribute("transform","translate("+e+","+e+")");var o=c._createSVGEl("circle");o.setAttribute("class","timepicker-canvas-bearing"),o.setAttribute("cx",0),o.setAttribute("cy",0),o.setAttribute("r",4);var s=c._createSVGEl("line");s.setAttribute("x1",0),s.setAttribute("y1",0);var a=c._createSVGEl("circle");a.setAttribute("class","timepicker-canvas-bg"),a.setAttribute("r",t),r.appendChild(s),r.appendChild(a),r.appendChild(o),i.appendChild(r),this._canvas.appendChild(i),this.hand=s,this.bg=a,this.bearing=o,this.g=r}},{key:"_buildHoursView",value:function(){var t=e('<div class="timepicker-tick"></div>');if(this.options.twelveHour)for(var n=1;n<13;n+=1){var i=t.clone(),r=n/6*Math.PI,o=this.options.outerRadius;i.css({left:this.options.dialRadius+Math.sin(r)*o-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(r)*o-this.options.tickRadius+"px"}),i.html(0===n?"00":n),this.hoursView.appendChild(i[0])}else for(var s=0;s<24;s+=1){var a=t.clone(),c=s/6*Math.PI,l=s>0&&s<13?this.options.innerRadius:this.options.outerRadius;a.css({left:this.options.dialRadius+Math.sin(c)*l-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(c)*l-this.options.tickRadius+"px"}),a.html(0===s?"00":s),this.hoursView.appendChild(a[0])}}},{key:"_buildMinutesView",value:function(){for(var t=e('<div class="timepicker-tick"></div>'),n=0;n<60;n+=5){var i=t.clone(),r=n/30*Math.PI;i.css({left:this.options.dialRadius+Math.sin(r)*this.options.outerRadius-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(r)*this.options.outerRadius-this.options.tickRadius+"px"}),i.html(c._addLeadingZero(n)),this.minutesView.appendChild(i[0])}}},{key:"_handleAmPmClick",value:function(t){var n=e(t.target);this.amOrPm=n.hasClass("am-btn")?"AM":"PM",this._updateAmPmView()}},{key:"_updateAmPmView",value:function(){this.options.twelveHour&&(this.$amBtn.toggleClass("text-primary","AM"===this.amOrPm),this.$pmBtn.toggleClass("text-primary","PM"===this.amOrPm))}},{key:"_updateTimeFromInput",value:function(){var e=((this.el.value||this.options.defaultTime||"")+"").split(":");if(this.options.twelveHour&&void 0!==e[1]&&(e[1].toUpperCase().indexOf("AM")>0?this.amOrPm="AM":this.amOrPm="PM",e[1]=e[1].replace("AM","").replace("PM","")),"now"===e[0]){var t=new Date(+new Date+this.options.fromNow);e=[t.getHours(),t.getMinutes()],this.options.twelveHour&&(this.amOrPm=e[0]>=12&&e[0]<24?"PM":"AM")}this.hours=+e[0]||0,this.minutes=+e[1]||0,this.spanHours.innerHTML=this.hours,this.spanMinutes.innerHTML=c._addLeadingZero(this.minutes),this._updateAmPmView()}},{key:"showView",value:function(t,n){"minutes"===t&&e(this.hoursView).css("visibility");var i="hours"===t,r=i?this.hoursView:this.minutesView,o=i?this.minutesView:this.hoursView;this.currentView=t,e(this.spanHours).toggleClass("text-primary",i),e(this.spanMinutes).toggleClass("text-primary",!i),o.classList.add("timepicker-dial-out"),e(r).css("visibility","visible").removeClass("timepicker-dial-out"),this.resetClock(n),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout((function(){e(o).css("visibility","hidden")}),this.options.duration)}},{key:"resetClock",value:function(t){var n=this.currentView,i=this[n],r="hours"===n,o=i*(Math.PI/(r?6:30)),s=r&&i>0&&i<13?this.options.innerRadius:this.options.outerRadius,a=Math.sin(o)*s,c=-Math.cos(o)*s,l=this;t?(e(this.canvas).addClass("timepicker-canvas-out"),setTimeout((function(){e(l.canvas).removeClass("timepicker-canvas-out"),l.setHand(a,c)}),t)):this.setHand(a,c)}},{key:"setHand",value:function(e,t,n){var i=this,r=Math.atan2(e,-t),o="hours"===this.currentView,s=Math.PI/(o||n?6:30),a=Math.sqrt(e*e+t*t),l=o&&a<(this.options.outerRadius+this.options.innerRadius)/2,u=l?this.options.innerRadius:this.options.outerRadius;this.options.twelveHour&&(u=this.options.outerRadius),r<0&&(r=2*Math.PI+r);var h=Math.round(r/s);r=h*s,this.options.twelveHour?o?0===h&&(h=12):(n&&(h*=5),60===h&&(h=0)):o?(12===h&&(h=0),h=l?0===h?12:h:0===h?0:h+12):(n&&(h*=5),60===h&&(h=0)),this[this.currentView]!==h&&this.vibrate&&this.options.vibrate&&(this.vibrateTimer||(navigator[this.vibrate](10),this.vibrateTimer=setTimeout((function(){i.vibrateTimer=null}),100))),this[this.currentView]=h,o?this.spanHours.innerHTML=h:this.spanMinutes.innerHTML=c._addLeadingZero(h);var d=Math.sin(r)*(u-this.options.tickRadius),f=-Math.cos(r)*(u-this.options.tickRadius),p=Math.sin(r)*u,v=-Math.cos(r)*u;this.hand.setAttribute("x2",d),this.hand.setAttribute("y2",f),this.bg.setAttribute("cx",p),this.bg.setAttribute("cy",v)}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this._updateTimeFromInput(),this.showView("hours"),this.modal.open())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.modal.close())}},{key:"done",value:function(e,t){var n=this.el.value,i=t?"":c._addLeadingZero(this.hours)+":"+c._addLeadingZero(this.minutes);this.time=i,!t&&this.options.twelveHour&&(i=i+" "+this.amOrPm),this.el.value=i,i!==n&&this.$el.trigger("change"),this.close(),this.el.focus()}},{key:"clear",value:function(){this.done(null,!0)}}],[{key:"init",value:function(e,t){return i(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,e,t)}},{key:"_addLeadingZero",value:function(e){return(e<10?"0":"")+e}},{key:"_createSVGEl",value:function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}},{key:"_Pos",value:function(e){return e.targetTouches&&e.targetTouches.length>=1?{x:e.targetTouches[0].clientX,y:e.targetTouches[0].clientY}:{x:e.clientX,y:e.clientY}}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Timepicker}},{key:"defaults",get:function(){return t}}]),c}(c);n._template=['<div class= "modal timepicker-modal">','<div class="modal-content timepicker-container">','<div class="timepicker-digital-display">','<div class="timepicker-text-container">','<div class="timepicker-display-column">','<span class="timepicker-span-hours text-primary"></span>',":",'<span class="timepicker-span-minutes"></span>',"</div>",'<div class="timepicker-display-column timepicker-display-am-pm">','<div class="timepicker-span-am-pm"></div>',"</div>","</div>","</div>",'<div class="timepicker-analog-display">','<div class="timepicker-plate">','<div class="timepicker-canvas"></div>','<div class="timepicker-dial timepicker-hours"></div>','<div class="timepicker-dial timepicker-minutes timepicker-dial-out"></div>',"</div>",'<div class="timepicker-footer"></div>',"</div>","</div>","</div>"].join(""),M.Timepicker=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"timepicker","M_Timepicker")}(cash),function(e){var t={},n=function(n){function c(t,n){a(this,c);var i=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,t,n));return i.el.M_CharacterCounter=i,i.options=e.extend({},c.defaults,n),i.isInvalid=!1,i.isValidLength=!1,i._setupCounter(),i._setupEventHandlers(),i}return s(c,n),r(c,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.CharacterCounter=void 0,this._removeCounter()}},{key:"_setupEventHandlers",value:function(){this._handleUpdateCounterBound=this.updateCounter.bind(this),this.el.addEventListener("focus",this._handleUpdateCounterBound,!0),this.el.addEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("focus",this._handleUpdateCounterBound,!0),this.el.removeEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_setupCounter",value:function(){this.counterEl=document.createElement("span"),e(this.counterEl).addClass("character-counter").css({float:"right","font-size":"12px",height:1}),this.$el.parent().append(this.counterEl)}},{key:"_removeCounter",value:function(){e(this.counterEl).remove()}},{key:"updateCounter",value:function(){var t=+this.$el.attr("data-length"),n=this.el.value.length;this.isValidLength=n<=t;var i=n;t&&(i+="/"+t,this._validateInput()),e(this.counterEl).html(i)}},{key:"_validateInput",value:function(){this.isValidLength&&this.isInvalid?(this.isInvalid=!1,this.$el.removeClass("invalid")):this.isValidLength||this.isInvalid||(this.isInvalid=!0,this.$el.removeClass("valid"),this.$el.addClass("invalid"))}}],[{key:"init",value:function(e,t){return i(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_CharacterCounter}},{key:"defaults",get:function(){return t}}]),c}(c);M.CharacterCounter=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"characterCounter","M_CharacterCounter")}(cash),function(e){var t={duration:200,dist:-100,shift:0,padding:0,numVisible:5,fullWidth:!1,indicators:!1,noWrap:!1,onCycleTo:null},n=function(n){function c(t,n){a(this,c);var i=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,t,n));return i.el.M_Carousel=i,i.options=e.extend({},c.defaults,n),i.hasMultipleSlides=i.$el.find(".carousel-item").length>1,i.showIndicators=i.options.indicators&&i.hasMultipleSlides,i.noWrap=i.options.noWrap||!i.hasMultipleSlides,i.pressed=!1,i.dragged=!1,i.offset=i.target=0,i.images=[],i.itemWidth=i.$el.find(".carousel-item").first().innerWidth(),i.itemHeight=i.$el.find(".carousel-item").first().innerHeight(),i.dim=2*i.itemWidth+i.options.padding||1,i._autoScrollBound=i._autoScroll.bind(i),i._trackBound=i._track.bind(i),i.options.fullWidth&&(i.options.dist=0,i._setCarouselHeight(),i.showIndicators&&i.$el.find(".carousel-fixed-item").addClass("with-indicators")),i.$indicators=e('<ul class="indicators"></ul>'),i.$el.find(".carousel-item").each((function(t,n){if(i.images.push(t),i.showIndicators){var r=e('<li class="indicator-item"></li>');0===n&&r[0].classList.add("active"),i.$indicators.append(r)}})),i.showIndicators&&i.$el.append(i.$indicators),i.count=i.images.length,i.options.numVisible=Math.min(i.count,i.options.numVisible),i.xform="transform",["webkit","Moz","O","ms"].every((function(e){var t=e+"Transform";return void 0===document.body.style[t]||(i.xform=t,!1)})),i._setupEventHandlers(),i._scroll(i.offset),i}return s(c,n),r(c,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Carousel=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleCarouselTapBound=this._handleCarouselTap.bind(this),this._handleCarouselDragBound=this._handleCarouselDrag.bind(this),this._handleCarouselReleaseBound=this._handleCarouselRelease.bind(this),this._handleCarouselClickBound=this._handleCarouselClick.bind(this),void 0!==window.ontouchstart&&(this.el.addEventListener("touchstart",this._handleCarouselTapBound),this.el.addEventListener("touchmove",this._handleCarouselDragBound),this.el.addEventListener("touchend",this._handleCarouselReleaseBound)),this.el.addEventListener("mousedown",this._handleCarouselTapBound),this.el.addEventListener("mousemove",this._handleCarouselDragBound),this.el.addEventListener("mouseup",this._handleCarouselReleaseBound),this.el.addEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.addEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&(this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.$indicators.find(".indicator-item").each((function(t,n){t.addEventListener("click",e._handleIndicatorClickBound)})));var t=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=t.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){var e=this;void 0!==window.ontouchstart&&(this.el.removeEventListener("touchstart",this._handleCarouselTapBound),this.el.removeEventListener("touchmove",this._handleCarouselDragBound),this.el.removeEventListener("touchend",this._handleCarouselReleaseBound)),this.el.removeEventListener("mousedown",this._handleCarouselTapBound),this.el.removeEventListener("mousemove",this._handleCarouselDragBound),this.el.removeEventListener("mouseup",this._handleCarouselReleaseBound),this.el.removeEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.removeEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&this.$indicators.find(".indicator-item").each((function(t,n){t.removeEventListener("click",e._handleIndicatorClickBound)})),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleCarouselTap",value:function(t){"mousedown"===t.type&&e(t.target).is("img")&&t.preventDefault(),this.pressed=!0,this.dragged=!1,this.verticalDragged=!1,this.reference=this._xpos(t),this.referenceY=this._ypos(t),this.velocity=this.amplitude=0,this.frame=this.offset,this.timestamp=Date.now(),clearInterval(this.ticker),this.ticker=setInterval(this._trackBound,100)}},{key:"_handleCarouselDrag",value:function(e){var t=void 0,n=void 0,i=void 0;if(this.pressed)if(t=this._xpos(e),n=this._ypos(e),i=this.reference-t,Math.abs(this.referenceY-n)<30&&!this.verticalDragged)(i>2||i<-2)&&(this.dragged=!0,this.reference=t,this._scroll(this.offset+i));else{if(this.dragged)return e.preventDefault(),e.stopPropagation(),!1;this.verticalDragged=!0}if(this.dragged)return e.preventDefault(),e.stopPropagation(),!1}},{key:"_handleCarouselRelease",value:function(e){if(this.pressed)return this.pressed=!1,clearInterval(this.ticker),this.target=this.offset,(this.velocity>10||this.velocity<-10)&&(this.amplitude=.9*this.velocity,this.target=this.offset+this.amplitude),this.target=Math.round(this.target/this.dim)*this.dim,this.noWrap&&(this.target>=this.dim*(this.count-1)?this.target=this.dim*(this.count-1):this.target<0&&(this.target=0)),this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound),this.dragged&&(e.preventDefault(),e.stopPropagation()),!1}},{key:"_handleCarouselClick",value:function(t){if(this.dragged)return t.preventDefault(),t.stopPropagation(),!1;if(!this.options.fullWidth){var n=e(t.target).closest(".carousel-item").index();0!==this._wrap(this.center)-n&&(t.preventDefault(),t.stopPropagation()),this._cycleTo(n)}}},{key:"_handleIndicatorClick",value:function(t){t.stopPropagation();var n=e(t.target).closest(".indicator-item");n.length&&this._cycleTo(n.index())}},{key:"_handleResize",value:function(e){this.options.fullWidth?(this.itemWidth=this.$el.find(".carousel-item").first().innerWidth(),this.imageHeight=this.$el.find(".carousel-item.active").height(),this.dim=2*this.itemWidth+this.options.padding,this.offset=2*this.center*this.itemWidth,this.target=this.offset,this._setCarouselHeight(!0)):this._scroll()}},{key:"_setCarouselHeight",value:function(e){var t=this,n=this.$el.find(".carousel-item.active").length?this.$el.find(".carousel-item.active").first():this.$el.find(".carousel-item").first(),i=n.find("img").first();if(i.length)if(i[0].complete){var r=i.height();if(r>0)this.$el.css("height",r+"px");else{var o=i[0].naturalWidth,s=i[0].naturalHeight,a=this.$el.width()/o*s;this.$el.css("height",a+"px")}}else i.one("load",(function(e,n){t.$el.css("height",e.offsetHeight+"px")}));else if(!e){var c=n.height();this.$el.css("height",c+"px")}}},{key:"_xpos",value:function(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}},{key:"_ypos",value:function(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}},{key:"_wrap",value:function(e){return e>=this.count?e%this.count:e<0?this._wrap(this.count+e%this.count):e}},{key:"_track",value:function(){var e,t,n,i;t=(e=Date.now())-this.timestamp,this.timestamp=e,n=this.offset-this.frame,this.frame=this.offset,i=1e3*n/(1+t),this.velocity=.8*i+.2*this.velocity}},{key:"_autoScroll",value:function(){var e=void 0,t=void 0;this.amplitude&&(e=Date.now()-this.timestamp,(t=this.amplitude*Math.exp(-e/this.options.duration))>2||t<-2?(this._scroll(this.target-t),requestAnimationFrame(this._autoScrollBound)):this._scroll(this.target))}},{key:"_scroll",value:function(t){var n=this;this.$el.hasClass("scrolling")||this.el.classList.add("scrolling"),null!=this.scrollingTimeout&&window.clearTimeout(this.scrollingTimeout),this.scrollingTimeout=window.setTimeout((function(){n.$el.removeClass("scrolling")}),this.options.duration);var i,r,o,s,a=void 0,c=void 0,l=void 0,u=void 0,h=void 0,d=void 0,f=this.center,p=1/this.options.numVisible;if(this.offset="number"==typeof t?t:this.offset,this.center=Math.floor((this.offset+this.dim/2)/this.dim),s=-(o=(r=this.offset-this.center*this.dim)<0?1:-1)*r*2/this.dim,i=this.count>>1,this.options.fullWidth?(l="translateX(0)",d=1):(l="translateX("+(this.el.clientWidth-this.itemWidth)/2+"px) ",l+="translateY("+(this.el.clientHeight-this.itemHeight)/2+"px)",d=1-p*s),this.showIndicators){var v=this.center%this.count,m=this.$indicators.find(".indicator-item.active");m.index()!==v&&(m.removeClass("active"),this.$indicators.find(".indicator-item").eq(v)[0].classList.add("active"))}if(!this.noWrap||this.center>=0&&this.center<this.count){c=this.images[this._wrap(this.center)],e(c).hasClass("active")||(this.$el.find(".carousel-item").removeClass("active"),c.classList.add("active"));var _=l+" translateX("+-r/2+"px) translateX("+o*this.options.shift*s*a+"px) translateZ("+this.options.dist*s+"px)";this._updateItemStyle(c,d,0,_)}for(a=1;a<=i;++a){if(this.options.fullWidth?(u=this.options.dist,h=a===i&&r<0?1-s:1):(u=this.options.dist*(2*a+s*o),h=1-p*(2*a+s*o)),!this.noWrap||this.center+a<this.count){c=this.images[this._wrap(this.center+a)];var g=l+" translateX("+(this.options.shift+(this.dim*a-r)/2)+"px) translateZ("+u+"px)";this._updateItemStyle(c,h,-a,g)}if(this.options.fullWidth?(u=this.options.dist,h=a===i&&r>0?1-s:1):(u=this.options.dist*(2*a-s*o),h=1-p*(2*a-s*o)),!this.noWrap||this.center-a>=0){c=this.images[this._wrap(this.center-a)];var y=l+" translateX("+(-this.options.shift+(-this.dim*a-r)/2)+"px) translateZ("+u+"px)";this._updateItemStyle(c,h,-a,y)}}if(!this.noWrap||this.center>=0&&this.center<this.count){c=this.images[this._wrap(this.center)];var b=l+" translateX("+-r/2+"px) translateX("+o*this.options.shift*s+"px) translateZ("+this.options.dist*s+"px)";this._updateItemStyle(c,d,0,b)}var w=this.$el.find(".carousel-item").eq(this._wrap(this.center));f!==this.center&&"function"==typeof this.options.onCycleTo&&this.options.onCycleTo.call(this,w[0],this.dragged),"function"==typeof this.oneTimeCallback&&(this.oneTimeCallback.call(this,w[0],this.dragged),this.oneTimeCallback=null)}},{key:"_updateItemStyle",value:function(e,t,n,i){e.style[this.xform]=i,e.style.zIndex=n,e.style.opacity=t,e.style.visibility="visible"}},{key:"_cycleTo",value:function(e,t){var n=this.center%this.count-e;this.noWrap||(n<0?Math.abs(n+this.count)<Math.abs(n)&&(n+=this.count):n>0&&Math.abs(n-this.count)<n&&(n-=this.count)),this.target=this.dim*Math.round(this.offset/this.dim),n<0?this.target+=this.dim*Math.abs(n):n>0&&(this.target-=this.dim*n),"function"==typeof t&&(this.oneTimeCallback=t),this.offset!==this.target&&(this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound))}},{key:"next",value:function(e){(void 0===e||isNaN(e))&&(e=1);var t=this.center+e;if(t>=this.count||t<0){if(this.noWrap)return;t=this._wrap(t)}this._cycleTo(t)}},{key:"prev",value:function(e){(void 0===e||isNaN(e))&&(e=1);var t=this.center-e;if(t>=this.count||t<0){if(this.noWrap)return;t=this._wrap(t)}this._cycleTo(t)}},{key:"set",value:function(e,t){if((void 0===e||isNaN(e))&&(e=0),e>this.count||e<0){if(this.noWrap)return;e=this._wrap(e)}this._cycleTo(e,t)}}],[{key:"init",value:function(e,t){return i(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Carousel}},{key:"defaults",get:function(){return t}}]),c}(c);M.Carousel=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"carousel","M_Carousel")}(cash),function(e){var t={onOpen:void 0,onClose:void 0},n=function(n){function c(t,n){a(this,c);var i=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,t,n));return i.el.M_TapTarget=i,i.options=e.extend({},c.defaults,n),i.isOpen=!1,i.$origin=e("#"+i.$el.attr("data-target")),i._setup(),i._calculatePositioning(),i._setupEventHandlers(),i}return s(c,n),r(c,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.TapTarget=void 0}},{key:"_setupEventHandlers",value:function(){this._handleDocumentClickBound=this._handleDocumentClick.bind(this),this._handleTargetClickBound=this._handleTargetClick.bind(this),this._handleOriginClickBound=this._handleOriginClick.bind(this),this.el.addEventListener("click",this._handleTargetClickBound),this.originEl.addEventListener("click",this._handleOriginClickBound);var e=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=e.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleTargetClickBound),this.originEl.removeEventListener("click",this._handleOriginClickBound),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleTargetClick",value:function(e){this.open()}},{key:"_handleOriginClick",value:function(e){this.close()}},{key:"_handleResize",value:function(e){this._calculatePositioning()}},{key:"_handleDocumentClick",value:function(t){e(t.target).closest(".tap-target-wrapper").length||(this.close(),t.preventDefault(),t.stopPropagation())}},{key:"_setup",value:function(){this.wrapper=this.$el.parent()[0],this.waveEl=e(this.wrapper).find(".tap-target-wave")[0],this.originEl=e(this.wrapper).find(".tap-target-origin")[0],this.contentEl=this.$el.find(".tap-target-content")[0],e(this.wrapper).hasClass(".tap-target-wrapper")||(this.wrapper=document.createElement("div"),this.wrapper.classList.add("tap-target-wrapper"),this.$el.before(e(this.wrapper)),this.wrapper.append(this.el)),this.contentEl||(this.contentEl=document.createElement("div"),this.contentEl.classList.add("tap-target-content"),this.$el.append(this.contentEl)),this.waveEl||(this.waveEl=document.createElement("div"),this.waveEl.classList.add("tap-target-wave"),this.originEl||(this.originEl=this.$origin.clone(!0,!0),this.originEl.addClass("tap-target-origin"),this.originEl.removeAttr("id"),this.originEl.removeAttr("style"),this.originEl=this.originEl[0],this.waveEl.append(this.originEl)),this.wrapper.append(this.waveEl))}},{key:"_calculatePositioning",value:function(){var t="fixed"===this.$origin.css("position");if(!t)for(var n=this.$origin.parents(),i=0;i<n.length&&!(t="fixed"==e(n[i]).css("position"));i++);var r=this.$origin.outerWidth(),o=this.$origin.outerHeight(),s=t?this.$origin.offset().top-M.getDocumentScrollTop():this.$origin.offset().top,a=t?this.$origin.offset().left-M.getDocumentScrollLeft():this.$origin.offset().left,c=window.innerWidth,l=window.innerHeight,u=c/2,h=l/2,d=a<=u,f=a>u,p=s<=h,v=s>h,m=a>=.25*c&&a<=.75*c,_=this.$el.outerWidth(),g=this.$el.outerHeight(),y=s+o/2-g/2,b=a+r/2-_/2,w=t?"fixed":"absolute",C=m?_:_/2+r,S=g/2,k=p?g/2:0,E=d&&!m?_/2-r:0,x=r,T=v?"bottom":"top",L=2*r,O=L,R=g/2-O/2,$=_/2-L/2,A={};A.top=p?y+"px":"",A.right=f?c-b-_+"px":"",A.bottom=v?l-y-g+"px":"",A.left=d?b+"px":"",A.position=w,e(this.wrapper).css(A),e(this.contentEl).css({width:C+"px",height:S+"px",top:k+"px",right:"0px",bottom:"0px",left:E+"px",padding:x+"px",verticalAlign:T}),e(this.waveEl).css({top:R+"px",left:$+"px",width:L+"px",height:O+"px"})}},{key:"open",value:function(){this.isOpen||("function"==typeof this.options.onOpen&&this.options.onOpen.call(this,this.$origin[0]),this.isOpen=!0,this.wrapper.classList.add("open"),document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound))}},{key:"close",value:function(){this.isOpen&&("function"==typeof this.options.onClose&&this.options.onClose.call(this,this.$origin[0]),this.isOpen=!1,this.wrapper.classList.remove("open"),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound))}}],[{key:"init",value:function(e,t){return i(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_TapTarget}},{key:"defaults",get:function(){return t}}]),c}(c);M.TapTarget=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"tapTarget","M_TapTarget")}(cash),function(e){var t={classes:"",dropdownOptions:{}},n=function(n){function c(t,n){a(this,c);var i=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,t,n));return i.$el.hasClass("browser-default")?o(i):(i.el.M_FormSelect=i,i.options=e.extend({},c.defaults,n),i.isMultiple=i.$el.prop("multiple"),i.el.tabIndex=-1,i._keysSelected={},i._valueDict={},i._setupDropdown(),i._setupEventHandlers(),i)}return s(c,n),r(c,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_FormSelect=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleSelectChangeBound=this._handleSelectChange.bind(this),this._handleOptionClickBound=this._handleOptionClick.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),e(this.dropdownOptions).find("li:not(.optgroup)").each((function(e){e.addEventListener("click",t._handleOptionClickBound)})),this.el.addEventListener("change",this._handleSelectChangeBound),this.input.addEventListener("click",this._handleInputClickBound)}},{key:"_removeEventHandlers",value:function(){var t=this;e(this.dropdownOptions).find("li:not(.optgroup)").each((function(e){e.removeEventListener("click",t._handleOptionClickBound)})),this.el.removeEventListener("change",this._handleSelectChangeBound),this.input.removeEventListener("click",this._handleInputClickBound)}},{key:"_handleSelectChange",value:function(e){this._setValueToInput()}},{key:"_handleOptionClick",value:function(t){t.preventDefault();var n=e(t.target).closest("li")[0],i=n.id;if(!e(n).hasClass("disabled")&&!e(n).hasClass("optgroup")&&i.length){var r=!0;if(this.isMultiple){var o=e(this.dropdownOptions).find("li.disabled.selected");o.length&&(o.removeClass("selected"),o.find('input[type="checkbox"]').prop("checked",!1),this._toggleEntryFromArray(o[0].id)),r=this._toggleEntryFromArray(i)}else e(this.dropdownOptions).find("li").removeClass("selected"),e(n).toggleClass("selected",r);e(this._valueDict[i].el).prop("selected")!==r&&(e(this._valueDict[i].el).prop("selected",r),this.$el.trigger("change"))}t.stopPropagation()}},{key:"_handleInputClick",value:function(){this.dropdown&&this.dropdown.isOpen&&(this._setValueToInput(),this._setSelectedStates())}},{key:"_setupDropdown",value:function(){var t=this;this.wrapper=document.createElement("div"),e(this.wrapper).addClass("select-wrapper "+this.options.classes),this.$el.before(e(this.wrapper)),this.wrapper.appendChild(this.el),this.el.disabled&&this.wrapper.classList.add("disabled"),this.$selectOptions=this.$el.children("option, optgroup"),this.dropdownOptions=document.createElement("ul"),this.dropdownOptions.id="select-options-"+M.guid(),e(this.dropdownOptions).addClass("dropdown-content select-dropdown "+(this.isMultiple?"multiple-select-dropdown":"")),this.$selectOptions.length&&this.$selectOptions.each((function(n){if(e(n).is("option")){var i=void 0;i=t.isMultiple?t._appendOptionWithIcon(t.$el,n,"multiple"):t._appendOptionWithIcon(t.$el,n),t._addOptionToValueDict(n,i)}else if(e(n).is("optgroup")){var r=e(n).children("option");e(t.dropdownOptions).append(e('<li class="optgroup"><span>'+n.getAttribute("label")+"</span></li>")[0]),r.each((function(e){var n=t._appendOptionWithIcon(t.$el,e,"optgroup-option");t._addOptionToValueDict(e,n)}))}})),this.$el.after(this.dropdownOptions),this.input=document.createElement("input"),e(this.input).addClass("select-dropdown dropdown-trigger"),this.input.setAttribute("type","text"),this.input.setAttribute("readonly","true"),this.input.setAttribute("data-target",this.dropdownOptions.id),this.el.disabled&&e(this.input).prop("disabled","true"),this.$el.before(this.input),this._setValueToInput();var n=e('<svg class="caret" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');if(this.$el.before(n[0]),!this.el.disabled){var i=e.extend({},this.options.dropdownOptions);i.onOpenEnd=function(n){var i=e(t.dropdownOptions).find(".selected").first();if(t.dropdown.isScrollable&&i.length){var r=i[0].getBoundingClientRect().top-t.dropdownOptions.getBoundingClientRect().top;r-=t.dropdownOptions.clientHeight/2,t.dropdownOptions.scrollTop=r}},this.isMultiple&&(i.closeOnClick=!1),this.dropdown=M.Dropdown.init(this.input,i)}this._setSelectedStates()}},{key:"_addOptionToValueDict",value:function(e,t){var n=Object.keys(this._valueDict).length,i=this.dropdownOptions.id+n,r={};t.id=i,r.el=e,r.optionEl=t,this._valueDict[i]=r}},{key:"_removeDropdown",value:function(){e(this.wrapper).find(".caret").remove(),e(this.input).remove(),e(this.dropdownOptions).remove(),e(this.wrapper).before(this.$el),e(this.wrapper).remove()}},{key:"_appendOptionWithIcon",value:function(t,n,i){var r=n.disabled?"disabled ":"",o="optgroup-option"===i?"optgroup-option ":"",s=this.isMultiple?'<label><input type="checkbox"'+r+'"/><span>'+n.innerHTML+"</span></label>":n.innerHTML,a=e("<li></li>"),c=e("<span></span>");c.html(s),a.addClass(r+" "+o),a.append(c);var l=n.getAttribute("data-icon");if(l){var u=e('<img alt="" src="'+l+'">');a.prepend(u)}return e(this.dropdownOptions).append(a[0]),a[0]}},{key:"_toggleEntryFromArray",value:function(t){var n=!this._keysSelected.hasOwnProperty(t),i=e(this._valueDict[t].optionEl);return n?this._keysSelected[t]=!0:delete this._keysSelected[t],i.toggleClass("selected",n),i.find('input[type="checkbox"]').prop("checked",n),i.prop("selected",n),n}},{key:"_setValueToInput",value:function(){var t=[];if(this.$el.find("option").each((function(n){if(e(n).prop("selected")){var i=e(n).text();t.push(i)}})),!t.length){var n=this.$el.find("option:disabled").eq(0);n.length&&""===n[0].value&&t.push(n.text())}this.input.value=t.join(", ")}},{key:"_setSelectedStates",value:function(){for(var t in this._keysSelected={},this._valueDict){var n=this._valueDict[t],i=e(n.el).prop("selected");e(n.optionEl).find('input[type="checkbox"]').prop("checked",i),i?(this._activateOption(e(this.dropdownOptions),e(n.optionEl)),this._keysSelected[t]=!0):e(n.optionEl).removeClass("selected")}}},{key:"_activateOption",value:function(t,n){n&&(this.isMultiple||t.find("li.selected").removeClass("selected"),e(n).addClass("selected"))}},{key:"getSelectedValues",value:function(){var e=[];for(var t in this._keysSelected)e.push(this._valueDict[t].el.value);return e}}],[{key:"init",value:function(e,t){return i(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_FormSelect}},{key:"defaults",get:function(){return t}}]),c}(c);M.FormSelect=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"formSelect","M_FormSelect")}(cash),function(e,t){var n={},l=function(c){function l(t,n){a(this,l);var i=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.el.M_Range=i,i.options=e.extend({},l.defaults,n),i._mousedown=!1,i._setupThumb(),i._setupEventHandlers(),i}return s(l,c),r(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeThumb(),this.el.M_Range=void 0}},{key:"_setupEventHandlers",value:function(){this._handleRangeChangeBound=this._handleRangeChange.bind(this),this._handleRangeMousedownTouchstartBound=this._handleRangeMousedownTouchstart.bind(this),this._handleRangeInputMousemoveTouchmoveBound=this._handleRangeInputMousemoveTouchmove.bind(this),this._handleRangeMouseupTouchendBound=this._handleRangeMouseupTouchend.bind(this),this._handleRangeBlurMouseoutTouchleaveBound=this._handleRangeBlurMouseoutTouchleave.bind(this),this.el.addEventListener("change",this._handleRangeChangeBound),this.el.addEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.addEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.addEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("change",this._handleRangeChangeBound),this.el.removeEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_handleRangeChange",value:function(){e(this.value).html(this.$el.val()),e(this.thumb).hasClass("active")||this._showRangeBubble();var t=this._calcRangeOffset();e(this.thumb).addClass("active").css("left",t+"px")}},{key:"_handleRangeMousedownTouchstart",value:function(t){if(e(this.value).html(this.$el.val()),this._mousedown=!0,this.$el.addClass("active"),e(this.thumb).hasClass("active")||this._showRangeBubble(),"input"!==t.type){var n=this._calcRangeOffset();e(this.thumb).addClass("active").css("left",n+"px")}}},{key:"_handleRangeInputMousemoveTouchmove",value:function(){if(this._mousedown){e(this.thumb).hasClass("active")||this._showRangeBubble();var t=this._calcRangeOffset();e(this.thumb).addClass("active").css("left",t+"px"),e(this.value).html(this.$el.val())}}},{key:"_handleRangeMouseupTouchend",value:function(){this._mousedown=!1,this.$el.removeClass("active")}},{key:"_handleRangeBlurMouseoutTouchleave",value:function(){if(!this._mousedown){var n=7+parseInt(this.$el.css("padding-left"))+"px";e(this.thumb).hasClass("active")&&(t.remove(this.thumb),t({targets:this.thumb,height:0,width:0,top:10,easing:"easeOutQuad",marginLeft:n,duration:100})),e(this.thumb).removeClass("active")}}},{key:"_setupThumb",value:function(){this.thumb=document.createElement("span"),this.value=document.createElement("span"),e(this.thumb).addClass("thumb"),e(this.value).addClass("value"),e(this.thumb).append(this.value),this.$el.after(this.thumb)}},{key:"_removeThumb",value:function(){e(this.thumb).remove()}},{key:"_showRangeBubble",value:function(){var n=-7+parseInt(e(this.thumb).parent().css("padding-left"))+"px";t.remove(this.thumb),t({targets:this.thumb,height:30,width:30,top:-30,marginLeft:n,duration:300,easing:"easeOutQuint"})}},{key:"_calcRangeOffset",value:function(){var e=this.$el.width()-15,t=parseFloat(this.$el.attr("max"))||100,n=parseFloat(this.$el.attr("min"))||0;return(parseFloat(this.$el.val())-n)/(t-n)*e}}],[{key:"init",value:function(e,t){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Range}},{key:"defaults",get:function(){return n}}]),l}(c);M.Range=l,M.jQueryLoaded&&M.initializeJqueryWrapper(l,"range","M_Range"),l.init(e("input[type=range]"))}(cash,M.anime)}));function r(){}const o=e=>e;function s(e,t){for(const n in t)e[n]=t[n];return e}function a(e,t,n,i,r){e.__svelte_meta={loc:{file:t,line:n,column:i,char:r}}}function c(e){return e()}function l(){return Object.create(null)}function u(e){e.forEach(c)}function h(e){return"function"==typeof e}function d(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function f(e,t){if(null!=e&&"function"!=typeof e.subscribe)throw new Error(`'${t}' is not a store with a 'subscribe' method`)}function p(e,...t){if(null==e)return r;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function v(e,t,n){e.$$.on_destroy.push(p(t,n))}function m(e,t,n,i){if(e){const r=_(e,t,n,i);return e[0](r)}}function _(e,t,n,i){return e[1]&&i?s(n.ctx.slice(),e[1](i(t))):n.ctx}function g(e,t,n,i){if(e[2]&&i){const r=e[2](i(n));if(void 0===t.dirty)return r;if("object"==typeof r){const e=[],n=Math.max(t.dirty.length,r.length);for(let i=0;i<n;i+=1)e[i]=t.dirty[i]|r[i];return e}return t.dirty|r}return t.dirty}function y(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function b(e){return null==e?"":e}function w(e){e.parentNode.removeChild(e)}function C(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function S(e){return document.createElement(e)}function k(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function E(e){return document.createTextNode(e)}function x(){return E(" ")}function T(){return E("")}function L(e){return function(t){return t.preventDefault(),e.call(this,t)}}function O(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function R(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const i in t)null==t[i]?e.removeAttribute(i):"style"===i?e.style.cssText=t[i]:"__value"===i?e.value=e[i]=t[i]:n[i]&&n[i].set?e[i]=t[i]:O(e,i,t[i])}function A(e,t){(null!=t||e.value)&&(e.value=t)}function D(e,t,n,i){e.style.setProperty(t,n,i?"important":"")}function I(e,t){for(let n=0;n<e.options.length;n+=1){const i=e.options[n];if(i.__value===t)return void(i.selected=!0)}}function P(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function B(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}let j;function H(e){j=e}function W(){if(!j)throw new Error("Function called outside component initialization");return j}function F(e){W().$$.on_mount.push(e)}function N(e){W().$$.after_update.push(e)}function U(e){W().$$.on_destroy.push(e)}function q(){const e=W();return(t,n)=>{const i=e.$$.callbacks[t];if(i){const r=B(t,n);i.slice().forEach(t=>{t.call(e,r)})}}}function z(e,t){W().$$.context.set(e,t)}function Y(e){return W().$$.context.get(e)}function V(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e(t))}const K=[],G=[],X=[],Z=[],J=Promise.resolve();let Q=!1;function ee(e){X.push(e)}let te=!1;const ne=new Set;function ie(){if(!te){te=!0;do{for(let e=0;e<K.length;e+=1){const t=K[e];H(t),re(t.$$)}for(K.length=0;G.length;)G.pop()();for(let e=0;e<X.length;e+=1){const t=X[e];ne.has(t)||(ne.add(t),t())}X.length=0}while(K.length);for(;Z.length;)Z.pop()();Q=!1,te=!1,ne.clear()}}function re(e){if(null!==e.fragment){e.update(),u(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ee)}}const oe=new Set;let se;function ae(){se={r:0,c:[],p:se}}function ce(){se.r||u(se.c),se=se.p}function le(e,t){e&&e.i&&(oe.delete(e),e.i(t))}function ue(e,t,n,i){if(e&&e.o){if(oe.has(e))return;oe.add(e),se.c.push(()=>{oe.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}}const he="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function de(e,t){const n={},i={},r={$$scope:1};let o=e.length;for(;o--;){const s=e[o],a=t[o];if(a){for(const e in s)e in a||(i[e]=1);for(const e in a)r[e]||(n[e]=a[e],r[e]=1);e[o]=a}else for(const e in s)r[e]=1}for(const e in i)e in n||(n[e]=void 0);return n}function fe(e){return"object"==typeof e&&null!==e?e:{}}function pe(e){e&&e.c()}function ve(e,t,n){const{fragment:i,on_mount:r,on_destroy:o,after_update:s}=e.$$;i&&i.m(t,n),ee(()=>{const t=r.map(c).filter(h);o?o.push(...t):u(t),e.$$.on_mount=[]}),s.forEach(ee)}function me(e,t){const n=e.$$;null!==n.fragment&&(u(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function _e(e,t){-1===e.$$.dirty[0]&&(K.push(e),Q||(Q=!0,J.then(ie)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ge(e,t,n,i,o,s,a=[-1]){const c=j;H(e);const h=t.props||{},d=e.$$={fragment:null,ctx:null,props:s,update:r,not_equal:o,bound:l(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:l(),dirty:a};let f=!1;if(d.ctx=n?n(e,h,(t,n,...i)=>{const r=i.length?i[0]:n;return d.ctx&&o(d.ctx[t],d.ctx[t]=r)&&(d.bound[t]&&d.bound[t](r),f&&_e(e,t)),n}):[],d.update(),f=!0,u(d.before_update),d.fragment=!!i&&i(d.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);d.fragment&&d.fragment.l(e),e.forEach(w)}else d.fragment&&d.fragment.c();t.intro&&le(e.$$.fragment),ve(e,t.target,t.anchor),ie()}H(c)}function ye(e,t){document.dispatchEvent(B(e,Object.assign({version:"3.22.3"},t)))}function be(e,t){ye("SvelteDOMInsert",{target:e,node:t}),function(e,t){e.appendChild(t)}(e,t)}function we(e,t,n){ye("SvelteDOMInsert",{target:e,node:t,anchor:n}),function(e,t,n){e.insertBefore(t,n||null)}(e,t,n)}function Ce(e){ye("SvelteDOMRemove",{node:e}),w(e)}function Se(e,t,n,i,r,o){const s=!0===i?["capture"]:i?Array.from(Object.keys(i)):[];r&&s.push("preventDefault"),o&&s.push("stopPropagation"),ye("SvelteDOMAddEventListener",{node:e,event:t,handler:n,modifiers:s});const a=function(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}(e,t,n,i);return()=>{ye("SvelteDOMRemoveEventListener",{node:e,event:t,handler:n,modifiers:s}),a()}}function ke(e,t,n){O(e,t,n),null==n?ye("SvelteDOMRemoveAttribute",{node:e,attribute:t}):ye("SvelteDOMSetAttribute",{node:e,attribute:t,value:n})}function Ee(e,t,n){e[t]=n,ye("SvelteDOMSetProperty",{node:e,property:t,value:n})}function xe(e,t){t=""+t,e.data!==t&&(ye("SvelteDOMSetData",{node:e,data:t}),e.data=t)}function Te(e){if(!("string"==typeof e||e&&"object"==typeof e&&"length"in e)){let t="{#each} only iterates over array-like objects.";throw"function"==typeof Symbol&&e&&Symbol.iterator in e&&(t+=" You can use a spread to convert this iterable into an array."),new Error(t)}}function Le(e,t,n){for(const i of Object.keys(t))~n.indexOf(i)||console.warn(`<${e}> received an unexpected slot "${i}".`)}class Me extends class{$destroy(){me(this,1),this.$destroy=r}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}{constructor(e){if(!e||!e.target&&!e.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{console.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}const Oe="src/game/Sprites.svelte";function Re(e){let t,n,i,o;const s={c:function(){t=S("h2"),n=S("img"),n.src!==(i="img/sword.png")&&ke(n,"src","img/sword.png"),ke(n,"alt",""),ke(n,"class","svelte-afbahk"),a(n,Oe,26,2,333),ke(t,"class",o=b(e[0])+" svelte-afbahk"),a(t,Oe,25,0,311)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,i){we(e,t,i),be(t,n)},p:function(e,[n]){1&n&&o!==(o=b(e[0])+" svelte-afbahk")&&ke(t,"class",o)},i:r,o:r,d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:s,id:Re.name,type:"component",source:"",ctx:e}),s}function $e(e,t,n){let{item:i="weapon"}=t;const r=["item"];Object.keys(t).forEach(e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<Sprites> was created with unknown prop '${e}'`)});let{$$slots:o={},$$scope:s}=t;return Le("Sprites",o,[]),e.$set=e=>{"item"in e&&n(0,i=e.item)},e.$capture_state=()=>({item:i}),e.$inject_state=e=>{"item"in e&&n(0,i=e.item)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[i]}class Ae extends Me{constructor(e){super(e),ge(this,e,$e,Re,d,{item:0}),ye("SvelteRegisterComponent",{component:this,tagName:"Sprites",options:e,id:Re.name})}get item(){throw new Error("<Sprites>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set item(e){throw new Error("<Sprites>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const De="src/Credits.svelte";function Ie(e){let t,n,i,o,s,c;const l={c:function(){t=S("h4"),t.textContent="Credits",n=x(),i=S("ul"),o=S("li"),s=S("a"),s.textContent="https://opengameart.org/content/32x32-fantasy-portrait-set",c=E("\n    by CobraLad"),a(t,De,12,0,85),ke(s,"href","https://opengameart.org/content/32x32-fantasy-portrait-set"),a(s,De,15,4,164),ke(o,"class","collection-item bg svelte-1ap35t3"),a(o,De,14,2,128),ke(i,"class","collection"),a(i,De,13,0,102)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){we(e,t,r),we(e,n,r),we(e,i,r),be(i,o),be(o,s),be(o,c)},p:r,i:r,o:r,d:function(e){e&&Ce(t),e&&Ce(n),e&&Ce(i)}};return ye("SvelteRegisterBlock",{block:l,id:Ie.name,type:"component",source:"",ctx:e}),l}function Pe(e,t){const n=[];Object.keys(t).forEach(e=>{~n.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<Credits> was created with unknown prop '${e}'`)});let{$$slots:i={},$$scope:r}=t;return Le("Credits",i,[]),[]}class Be extends Me{constructor(e){super(e),ge(this,e,Pe,Ie,d,{}),ye("SvelteRegisterComponent",{component:this,tagName:"Credits",options:e,id:Ie.name})}}var je=new RegExp("%[a-f0-9]{2}","gi"),He=new RegExp("(%[a-f0-9]{2})+","gi");function We(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),i=e.slice(t);return Array.prototype.concat.call([],We(n),We(i))}function Fe(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(je),n=1;n<t.length;n++)t=(e=We(t,n).join("")).match(je);return e}}var Ne=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=He.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var i=Fe(n[0]);i!==n[0]&&(t[n[0]]=i)}n=He.exec(e)}t["%C2"]="�";for(var r=Object.keys(t),o=0;o<r.length;o++){var s=r[o];e=e.replace(new RegExp(s,"g"),t[s])}return e}(e)}},Ue=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]},qe=i((function(e,t){function n(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function i(e,t){return t.encode?t.strict?encodeURIComponent(e).replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase()):encodeURIComponent(e):e}function r(e,t){return t.decode?Ne(e):e}function o(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function s(e){const t=(e=o(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function a(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function c(e,t){n((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const i=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,i)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===i[e]&&(i[e]={}),i[e][t[1]]=n):i[e]=n};case"bracket":return(e,n,i)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==i[e]?i[e]=[].concat(i[e],n):i[e]=[n]:i[e]=n};case"comma":case"separator":return(t,n,i)=>{const o="string"==typeof n&&n.split("").indexOf(e.arrayFormatSeparator)>-1?n.split(e.arrayFormatSeparator).map(t=>r(t,e)):null===n?n:r(n,e);i[t]=o};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),o=Object.create(null);if("string"!=typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;for(const n of e.split("&")){let[e,s]=Ue(t.decode?n.replace(/\+/g," "):n,"=");s=void 0===s?null:["comma","separator"].includes(t.arrayFormat)?s:r(s,t),i(r(e,t),s,o)}for(const e of Object.keys(o)){const n=o[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=a(n[e],t);else o[e]=a(n,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce((e,t)=>{const n=o[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(n):e[t]=n,e},Object.create(null))}t.extract=s,t.parse=c,t.stringify=(e,t)=>{if(!e)return"";n((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],o=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const o=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[i(t,e),"[",o,"]"].join("")]:[...n,[i(t,e),"[",i(o,e),"]=",i(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[i(t,e),"[]"].join("")]:[...n,[i(t,e),"[]=",i(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null==r||0===r.length?n:0===n.length?[[i(t,e),"=",i(r,e)].join("")]:[[n,i(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,i(t,e)]:[...n,[i(t,e),"=",i(r,e)].join("")]}}(t),s={};for(const t of Object.keys(e))r(t)||(s[t]=e[t]);const a=Object.keys(s);return!1!==t.sort&&a.sort(t.sort),a.map(n=>{const r=e[n];return void 0===r?"":null===r?i(n,t):Array.isArray(r)?r.reduce(o(n),[]).join("&"):i(n,t)+"="+i(r,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,i]=Ue(e,"#");return Object.assign({url:n.split("?")[0]||"",query:c(s(e),t)},t&&t.parseFragmentIdentifier&&i?{fragmentIdentifier:r(i,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=o(e.url).split("?")[0]||"",s=t.extract(e.url),a=t.parse(s,{sort:!1}),c=Object.assign(a,e.query);let l=t.stringify(c,n);l&&(l="?"+l);let u=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(u="#"+i(e.fragmentIdentifier,n)),`${r}${l}${u}`}})),ze=(qe.extract,qe.parse,qe.stringify,qe.parseUrl,qe.stringifyUrl,i((function(e,t){e.exports=function(){var e=function(e){function t(t,n){var i="Unreachable '"+("/"!==t?t.replace(/\/$/,""):t)+"', segment '"+n+"' is not defined";e.call(this,i),this.message=i,this.route=t,this.path=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error);function t(e,t){var n,i,r=-100,o=[];n=e.replace(/[-$.]/g,"\\$&").replace(/\(/g,"(?:").replace(/\)/g,")?").replace(/([:*]\w+)(?:<([^<>]+?)>)?/g,(function(e,t,n){return o.push(t.substr(1)),":"===t.charAt()?(r+=100,"((?!#)"+(n||"[^#/]+?")+")"):(i=!0,r+=500,"((?!#)"+(n||"[^#]+?")+")")}));try{n=new RegExp("^"+n+"$")}catch(e){throw new TypeError("Invalid route expression, given '"+t+"'")}var s=e.includes("#")?.5:1,a=e.length*r*s;return{keys:o,regex:n,_depth:a,_isSplat:i}}var n=function(e,n){var i=t(e,n),r=i.keys,o=i.regex,s=i._depth;return{_isSplat:i._isSplat,_depth:s,match:function(e){var t=e.match(o);if(t)return r.reduce((function(e,n,i){return e[n]="string"==typeof t[i+1]?decodeURIComponent(t[i+1]):null,e}),{})}}};function i(e,t){return""+(t&&"/"!==t?t:"")+(e||"")}function r(e,t){var n=e.match(/<[^<>]*\/[^<>]*>/);if(n)throw new TypeError("RegExp cannot contain slashes, given '"+n+"'");var i=e.split(/(?=\/|#)/),r=[];"/"!==i[0]&&i.unshift("/"),i.some((function(e,n){var o=r.slice(1).concat(e).join("")||null,s=i.slice(n+1).join("")||null,a=t(e,o,s?""+("/"!==e?e:"")+s:null);return r.push(e),a}))}function o(t,n,i){var o,s={},a=[];return r(t,(function(r,c,l){var u;if(!n.keys)throw new e(t,r);if(n.keys.some((function(e){if(i.includes(e))return!1;var t=n[e].pattern,h=t.match,d=t._isSplat,f=h(d&&l||r);if(f){if(Object.assign(s,f),n[e].route){var p=Object.assign({},n[e].info),v=!1;v=p.exact?null===l:!(r&&null===c)||r===c||d||!l,p.matches=v,p.params=Object.assign({},s),p.route=n[e].route,p.path=d&&l||c||r,a.push(p)}return null===l&&!n[e].keys||("/"!==e&&i.push(e),o=d,n=n[e],u=!0,!0)}return!1})),!u&&!n.keys.some((function(e){return n[e].pattern.match(r)})))throw new e(t,r);return o||!u})),a}function s(e,t,n){for(var i=o.bind(null,e,t),r=[];n>0;){n-=1;try{return i(r)}catch(e){if(n>0)return i(r);throw e}}}n.push=function(e,t,i,r){var o=t[e]||(t[e]={});return o.pattern||(o.pattern=new n(e,r),o.route=(i||"").replace(/\/$/,"")||"/"),t.keys=t.keys||[],t.keys.includes(e)||(t.keys.push(e),n.sort(t)),o},n.sort=function(e){e.keys.sort((function(t,n){return e[t].pattern._depth-e[n].pattern._depth}))};var a=function(){var t={},o=[];return{resolve:function(e,n){var i=e.split("?")[0],o=[];r(i,(function(e,i,r){try{n(null,s(i,t,1).filter((function(e){return!o.includes(e.path)&&(o.push(e.path),!0)})))}catch(e){n(e,[])}}))},mount:function(e,t){"/"!==e&&o.push(e),t(),o.pop()},find:function(e,n){return s(e,t,!0===n?2:n||1)},add:function(e,s){return function(e,t,o,s){var a,c=i(e,o),l=t;return s&&!0!==s.nested&&(a=s.key,delete s.key),r(c,(function(e,t){l=n.push(e,l,t,c),"/"!==e&&(l.info=l.info||Object.assign({},s))})),l.info=l.info||Object.assign({},s),a&&(l.info.key=a),c}(e,t,o.join(""),s)},rm:function(s){return function(t,o,s){var a=i(t,s),c=o,l=null,u=null;if(r(a,(function(n){if(!c)return l=null,!0;if(!c.keys)throw new e(t,n);l=c,c=c[u=n]})),!l||!u)throw new e(t,u);if(l===o&&(l=o["/"]),l.route!==u){var h=l.keys.indexOf(u);if(-1===h)throw new e(t,u);l.keys.splice(h,1),n.sort(l),delete l[u]}c.route!==l.route||c.info&&c.info.key!==l.info.key||delete l.info}(s,t,o.join(""))}}};return a.matches=function(e,n){return t(e,n).regex.test(n)},a}()})));const Ye=[];function Ve(e,t=r){let n;const i=[];function o(t){if(d(e,t)&&(e=t,n)){const t=!Ye.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),Ye.push(n,e)}if(t){for(let e=0;e<Ye.length;e+=2)Ye[e][0](Ye[e+1]);Ye.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(s,a=r){const c=[s,a];return i.push(c),1===i.length&&(n=t(o)||r),s(e),()=>{const e=i.indexOf(c);-1!==e&&i.splice(e,1),0===i.length&&(n(),n=null)}}}}const Ke={},Ge=document.getElementsByTagName("base"),Xe=(Ge[0]&&Ge[0].href||"/").replace(window.location.origin,""),Ze=Ve({path:"/",query:{},params:{},initial:!0}),Je={},Qe={};let et="null"===window.location.origin;function tt(e){return"boolean"==typeof e&&(et=!!e),et}function nt(e,t,n){const i=et?window.location.hash.replace("#",""):window.location.pathname;"/"!==e.charAt()&&(e=i+e);i+window.location.hash+window.location.search!==e&&t(e),"function"==typeof n&&n()}function it(e,t){return"/"!==e||t?e.replace(/\/$/,""):e}function rt(e,t){const{reload:n,replace:i,params:r,queryParams:o}=t||{};if(!e||"string"!=typeof e||"/"!==e[0]&&"#"!==e[0])throw new Error(`Expecting '/${e}' or '#${e}', given '${e}'`);if(r&&(e=e.replace(/:([a-zA-Z][a-zA-Z0-9_-]*)/g,(e,t)=>r[t])),o){const t=qe.stringify(o);t&&(e+="?"+t)}if(et){let t=e.replace(/^#|#$/g,"");return"/"!==Xe&&(t=t.replace(it(Xe),"")),void(window.location.hash="/"!==t?t:"")}!n&&window.history.pushState&&window.dispatchEvent?nt(e,e=>{window.history[i?"replaceState":"pushState"](null,"",e),window.dispatchEvent(new Event("popstate"))}):window.location.href=e}function ot(e,t){const{props:n,...i}=e;return t.forEach(e=>{delete i[e]}),{...n,...i}}function st(e,t,n){return Ke[[e,t,n]]||(!0!==n&&0===t.indexOf(e)?Ke[[e,t,n]]=/^[#/?]?$/.test(t.substr(e.length,1)):e.includes("*")||e.includes(":")?Ke[[e,t,n]]=ze.matches(e,t):Ke[[e,t,n]]=it(t)===e),Ke[[e,t,n]]}function at(e){return e&&"function"==typeof e.then}function ct(e){return e&&e.prototype}const lt=new ze,ut=Ve({}),ht={},dt={};let ft,pt,vt=[],mt=0;function _t(e,t){ut.update(n=>({...n,[t]:{...dt.router,failure:e}}))}function gt(){let e,t=et?window.location.hash||"/":window.location.href.replace(window.location.origin,"");"/"!==Xe&&(t=t.replace(it(Xe),""));const[n,i]=t.replace("/#","#").replace(/^#\//,"/").split("?"),r=n.replace(/\/?$/,"/"),o=qe.parse(i),s={},a=[];ut.set({}),pt!==t&&(pt=t,Ze.set({path:it(r),query:o,params:s})),lt.resolve(r,(t,n)=>{t?e=t:a.push(...function(e,t){const n=[];return e.some(e=>{if(e.key&&e.matches&&!dt.routeInfo[e.key]){if(e.redirect&&(null===e.condition||!0!==e.condition(dt.router)))return(!e.exact||dt.router.path===e.path)&&(rt(e.redirect),!0);e.exact&&n.push(e.key),Object.assign(t,e.params),ut.update(t=>({...t,[e.key]:{...dt.router,...e}}))}return!1}),n}(n,s))});const c={};e&&"/"!==e.path?a.reduce((e,t)=>(e[t]=null,e),c):e=null,vt.forEach(e=>e()),vt=[];try{lt.find(it(r)).forEach(e=>{e.exact&&!e.matches&&(c[e.key]=null)})}catch(e){}let l;ut.update(e=>({...e,...c})),Object.keys(ht).forEach(t=>{if(st(t,r,!1)){const n=ht[t].callback;n(e),vt.push(n)}!l&&ht[t].fallback&&(l=ht[t].fallback)}),e&&l&&_t(e,l)}function yt(){clearTimeout(ft),ft=setTimeout(gt)}function bt(e,t,n){return mt||window.addEventListener("popstate",yt,!1),ht[e]&&!t||(ht[e]={fallback:t,callback:n}),mt+=1,()=>{mt-=1,mt||window.removeEventListener("popstate",yt,!1)}}Ze.subscribe(e=>{dt.router=e}),ut.subscribe(e=>{dt.routeInfo=e});const wt="node_modules/yrv/src/Router.svelte";function Ct(e){let t;const n=e[15].default,i=m(n,e,e[14],null),r={c:function(){i&&i.c()},m:function(e,n){i&&i.m(e,n),t=!0},p:function(e,t){i&&i.p&&16384&t&&i.p(_(n,e,e[14],null),g(n,e[14],t,null))},i:function(e){t||(le(i,e),t=!0)},o:function(e){ue(i,e),t=!1},d:function(e){i&&i.d(e)}};return ye("SvelteRegisterBlock",{block:r,id:Ct.name,type:"if",source:"(103:0) {#if !disabled}",ctx:e}),r}function St(e){let t,n,i,r,o,s,c;const l={c:function(){t=S("fieldset"),n=S("legend"),i=E("Router failure: "),r=E(e[1]),o=x(),s=S("pre"),c=E(e[3]),a(n,wt,108,4,2300),a(s,wt,109,4,2344),ke(t,"data-failure",""),ke(t,"class","svelte-kx2cky"),a(t,wt,107,2,2272)},m:function(e,a){we(e,t,a),be(t,n),be(n,i),be(n,r),be(t,o),be(t,s),be(s,c)},p:function(e,t){2&t&&xe(r,e[1]),8&t&&xe(c,e[3])},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:l,id:St.name,type:"if",source:"(107:0) {#if failure && !fallback && !nofallback}",ctx:e}),l}function kt(e){let t,n,i,r=!e[0]&&Ct(e),o=e[3]&&!e[4]&&!e[2]&&St(e);const s={c:function(){r&&r.c(),t=x(),o&&o.c(),n=T()},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,s){r&&r.m(e,s),we(e,t,s),o&&o.m(e,s),we(e,n,s),i=!0},p:function(e,[i]){e[0]?r&&(ae(),ue(r,1,1,()=>{r=null}),ce()):r?(r.p(e,i),1&i&&le(r,1)):(r=Ct(e),r.c(),le(r,1),r.m(t.parentNode,t)),!e[3]||e[4]||e[2]?o&&(o.d(1),o=null):o?o.p(e,i):(o=St(e),o.c(),o.m(n.parentNode,n))},i:function(e){i||(le(r),i=!0)},o:function(e){ue(r),i=!1},d:function(e){r&&r.d(e),e&&Ce(t),o&&o.d(e),e&&Ce(n)}};return ye("SvelteRegisterBlock",{block:s,id:kt.name,type:"component",source:"",ctx:e}),s}function Et(e){try{lt.rm(e)}catch(e){}yt()}function xt(e,t,n){let i,r,o,s,a;f(Ze,"router"),v(e,Ze,e=>n(9,r=e));let{path:c="/"}=t,{disabled:l=!1}=t,{condition:u=null}=t,{nofallback:h=!1}=t;const d=Y(Je),p=d?d.basePath:Ve(c);f(p,"basePath"),v(e,p,e=>n(8,i=e));const m=i!==c&&"/"!==i?`${i}${"/"!==c?c:""}`:c;try{if(null!==u&&"function"!=typeof u)throw new TypeError(`Expecting condition to be a function, given '${u}'`);if("#"!==c.charAt()&&"/"!==c.charAt())throw new TypeError(`Expecting a leading slash or hash, given '${c}'`)}catch(e){s=e}function _(e,t,i){e=e||Math.random().toString(36).substr(2);const r=!t.substr(1).includes("/"),o={key:e,nested:r,...i};let s;return lt.mount(m,()=>{s=lt.add(t,o),n(4,a=o.fallback&&e||a)}),yt(),[e,s]}function g(e){n(3,s=e),s&&a&&_t(s,a)}F(()=>{o=bt(m,a,g)}),U(()=>{o&&o()}),z(Je,{basePath:p,assignRoute:_,unassignRoute:Et});const y=["path","disabled","condition","nofallback"];Object.keys(t).forEach(e=>{~y.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<Router> was created with unknown prop '${e}'`)});let{$$slots:b={},$$scope:w}=t;return Le("Router",b,["default"]),e.$set=e=>{"path"in e&&n(1,c=e.path),"disabled"in e&&n(0,l=e.disabled),"condition"in e&&n(6,u=e.condition),"nofallback"in e&&n(2,h=e.nofallback),"$$scope"in e&&n(14,w=e.$$scope)},e.$capture_state=()=>({writable:Ve,CTX_ROUTER:Je,router:Ze,baseRouter:lt,addRouter:bt,findRoutes:yt,doFallback:_t,onMount:F,onDestroy:U,getContext:Y,setContext:z,cleanup:o,failure:s,fallback:a,path:c,disabled:l,condition:u,nofallback:h,routerContext:d,basePath:p,fixedRoot:m,assignRoute:_,unassignRoute:Et,onError:g,$basePath:i,$router:r}),e.$inject_state=e=>{"cleanup"in e&&(o=e.cleanup),"failure"in e&&n(3,s=e.failure),"fallback"in e&&n(4,a=e.fallback),"path"in e&&n(1,c=e.path),"disabled"in e&&n(0,l=e.disabled),"condition"in e&&n(6,u=e.condition),"nofallback"in e&&n(2,h=e.nofallback)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{576&e.$$.dirty&&u&&n(0,l=!u(r))},[l,c,h,s,a,p,u,o,i,r,d,m,_,g,w,b]}class Tt extends Me{constructor(e){super(e),ge(this,e,xt,kt,d,{path:1,disabled:0,condition:6,nofallback:2}),ye("SvelteRegisterComponent",{component:this,tagName:"Router",options:e,id:kt.name})}get path(){throw new Error("<Router>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set path(e){throw new Error("<Router>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get disabled(){throw new Error("<Router>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set disabled(e){throw new Error("<Router>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get condition(){throw new Error("<Router>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set condition(e){throw new Error("<Router>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get nofallback(){throw new Error("<Router>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set nofallback(e){throw new Error("<Router>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Lt=e=>({router:4&e,props:8&e}),Mt=e=>({router:e[2],props:e[3]});function Ot(e){let t,n;const i={c:function(){t=S("p"),n=E(e[4]),ke(t,"data-failure",""),ke(t,"class","svelte-7lze0z"),a(t,"node_modules/yrv/src/Route.svelte",110,2,2923)},m:function(e,i){we(e,t,i),be(t,n)},p:function(e,t){16&t&&xe(n,e[4])},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:i,id:Ot.name,type:"if",source:"(110:0) {#if failure}",ctx:e}),i}function Rt(e){let t,n,i,r;const o=[Dt,At,$t],s=[];function a(e,t){return e[5]?e[0]?1:2:0}t=a(e),n=s[t]=o[t](e);const c={c:function(){n.c(),i=T()},m:function(e,n){s[t].m(e,n),we(e,i,n),r=!0},p:function(e,r){let c=t;t=a(e),t===c?s[t].p(e,r):(ae(),ue(s[c],1,1,()=>{s[c]=null}),ce(),n=s[t],n||(n=s[t]=o[t](e),n.c()),le(n,1),n.m(i.parentNode,i))},i:function(e){r||(le(n),r=!0)},o:function(e){ue(n),r=!1},d:function(e){s[t].d(e),e&&Ce(i)}};return ye("SvelteRegisterBlock",{block:c,id:Rt.name,type:"if",source:"(114:0) {#if activeRouter}",ctx:e}),c}function $t(e){let t;const n=e[25].default,i=m(n,e,e[24],Mt),r={c:function(){i&&i.c()},m:function(e,n){i&&i.m(e,n),t=!0},p:function(e,t){i&&i.p&&16777228&t&&i.p(_(n,e,e[24],Mt),g(n,e[24],t,Lt))},i:function(e){t||(le(i,e),t=!0)},o:function(e){ue(i,e),t=!1},d:function(e){i&&i.d(e)}};return ye("SvelteRegisterBlock",{block:r,id:$t.name,type:"else",source:"(126:4) {:else}",ctx:e}),r}function At(e){let t,n;const i=[{router:e[2]},e[3]];var r=e[0];function o(e){let t={};for(let e=0;e<i.length;e+=1)t=s(t,i[e]);return{props:t,$$inline:!0}}if(r)var a=new r(o());const c={c:function(){a&&pe(a.$$.fragment),t=T()},m:function(e,i){a&&ve(a,e,i),we(e,t,i),n=!0},p:function(e,n){const s=12&n?de(i,[4&n&&{router:e[2]},8&n&&fe(e[3])]):{};if(r!==(r=e[0])){if(a){ae();const e=a;ue(e.$$.fragment,1,0,()=>{me(e,1)}),ce()}r?(pe((a=new r(o())).$$.fragment),le(a.$$.fragment,1),ve(a,t.parentNode,t)):a=null}else r&&a.$set(s)},i:function(e){n||(a&&le(a.$$.fragment,e),n=!0)},o:function(e){a&&ue(a.$$.fragment,e),n=!1},d:function(e){e&&Ce(t),a&&me(a,e)}};return ye("SvelteRegisterBlock",{block:c,id:At.name,type:"if",source:"(124:4) {#if component}",ctx:e}),c}function Dt(e){let t,n,i=e[1]&&It(e);const r={c:function(){i&&i.c(),t=T()},m:function(e,r){i&&i.m(e,r),we(e,t,r),n=!0},p:function(e,n){e[1]?i?(i.p(e,n),2&n&&le(i,1)):(i=It(e),i.c(),le(i,1),i.m(t.parentNode,t)):i&&(ae(),ue(i,1,1,()=>{i=null}),ce())},i:function(e){n||(le(i),n=!0)},o:function(e){ue(i),n=!1},d:function(e){i&&i.d(e),e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:r,id:Dt.name,type:"if",source:"(115:2) {#if !hasLoaded}",ctx:e}),r}function It(e){let t,n,i,r,o;const s=[Bt,Pt],a=[];function c(e,n){return 2&n&&(t=!!ct(e[1])),t?0:1}n=c(e,-1),i=a[n]=s[n](e);const l={c:function(){i.c(),r=T()},m:function(e,t){a[n].m(e,t),we(e,r,t),o=!0},p:function(e,t){let o=n;n=c(e,t),n===o?a[n].p(e,t):(ae(),ue(a[o],1,1,()=>{a[o]=null}),ce(),i=a[n],i||(i=a[n]=s[n](e),i.c()),le(i,1),i.m(r.parentNode,r))},i:function(e){o||(le(i),o=!0)},o:function(e){ue(i),o=!1},d:function(e){a[n].d(e),e&&Ce(r)}};return ye("SvelteRegisterBlock",{block:l,id:It.name,type:"if",source:"(116:4) {#if pending}",ctx:e}),l}function Pt(e){let t;const n={c:function(){t=E(e[1])},m:function(e,n){we(e,t,n)},p:function(e,n){2&n&&xe(t,e[1])},i:r,o:r,d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:n,id:Pt.name,type:"else",source:"(119:6) {:else}",ctx:e}),n}function Bt(e){let t,n;const i=[{router:e[2]},e[3]];var r=e[1];function o(e){let t={};for(let e=0;e<i.length;e+=1)t=s(t,i[e]);return{props:t,$$inline:!0}}if(r)var a=new r(o());const c={c:function(){a&&pe(a.$$.fragment),t=T()},m:function(e,i){a&&ve(a,e,i),we(e,t,i),n=!0},p:function(e,n){const s=12&n?de(i,[4&n&&{router:e[2]},8&n&&fe(e[3])]):{};if(r!==(r=e[1])){if(a){ae();const e=a;ue(e.$$.fragment,1,0,()=>{me(e,1)}),ce()}r?(pe((a=new r(o())).$$.fragment),le(a.$$.fragment,1),ve(a,t.parentNode,t)):a=null}else r&&a.$set(s)},i:function(e){n||(a&&le(a.$$.fragment,e),n=!0)},o:function(e){a&&ue(a.$$.fragment,e),n=!1},d:function(e){e&&Ce(t),a&&me(a,e)}};return ye("SvelteRegisterBlock",{block:c,id:Bt.name,type:"if",source:"(117:6) {#if isSvelteComponent(pending)}",ctx:e}),c}function jt(e){let t,n,i,r=e[4]&&Ot(e),o=e[2]&&Rt(e);const s={c:function(){r&&r.c(),t=x(),o&&o.c(),n=T()},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,s){r&&r.m(e,s),we(e,t,s),o&&o.m(e,s),we(e,n,s),i=!0},p:function(e,[i]){e[4]?r?r.p(e,i):(r=Ot(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null),e[2]?o?(o.p(e,i),4&i&&le(o,1)):(o=Rt(e),o.c(),le(o,1),o.m(n.parentNode,n)):o&&(ae(),ue(o,1,1,()=>{o=null}),ce())},i:function(e){i||(le(o),i=!0)},o:function(e){ue(o),i=!1},d:function(e){r&&r.d(e),e&&Ce(t),o&&o.d(e),e&&Ce(n)}};return ye("SvelteRegisterBlock",{block:s,id:jt.name,type:"component",source:"",ctx:e}),s}function Ht(e,t,n){let i,r;f(ut,"routeInfo"),v(e,ut,e=>n(16,r=e));let{key:o=null}=t,{path:a="/"}=t,{exact:c=null}=t,{pending:l=null}=t,{disabled:u=!1}=t,{fallback:h=null}=t,{component:d=null}=t,{condition:p=null}=t,{redirect:m=null}=t;const _=["key","path","exact","pending","disabled","fallback","component","condition","redirect"],g=Y(Qe),b=Y(Je),{assignRoute:w,unassignRoute:C}=b||{},S=g?g.routePath:Ve(a);f(S,"routePath"),v(e,S,e=>n(15,i=e));let k,E,x,T=null,L={};const M=i!==a&&"/"!==i?`${i}${"/"!==a?a:""}`:a;try{if(null!==m&&!/^(?:\w+:\/\/|\/)/.test(m))throw new TypeError(`Expecting valid URL to redirect, given '${m}'`);if(null!==p&&"function"!=typeof p)throw new TypeError(`Expecting condition to be a function, given '${p}'`);if("#"!==a.charAt()&&"/"!==a.charAt())throw new TypeError(`Expecting a leading slash or hash, given '${a}'`);if(!w)throw new TypeError("Missing top-level <Router>, given route: "+a);const e=a!==M&&"/"!==M.substr(-1)?M+"/":M;[o,k]=w(o,e,{condition:p,redirect:m,fallback:h,exact:c})}catch(e){E=e}U(()=>{C&&C(k)}),z(Qe,{routePath:S});let{$$slots:O={},$$scope:R}=t;return Le("Route",O,["default"]),e.$set=e=>{n(23,t=s(s({},t),y(e))),"key"in e&&n(7,o=e.key),"path"in e&&n(8,a=e.path),"exact"in e&&n(9,c=e.exact),"pending"in e&&n(1,l=e.pending),"disabled"in e&&n(10,u=e.disabled),"fallback"in e&&n(11,h=e.fallback),"component"in e&&n(0,d=e.component),"condition"in e&&n(12,p=e.condition),"redirect"in e&&n(13,m=e.redirect),"$$scope"in e&&n(24,R=e.$$scope)},e.$capture_state=()=>({writable:Ve,routeInfo:ut,CTX_ROUTER:Je,CTX_ROUTE:Qe,getProps:ot,isPromise:at,isSvelteComponent:ct,onDestroy:U,getContext:Y,setContext:z,key:o,path:a,exact:c,pending:l,disabled:u,fallback:h,component:d,condition:p,redirect:m,thisProps:_,routeContext:g,routerContext:b,assignRoute:w,unassignRoute:C,routePath:S,activeRouter:T,activeProps:L,fullpath:k,failure:E,hasLoaded:x,fixedRoot:M,$routePath:i,$routeInfo:r}),e.$inject_state=e=>{n(23,t=s(s({},t),e)),"key"in t&&n(7,o=e.key),"path"in t&&n(8,a=e.path),"exact"in t&&n(9,c=e.exact),"pending"in t&&n(1,l=e.pending),"disabled"in t&&n(10,u=e.disabled),"fallback"in t&&n(11,h=e.fallback),"component"in t&&n(0,d=e.component),"condition"in t&&n(12,p=e.condition),"redirect"in t&&n(13,m=e.redirect),"activeRouter"in t&&n(2,T=e.activeRouter),"activeProps"in t&&n(3,L=e.activeProps),"fullpath"in t&&(k=e.fullpath),"failure"in t&&n(4,E=e.failure),"hasLoaded"in t&&n(5,x=e.hasLoaded)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{o&&(n(2,T=!u&&r[o]),n(3,L=ot(t,_))),5&e.$$.dirty&&T&&(d?ct(d)?n(5,x=!0):at(d)?d.then(e=>{n(0,d=e.default),n(5,x=!0)}):d().then(e=>{n(0,d=e.default),n(5,x=!0)}):n(5,x=!0))},t=y(t),[d,l,T,L,E,x,S,o,a,c,u,h,p,m,k,i,r,_,g,b,w,C,M,t,R,O]}class Wt extends Me{constructor(e){super(e),ge(this,e,Ht,jt,d,{key:7,path:8,exact:9,pending:1,disabled:10,fallback:11,component:0,condition:12,redirect:13}),ye("SvelteRegisterComponent",{component:this,tagName:"Route",options:e,id:jt.name})}get key(){throw new Error("<Route>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set key(e){throw new Error("<Route>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get path(){throw new Error("<Route>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set path(e){throw new Error("<Route>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get exact(){throw new Error("<Route>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set exact(e){throw new Error("<Route>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get pending(){throw new Error("<Route>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set pending(e){throw new Error("<Route>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get disabled(){throw new Error("<Route>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set disabled(e){throw new Error("<Route>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get fallback(){throw new Error("<Route>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set fallback(e){throw new Error("<Route>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get component(){throw new Error("<Route>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set component(e){throw new Error("<Route>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get condition(){throw new Error("<Route>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set condition(e){throw new Error("<Route>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get redirect(){throw new Error("<Route>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set redirect(e){throw new Error("<Route>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Ft="node_modules/yrv/src/Link.svelte";function Nt(e){let t,n,i;const r=e[19].default,o=m(r,e,e[18],null);let c=[e[6],{href:it(e[5]||e[1])},{class:e[0]},{title:e[2]}],l={};for(let e=0;e<c.length;e+=1)l=s(l,c[e]);const u={c:function(){t=S("a"),o&&o.c(),R(t,l),a(t,Ft,97,2,2699)},m:function(r,s,a){we(r,t,s),o&&o.m(t,null),e[21](t),n=!0,a&&i(),i=Se(t,"click",L(e[7]),!1,!0,!1)},p:function(e,n){o&&o.p&&262144&n&&o.p(_(r,e,e[18],null),g(r,e[18],n,null)),R(t,de(c,[64&n&&e[6],34&n&&{href:it(e[5]||e[1])},1&n&&{class:e[0]},4&n&&{title:e[2]}]))},i:function(e){n||(le(o,e),n=!0)},o:function(e){ue(o,e),n=!1},d:function(n){n&&Ce(t),o&&o.d(n),e[21](null),i()}};return ye("SvelteRegisterBlock",{block:u,id:Nt.name,type:"else",source:"(97:0) {:else}",ctx:e}),u}function Ut(e){let t,n,i;const r=e[19].default,o=m(r,e,e[18],null);let c=[e[6],{class:e[0]},{title:e[2]}],l={};for(let e=0;e<c.length;e+=1)l=s(l,c[e]);const u={c:function(){t=S("button"),o&&o.c(),R(t,l),a(t,Ft,93,2,2564)},m:function(r,s,a){we(r,t,s),o&&o.m(t,null),e[20](t),n=!0,a&&i(),i=Se(t,"click",L(e[7]),!1,!0,!1)},p:function(e,n){o&&o.p&&262144&n&&o.p(_(r,e,e[18],null),g(r,e[18],n,null)),R(t,de(c,[64&n&&e[6],1&n&&{class:e[0]},4&n&&{title:e[2]}]))},i:function(e){n||(le(o,e),n=!0)},o:function(e){ue(o,e),n=!1},d:function(n){n&&Ce(t),o&&o.d(n),e[20](null),i()}};return ye("SvelteRegisterBlock",{block:u,id:Ut.name,type:"if",source:"(93:0) {#if button}",ctx:e}),u}function qt(e){let t,n,i,r;const o=[Ut,Nt],s=[];function a(e,t){return e[3]?0:1}t=a(e),n=s[t]=o[t](e);const c={c:function(){n.c(),i=T()},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,n){s[t].m(e,n),we(e,i,n),r=!0},p:function(e,[r]){let c=t;t=a(e),t===c?s[t].p(e,r):(ae(),ue(s[c],1,1,()=>{s[c]=null}),ce(),n=s[t],n||(n=s[t]=o[t](e),n.c()),le(n,1),n.m(i.parentNode,i))},i:function(e){r||(le(n),r=!0)},o:function(e){ue(n),r=!1},d:function(e){s[t].d(e),e&&Ce(i)}};return ye("SvelteRegisterBlock",{block:c,id:qt.name,type:"component",source:"",ctx:e}),c}function zt(e,t,n){let i,r,o;f(Ze,"router"),v(e,Ze,e=>n(14,i=e));let{class:a=""}=t,c=null,{go:l=null}=t,{open:u=null}=t,{href:h="/"}=t,{title:d=""}=t,{button:p=!1}=t,{exact:m=!1}=t,{reload:_=!1}=t,{replace:g=!1}=t;const b=["go","open","href","class","title","button","exact","reload","replace"],w=q();function C(e){if("string"==typeof l&&window.history.length>1)"back"===l?window.history.back():"fwd"===l?window.history.forward():window.history.go(parseInt(l,10));else if(c)nt(h,()=>{rt(c,{reload:_,replace:g})},()=>w("click",e));else if(u){let e="string"==typeof u?u:"";const t=e.match(/width=(\d+)/),n=e.match(/height=(\d+)/);t&&(e+=",left="+(window.screen.width-t[1])/2),n&&(e+=",top="+(window.screen.height-n[1])/2),t&&!n&&(e+=`,height=${t[1]},top=${(window.screen.height-t[1])/2}`);const i=window.open(h,"",e),r=setInterval(()=>{i.closed&&(w("close"),clearInterval(r))},120)}else window.location.href=h}let S,{$$slots:k={},$$scope:E}=t;return Le("Link",k,["default"]),e.$set=e=>{n(17,t=s(s({},t),y(e))),"class"in e&&n(0,a=e.class),"go"in e&&n(8,l=e.go),"open"in e&&n(9,u=e.open),"href"in e&&n(1,h=e.href),"title"in e&&n(2,d=e.title),"button"in e&&n(3,p=e.button),"exact"in e&&n(10,m=e.exact),"reload"in e&&n(11,_=e.reload),"replace"in e&&n(12,g=e.replace),"$$scope"in e&&n(18,E=e.$$scope)},e.$capture_state=()=>({createEventDispatcher:q,ROOT_URL:Xe,HASHCHANGE:et,fixedLocation:nt,navigateTo:rt,cleanPath:it,isActive:st,getProps:ot,router:Ze,ref:r,active:o,cssClass:a,fixedHref:c,go:l,open:u,href:h,title:d,button:p,exact:m,reload:_,replace:g,thisProps:b,dispatch:w,onClick:C,$router:i,fixedProps:S}),e.$inject_state=e=>{n(17,t=s(s({},t),e)),"ref"in t&&n(4,r=e.ref),"active"in t&&n(13,o=e.active),"cssClass"in t&&n(0,a=e.cssClass),"fixedHref"in t&&n(5,c=e.fixedHref),"go"in t&&n(8,l=e.go),"open"in t&&n(9,u=e.open),"href"in t&&n(1,h=e.href),"title"in t&&n(2,d=e.title),"button"in t&&n(3,p=e.button),"exact"in t&&n(10,m=e.exact),"reload"in t&&n(11,_=e.reload),"replace"in t&&n(12,g=e.replace),"fixedProps"in t&&n(6,S=e.fixedProps)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{2&e.$$.dirty&&(/^(\w+:)?\/\//.test(h)||n(5,c=it(Xe,!0)+it(et?"#"+h:h))),25626&e.$$.dirty&&r&&i.path&&(st(h,i.path,m)?o||(n(13,o=!0),r.setAttribute("aria-current","page"),p&&r.setAttribute("disabled",!0)):o&&(n(13,o=!1),r.removeAttribute("disabled"),r.removeAttribute("aria-current"))),n(6,S=ot(t,b))},t=y(t),[a,h,d,p,r,c,S,C,l,u,m,_,g,o,i,b,w,t,E,k,function(e){G[e?"unshift":"push"](()=>{n(4,r=e)})},function(e){G[e?"unshift":"push"](()=>{n(4,r=e)})}]}class Yt extends Me{constructor(e){super(e),ge(this,e,zt,qt,d,{class:0,go:8,open:9,href:1,title:2,button:3,exact:10,reload:11,replace:12}),ye("SvelteRegisterComponent",{component:this,tagName:"Link",options:e,id:qt.name})}get class(){throw new Error("<Link>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set class(e){throw new Error("<Link>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get go(){throw new Error("<Link>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set go(e){throw new Error("<Link>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get open(){throw new Error("<Link>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set open(e){throw new Error("<Link>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get href(){throw new Error("<Link>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set href(e){throw new Error("<Link>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get title(){throw new Error("<Link>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set title(e){throw new Error("<Link>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get button(){throw new Error("<Link>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set button(e){throw new Error("<Link>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get exact(){throw new Error("<Link>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set exact(e){throw new Error("<Link>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get reload(){throw new Error("<Link>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set reload(e){throw new Error("<Link>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get replace(){throw new Error("<Link>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set replace(e){throw new Error("<Link>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}Object.defineProperty(Tt,"hashchange",{set:e=>tt(e),get:()=>tt(),configurable:!1,enumerable:!1});const Vt={};function Kt(e,t,n){let i,r=new Map,o="",s=n,a={},c={};r.enterRoom=t=>{a=t.room,e(t.message),s&&(s.setExits(a.exits),null!=a.actions?s.setActions(a.actions):s.setActions([]))},r.createCharacter=n=>{e(n.message),t&&t()},r.characterSelected=t=>{c=t.character,e(t.message)};const l=t=>{t.addEventListener("message",(function(t){var n=JSON.parse(t.data);if(r[n.type])r[n.type](n);else{let t=n.message;n.username&&(t=n.username+":  "+n.message),e(t)}})),t.addEventListener("close",(function(t){e("Connection Closed.")}))},u=t=>{i&&(i.readyState!=WebSocket.CLOSING&&i.readyState!=WebSocket.CLOSED||(i=new WebSocket(o),l(i),e("reconnecting ...\n")),i.send(JSON.stringify({message:t,type:"message"})))},h=async e=>""+e,d={onInput:async e=>{const t=await h(e);u(t)},setWSClient:async e=>{i=e,o=i.url,l(i)},sendMessage:u};return z(Vt,d),d}function Gt(){return Y(Vt)}const{console:Xt}=he,Zt="src/game/MUDXPlus.svelte";function Jt(e,t,n){const i=e.slice();return i[12]=t[n],i}function Qt(e,t,n){const i=e.slice();return i[15]=t[n],i}function en(e){let t,n,i,r,o,s,c,l,u,h,d,f,p,v,m,_,g,y,b,w,C,k,E,T,L,M,O,R,$,A,I,P;const B={c:function(){t=S("ul"),n=S("li"),i=S("img"),o=x(),s=S("span"),s.textContent="Sword of Long John Silver that never was",c=x(),l=S("br"),u=x(),h=S("span"),h.textContent="legendary sword",d=x(),f=S("span"),f.textContent="main hand",p=x(),v=S("p"),v.textContent="+10 Dex / +5 Str / +7 Stam",m=x(),_=S("p"),_.textContent="He never needed it anyway so i took it",g=x(),y=S("li"),b=S("img"),C=x(),k=S("span"),k.textContent="Sturdy Iron Helmet",E=x(),T=S("br"),L=x(),M=S("span"),M.textContent="epic helmet",O=x(),R=S("span"),R.textContent="head",$=x(),A=S("p"),A.textContent="+5 Dex / +20 Str / +3 Stam",I=x(),P=S("p"),P.textContent="The person this belonged to had probably a very tiny head, not sure\n          how he ever fitted into it",i.src!==(r="img/sword.png")&&ke(i,"src","img/sword.png"),ke(i,"alt",""),ke(i,"class","svelte-1hkhvcb"),a(i,Zt,119,8,2148),ke(s,"class","item-header svelte-1hkhvcb"),a(s,Zt,121,8,2192),a(l,Zt,124,8,2294),D(h,"font-size","10px"),D(h,"color","orange"),a(h,Zt,125,8,2309),D(f,"font-size","10px"),D(f,"color","grey"),D(f,"float","right"),a(f,Zt,126,8,2384),D(v,"font-size","10px"),D(v,"margin","0"),ke(v,"class","center-align"),a(v,Zt,128,8,2465),D(_,"margin","0"),D(_,"font-size","10px"),D(_,"color","grey"),D(_,"font-style","italic"),ke(_,"class","center-align"),a(_,Zt,131,8,2583),ke(n,"class","collection-item item left-align svelte-1hkhvcb"),a(n,Zt,118,6,2095),b.src!==(w="img/sword.png")&&ke(b,"src","img/sword.png"),ke(b,"alt",""),ke(b,"class","svelte-1hkhvcb"),a(b,Zt,140,8,2837),ke(k,"class","item-header svelte-1hkhvcb"),a(k,Zt,142,8,2881),a(T,Zt,143,8,2941),D(M,"font-size","10px"),D(M,"color","purple"),a(M,Zt,144,8,2956),D(R,"font-size","10px"),D(R,"color","grey"),D(R,"float","right"),a(R,Zt,145,8,3027),D(A,"font-size","10px"),D(A,"margin","0"),ke(A,"class","center-align"),a(A,Zt,147,8,3103),D(P,"margin","0"),D(P,"font-size","10px"),D(P,"color","grey"),D(P,"font-style","italic"),D(P,"max-width","250px"),D(P,"line-height","95%"),ke(P,"class","center-align"),a(P,Zt,150,8,3221),ke(y,"class","collection-item item left-align svelte-1hkhvcb"),a(y,Zt,139,6,2784),ke(t,"class","collection svelte-1hkhvcb"),a(t,Zt,117,4,2065)},m:function(e,r){we(e,t,r),be(t,n),be(n,i),be(n,o),be(n,s),be(n,c),be(n,l),be(n,u),be(n,h),be(n,d),be(n,f),be(n,p),be(n,v),be(n,m),be(n,_),be(t,g),be(t,y),be(y,b),be(y,C),be(y,k),be(y,E),be(y,T),be(y,L),be(y,M),be(y,O),be(y,R),be(y,$),be(y,A),be(y,I),be(y,P)},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:B,id:en.name,type:"if",source:"(117:2) {#if $showInventory === true}",ctx:e}),B}function tn(e){let t,n,i,r,o,s=e[15].name+"";function c(...t){return e[9](e[15],...t)}const l={c:function(){t=S("li"),n=S("button"),i=E(s),r=x(),ke(n,"class","btn waves-effect waves-light btncolor darken-1 svelte-1hkhvcb"),a(n,Zt,169,10,3699),D(t,"margin-right","5px"),ke(t,"class","svelte-1hkhvcb"),a(t,Zt,168,8,3657)},m:function(e,s,a){we(e,t,s),be(t,n),be(n,i),be(t,r),a&&o(),o=Se(n,"click",c,!1,!1,!1)},p:function(t,n){e=t,4&n&&s!==(s=e[15].name+"")&&xe(i,s)},d:function(e){e&&Ce(t),o()}};return ye("SvelteRegisterBlock",{block:l,id:tn.name,type:"if",source:"(168:6) {#if !exit.hidden}",ctx:e}),l}function nn(e){let t,n=!e[15].hidden&&tn(e);const i={c:function(){n&&n.c(),t=T()},m:function(e,i){n&&n.m(e,i),we(e,t,i)},p:function(e,i){e[15].hidden?n&&(n.d(1),n=null):n?n.p(e,i):(n=tn(e),n.c(),n.m(t.parentNode,t))},d:function(e){n&&n.d(e),e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:i,id:nn.name,type:"each",source:"(167:4) {#each $store.exits as exit}",ctx:e}),i}function rn(e){let t,n,i,r,o,s=e[12].name+"";function c(...t){return e[10](e[12],...t)}const l={c:function(){t=S("li"),n=S("button"),i=E(s),r=x(),ke(n,"class","btn waves-effect waves-light btncolor darken-1 svelte-1hkhvcb"),a(n,Zt,183,8,4030),D(t,"margin-right","5px"),ke(t,"class","svelte-1hkhvcb"),a(t,Zt,182,6,3990)},m:function(e,s,a){we(e,t,s),be(t,n),be(n,i),be(t,r),a&&o(),o=Se(n,"click",c,!1,!1,!1)},p:function(t,n){e=t,4&n&&s!==(s=e[12].name+"")&&xe(i,s)},d:function(e){e&&Ce(t),o()}};return ye("SvelteRegisterBlock",{block:l,id:rn.name,type:"each",source:"(182:4) {#each $store.actions as action}",ctx:e}),l}function on(e){let t,n,i,o,s,c,l,h,d,f,p,v,m,_,g,y=!0===e[1]&&en(e),b=e[2].exits;Te(b);let w=[];for(let t=0;t<b.length;t+=1)w[t]=nn(Qt(e,b,t));let k=e[2].actions;Te(k);let E=[];for(let t=0;t<k.length;t+=1)E[t]=rn(Jt(e,k,t));const T={c:function(){t=S("div"),n=x(),i=S("div"),o=S("button"),o.textContent="inventory",s=x(),y&&y.c(),c=x(),l=S("div"),h=S("ul");for(let e=0;e<w.length;e+=1)w[e].c();d=x(),f=S("ul");for(let e=0;e<E.length;e+=1)E[e].c();p=x(),v=S("ul"),m=S("li"),_=S("button"),_.textContent="look",D(t,"clear","both"),a(t,Zt,106,0,1819),ke(o,"class","btn waves-effect waves-light btncolor darken-1 svelte-1hkhvcb"),a(o,Zt,109,2,1890),ke(i,"class","inventory right-align svelte-1hkhvcb"),a(i,Zt,108,0,1852),ke(h,"class","ul2 svelte-1hkhvcb"),a(h,Zt,165,2,3574),ke(f,"class","ul2 svelte-1hkhvcb"),a(f,Zt,180,2,3930),ke(_,"class","btn waves-effect waves-light btncolor darken-1 svelte-1hkhvcb"),a(_,Zt,196,6,4301),D(m,"margin-right","5px"),ke(m,"class","svelte-1hkhvcb"),a(m,Zt,195,4,4263),ke(v,"class","ul2 svelte-1hkhvcb"),a(v,Zt,194,2,4242),ke(l,"class","mudx svelte-1hkhvcb"),a(l,Zt,164,0,3553)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(r,a,b){we(r,t,a),we(r,n,a),we(r,i,a),be(i,o),be(i,s),y&&y.m(i,null),we(r,c,a),we(r,l,a),be(l,h);for(let e=0;e<w.length;e+=1)w[e].m(h,null);be(l,d),be(l,f);for(let e=0;e<E.length;e+=1)E[e].m(f,null);be(l,p),be(l,v),be(v,m),be(m,_),b&&u(g),g=[Se(o,"click",e[8],!1,!1,!1),Se(_,"click",e[11],!1,!1,!1)]},p:function(e,[t]){if(!0===e[1]?y||(y=en(e),y.c(),y.m(i,null)):y&&(y.d(1),y=null),36&t){let n;for(b=e[2].exits,Te(b),n=0;n<b.length;n+=1){const i=Qt(e,b,n);w[n]?w[n].p(i,t):(w[n]=nn(i),w[n].c(),w[n].m(h,null))}for(;n<w.length;n+=1)w[n].d(1);w.length=b.length}if(36&t){let n;for(k=e[2].actions,Te(k),n=0;n<k.length;n+=1){const i=Jt(e,k,n);E[n]?E[n].p(i,t):(E[n]=rn(i),E[n].c(),E[n].m(f,null))}for(;n<E.length;n+=1)E[n].d(1);E.length=k.length}},i:r,o:r,d:function(e){e&&Ce(t),e&&Ce(n),e&&Ce(i),y&&y.d(),e&&Ce(c),e&&Ce(l),C(w,e),C(E,e),u(g)}};return ye("SvelteRegisterBlock",{block:T,id:on.name,type:"component",source:"",ctx:e}),T}function sn(e,t,n){let i,o,s=r,a=()=>(s(),s=p(u,e=>n(2,o=e)),u);e.$$.on_destroy.push(()=>s());const c=Ve(!1);f(c,"showInventory"),v(e,c,e=>n(1,i=e));const l=()=>{c.set(!i),console.log("Showinventory is "+i)};let{store:u}=t;f(u,"store"),a();let{term:h}=t,{sendMessage:d}=t;const m=e=>{console.log("Take exit "+e),d(e)},_=["store","term","sendMessage"];Object.keys(t).forEach(e=>{~_.indexOf(e)||"$$"===e.slice(0,2)||Xt.warn(`<MUDXPlus> was created with unknown prop '${e}'`)});let{$$slots:g={},$$scope:y}=t;Le("MUDXPlus",g,[]);return e.$set=e=>{"store"in e&&a(n(0,u=e.store)),"term"in e&&n(6,h=e.term),"sendMessage"in e&&n(7,d=e.sendMessage)},e.$capture_state=()=>({Sprites:Ae,writable:Ve,getClient:Gt,showInventory:c,toggleInventory:l,store:u,term:h,sendMessage:d,takeExit:m,$showInventory:i,$store:o}),e.$inject_state=e=>{"store"in e&&a(n(0,u=e.store)),"term"in e&&n(6,h=e.term),"sendMessage"in e&&n(7,d=e.sendMessage)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[u,i,o,c,l,m,h,d,()=>l(),e=>m(e.name),e=>m(e.name),()=>m("look")]}class an extends Me{constructor(e){super(e),ge(this,e,sn,on,d,{store:0,term:6,sendMessage:7}),ye("SvelteRegisterComponent",{component:this,tagName:"MUDXPlus",options:e,id:on.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"store"in n||Xt.warn("<MUDXPlus> was created without expected prop 'store'"),void 0!==t[6]||"term"in n||Xt.warn("<MUDXPlus> was created without expected prop 'term'"),void 0!==t[7]||"sendMessage"in n||Xt.warn("<MUDXPlus> was created without expected prop 'sendMessage'")}get store(){throw new Error("<MUDXPlus>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set store(e){throw new Error("<MUDXPlus>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get term(){throw new Error("<MUDXPlus>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set term(e){throw new Error("<MUDXPlus>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get sendMessage(){throw new Error("<MUDXPlus>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set sendMessage(e){throw new Error("<MUDXPlus>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function cn(){const{subscribe:e,set:t,update:n}=Ve({exits:[],actions:[]});return{subscribe:e,update:n,set:t,setExits:e=>{n(t=>(t.exits=e,t))},setActions:e=>{n(t=>(t.actions=e,t))}}}const ln=e=>({matches:1&e}),un=e=>({matches:e[0]});function hn(e){let t;const n=e[8].default,i=m(n,e,e[7],un),r={c:function(){i&&i.c()},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,n){i&&i.m(e,n),t=!0},p:function(e,[t]){i&&i.p&&129&t&&i.p(_(n,e,e[7],un),g(n,e[7],t,ln))},i:function(e){t||(le(i,e),t=!0)},o:function(e){ue(i,e),t=!1},d:function(e){i&&i.d(e)}};return ye("SvelteRegisterBlock",{block:r,id:hn.name,type:"component",source:"",ctx:e}),r}function dn(e,t,n){let i,r,{query:o}=t,s=!1,a=!1;function c(e){i=window.matchMedia(e),r=e=>n(0,a=e.matches),i.addListener(r),n(0,a=i.matches)}function l(){i&&r&&i.removeListener(r)}F(()=>(n(4,s=!0),()=>{l()}));const u=["query"];Object.keys(t).forEach(e=>{~u.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<MediaQuery> was created with unknown prop '${e}'`)});let{$$slots:h={},$$scope:d}=t;return Le("MediaQuery",h,["default"]),e.$set=e=>{"query"in e&&n(1,o=e.query),"$$scope"in e&&n(7,d=e.$$scope)},e.$capture_state=()=>({onMount:F,query:o,mql:i,mqlListener:r,wasMounted:s,matches:a,addNewListener:c,removeActiveListener:l}),e.$inject_state=e=>{"query"in e&&n(1,o=e.query),"mql"in e&&(i=e.mql),"mqlListener"in e&&(r=e.mqlListener),"wasMounted"in e&&n(4,s=e.wasMounted),"matches"in e&&n(0,a=e.matches)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{18&e.$$.dirty&&s&&(l(),c(o))},[a,o,i,r,s,c,l,d,h]}class fn extends Me{constructor(e){super(e),ge(this,e,dn,hn,d,{query:1}),ye("SvelteRegisterComponent",{component:this,tagName:"MediaQuery",options:e,id:hn.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[1]||"query"in n||console.warn("<MediaQuery> was created without expected prop 'query'")}get query(){throw new Error("<MediaQuery>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set query(e){throw new Error("<MediaQuery>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const pn=e=>({matches:1&e}),vn=e=>({matches:e[0]});function mn(e){let t;const n=e[8].default,i=m(n,e,e[7],vn),r={c:function(){i&&i.c()},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,n){i&&i.m(e,n),t=!0},p:function(e,[t]){i&&i.p&&129&t&&i.p(_(n,e,e[7],vn),g(n,e[7],t,pn))},i:function(e){t||(le(i,e),t=!0)},o:function(e){ue(i,e),t=!1},d:function(e){i&&i.d(e)}};return ye("SvelteRegisterBlock",{block:r,id:mn.name,type:"component",source:"",ctx:e}),r}function _n(e,t,n){let i,r,{query:o}=t,s=!1,a=!1;function c(e){i=window.matchMedia(e),r=e=>n(0,a=e.matches),i.addListener(r),n(0,a=i.matches)}function l(){i&&r&&i.removeListener(r)}F(()=>(n(4,s=!0),()=>{l()}));const u=["query"];Object.keys(t).forEach(e=>{~u.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<MediaQuery> was created with unknown prop '${e}'`)});let{$$slots:h={},$$scope:d}=t;return Le("MediaQuery",h,["default"]),e.$set=e=>{"query"in e&&n(1,o=e.query),"$$scope"in e&&n(7,d=e.$$scope)},e.$capture_state=()=>({onMount:F,query:o,mql:i,mqlListener:r,wasMounted:s,matches:a,addNewListener:c,removeActiveListener:l}),e.$inject_state=e=>{"query"in e&&n(1,o=e.query),"mql"in e&&(i=e.mql),"mqlListener"in e&&(r=e.mqlListener),"wasMounted"in e&&n(4,s=e.wasMounted),"matches"in e&&n(0,a=e.matches)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{18&e.$$.dirty&&s&&(l(),c(o))},[a,o,i,r,s,c,l,d,h]}class gn extends Me{constructor(e){super(e),ge(this,e,_n,mn,d,{query:1}),ye("SvelteRegisterComponent",{component:this,tagName:"MediaQuery",options:e,id:mn.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[1]||"query"in n||console.warn("<MediaQuery> was created without expected prop 'query'")}get query(){throw new Error("<MediaQuery>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set query(e){throw new Error("<MediaQuery>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function yn(e,{delay:t=0,duration:n=400,easing:i=o}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:i,css:e=>"opacity: "+e*r}}var bn=i((function(e,n){e.exports=function(){var n,i;function r(){return n.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(a(e,t))return!1;return!0}function l(e){return void 0===e}function u(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function h(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function f(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,i){return Et(e,t,n,i,!0).utc()}function v(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function m(e){if(null==e._isValid){var t=v(e),n=i.call(t.parsedDateParts,(function(e){return null!=e})),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function _(e){var t=p(NaN);return null!=e?f(v(t),e):v(t).userInvalidated=!0,t}i=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),i=n.length>>>0;for(t=0;t<i;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var g=r.momentProperties=[],y=!1;function b(e,t){var n,i,r;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=v(t)),l(t._locale)||(e._locale=t._locale),g.length>0)for(n=0;n<g.length;n++)l(r=t[i=g[n]])||(e[i]=r);return e}function w(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,r.updateOffset(this),y=!1)}function C(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function S(e){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function k(e,t){var n=!0;return f((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,o,s,c=[];for(o=0;o<arguments.length;o++){if(i="","object"==typeof arguments[o]){for(s in i+="\n["+o+"] ",arguments[0])a(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[o];c.push(i)}S(e+"\nArguments: "+Array.prototype.slice.call(c).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var E,x={};function T(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),x[e]||(S(t),x[e]=!0)}function L(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function M(e,t){var n,i=f({},e);for(n in t)a(t,n)&&(s(e[n])&&s(t[n])?(i[n]={},f(i[n],e[n]),f(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)a(e,n)&&!a(t,n)&&s(e[n])&&(i[n]=f({},i[n]));return i}function O(e){null!=e&&this.set(e)}function R(e,t,n){var i=""+Math.abs(e),r=t-i.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,E=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)a(e,t)&&n.push(t);return n};var $=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,A=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,D={},I={};function P(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(I[e]=r),t&&(I[t[0]]=function(){return R(r.apply(this,arguments),t[1],t[2])}),n&&(I[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function B(e,t){return e.isValid()?(t=j(t,e.localeData()),D[t]=D[t]||function(e){var t,n,i,r=e.match($);for(t=0,n=r.length;t<n;t++)I[r[t]]?r[t]=I[r[t]]:r[t]=(i=r[t]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(t){var i,o="";for(i=0;i<n;i++)o+=L(r[i])?r[i].call(t,e):r[i];return o}}(t),D[t](e)):e.localeData().invalidDate()}function j(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(A.lastIndex=0;n>=0&&A.test(e);)e=e.replace(A,i),A.lastIndex=0,n-=1;return e}var H={};function W(e,t){var n=e.toLowerCase();H[n]=H[n+"s"]=H[t]=e}function F(e){return"string"==typeof e?H[e]||H[e.toLowerCase()]:void 0}function N(e){var t,n,i={};for(n in e)a(e,n)&&(t=F(n))&&(i[t]=e[n]);return i}var U={};function q(e,t){U[e]=t}function z(e){return e%4==0&&e%100!=0||e%400==0}function Y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function V(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=Y(t)),n}function K(e,t){return function(n){return null!=n?(X(this,e,n),r.updateOffset(this,t),this):G(this,e)}}function G(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function X(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&z(e.year())&&1===e.month()&&29===e.date()?(n=V(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ce(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var Z,J=/\d/,Q=/\d\d/,ee=/\d{3}/,te=/\d{4}/,ne=/[+-]?\d{6}/,ie=/\d\d?/,re=/\d\d\d\d?/,oe=/\d\d\d\d\d\d?/,se=/\d{1,3}/,ae=/\d{1,4}/,ce=/[+-]?\d{1,6}/,le=/\d+/,ue=/[+-]?\d+/,he=/Z|[+-]\d\d:?\d\d/gi,de=/Z|[+-]\d\d(?::?\d\d)?/gi,fe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function pe(e,t,n){Z[e]=L(t)?t:function(e,i){return e&&n?n:t}}function ve(e,t){return a(Z,e)?Z[e](t._strict,t._locale):new RegExp(function(e){return me(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,i,r){return t||n||i||r})))}(e))}function me(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Z={};var _e,ge={};function ye(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),u(t)&&(i=function(e,n){n[t]=V(e)}),n=0;n<e.length;n++)ge[e[n]]=i}function be(e,t){ye(e,(function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)}))}function we(e,t,n){null!=t&&a(ge,e)&&ge[e](t,n._a,n,e)}function Ce(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-n)/12,1===n?z(e)?29:28:31-n%7%2}_e=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},P("M",["MM",2],"Mo",(function(){return this.month()+1})),P("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),P("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),W("month","M"),q("month",8),pe("M",ie),pe("MM",ie,Q),pe("MMM",(function(e,t){return t.monthsShortRegex(e)})),pe("MMMM",(function(e,t){return t.monthsRegex(e)})),ye(["M","MM"],(function(e,t){t[1]=V(e)-1})),ye(["MMM","MMMM"],(function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[1]=r:v(n).invalidMonth=e}));var Se="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ke="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ee=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,xe=fe,Te=fe;function Le(e,t,n){var i,r,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=p([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=_e.call(this._shortMonthsParse,s))?r:null:-1!==(r=_e.call(this._longMonthsParse,s))?r:null:"MMM"===t?-1!==(r=_e.call(this._shortMonthsParse,s))||-1!==(r=_e.call(this._longMonthsParse,s))?r:null:-1!==(r=_e.call(this._longMonthsParse,s))||-1!==(r=_e.call(this._shortMonthsParse,s))?r:null}function Me(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=V(t);else if(!u(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ce(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Oe(e){return null!=e?(Me(this,e),r.updateOffset(this,!0),this):G(this,"Month")}function Re(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],o=[];for(t=0;t<12;t++)n=p([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),o.sort(e),t=0;t<12;t++)i[t]=me(i[t]),r[t]=me(r[t]);for(t=0;t<24;t++)o[t]=me(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function $e(e){return z(e)?366:365}P("Y",0,0,(function(){var e=this.year();return e<=9999?R(e,4):"+"+e})),P(0,["YY",2],0,(function(){return this.year()%100})),P(0,["YYYY",4],0,"year"),P(0,["YYYYY",5],0,"year"),P(0,["YYYYYY",6,!0],0,"year"),W("year","y"),q("year",1),pe("Y",ue),pe("YY",ie,Q),pe("YYYY",ae,te),pe("YYYYY",ce,ne),pe("YYYYYY",ce,ne),ye(["YYYYY","YYYYYY"],0),ye("YYYY",(function(e,t){t[0]=2===e.length?r.parseTwoDigitYear(e):V(e)})),ye("YY",(function(e,t){t[0]=r.parseTwoDigitYear(e)})),ye("Y",(function(e,t){t[0]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return V(e)+(V(e)>68?1900:2e3)};var Ae=K("FullYear",!0);function De(e,t,n,i,r,o,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,i,r,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,i,r,o,s),a}function Ie(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Pe(e,t,n){var i=7+t-n;return-(7+Ie(e,0,i).getUTCDay()-t)%7+i-1}function Be(e,t,n,i,r){var o,s,a=1+7*(t-1)+(7+n-i)%7+Pe(e,i,r);return a<=0?s=$e(o=e-1)+a:a>$e(e)?(o=e+1,s=a-$e(e)):(o=e,s=a),{year:o,dayOfYear:s}}function je(e,t,n){var i,r,o=Pe(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?i=s+He(r=e.year()-1,t,n):s>He(e.year(),t,n)?(i=s-He(e.year(),t,n),r=e.year()+1):(r=e.year(),i=s),{week:i,year:r}}function He(e,t,n){var i=Pe(e,t,n),r=Pe(e+1,t,n);return($e(e)-i+r)/7}function We(e,t){return e.slice(t,7).concat(e.slice(0,t))}P("w",["ww",2],"wo","week"),P("W",["WW",2],"Wo","isoWeek"),W("week","w"),W("isoWeek","W"),q("week",5),q("isoWeek",5),pe("w",ie),pe("ww",ie,Q),pe("W",ie),pe("WW",ie,Q),be(["w","ww","W","WW"],(function(e,t,n,i){t[i.substr(0,1)]=V(e)})),P("d",0,"do","day"),P("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),P("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),P("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),P("e",0,0,"weekday"),P("E",0,0,"isoWeekday"),W("day","d"),W("weekday","e"),W("isoWeekday","E"),q("day",11),q("weekday",11),q("isoWeekday",11),pe("d",ie),pe("e",ie),pe("E",ie),pe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),pe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),pe("dddd",(function(e,t){return t.weekdaysRegex(e)})),be(["dd","ddd","dddd"],(function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:v(n).invalidWeekday=e})),be(["d","e","E"],(function(e,t,n,i){t[i]=V(e)}));var Fe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ne="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ue="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),qe=fe,ze=fe,Ye=fe;function Ve(e,t,n){var i,r,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=p([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=_e.call(this._weekdaysParse,s))?r:null:"ddd"===t?-1!==(r=_e.call(this._shortWeekdaysParse,s))?r:null:-1!==(r=_e.call(this._minWeekdaysParse,s))?r:null:"dddd"===t?-1!==(r=_e.call(this._weekdaysParse,s))||-1!==(r=_e.call(this._shortWeekdaysParse,s))||-1!==(r=_e.call(this._minWeekdaysParse,s))?r:null:"ddd"===t?-1!==(r=_e.call(this._shortWeekdaysParse,s))||-1!==(r=_e.call(this._weekdaysParse,s))||-1!==(r=_e.call(this._minWeekdaysParse,s))?r:null:-1!==(r=_e.call(this._minWeekdaysParse,s))||-1!==(r=_e.call(this._weekdaysParse,s))||-1!==(r=_e.call(this._shortWeekdaysParse,s))?r:null}function Ke(){function e(e,t){return t.length-e.length}var t,n,i,r,o,s=[],a=[],c=[],l=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),i=me(this.weekdaysMin(n,"")),r=me(this.weekdaysShort(n,"")),o=me(this.weekdays(n,"")),s.push(i),a.push(r),c.push(o),l.push(i),l.push(r),l.push(o);s.sort(e),a.sort(e),c.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Ge(){return this.hours()%12||12}function Xe(e,t){P(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Ze(e,t){return t._meridiemParse}P("H",["HH",2],0,"hour"),P("h",["hh",2],0,Ge),P("k",["kk",2],0,(function(){return this.hours()||24})),P("hmm",0,0,(function(){return""+Ge.apply(this)+R(this.minutes(),2)})),P("hmmss",0,0,(function(){return""+Ge.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)})),P("Hmm",0,0,(function(){return""+this.hours()+R(this.minutes(),2)})),P("Hmmss",0,0,(function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)})),Xe("a",!0),Xe("A",!1),W("hour","h"),q("hour",13),pe("a",Ze),pe("A",Ze),pe("H",ie),pe("h",ie),pe("k",ie),pe("HH",ie,Q),pe("hh",ie,Q),pe("kk",ie,Q),pe("hmm",re),pe("hmmss",oe),pe("Hmm",re),pe("Hmmss",oe),ye(["H","HH"],3),ye(["k","kk"],(function(e,t,n){var i=V(e);t[3]=24===i?0:i})),ye(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),ye(["h","hh"],(function(e,t,n){t[3]=V(e),v(n).bigHour=!0})),ye("hmm",(function(e,t,n){var i=e.length-2;t[3]=V(e.substr(0,i)),t[4]=V(e.substr(i)),v(n).bigHour=!0})),ye("hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[3]=V(e.substr(0,i)),t[4]=V(e.substr(i,2)),t[5]=V(e.substr(r)),v(n).bigHour=!0})),ye("Hmm",(function(e,t,n){var i=e.length-2;t[3]=V(e.substr(0,i)),t[4]=V(e.substr(i))})),ye("Hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[3]=V(e.substr(0,i)),t[4]=V(e.substr(i,2)),t[5]=V(e.substr(r))}));var Je,Qe=K("Hours",!0),et={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Se,monthsShort:ke,week:{dow:0,doy:6},weekdays:Fe,weekdaysMin:Ue,weekdaysShort:Ne,meridiemParse:/[ap]\.?m?\.?/i},tt={},nt={};function it(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n+=1)if(e[n]!==t[n])return n;return i}function rt(e){return e?e.toLowerCase().replace("_","-"):e}function ot(n){var i=null;if(void 0===tt[n]&&e&&e.exports)try{i=Je._abbr,t(),st(i)}catch(e){tt[n]=null}return tt[n]}function st(e,t){var n;return e&&((n=l(t)?ct(e):at(e,t))?Je=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Je._abbr}function at(e,t){if(null!==t){var n,i=et;if(t.abbr=e,null!=tt[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=tt[e]._config;else if(null!=t.parentLocale)if(null!=tt[t.parentLocale])i=tt[t.parentLocale]._config;else{if(null==(n=ot(t.parentLocale)))return nt[t.parentLocale]||(nt[t.parentLocale]=[]),nt[t.parentLocale].push({name:e,config:t}),null;i=n._config}return tt[e]=new O(M(i,t)),nt[e]&&nt[e].forEach((function(e){at(e.name,e.config)})),st(e),tt[e]}return delete tt[e],null}function ct(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Je;if(!o(e)){if(t=ot(e))return t;e=[e]}return function(e){for(var t,n,i,r,o=0;o<e.length;){for(t=(r=rt(e[o]).split("-")).length,n=(n=rt(e[o+1]))?n.split("-"):null;t>0;){if(i=ot(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&it(r,n)>=t-1)break;t--}o++}return Je}(e)}function lt(e){var t,n=e._a;return n&&-2===v(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>Ce(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,v(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),v(e)._overflowWeeks&&-1===t&&(t=7),v(e)._overflowWeekday&&-1===t&&(t=8),v(e).overflow=t),e}var ut=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ht=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dt=/Z|[+-]\d\d(?::?\d\d)?/,ft=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],pt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],vt=/^\/?Date\((-?\d+)/i,mt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,_t={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function gt(e){var t,n,i,r,o,s,a=e._i,c=ut.exec(a)||ht.exec(a);if(c){for(v(e).iso=!0,t=0,n=ft.length;t<n;t++)if(ft[t][1].exec(c[1])){r=ft[t][0],i=!1!==ft[t][2];break}if(null==r)return void(e._isValid=!1);if(c[3]){for(t=0,n=pt.length;t<n;t++)if(pt[t][1].exec(c[3])){o=(c[2]||" ")+pt[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(c[4]){if(!dt.exec(c[4]))return void(e._isValid=!1);s="Z"}e._f=r+(o||"")+(s||""),St(e)}else e._isValid=!1}function yt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function bt(e){var t,n,i,r,o,s,a,c,l=mt.exec(function(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(e._i));if(l){if(n=l[4],i=l[3],r=l[2],o=l[5],s=l[6],a=l[7],c=[yt(n),ke.indexOf(i),parseInt(r,10),parseInt(o,10),parseInt(s,10)],a&&c.push(parseInt(a,10)),t=c,!function(e,t,n){return!e||Ne.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(v(n).weekdayMismatch=!0,n._isValid=!1,!1)}(l[1],t,e))return;e._a=t,e._tzm=function(e,t,n){if(e)return _t[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}(l[8],l[9],l[10]),e._d=Ie.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),v(e).rfc2822=!0}else e._isValid=!1}function wt(e,t,n){return null!=e?e:null!=t?t:n}function Ct(e){var t,n,i,o,s,a=[];if(!e._d){for(i=function(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,i,r,o,s,a,c,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,s=4,n=wt(t.GG,e._a[0],je(xt(),1,4).year),i=wt(t.W,1),((r=wt(t.E,1))<1||r>7)&&(c=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,l=je(xt(),o,s),n=wt(t.gg,e._a[0],l.year),i=wt(t.w,l.week),null!=t.d?((r=t.d)<0||r>6)&&(c=!0):null!=t.e?(r=t.e+o,(t.e<0||t.e>6)&&(c=!0)):r=o),i<1||i>He(n,o,s)?v(e)._overflowWeeks=!0:null!=c?v(e)._overflowWeekday=!0:(a=Be(n,i,r,o,s),e._a[0]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(s=wt(e._a[0],i[0]),(e._dayOfYear>$e(s)||0===e._dayOfYear)&&(v(e)._overflowDayOfYear=!0),n=Ie(s,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=i[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Ie:De).apply(null,a),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(v(e).weekdayMismatch=!0)}}function St(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],v(e).empty=!0;var t,n,i,o,s,a,c=""+e._i,l=c.length,u=0;for(i=j(e._f,e._locale).match($)||[],t=0;t<i.length;t++)o=i[t],(n=(c.match(ve(o,e))||[])[0])&&((s=c.substr(0,c.indexOf(n))).length>0&&v(e).unusedInput.push(s),c=c.slice(c.indexOf(n)+n.length),u+=n.length),I[o]?(n?v(e).empty=!1:v(e).unusedTokens.push(o),we(o,n,e)):e._strict&&!n&&v(e).unusedTokens.push(o);v(e).charsLeftOver=l-u,c.length>0&&v(e).unusedInput.push(c),e._a[3]<=12&&!0===v(e).bigHour&&e._a[3]>0&&(v(e).bigHour=void 0),v(e).parsedDateParts=e._a.slice(0),v(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),null!==(a=v(e).era)&&(e._a[0]=e._locale.erasConvertYear(a,e._a[0])),Ct(e),lt(e)}else bt(e);else gt(e)}function kt(e){var t=e._i,n=e._f;return e._locale=e._locale||ct(e._l),null===t||void 0===n&&""===t?_({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),C(t)?new w(lt(t)):(h(t)?e._d=t:o(n)?function(e){var t,n,i,r,o,s,a=!1;if(0===e._f.length)return v(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)o=0,s=!1,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],St(t),m(t)&&(s=!0),o+=v(t).charsLeftOver,o+=10*v(t).unusedTokens.length,v(t).score=o,a?o<i&&(i=o,n=t):(null==i||o<i||s)&&(i=o,n=t,s&&(a=!0));f(e,n||t)}(e):n?St(e):function(e){var t=e._i;l(t)?e._d=new Date(r.now()):h(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=vt.exec(e._i);null===t?(gt(e),!1===e._isValid&&(delete e._isValid,bt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):o(t)?(e._a=d(t.slice(0),(function(e){return parseInt(e,10)})),Ct(e)):s(t)?function(e){if(!e._d){var t=N(e._i),n=void 0===t.day?t.date:t.day;e._a=d([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Ct(e)}}(e):u(t)?e._d=new Date(t):r.createFromInputFallback(e)}(e),m(e)||(e._d=null),e))}function Et(e,t,n,i,r){var a,l={};return!0!==t&&!1!==t||(i=t,t=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(s(e)&&c(e)||o(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=r,l._l=n,l._i=e,l._f=t,l._strict=i,(a=new w(lt(kt(l))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function xt(e,t,n,i){return Et(e,t,n,i,!1)}r.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Tt=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=xt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:_()})),Lt=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=xt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:_()}));function Mt(e,t){var n,i;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return xt();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}var Ot=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Rt(e){var t=N(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,c=t.hour||0,l=t.minute||0,u=t.second||0,h=t.millisecond||0;this._isValid=function(e){var t,n,i=!1;for(t in e)if(a(e,t)&&(-1===_e.call(Ot,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<Ot.length;++n)if(e[Ot[n]]){if(i)return!1;parseFloat(e[Ot[n]])!==V(e[Ot[n]])&&(i=!0)}return!0}(t),this._milliseconds=+h+1e3*u+6e4*l+1e3*c*60*60,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=ct(),this._bubble()}function $t(e){return e instanceof Rt}function At(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Dt(e,t){P(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+R(~~(e/60),2)+t+R(~~e%60,2)}))}Dt("Z",":"),Dt("ZZ",""),pe("Z",de),pe("ZZ",de),ye(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Pt(de,e)}));var It=/([\+\-]|\d\d)/gi;function Pt(e,t){var n,i,r=(t||"").match(e);return null===r?null:0===(i=60*(n=((r[r.length-1]||[])+"").match(It)||["-",0,0])[1]+V(n[2]))?0:"+"===n[0]?i:-i}function Bt(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(C(e)||h(e)?e.valueOf():xt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):xt(e).local()}function jt(e){return-Math.round(e._d.getTimezoneOffset())}function Ht(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Wt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ft=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Nt(e,t){var n,i,r,o,s,c,l=e,h=null;return $t(e)?l={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(l={},t?l[t]=+e:l.milliseconds=+e):(h=Wt.exec(e))?(n="-"===h[1]?-1:1,l={y:0,d:V(h[2])*n,h:V(h[3])*n,m:V(h[4])*n,s:V(h[5])*n,ms:V(At(1e3*h[6]))*n}):(h=Ft.exec(e))?(n="-"===h[1]?-1:1,l={y:Ut(h[2],n),M:Ut(h[3],n),w:Ut(h[4],n),d:Ut(h[5],n),h:Ut(h[6],n),m:Ut(h[7],n),s:Ut(h[8],n)}):null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(o=xt(l.from),s=xt(l.to),r=o.isValid()&&s.isValid()?(s=Bt(s,o),o.isBefore(s)?c=qt(o,s):((c=qt(s,o)).milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0},(l={}).ms=r.milliseconds,l.M=r.months),i=new Rt(l),$t(e)&&a(e,"_locale")&&(i._locale=e._locale),$t(e)&&a(e,"_isValid")&&(i._isValid=e._isValid),i}function Ut(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function qt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function zt(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(T(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),Yt(this,Nt(n,i),e),this}}function Yt(e,t,n,i){var o=t._milliseconds,s=At(t._days),a=At(t._months);e.isValid()&&(i=null==i||i,a&&Me(e,G(e,"Month")+a*n),s&&X(e,"Date",G(e,"Date")+s*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&r.updateOffset(e,s||a))}Nt.fn=Rt.prototype,Nt.invalid=function(){return Nt(NaN)};var Vt=zt(1,"add"),Kt=zt(-1,"subtract");function Gt(e){return"string"==typeof e||e instanceof String}function Xt(e){return C(e)||h(e)||Gt(e)||u(e)||function(e){var t=o(e),n=!1;return t&&(n=0===e.filter((function(t){return!u(t)&&Gt(e)})).length),t&&n}(e)||function(e){var t,n,i=s(e)&&!c(e),r=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<o.length;t+=1)n=o[t],r=r||a(e,n);return i&&r}(e)||null==e}function Zt(e){var t,n=s(e)&&!c(e),i=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<r.length;t+=1)i=i||a(e,r[t]);return n&&i}function Jt(e,t){if(e.date()<t.date())return-Jt(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return-(n+(t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(n+1,"months")-i)))||0}function Qt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ct(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var en=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function tn(){return this._locale}function nn(e,t){return(e%t+t)%t}function rn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-126227808e5:new Date(e,t,n).valueOf()}function on(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-126227808e5:Date.UTC(e,t,n)}function sn(e,t){return t.erasAbbrRegex(e)}function an(){var e,t,n=[],i=[],r=[],o=[],s=this.eras();for(e=0,t=s.length;e<t;++e)i.push(me(s[e].name)),n.push(me(s[e].abbr)),r.push(me(s[e].narrow)),o.push(me(s[e].name)),o.push(me(s[e].abbr)),o.push(me(s[e].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function cn(e,t){P(0,[e,e.length],0,t)}function ln(e,t,n,i,r){var o;return null==e?je(this,i,r).year:(t>(o=He(e,i,r))&&(t=o),un.call(this,e,t,n,i,r))}function un(e,t,n,i,r){var o=Be(e,t,n,i,r),s=Ie(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}P("N",0,0,"eraAbbr"),P("NN",0,0,"eraAbbr"),P("NNN",0,0,"eraAbbr"),P("NNNN",0,0,"eraName"),P("NNNNN",0,0,"eraNarrow"),P("y",["y",1],"yo","eraYear"),P("y",["yy",2],0,"eraYear"),P("y",["yyy",3],0,"eraYear"),P("y",["yyyy",4],0,"eraYear"),pe("N",sn),pe("NN",sn),pe("NNN",sn),pe("NNNN",(function(e,t){return t.erasNameRegex(e)})),pe("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),ye(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,i){var r=n._locale.erasParse(e,i,n._strict);r?v(n).era=r:v(n).invalidEra=e})),pe("y",le),pe("yy",le),pe("yyy",le),pe("yyyy",le),pe("yo",(function(e,t){return t._eraYearOrdinalRegex||le})),ye(["y","yy","yyy","yyyy"],0),ye(["yo"],(function(e,t,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[0]=n._locale.eraYearOrdinalParse(e,r):t[0]=parseInt(e,10)})),P(0,["gg",2],0,(function(){return this.weekYear()%100})),P(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),cn("gggg","weekYear"),cn("ggggg","weekYear"),cn("GGGG","isoWeekYear"),cn("GGGGG","isoWeekYear"),W("weekYear","gg"),W("isoWeekYear","GG"),q("weekYear",1),q("isoWeekYear",1),pe("G",ue),pe("g",ue),pe("GG",ie,Q),pe("gg",ie,Q),pe("GGGG",ae,te),pe("gggg",ae,te),pe("GGGGG",ce,ne),pe("ggggg",ce,ne),be(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,i){t[i.substr(0,2)]=V(e)})),be(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),P("Q",0,"Qo","quarter"),W("quarter","Q"),q("quarter",7),pe("Q",J),ye("Q",(function(e,t){t[1]=3*(V(e)-1)})),P("D",["DD",2],"Do","date"),W("date","D"),q("date",9),pe("D",ie),pe("DD",ie,Q),pe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),ye(["D","DD"],2),ye("Do",(function(e,t){t[2]=V(e.match(ie)[0])}));var hn=K("Date",!0);P("DDD",["DDDD",3],"DDDo","dayOfYear"),W("dayOfYear","DDD"),q("dayOfYear",4),pe("DDD",se),pe("DDDD",ee),ye(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=V(e)})),P("m",["mm",2],0,"minute"),W("minute","m"),q("minute",14),pe("m",ie),pe("mm",ie,Q),ye(["m","mm"],4);var dn=K("Minutes",!1);P("s",["ss",2],0,"second"),W("second","s"),q("second",15),pe("s",ie),pe("ss",ie,Q),ye(["s","ss"],5);var fn,pn,vn=K("Seconds",!1);for(P("S",0,0,(function(){return~~(this.millisecond()/100)})),P(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),P(0,["SSS",3],0,"millisecond"),P(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),P(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),P(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),P(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),P(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),P(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),W("millisecond","ms"),q("millisecond",16),pe("S",se,J),pe("SS",se,Q),pe("SSS",se,ee),fn="SSSS";fn.length<=9;fn+="S")pe(fn,le);function mn(e,t){t[6]=V(1e3*("0."+e))}for(fn="S";fn.length<=9;fn+="S")ye(fn,mn);pn=K("Milliseconds",!1),P("z",0,0,"zoneAbbr"),P("zz",0,0,"zoneName");var _n=w.prototype;function gn(e){return e}_n.add=Vt,_n.calendar=function(e,t){1===arguments.length&&(Xt(arguments[0])?(e=arguments[0],t=void 0):Zt(arguments[0])&&(t=arguments[0],e=void 0));var n=e||xt(),i=Bt(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",s=t&&(L(t[o])?t[o].call(this,n):t[o]);return this.format(s||this.localeData().calendar(o,this,xt(n)))},_n.clone=function(){return new w(this)},_n.diff=function(e,t,n){var i,r,o;if(!this.isValid())return NaN;if(!(i=Bt(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=F(t)){case"year":o=Jt(this,i)/12;break;case"month":o=Jt(this,i);break;case"quarter":o=Jt(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:Y(o)},_n.endOf=function(e){var t,n;if(void 0===(e=F(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?on:rn,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-nn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-nn(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-nn(t,1e3)-1}return this._d.setTime(t),r.updateOffset(this,!0),this},_n.format=function(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=B(this,e);return this.localeData().postformat(t)},_n.from=function(e,t){return this.isValid()&&(C(e)&&e.isValid()||xt(e).isValid())?Nt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},_n.fromNow=function(e){return this.from(xt(),e)},_n.to=function(e,t){return this.isValid()&&(C(e)&&e.isValid()||xt(e).isValid())?Nt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},_n.toNow=function(e){return this.to(xt(),e)},_n.get=function(e){return L(this[e=F(e)])?this[e]():this},_n.invalidAt=function(){return v(this).overflow},_n.isAfter=function(e,t){var n=C(e)?e:xt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=F(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},_n.isBefore=function(e,t){var n=C(e)?e:xt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=F(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},_n.isBetween=function(e,t,n,i){var r=C(e)?e:xt(e),o=C(t)?t:xt(t);return!!(this.isValid()&&r.isValid()&&o.isValid())&&(("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(o,n):!this.isAfter(o,n)))},_n.isSame=function(e,t){var n,i=C(e)?e:xt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=F(t)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},_n.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},_n.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},_n.isValid=function(){return m(this)},_n.lang=en,_n.locale=Qt,_n.localeData=tn,_n.max=Lt,_n.min=Tt,_n.parsingFlags=function(){return f({},v(this))},_n.set=function(e,t){if("object"==typeof e){var n,i=function(e){var t,n=[];for(t in e)a(e,t)&&n.push({unit:t,priority:U[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}(e=N(e));for(n=0;n<i.length;n++)this[i[n].unit](e[i[n].unit])}else if(L(this[e=F(e)]))return this[e](t);return this},_n.startOf=function(e){var t,n;if(void 0===(e=F(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?on:rn,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=nn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=nn(t,6e4);break;case"second":t=this._d.valueOf(),t-=nn(t,1e3)}return this._d.setTime(t),r.updateOffset(this,!0),this},_n.subtract=Kt,_n.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},_n.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},_n.toDate=function(){return new Date(this.valueOf())},_n.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?B(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):L(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",B(n,"Z")):B(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},_n.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,i="moment",r="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n=r+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(_n[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),_n.toJSON=function(){return this.isValid()?this.toISOString():null},_n.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},_n.unix=function(){return Math.floor(this.valueOf()/1e3)},_n.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},_n.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},_n.eraName=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].name;if(i[e].until<=n&&n<=i[e].since)return i[e].name}return""},_n.eraNarrow=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].narrow;if(i[e].until<=n&&n<=i[e].since)return i[e].narrow}return""},_n.eraAbbr=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].abbr;if(i[e].until<=n&&n<=i[e].since)return i[e].abbr}return""},_n.eraYear=function(){var e,t,n,i,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,i=this.startOf("day").valueOf(),o[e].since<=i&&i<=o[e].until||o[e].until<=i&&i<=o[e].since)return(this.year()-r(o[e].since).year())*n+o[e].offset;return this.year()},_n.year=Ae,_n.isLeapYear=function(){return z(this.year())},_n.weekYear=function(e){return ln.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},_n.isoWeekYear=function(e){return ln.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},_n.quarter=_n.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},_n.month=Oe,_n.daysInMonth=function(){return Ce(this.year(),this.month())},_n.week=_n.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},_n.isoWeek=_n.isoWeeks=function(e){var t=je(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},_n.weeksInYear=function(){var e=this.localeData()._week;return He(this.year(),e.dow,e.doy)},_n.weeksInWeekYear=function(){var e=this.localeData()._week;return He(this.weekYear(),e.dow,e.doy)},_n.isoWeeksInYear=function(){return He(this.year(),1,4)},_n.isoWeeksInISOWeekYear=function(){return He(this.isoWeekYear(),1,4)},_n.date=hn,_n.day=_n.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},_n.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},_n.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},_n.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},_n.hour=_n.hours=Qe,_n.minute=_n.minutes=dn,_n.second=_n.seconds=vn,_n.millisecond=_n.milliseconds=pn,_n.utcOffset=function(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Pt(de,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=jt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?Yt(this,Nt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:jt(this)},_n.utc=function(e){return this.utcOffset(0,e)},_n.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(jt(this),"m")),this},_n.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Pt(he,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},_n.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?xt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},_n.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},_n.isLocal=function(){return!!this.isValid()&&!this._isUTC},_n.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},_n.isUtc=Ht,_n.isUTC=Ht,_n.zoneAbbr=function(){return this._isUTC?"UTC":""},_n.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},_n.dates=k("dates accessor is deprecated. Use date instead.",hn),_n.months=k("months accessor is deprecated. Use month instead",Oe),_n.years=k("years accessor is deprecated. Use year instead",Ae),_n.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),_n.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e,t={};return b(t,this),(t=kt(t))._a?(e=t._isUTC?p(t._a):xt(t._a),this._isDSTShifted=this.isValid()&&function(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&V(e[i])!==V(t[i]))&&s++;return s+o}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var yn=O.prototype;function bn(e,t,n,i){var r=ct(),o=p().set(i,t);return r[n](o,e)}function wn(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return bn(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=bn(e,i,n,"month");return r}function Cn(e,t,n,i){"boolean"==typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var r,o=ct(),s=e?o._week.dow:0,a=[];if(null!=n)return bn(t,(n+s)%7,i,"day");for(r=0;r<7;r++)a[r]=bn(t,(r+s)%7,i,"day");return a}yn.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return L(i)?i.call(t,n):i},yn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match($).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},yn.invalidDate=function(){return this._invalidDate},yn.ordinal=function(e){return this._ordinal.replace("%d",e)},yn.preparse=gn,yn.postformat=gn,yn.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return L(r)?r(e,t,n,i):r.replace(/%d/i,e)},yn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return L(n)?n(t):n.replace(/%s/i,t)},yn.set=function(e){var t,n;for(n in e)a(e,n)&&(L(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},yn.eras=function(e,t){var n,i,o,s=this._eras||ct("en")._eras;for(n=0,i=s.length;n<i;++n){switch(typeof s[n].since){case"string":o=r(s[n].since).startOf("day"),s[n].since=o.valueOf()}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":o=r(s[n].until).startOf("day").valueOf(),s[n].until=o.valueOf()}}return s},yn.erasParse=function(e,t,n){var i,r,o,s,a,c=this.eras();for(e=e.toUpperCase(),i=0,r=c.length;i<r;++i)if(o=c[i].name.toUpperCase(),s=c[i].abbr.toUpperCase(),a=c[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return c[i];break;case"NNNN":if(o===e)return c[i];break;case"NNNNN":if(a===e)return c[i]}else if([o,s,a].indexOf(e)>=0)return c[i]},yn.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n},yn.erasAbbrRegex=function(e){return a(this,"_erasAbbrRegex")||an.call(this),e?this._erasAbbrRegex:this._erasRegex},yn.erasNameRegex=function(e){return a(this,"_erasNameRegex")||an.call(this),e?this._erasNameRegex:this._erasRegex},yn.erasNarrowRegex=function(e){return a(this,"_erasNarrowRegex")||an.call(this),e?this._erasNarrowRegex:this._erasRegex},yn.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ee).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},yn.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ee.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},yn.monthsParse=function(e,t,n){var i,r,o;if(this._monthsParseExact)return Le.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=p([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},yn.monthsRegex=function(e){return this._monthsParseExact?(a(this,"_monthsRegex")||Re.call(this),e?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Te),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},yn.monthsShortRegex=function(e){return this._monthsParseExact?(a(this,"_monthsRegex")||Re.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=xe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},yn.week=function(e){return je(e,this._week.dow,this._week.doy).week},yn.firstDayOfYear=function(){return this._week.doy},yn.firstDayOfWeek=function(){return this._week.dow},yn.weekdays=function(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?We(n,this._week.dow):e?n[e.day()]:n},yn.weekdaysMin=function(e){return!0===e?We(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},yn.weekdaysShort=function(e){return!0===e?We(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},yn.weekdaysParse=function(e,t,n){var i,r,o;if(this._weekdaysParseExact)return Ve.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=p([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},yn.weekdaysRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ke.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=qe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},yn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ke.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ze),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},yn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ke.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ye),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},yn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},yn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},st("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===V(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=k("moment.lang is deprecated. Use moment.locale instead.",st),r.langData=k("moment.langData is deprecated. Use moment.localeData instead.",ct);var Sn=Math.abs;function kn(e,t,n,i){var r=Nt(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function En(e){return e<0?Math.floor(e):Math.ceil(e)}function xn(e){return 4800*e/146097}function Tn(e){return 146097*e/4800}function Ln(e){return function(){return this.as(e)}}var Mn=Ln("ms"),On=Ln("s"),Rn=Ln("m"),$n=Ln("h"),An=Ln("d"),Dn=Ln("w"),In=Ln("M"),Pn=Ln("Q"),Bn=Ln("y");function jn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Hn=jn("milliseconds"),Wn=jn("seconds"),Fn=jn("minutes"),Nn=jn("hours"),Un=jn("days"),qn=jn("months"),zn=jn("years"),Yn=Math.round,Vn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Kn(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}var Gn=Math.abs;function Xn(e){return(e>0)-(e<0)||+e}function Zn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i,r,o,s,a,c=Gn(this._milliseconds)/1e3,l=Gn(this._days),u=Gn(this._months),h=this.asSeconds();return h?(e=Y(c/60),t=Y(e/60),c%=60,e%=60,n=Y(u/12),u%=12,i=c?c.toFixed(3).replace(/\.?0+$/,""):"",r=h<0?"-":"",o=Xn(this._months)!==Xn(h)?"-":"",s=Xn(this._days)!==Xn(h)?"-":"",a=Xn(this._milliseconds)!==Xn(h)?"-":"",r+"P"+(n?o+n+"Y":"")+(u?o+u+"M":"")+(l?s+l+"D":"")+(t||e||c?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(c?a+i+"S":"")):"P0D"}var Jn=Rt.prototype;return Jn.isValid=function(){return this._isValid},Jn.abs=function(){var e=this._data;return this._milliseconds=Sn(this._milliseconds),this._days=Sn(this._days),this._months=Sn(this._months),e.milliseconds=Sn(e.milliseconds),e.seconds=Sn(e.seconds),e.minutes=Sn(e.minutes),e.hours=Sn(e.hours),e.months=Sn(e.months),e.years=Sn(e.years),this},Jn.add=function(e,t){return kn(this,e,t,1)},Jn.subtract=function(e,t){return kn(this,e,t,-1)},Jn.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=F(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,n=this._months+xn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Tn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},Jn.asMilliseconds=Mn,Jn.asSeconds=On,Jn.asMinutes=Rn,Jn.asHours=$n,Jn.asDays=An,Jn.asWeeks=Dn,Jn.asMonths=In,Jn.asQuarters=Pn,Jn.asYears=Bn,Jn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*V(this._months/12):NaN},Jn._bubble=function(){var e,t,n,i,r,o=this._milliseconds,s=this._days,a=this._months,c=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*En(Tn(a)+s),s=0,a=0),c.milliseconds=o%1e3,e=Y(o/1e3),c.seconds=e%60,t=Y(e/60),c.minutes=t%60,n=Y(t/60),c.hours=n%24,s+=Y(n/24),r=Y(xn(s)),a+=r,s-=En(Tn(r)),i=Y(a/12),a%=12,c.days=s,c.months=a,c.years=i,this},Jn.clone=function(){return Nt(this)},Jn.get=function(e){return e=F(e),this.isValid()?this[e+"s"]():NaN},Jn.milliseconds=Hn,Jn.seconds=Wn,Jn.minutes=Fn,Jn.hours=Nn,Jn.days=Un,Jn.weeks=function(){return Y(this.days()/7)},Jn.months=qn,Jn.years=zn,Jn.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,i,r=!1,o=Vn;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(r=e),"object"==typeof t&&(o=Object.assign({},Vn,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),n=this.localeData(),i=function(e,t,n,i){var r=Nt(e).abs(),o=Yn(r.as("s")),s=Yn(r.as("m")),a=Yn(r.as("h")),c=Yn(r.as("d")),l=Yn(r.as("M")),u=Yn(r.as("w")),h=Yn(r.as("y")),d=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||c<=1&&["d"]||c<n.d&&["dd",c];return null!=n.w&&(d=d||u<=1&&["w"]||u<n.w&&["ww",u]),(d=d||l<=1&&["M"]||l<n.M&&["MM",l]||h<=1&&["y"]||["yy",h])[2]=t,d[3]=+e>0,d[4]=i,Kn.apply(null,d)}(this,!r,o,n),r&&(i=n.pastFuture(+this,i)),n.postformat(i)},Jn.toISOString=Zn,Jn.toString=Zn,Jn.toJSON=Zn,Jn.locale=Qt,Jn.localeData=tn,Jn.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Zn),Jn.lang=en,P("X",0,0,"unix"),P("x",0,0,"valueOf"),pe("x",ue),pe("X",/[+-]?\d+(\.\d{1,3})?/),ye("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),ye("x",(function(e,t,n){n._d=new Date(V(e))})),
//! moment.js
r.version="2.26.0",n=xt,r.fn=_n,r.min=function(){var e=[].slice.call(arguments,0);return Mt("isBefore",e)},r.max=function(){var e=[].slice.call(arguments,0);return Mt("isAfter",e)},r.now=function(){return Date.now?Date.now():+new Date},r.utc=p,r.unix=function(e){return xt(1e3*e)},r.months=function(e,t){return wn(e,t,"months")},r.isDate=h,r.locale=st,r.invalid=_,r.duration=Nt,r.isMoment=C,r.weekdays=function(e,t,n){return Cn(e,t,n,"weekdays")},r.parseZone=function(){return xt.apply(null,arguments).parseZone()},r.localeData=ct,r.isDuration=$t,r.monthsShort=function(e,t){return wn(e,t,"monthsShort")},r.weekdaysMin=function(e,t,n){return Cn(e,t,n,"weekdaysMin")},r.defineLocale=at,r.updateLocale=function(e,t){if(null!=t){var n,i,r=et;null!=tt[e]&&null!=tt[e].parentLocale?tt[e].set(M(tt[e]._config,t)):(null!=(i=ot(e))&&(r=i._config),t=M(r,t),null==i&&(t.abbr=e),(n=new O(t)).parentLocale=tt[e],tt[e]=n),st(e)}else null!=tt[e]&&(null!=tt[e].parentLocale?(tt[e]=tt[e].parentLocale,e===st()&&st(e)):null!=tt[e]&&delete tt[e]);return tt[e]},r.locales=function(){return E(tt)},r.weekdaysShort=function(e,t,n){return Cn(e,t,n,"weekdaysShort")},r.normalizeUnits=F,r.relativeTimeRounding=function(e){return void 0===e?Yn:"function"==typeof e&&(Yn=e,!0)},r.relativeTimeThreshold=function(e,t){return void 0!==Vn[e]&&(void 0===t?Vn[e]:(Vn[e]=t,"s"===e&&(Vn.ss=t-1),!0))},r.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=_n,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()}));const wn="src/characters/CharacterTemplate.svelte";function Cn(e,t,n){const i=e.slice();return i[11]=t[n],i}function Sn(e){let t,n,i=e[3];Te(i);let r=[];for(let t=0;t<i.length;t+=1)r[t]=kn(Cn(e,i,t));const o={c:function(){t=S("table"),n=S("tbody");for(let e=0;e<r.length;e+=1)r[e].c();a(n,wn,51,8,1041),a(t,wn,50,6,1025)},m:function(e,i){we(e,t,i),be(t,n);for(let e=0;e<r.length;e+=1)r[e].m(n,null)},p:function(e,t){if(8&t){let o;for(i=e[3],Te(i),o=0;o<i.length;o+=1){const s=Cn(e,i,o);r[o]?r[o].p(s,t):(r[o]=kn(s),r[o].c(),r[o].m(n,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}},d:function(e){e&&Ce(t),C(r,e)}};return ye("SvelteRegisterBlock",{block:o,id:Sn.name,type:"if",source:"(50:4) {#if attributes}",ctx:e}),o}function kn(e){let t,n,i,r,o,s,c,l=e[11].name+"",u=e[11].value+"";const h={c:function(){t=S("tr"),n=S("td"),i=E(l),r=x(),o=S("td"),s=E(u),c=x(),ke(n,"class","svelte-k4txm1"),a(n,wn,54,14,1122),ke(o,"class","right svelte-k4txm1"),a(o,wn,55,14,1162),a(t,wn,53,12,1103)},m:function(e,a){we(e,t,a),be(t,n),be(n,i),be(t,r),be(t,o),be(o,s),be(t,c)},p:function(e,t){8&t&&l!==(l=e[11].name+"")&&xe(i,l),8&t&&u!==(u=e[11].value+"")&&xe(s,u)},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:h,id:kn.name,type:"each",source:"(53:10) {#each attributes as attribute}",ctx:e}),h}function En(e){let t,n,i,o,s,c,l,u,h,d,f,p,v,m,_,g,y=e[3]&&Sn(e);const b={c:function(){t=S("div"),n=S("div"),i=S("img"),s=x(),c=S("span"),l=E(e[0]),u=x(),h=S("span"),d=E(e[1]),f=x(),p=S("div"),y&&y.c(),v=x(),m=S("div"),_=S("button"),_.textContent="Choose",i.src!==(o=e[5]())&&ke(i,"src",o),ke(i,"alt",""),ke(i,"class","circle img svelte-k4txm1"),a(i,wn,42,4,833),ke(c,"class","card-title"),a(c,wn,43,4,888),a(h,wn,44,4,931),ke(n,"class","card-content white-text"),a(n,wn,41,2,791),ke(p,"class","card-content"),a(p,wn,47,2,970),ke(_,"class","btn green"),a(_,wn,64,4,1330),ke(m,"class","card-content"),a(m,wn,63,2,1299),ke(t,"class","card cyan darken-3 hoverable characterCard center-align svelte-k4txm1"),a(t,wn,40,0,719)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(r,o,a){we(r,t,o),be(t,n),be(n,i),be(n,s),be(n,c),be(c,l),be(n,u),be(n,h),be(h,d),be(t,f),be(t,p),y&&y.m(p,null),be(t,v),be(t,m),be(m,_),a&&g(),g=Se(_,"click",e[10],!1,!1,!1)},p:function(e,[t]){1&t&&xe(l,e[0]),2&t&&xe(d,e[1]),e[3]?y?y.p(e,t):(y=Sn(e),y.c(),y.m(p,null)):y&&(y.d(1),y=null)},i:r,o:r,d:function(e){e&&Ce(t),y&&y.d(),g()}};return ye("SvelteRegisterBlock",{block:b,id:En.name,type:"component",source:"",ctx:e}),b}function xn(e,t,n){let{name:i}=t,{description:r}=t,{created:o}=t,{level:s}=t,{xp:a}=t,{templateId:c}=t,{attributes:l}=t,{callback:u}=t;function h(){return bn(o).format("MMMM Do YYYY, h:mm:ss a")}function d(){return"img/avatars/"+(1+Math.abs(i.hashCode()%12))+"p.png"}const f=["name","description","created","level","xp","templateId","attributes","callback"];Object.keys(t).forEach(e=>{~f.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<CharacterTemplate> was created with unknown prop '${e}'`)});let{$$slots:p={},$$scope:v}=t;Le("CharacterTemplate",p,[]);return e.$set=e=>{"name"in e&&n(0,i=e.name),"description"in e&&n(1,r=e.description),"created"in e&&n(6,o=e.created),"level"in e&&n(7,s=e.level),"xp"in e&&n(8,a=e.xp),"templateId"in e&&n(2,c=e.templateId),"attributes"in e&&n(3,l=e.attributes),"callback"in e&&n(4,u=e.callback)},e.$capture_state=()=>({MediaQuery:gn,fade:yn,moment:bn,name:i,description:r,created:o,level:s,xp:a,templateId:c,attributes:l,callback:u,formattedDate:h,avatar:d}),e.$inject_state=e=>{"name"in e&&n(0,i=e.name),"description"in e&&n(1,r=e.description),"created"in e&&n(6,o=e.created),"level"in e&&n(7,s=e.level),"xp"in e&&n(8,a=e.xp),"templateId"in e&&n(2,c=e.templateId),"attributes"in e&&n(3,l=e.attributes),"callback"in e&&n(4,u=e.callback)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[i,r,c,l,u,d,o,s,a,h,()=>{u(c)}]}class Tn extends Me{constructor(e){super(e),ge(this,e,xn,En,d,{name:0,description:1,created:6,level:7,xp:8,templateId:2,attributes:3,callback:4}),ye("SvelteRegisterComponent",{component:this,tagName:"CharacterTemplate",options:e,id:En.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"name"in n||console.warn("<CharacterTemplate> was created without expected prop 'name'"),void 0!==t[1]||"description"in n||console.warn("<CharacterTemplate> was created without expected prop 'description'"),void 0!==t[6]||"created"in n||console.warn("<CharacterTemplate> was created without expected prop 'created'"),void 0!==t[7]||"level"in n||console.warn("<CharacterTemplate> was created without expected prop 'level'"),void 0!==t[8]||"xp"in n||console.warn("<CharacterTemplate> was created without expected prop 'xp'"),void 0!==t[2]||"templateId"in n||console.warn("<CharacterTemplate> was created without expected prop 'templateId'"),void 0!==t[3]||"attributes"in n||console.warn("<CharacterTemplate> was created without expected prop 'attributes'"),void 0!==t[4]||"callback"in n||console.warn("<CharacterTemplate> was created without expected prop 'callback'")}get name(){throw new Error("<CharacterTemplate>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set name(e){throw new Error("<CharacterTemplate>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get description(){throw new Error("<CharacterTemplate>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set description(e){throw new Error("<CharacterTemplate>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get created(){throw new Error("<CharacterTemplate>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set created(e){throw new Error("<CharacterTemplate>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get level(){throw new Error("<CharacterTemplate>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set level(e){throw new Error("<CharacterTemplate>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get xp(){throw new Error("<CharacterTemplate>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set xp(e){throw new Error("<CharacterTemplate>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get templateId(){throw new Error("<CharacterTemplate>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set templateId(e){throw new Error("<CharacterTemplate>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get attributes(){throw new Error("<CharacterTemplate>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set attributes(e){throw new Error("<CharacterTemplate>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get callback(){throw new Error("<CharacterTemplate>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set callback(e){throw new Error("<CharacterTemplate>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */var Ln=function(e,t){return(Ln=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Mn(e,t){function n(){this.constructor=e}Ln(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var On=function(){return(On=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function Rn(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function $n(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(s,a)}c((i=i.apply(e,t||[])).next())}))}function An(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var Dn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function In(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Pn(e,t){return e(t={exports:{}},t.exports),t.exports}var Bn=function(e){return e&&e.Math==Math&&e},jn=Bn("object"==typeof globalThis&&globalThis)||Bn("object"==typeof window&&window)||Bn("object"==typeof self&&self)||Bn("object"==typeof Dn&&Dn)||Function("return this")(),Hn=function(e){try{return!!e()}catch(e){return!0}},Wn=!Hn((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Fn={}.propertyIsEnumerable,Nn=Object.getOwnPropertyDescriptor,Un={f:Nn&&!Fn.call({1:2},1)?function(e){var t=Nn(this,e);return!!t&&t.enumerable}:Fn},qn=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},zn={}.toString,Yn=function(e){return zn.call(e).slice(8,-1)},Vn="".split,Kn=Hn((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==Yn(e)?Vn.call(e,""):Object(e)}:Object,Gn=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},Xn=function(e){return Kn(Gn(e))},Zn=function(e){return"object"==typeof e?null!==e:"function"==typeof e},Jn=function(e,t){if(!Zn(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!Zn(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!Zn(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!Zn(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")},Qn={}.hasOwnProperty,ei=function(e,t){return Qn.call(e,t)},ti=jn.document,ni=Zn(ti)&&Zn(ti.createElement),ii=function(e){return ni?ti.createElement(e):{}},ri=!Wn&&!Hn((function(){return 7!=Object.defineProperty(ii("div"),"a",{get:function(){return 7}}).a})),oi=Object.getOwnPropertyDescriptor,si={f:Wn?oi:function(e,t){if(e=Xn(e),t=Jn(t,!0),ri)try{return oi(e,t)}catch(e){}if(ei(e,t))return qn(!Un.f.call(e,t),e[t])}},ai=function(e){if(!Zn(e))throw TypeError(String(e)+" is not an object");return e},ci=Object.defineProperty,li={f:Wn?ci:function(e,t,n){if(ai(e),t=Jn(t,!0),ai(n),ri)try{return ci(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},ui=Wn?function(e,t,n){return li.f(e,t,qn(1,n))}:function(e,t,n){return e[t]=n,e},hi=function(e,t){try{ui(jn,e,t)}catch(n){jn[e]=t}return t},di=jn["__core-js_shared__"]||hi("__core-js_shared__",{}),fi=Function.toString;"function"!=typeof di.inspectSource&&(di.inspectSource=function(e){return fi.call(e)});var pi,vi,mi,_i=di.inspectSource,gi=jn.WeakMap,yi="function"==typeof gi&&/native code/.test(_i(gi)),bi=Pn((function(e){(e.exports=function(e,t){return di[e]||(di[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),wi=0,Ci=Math.random(),Si=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++wi+Ci).toString(36)},ki=bi("keys"),Ei=function(e){return ki[e]||(ki[e]=Si(e))},xi={},Ti=jn.WeakMap;if(yi){var Li=new Ti,Mi=Li.get,Oi=Li.has,Ri=Li.set;pi=function(e,t){return Ri.call(Li,e,t),t},vi=function(e){return Mi.call(Li,e)||{}},mi=function(e){return Oi.call(Li,e)}}else{var $i=Ei("state");xi[$i]=!0,pi=function(e,t){return ui(e,$i,t),t},vi=function(e){return ei(e,$i)?e[$i]:{}},mi=function(e){return ei(e,$i)}}var Ai,Di={set:pi,get:vi,has:mi,enforce:function(e){return mi(e)?vi(e):pi(e,{})},getterFor:function(e){return function(t){var n;if(!Zn(t)||(n=vi(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},Ii=Pn((function(e){var t=Di.get,n=Di.enforce,i=String(String).split("String");(e.exports=function(e,t,r,o){var s=!!o&&!!o.unsafe,a=!!o&&!!o.enumerable,c=!!o&&!!o.noTargetGet;"function"==typeof r&&("string"!=typeof t||ei(r,"name")||ui(r,"name",t),n(r).source=i.join("string"==typeof t?t:"")),e!==jn?(s?!c&&e[t]&&(a=!0):delete e[t],a?e[t]=r:ui(e,t,r)):a?e[t]=r:hi(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||_i(this)}))})),Pi=jn,Bi=function(e){return"function"==typeof e?e:void 0},ji=function(e,t){return arguments.length<2?Bi(Pi[e])||Bi(jn[e]):Pi[e]&&Pi[e][t]||jn[e]&&jn[e][t]},Hi=Math.ceil,Wi=Math.floor,Fi=function(e){return isNaN(e=+e)?0:(e>0?Wi:Hi)(e)},Ni=Math.min,Ui=function(e){return e>0?Ni(Fi(e),9007199254740991):0},qi=Math.max,zi=Math.min,Yi=function(e){return function(t,n,i){var r,o=Xn(t),s=Ui(o.length),a=function(e,t){var n=Fi(e);return n<0?qi(n+t,0):zi(n,t)}(i,s);if(e&&n!=n){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((e||a in o)&&o[a]===n)return e||a||0;return!e&&-1}},Vi={includes:Yi(!0),indexOf:Yi(!1)},Ki=Vi.indexOf,Gi=function(e,t){var n,i=Xn(e),r=0,o=[];for(n in i)!ei(xi,n)&&ei(i,n)&&o.push(n);for(;t.length>r;)ei(i,n=t[r++])&&(~Ki(o,n)||o.push(n));return o},Xi=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Zi=Xi.concat("length","prototype"),Ji={f:Object.getOwnPropertyNames||function(e){return Gi(e,Zi)}},Qi={f:Object.getOwnPropertySymbols},er=ji("Reflect","ownKeys")||function(e){var t=Ji.f(ai(e)),n=Qi.f;return n?t.concat(n(e)):t},tr=function(e,t){for(var n=er(t),i=li.f,r=si.f,o=0;o<n.length;o++){var s=n[o];ei(e,s)||i(e,s,r(t,s))}},nr=/#|\.prototype\./,ir=function(e,t){var n=or[rr(e)];return n==ar||n!=sr&&("function"==typeof t?Hn(t):!!t)},rr=ir.normalize=function(e){return String(e).replace(nr,".").toLowerCase()},or=ir.data={},sr=ir.NATIVE="N",ar=ir.POLYFILL="P",cr=ir,lr=si.f,ur=function(e,t){var n,i,r,o,s,a=e.target,c=e.global,l=e.stat;if(n=c?jn:l?jn[a]||hi(a,{}):(jn[a]||{}).prototype)for(i in t){if(o=t[i],r=e.noTargetGet?(s=lr(n,i))&&s.value:n[i],!cr(c?i:a+(l?".":"#")+i,e.forced)&&void 0!==r){if(typeof o==typeof r)continue;tr(o,r)}(e.sham||r&&r.sham)&&ui(o,"sham",!0),Ii(n,i,o,e)}},hr=!!Object.getOwnPropertySymbols&&!Hn((function(){return!String(Symbol())})),dr=hr&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,fr=bi("wks"),pr=jn.Symbol,vr=dr?pr:pr&&pr.withoutSetter||Si,mr=function(e){return ei(fr,e)||(hr&&ei(pr,e)?fr[e]=pr[e]:fr[e]=vr("Symbol."+e)),fr[e]},_r=mr("match"),gr=function(e){if(function(e){var t;return Zn(e)&&(void 0!==(t=e[_r])?!!t:"RegExp"==Yn(e))}(e))throw TypeError("The method doesn't accept regular expressions");return e},yr=mr("match"),br=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[yr]=!1,"/./"[e](t)}catch(e){}}return!1},wr=si.f,Cr="".startsWith,Sr=Math.min,kr=br("startsWith"),Er=!(kr||(Ai=wr(String.prototype,"startsWith"),!Ai||Ai.writable));ur({target:"String",proto:!0,forced:!Er&&!kr},{startsWith:function(e){var t=String(Gn(this));gr(e);var n=Ui(Sr(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return Cr?Cr.call(t,i,n):t.slice(n,n+i.length)===i}});var xr,Tr,Lr,Mr=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Or=function(e,t,n){if(Mr(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}},Rr=Function.call,$r=function(e,t,n){return Or(Rr,jn[e].prototype[t],n)},Ar=($r("String","startsWith"),function(e){return function(t,n){var i,r,o=String(Gn(t)),s=Fi(n),a=o.length;return s<0||s>=a?e?"":void 0:(i=o.charCodeAt(s))<55296||i>56319||s+1===a||(r=o.charCodeAt(s+1))<56320||r>57343?e?o.charAt(s):i:e?o.slice(s,s+2):r-56320+(i-55296<<10)+65536}}),Dr={codeAt:Ar(!1),charAt:Ar(!0)},Ir=function(e){return Object(Gn(e))},Pr=!Hn((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Br=Ei("IE_PROTO"),jr=Object.prototype,Hr=Pr?Object.getPrototypeOf:function(e){return e=Ir(e),ei(e,Br)?e[Br]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?jr:null},Wr=mr("iterator"),Fr=!1;[].keys&&("next"in(Lr=[].keys())?(Tr=Hr(Hr(Lr)))!==Object.prototype&&(xr=Tr):Fr=!0),null==xr&&(xr={}),ei(xr,Wr)||ui(xr,Wr,(function(){return this}));var Nr,Ur={IteratorPrototype:xr,BUGGY_SAFARI_ITERATORS:Fr},qr=Object.keys||function(e){return Gi(e,Xi)},zr=Wn?Object.defineProperties:function(e,t){ai(e);for(var n,i=qr(t),r=i.length,o=0;r>o;)li.f(e,n=i[o++],t[n]);return e},Yr=ji("document","documentElement"),Vr=Ei("IE_PROTO"),Kr=function(){},Gr=function(e){return"<script>"+e+"<\/script>"},Xr=function(){try{Nr=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;Xr=Nr?function(e){e.write(Gr("")),e.close();var t=e.parentWindow.Object;return e=null,t}(Nr):((t=ii("iframe")).style.display="none",Yr.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Gr("document.F=Object")),e.close(),e.F);for(var n=Xi.length;n--;)delete Xr.prototype[Xi[n]];return Xr()};xi[Vr]=!0;var Zr=Object.create||function(e,t){var n;return null!==e?(Kr.prototype=ai(e),n=new Kr,Kr.prototype=null,n[Vr]=e):n=Xr(),void 0===t?n:zr(n,t)},Jr=li.f,Qr=mr("toStringTag"),eo=function(e,t,n){e&&!ei(e=n?e:e.prototype,Qr)&&Jr(e,Qr,{configurable:!0,value:t})},to={},no=Ur.IteratorPrototype,io=function(){return this},ro=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return ai(n),function(e){if(!Zn(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(i),t?e.call(n,i):n.__proto__=i,n}}():void 0),oo=Ur.IteratorPrototype,so=Ur.BUGGY_SAFARI_ITERATORS,ao=mr("iterator"),co=function(){return this},lo=function(e,t,n,i,r,o,s){!function(e,t,n){var i=t+" Iterator";e.prototype=Zr(no,{next:qn(1,n)}),eo(e,i,!1),to[i]=io}(n,t,i);var a,c,l,u=function(e){if(e===r&&v)return v;if(!so&&e in f)return f[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},h=t+" Iterator",d=!1,f=e.prototype,p=f[ao]||f["@@iterator"]||r&&f[r],v=!so&&p||u(r),m="Array"==t&&f.entries||p;if(m&&(a=Hr(m.call(new e)),oo!==Object.prototype&&a.next&&(Hr(a)!==oo&&(ro?ro(a,oo):"function"!=typeof a[ao]&&ui(a,ao,co)),eo(a,h,!0))),"values"==r&&p&&"values"!==p.name&&(d=!0,v=function(){return p.call(this)}),f[ao]!==v&&ui(f,ao,v),to[t]=v,r)if(c={values:u("values"),keys:o?v:u("keys"),entries:u("entries")},s)for(l in c)(so||d||!(l in f))&&Ii(f,l,c[l]);else ur({target:t,proto:!0,forced:so||d},c);return c},uo=Dr.charAt,ho=Di.set,fo=Di.getterFor("String Iterator");lo(String,"String",(function(e){ho(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=fo(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=uo(n,i),t.index+=e.length,{value:e,done:!1})}));var po=function(e,t,n,i){try{return i?t(ai(n)[0],n[1]):t(n)}catch(t){var r=e.return;throw void 0!==r&&ai(r.call(e)),t}},vo=mr("iterator"),mo=Array.prototype,_o=function(e){return void 0!==e&&(to.Array===e||mo[vo]===e)},go=function(e,t,n){var i=Jn(t);i in e?li.f(e,i,qn(0,n)):e[i]=n},yo={};yo[mr("toStringTag")]="z";var bo="[object z]"===String(yo),wo=mr("toStringTag"),Co="Arguments"==Yn(function(){return arguments}()),So=bo?Yn:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),wo))?n:Co?Yn(t):"Object"==(i=Yn(t))&&"function"==typeof t.callee?"Arguments":i},ko=mr("iterator"),Eo=function(e){if(null!=e)return e[ko]||e["@@iterator"]||to[So(e)]},xo=mr("iterator"),To=!1;try{var Lo=0,Mo={next:function(){return{done:!!Lo++}},return:function(){To=!0}};Mo[xo]=function(){return this},Array.from(Mo,(function(){throw 2}))}catch(Ln){}var Oo=function(e,t){if(!t&&!To)return!1;var n=!1;try{var i={};i[xo]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n},Ro=!Oo((function(e){Array.from(e)}));ur({target:"Array",stat:!0,forced:Ro},{from:function(e){var t,n,i,r,o,s,a=Ir(e),c="function"==typeof this?this:Array,l=arguments.length,u=l>1?arguments[1]:void 0,h=void 0!==u,d=Eo(a),f=0;if(h&&(u=Or(u,l>2?arguments[2]:void 0,2)),null==d||c==Array&&_o(d))for(n=new c(t=Ui(a.length));t>f;f++)s=h?u(a[f],f):a[f],go(n,f,s);else for(o=(r=d.call(a)).next,n=new c;!(i=o.call(r)).done;f++)s=h?po(r,u,[i.value,f],!0):i.value,go(n,f,s);return n.length=f,n}}),Pi.Array.from;var $o,Ao="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Do=li.f,Io=jn.Int8Array,Po=Io&&Io.prototype,Bo=jn.Uint8ClampedArray,jo=Bo&&Bo.prototype,Ho=Io&&Hr(Io),Wo=Po&&Hr(Po),Fo=Object.prototype,No=Fo.isPrototypeOf,Uo=mr("toStringTag"),qo=Si("TYPED_ARRAY_TAG"),zo=Ao&&!!ro&&"Opera"!==So(jn.opera),Yo={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for($o in Yo)jn[$o]||(zo=!1);if((!zo||"function"!=typeof Ho||Ho===Function.prototype)&&(Ho=function(){throw TypeError("Incorrect invocation")},zo))for($o in Yo)jn[$o]&&ro(jn[$o],Ho);if((!zo||!Wo||Wo===Fo)&&(Wo=Ho.prototype,zo))for($o in Yo)jn[$o]&&ro(jn[$o].prototype,Wo);if(zo&&Hr(jo)!==Wo&&ro(jo,Wo),Wn&&!ei(Wo,Uo))for($o in Do(Wo,Uo,{get:function(){return Zn(this)?this[qo]:void 0}}),Yo)jn[$o]&&ui(jn[$o],qo,$o);var Vo=mr("species"),Ko=function(e){if(function(e){return Zn(e)&&ei(Yo,So(e))}(e))return e;throw TypeError("Target is not a typed array")},Go=function(e){if(ro){if(No.call(Ho,e))return e}else for(var t in Yo)if(ei(Yo,$o)){var n=jn[t];if(n&&(e===n||No.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},Xo=[].slice;!function(e,t,n){if(Wn){if(n)for(var i in Yo){var r=jn[i];r&&ei(r.prototype,e)&&delete r.prototype[e]}Wo[e]&&!n||Ii(Wo,e,n?t:zo&&Po[e]||t)}}("slice",(function(e,t){for(var n=Xo.call(Ko(this),e,t),i=function(e,t){var n,i=ai(e).constructor;return void 0===i||null==(n=ai(i)[Vo])?t:Mr(n)}(this,this.constructor),r=0,o=n.length,s=new(Go(i))(o);o>r;)s[r]=n[r++];return s}),Hn((function(){new Int8Array(1).slice()})));var Zo=mr("unscopables"),Jo=Array.prototype;null==Jo[Zo]&&li.f(Jo,Zo,{configurable:!0,value:Zr(null)});var Qo=function(e){Jo[Zo][e]=!0},es=Object.defineProperty,ts={},ns=function(e){throw e},is=Vi.includes,rs=function(e,t){if(ei(ts,e))return ts[e];t||(t={});var n=[][e],i=!!ei(t,"ACCESSORS")&&t.ACCESSORS,r=ei(t,0)?t[0]:ns,o=ei(t,1)?t[1]:void 0;return ts[e]=!!n&&!Hn((function(){if(i&&!Wn)return!0;var e={length:-1};i?es(e,1,{enumerable:!0,get:ns}):e[1]=1,n.call(e,r,o)}))}("indexOf",{ACCESSORS:!0,1:0});ur({target:"Array",proto:!0,forced:!rs},{includes:function(e){return is(this,e,arguments.length>1?arguments[1]:void 0)}}),Qo("includes"),$r("Array","includes"),ur({target:"String",proto:!0,forced:!br("includes")},{includes:function(e){return!!~String(Gn(this)).indexOf(gr(e),arguments.length>1?arguments[1]:void 0)}}),$r("String","includes");var os=!Hn((function(){return Object.isExtensible(Object.preventExtensions({}))})),ss=Pn((function(e){var t=li.f,n=Si("meta"),i=0,r=Object.isExtensible||function(){return!0},o=function(e){t(e,n,{value:{objectID:"O"+ ++i,weakData:{}}})},s=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!Zn(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!ei(e,n)){if(!r(e))return"F";if(!t)return"E";o(e)}return e[n].objectID},getWeakData:function(e,t){if(!ei(e,n)){if(!r(e))return!0;if(!t)return!1;o(e)}return e[n].weakData},onFreeze:function(e){return os&&s.REQUIRED&&r(e)&&!ei(e,n)&&o(e),e}};xi[n]=!0})),as=(ss.REQUIRED,ss.fastKey,ss.getWeakData,ss.onFreeze,Pn((function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,n,i,r,o){var s,a,c,l,u,h,d,f=Or(n,i,r?2:1);if(o)s=e;else{if("function"!=typeof(a=Eo(e)))throw TypeError("Target is not iterable");if(_o(a)){for(c=0,l=Ui(e.length);l>c;c++)if((u=r?f(ai(d=e[c])[0],d[1]):f(e[c]))&&u instanceof t)return u;return new t(!1)}s=a.call(e)}for(h=s.next;!(d=h.call(s)).done;)if("object"==typeof(u=po(s,f,d.value,r))&&u&&u instanceof t)return u;return new t(!1)}).stop=function(e){return new t(!0,e)}}))),cs=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},ls=function(e,t,n){for(var i in t)Ii(e,i,t[i],n);return e},us=mr("species"),hs=li.f,ds=ss.fastKey,fs=Di.set,ps=Di.getterFor,vs=(function(e,t,n){var i=-1!==e.indexOf("Map"),r=-1!==e.indexOf("Weak"),o=i?"set":"add",s=jn.Set,a=s&&s.prototype,c=s,l={},u=function(e){var t=a[e];Ii(a,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(r&&!Zn(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return r&&!Zn(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(r&&!Zn(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(cr(e,"function"!=typeof s||!(r||a.forEach&&!Hn((function(){(new s).entries().next()})))))c=n.getConstructor(t,e,i,o),ss.REQUIRED=!0;else if(cr(e,!0)){var h=new c,d=h[o](r?{}:-0,1)!=h,f=Hn((function(){h.has(1)})),p=Oo((function(e){new s(e)})),v=!r&&Hn((function(){for(var e=new s,t=5;t--;)e[o](t,t);return!e.has(-0)}));p||((c=t((function(t,n){cs(t,c,e);var r=function(e,t,n){var i,r;return ro&&"function"==typeof(i=t.constructor)&&i!==n&&Zn(r=i.prototype)&&r!==n.prototype&&ro(e,r),e}(new s,t,c);return null!=n&&as(n,r[o],r,i),r}))).prototype=a,a.constructor=c),(f||v)&&(u("delete"),u("has"),i&&u("get")),(v||d)&&u(o),r&&a.clear&&delete a.clear}l.Set=c,ur({global:!0,forced:c!=s},l),eo(c,e),r||n.setStrong(c,e,i)}("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(e,t,n,i){var r=e((function(e,o){cs(e,r,t),fs(e,{type:t,index:Zr(null),first:void 0,last:void 0,size:0}),Wn||(e.size=0),null!=o&&as(o,e[i],e,n)})),o=ps(t),s=function(e,t,n){var i,r,s=o(e),c=a(e,t);return c?c.value=n:(s.last=c={index:r=ds(t,!0),key:t,value:n,previous:i=s.last,next:void 0,removed:!1},s.first||(s.first=c),i&&(i.next=c),Wn?s.size++:e.size++,"F"!==r&&(s.index[r]=c)),e},a=function(e,t){var n,i=o(e),r=ds(t);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==t)return n};return ls(r.prototype,{clear:function(){for(var e=o(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,Wn?e.size=0:this.size=0},delete:function(e){var t=o(this),n=a(this,e);if(n){var i=n.next,r=n.previous;delete t.index[n.index],n.removed=!0,r&&(r.next=i),i&&(i.previous=r),t.first==n&&(t.first=i),t.last==n&&(t.last=r),Wn?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=o(this),i=Or(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(i(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!a(this,e)}}),ls(r.prototype,n?{get:function(e){var t=a(this,e);return t&&t.value},set:function(e,t){return s(this,0===e?0:e,t)}}:{add:function(e){return s(this,e=0===e?0:e,e)}}),Wn&&hs(r.prototype,"size",{get:function(){return o(this).size}}),r},setStrong:function(e,t,n){var i=t+" Iterator",r=ps(t),o=ps(i);lo(e,t,(function(e,t){fs(this,{type:i,target:e,state:r(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),function(e){var t=ji(e),n=li.f;Wn&&t&&!t[us]&&n(t,us,{configurable:!0,get:function(){return this}})}(t)}}),bo?{}.toString:function(){return"[object "+So(this)+"]"});bo||Ii(Object.prototype,"toString",vs,{unsafe:!0});var ms={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},_s=Di.set,gs=Di.getterFor("Array Iterator"),ys=lo(Array,"Array",(function(e,t){_s(this,{type:"Array Iterator",target:Xn(e),index:0,kind:t})}),(function(){var e=gs(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values");to.Arguments=to.Array,Qo("keys"),Qo("values"),Qo("entries");var bs=mr("iterator"),ws=mr("toStringTag"),Cs=ys.values;for(var Ss in ms){var ks=jn[Ss],Es=ks&&ks.prototype;if(Es){if(Es[bs]!==Cs)try{ui(Es,bs,Cs)}catch(Ln){Es[bs]=Cs}if(Es[ws]||ui(Es,ws,Ss),ms[Ss])for(var xs in ys)if(Es[xs]!==ys[xs])try{ui(Es,xs,ys[xs])}catch(Ln){Es[xs]=ys[xs]}}}function Ts(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}Pi.Set;var Ls=setTimeout;function Ms(e){return Boolean(e&&void 0!==e.length)}function Os(){}function Rs(e){if(!(this instanceof Rs))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Bs(e,this)}function $s(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,Rs._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void Ds(t.promise,e)}As(t.promise,i)}else(1===e._state?As:Ds)(t.promise,e._value)}))):e._deferreds.push(t)}function As(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof Rs)return e._state=3,e._value=t,void Is(e);if("function"==typeof n)return void Bs((i=n,r=t,function(){i.apply(r,arguments)}),e)}e._state=1,e._value=t,Is(e)}catch(t){Ds(e,t)}var i,r}function Ds(e,t){e._state=2,e._value=t,Is(e)}function Is(e){2===e._state&&0===e._deferreds.length&&Rs._immediateFn((function(){e._handled||Rs._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)$s(e,e._deferreds[t]);e._deferreds=null}function Ps(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function Bs(e,t){var n=!1;try{e((function(e){n||(n=!0,As(t,e))}),(function(e){n||(n=!0,Ds(t,e))}))}catch(e){if(n)return;n=!0,Ds(t,e)}}Rs.prototype.catch=function(e){return this.then(null,e)},Rs.prototype.then=function(e,t){var n=new this.constructor(Os);return $s(this,new Ps(e,t,n)),n},Rs.prototype.finally=Ts,Rs.all=function(e){return new Rs((function(t,n){if(!Ms(e))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var r=i.length;function o(e,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(t){o(e,t)}),n)}i[e]=s,0==--r&&t(i)}catch(e){n(e)}}for(var s=0;s<i.length;s++)o(s,i[s])}))},Rs.resolve=function(e){return e&&"object"==typeof e&&e.constructor===Rs?e:new Rs((function(t){t(e)}))},Rs.reject=function(e){return new Rs((function(t,n){n(e)}))},Rs.race=function(e){return new Rs((function(t,n){if(!Ms(e))return n(new TypeError("Promise.race accepts an array"));for(var i=0,r=e.length;i<r;i++)Rs.resolve(e[i]).then(t,n)}))},Rs._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){Ls(e,0)},Rs._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var js=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"Promise"in js?js.Promise.prototype.finally||(js.Promise.prototype.finally=Ts):js.Promise=Rs,function(e){function t(){}function n(e,t){if(e=void 0===e?"utf-8":e,t=void 0===t?{fatal:!1}:t,-1==i.indexOf(e.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+e+"') is invalid.");if(t.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}if(e.TextEncoder&&e.TextDecoder)return!1;var i=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),t.prototype.encode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");t=0;for(var n=e.length,i=0,r=Math.max(32,n+(n>>1)+7),o=new Uint8Array(r>>3<<3);t<n;){var s=e.charCodeAt(t++);if(55296<=s&&56319>=s){if(t<n){var a=e.charCodeAt(t);56320==(64512&a)&&(++t,s=((1023&s)<<10)+(1023&a)+65536)}if(55296<=s&&56319>=s)continue}if(i+4>o.length&&(r+=8,r=(r*=1+t/e.length*2)>>3<<3,(a=new Uint8Array(r)).set(o),o=a),0==(4294967168&s))o[i++]=s;else{if(0==(4294965248&s))o[i++]=s>>6&31|192;else if(0==(4294901760&s))o[i++]=s>>12&15|224,o[i++]=s>>6&63|128;else{if(0!=(4292870144&s))continue;o[i++]=s>>18&7|240,o[i++]=s>>12&63|128,o[i++]=s>>6&63|128}o[i++]=63&s|128}}return o.slice?o.slice(0,i):o.subarray(0,i)},Object.defineProperty(n.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(n.prototype,"fatal",{value:!1}),Object.defineProperty(n.prototype,"ignoreBOM",{value:!1}),n.prototype.decode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");e.buffer instanceof ArrayBuffer&&(e=e.buffer),e=new Uint8Array(e),t=0;for(var n=[],i=[];;){var r=t<e.length;if(!r||65536&t){if(i.push(String.fromCharCode.apply(null,n)),!r)return i.join("");n=[],e=e.subarray(t),t=0}if(0===(r=e[t++]))n.push(0);else if(0==(128&r))n.push(r);else if(192==(224&r)){var o=63&e[t++];n.push((31&r)<<6|o)}else if(224==(240&r)){o=63&e[t++];var s=63&e[t++];n.push((31&r)<<12|o<<6|s)}else 240==(248&r)&&(65535<(r=(7&r)<<18|(o=63&e[t++])<<12|(s=63&e[t++])<<6|63&e[t++])&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r))}},e.TextEncoder=t,e.TextDecoder=n}("undefined"!=typeof window?window:Dn),function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}var a=function(){function t(){e(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(t,[{key:"addEventListener",value:function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],i=0,r=n.length;i<r;i++)if(n[i]===t)return void n.splice(i,1)}},{key:"dispatchEvent",value:function(e){var t=this;if(e.type in this.listeners){for(var n=function(n){setTimeout((function(){return n.call(t,e)}))},i=this.listeners[e.type],r=0,o=i.length;r<o;r++)n(i[r]);return!e.defaultPrevented}}}]),t}(),c=function(t){function c(){var t;return e(this,c),(t=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?o(e):t}(this,i(c).call(this))).listeners||a.call(o(t)),Object.defineProperty(o(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(o(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(c,t),n(c,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),s(i(c.prototype),"dispatchEvent",this).call(this,e)}}]),c}(a),l=function(){function t(){e(this,t),Object.defineProperty(this,"signal",{value:new c,writable:!0,configurable:!0})}return n(t,[{key:"abort",value:function(){var e;try{e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(l.prototype[Symbol.toStringTag]="AbortController",c.prototype[Symbol.toStringTag]="AbortSignal"),function(e){(function(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController})(e)&&(e.AbortController=l,e.AbortSignal=c)}("undefined"!=typeof self?self:Dn)}();var Hs=Pn((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){var e=this;this.locked=new Map,this.addToLocked=function(t,n){var i=e.locked.get(t);void 0===i?void 0===n?e.locked.set(t,[]):e.locked.set(t,[n]):void 0!==n&&(i.unshift(n),e.locked.set(t,i))},this.isLocked=function(t){return e.locked.has(t)},this.lock=function(t){return new Promise((function(n,i){e.isLocked(t)?e.addToLocked(t,n):(e.addToLocked(t),n())}))},this.unlock=function(t){var n=e.locked.get(t);if(void 0!==n&&0!==n.length){var i=n.pop();e.locked.set(t,n),void 0!==i&&setTimeout(i,0)}else e.locked.delete(t)}}return e.getInstance=function(){return void 0===e.instance&&(e.instance=new e),e.instance},e}();t.default=function(){return n.getInstance()}}));In(Hs);var Ws=In(Pn((function(e,t){var n=Dn&&Dn.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(s,a)}c((i=i.apply(e,t||[])).next())}))},i=Dn&&Dn.__generator||function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function r(e){return new Promise((function(t){return setTimeout(t,e)}))}function o(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",i=0;i<e;i++)n+=t[Math.floor(Math.random()*t.length)];return n}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+o(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===e.waiters&&(e.waiters=[])}return e.prototype.acquireLock=function(t,s){return void 0===s&&(s=5e3),n(this,void 0,void 0,(function(){var n,a,c,l,u,h;return i(this,(function(i){switch(i.label){case 0:n=Date.now()+o(4),a=Date.now()+s,c="browser-tabs-lock-key-"+t,l=window.localStorage,i.label=1;case 1:return Date.now()<a?[4,r(30)]:[3,8];case 2:return i.sent(),null!==l.getItem(c)?[3,5]:(u=this.id+"-"+t+"-"+n,[4,r(Math.floor(25*Math.random()))]);case 3:return i.sent(),l.setItem(c,JSON.stringify({id:this.id,iat:n,timeoutKey:u,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,r(30)];case 4:return i.sent(),null!==(h=l.getItem(c))&&(h=JSON.parse(h)).id===this.id&&h.iat===n?(this.acquiredIatSet.add(n),this.refreshLockWhileAcquired(c,n),[2,!0]):[3,7];case 5:return e.lockCorrector(),[4,this.waitForSomethingToChange(a)];case 6:i.sent(),i.label=7;case 7:return n=Date.now()+o(4),[3,1];case 8:return[2,!1]}}))}))},e.prototype.refreshLockWhileAcquired=function(e,t){return n(this,void 0,void 0,(function(){var r=this;return i(this,(function(o){return setTimeout((function(){return n(r,void 0,void 0,(function(){var n,r;return i(this,(function(i){switch(i.label){case 0:return[4,Hs.default().lock(t)];case 1:return i.sent(),this.acquiredIatSet.has(t)?(n=window.localStorage,null===(r=n.getItem(e))?(Hs.default().unlock(t),[2]):((r=JSON.parse(r)).timeRefreshed=Date.now(),n.setItem(e,JSON.stringify(r)),Hs.default().unlock(t),this.refreshLockWhileAcquired(e,t),[2])):(Hs.default().unlock(t),[2])}}))}))}),1e3),[2]}))}))},e.prototype.waitForSomethingToChange=function(t){return n(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){var i=!1,r=Date.now(),o=!1;function s(){if(o||(window.removeEventListener("storage",s),e.removeFromWaiting(s),clearTimeout(a),o=!0),!i){i=!0;var t=50-(Date.now()-r);t>0?setTimeout(n,t):n()}}window.addEventListener("storage",s),e.addToWaiting(s);var a=setTimeout(s,Math.max(0,t-Date.now()))}))];case 1:return n.sent(),[2]}}))}))},e.addToWaiting=function(t){this.removeFromWaiting(t),void 0!==e.waiters&&e.waiters.push(t)},e.removeFromWaiting=function(t){void 0!==e.waiters&&(e.waiters=e.waiters.filter((function(e){return e!==t})))},e.notifyWaiters=function(){void 0!==e.waiters&&e.waiters.slice().forEach((function(e){return e()}))},e.prototype.releaseLock=function(e){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.releaseLock__private__(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.releaseLock__private__=function(t){return n(this,void 0,void 0,(function(){var n,r,o;return i(this,(function(i){switch(i.label){case 0:return n=window.localStorage,r="browser-tabs-lock-key-"+t,null===(o=n.getItem(r))?[2]:(o=JSON.parse(o)).id!==this.id?[3,2]:[4,Hs.default().lock(o.iat)];case 1:i.sent(),this.acquiredIatSet.delete(o.iat),n.removeItem(r),Hs.default().unlock(o.iat),e.notifyWaiters(),i.label=2;case 2:return[2]}}))}))},e.lockCorrector=function(){for(var t=Date.now()-5e3,n=window.localStorage,i=Object.keys(n),r=!1,o=0;o<i.length;o++){var s=i[o];if(s.includes("browser-tabs-lock-key")){var a=n.getItem(s);null!==a&&(void 0===(a=JSON.parse(a)).timeRefreshed&&a.timeAcquired<t||void 0!==a.timeRefreshed&&a.timeRefreshed<t)&&(n.removeItem(s),r=!0)}}r&&e.notifyWaiters()},e.waiters=void 0,e}();t.default=s}))),Fs={timeoutInSeconds:60},Ns={error:"timeout",error_description:"Timeout"},Us=function(e,t){var n,i,r,o=t.popup;if(o?o.location.href=e:(n=e,i=window.screenX+(window.innerWidth-400)/2,r=window.screenY+(window.innerHeight-600)/2,o=window.open(n,"auth0:authorize:popup","left="+i+",top="+r+",width=400,height=600,resizable,scrollbars=yes,status=1")),!o)throw new Error("Could not open popup");return new Promise((function(e,n){var i=setTimeout((function(){n(On(On({},Ns),{popup:o}))}),1e3*(t.timeoutInSeconds||60));window.addEventListener("message",(function(t){if(t.data&&"authorization_response"===t.data.type){if(clearTimeout(i),o.close(),t.data.response.error)return n(t.data.response);e(t.data.response)}}))}))},qs=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",t="";return Array.from(ea().getRandomValues(new Uint8Array(43))).forEach((function(n){return t+=e[n%e.length]})),t},zs=function(e){return btoa(e)},Ys=function(e){return Object.keys(e).filter((function(t){return void 0!==e[t]})).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},Vs=function(e){return $n(void 0,void 0,void 0,(function(){var t;return An(this,(function(n){switch(n.label){case 0:return t=ta().digest({name:"SHA-256"},(new TextEncoder).encode(e)),window.msCrypto?[2,new Promise((function(e,n){t.oncomplete=function(t){e(t.target.result)},t.onerror=function(e){n(e.error)},t.onabort=function(){n("The digest operation was aborted")}}))]:[4,t];case 1:return[2,n.sent()]}}))}))},Ks=function(e){return function(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(e.replace(/_/g,"/").replace(/-/g,"+"))},Gs=function(e){var t=new Uint8Array(e);return function(e){var t={"+":"-","/":"_","=":""};return e.replace(/[\+\/=]/g,(function(e){return t[e]}))}(window.btoa(String.fromCharCode.apply(String,Array.from(t))))},Xs=function(e,t,n,i){return $n(void 0,void 0,void 0,(function(){var r,o;return An(this,(function(s){switch(s.label){case 0:return i?(delete t.signal,[2,(l=On({url:e,timeout:n},t),u=i,new Promise((function(e,t){var n=new MessageChannel;n.port1.onmessage=function(n){n.data.error?t(new Error(n.data.error)):e(n.data)},u.postMessage(l,[n.port2])})))]):[3,1];case 1:return[4,(a=e,c=t,c=c||{},new Promise((function(e,t){var n=new XMLHttpRequest,i=[],r=[],o={},s=function(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(JSON.parse(n.responseText))},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:s,headers:{keys:function(){return i},entries:function(){return r},get:function(e){return o[e.toLowerCase()]},has:function(e){return e.toLowerCase()in o}}}};for(var l in n.open(c.method||"get",a,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){i.push(t=t.toLowerCase()),r.push([t,n]),o[t]=o[t]?o[t]+","+n:n})),e(s())},n.onerror=t,n.withCredentials="include"==c.credentials,c.headers)n.setRequestHeader(l,c.headers[l]);n.send(c.body||null)})))];case 2:return r=s.sent(),o={ok:r.ok},[4,r.json()];case 3:return[2,(o.json=s.sent(),o)]}var a,c,l,u}))}))},Zs=function(e,t,n,i){void 0===i&&(i=1e4);var r=new AbortController,o=r.signal,s=On(On({},t),{signal:o});return Promise.race([Xs(e,s,i,n),new Promise((function(e,t){setTimeout((function(){r.abort(),t(new Error("Timeout when executing 'fetch'"))}),i)}))])},Js=function(e,t,n,i){return $n(void 0,void 0,void 0,(function(){var r,o,s,a,c,l,u,h,d,f;return An(this,(function(p){switch(p.label){case 0:s=0,p.label=1;case 1:if(!(s<3))return[3,6];p.label=2;case 2:return p.trys.push([2,4,,5]),[4,Zs(e,n,i,t)];case 3:return o=p.sent(),r=null,[3,6];case 4:return a=p.sent(),r=a,[3,5];case 5:return s++,[3,1];case 6:if(r)throw r;if(c=o.json,l=c.error,u=c.error_description,h=Rn(c,["error","error_description"]),!o.ok)throw d=u||"HTTP error. Unable to fetch "+e,(f=new Error(d)).error=l||"request_error",f.error_description=d,f;return[2,h]}}))}))},Qs=function(e,t){return $n(void 0,void 0,void 0,(function(){var n=e.baseUrl,i=e.timeout,r=Rn(e,["baseUrl","timeout"]);return An(this,(function(e){switch(e.label){case 0:return[4,Js(n+"/oauth/token",i,{method:"POST",body:JSON.stringify(On({redirect_uri:window.location.origin},r)),headers:{"Content-type":"application/json"}},t)];case 1:return[2,e.sent()]}}))}))},ea=function(){return window.crypto||window.msCrypto},ta=function(){var e=ea();return e.subtle||e.webkitSubtle},na=function(e){return Array.from(new Set(e))},ia=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return na(e.join(" ").trim().split(/\s+/)).join(" ")},ra=function(e){return"@@auth0spajs@@::"+e.client_id+"::"+e.audience+"::"+e.scope},oa=function(e){var t=Math.floor(Date.now()/1e3)+e.expires_in;return{body:e,expiresAt:Math.min(t,e.decodedToken.claims.exp)-60}},sa=function(){function e(){}return e.prototype.save=function(e){var t=ra(e),n=oa(e);window.localStorage.setItem(t,JSON.stringify(n))},e.prototype.get=function(e){var t=ra(e),n=this.readJson(t),i=Math.floor(Date.now()/1e3);if(n){if(!(n.expiresAt<i))return n.body;if(n.body.refresh_token){var r=this.stripData(n);return this.writeJson(t,r),r.body}localStorage.removeItem(t)}},e.prototype.clear=function(){for(var e=localStorage.length-1;e>=0;e--)localStorage.key(e).startsWith("@@auth0spajs@@")&&localStorage.removeItem(localStorage.key(e))},e.prototype.readJson=function(e){var t,n=window.localStorage.getItem(e);if(n&&(t=JSON.parse(n)))return t},e.prototype.writeJson=function(e,t){localStorage.setItem(e,JSON.stringify(t))},e.prototype.stripData=function(e){return{body:{refresh_token:e.body.refresh_token},expiresAt:e.expiresAt}},e}(),aa=function(){this.enclosedCache=function(){var e={body:{},expiresAt:0};return{save:function(t){var n=ra(t),i=oa(t);e[n]=i},get:function(t){var n=ra(t),i=e[n],r=Math.floor(Date.now()/1e3);if(i)return i.expiresAt<r?i.body.refresh_token?(i.body={refresh_token:i.body.refresh_token},i.body):void delete e[n]:i.body},clear:function(){e={body:{},expiresAt:0}}}}()},ca=Pn((function(e,t){var n=Dn&&Dn.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function i(e,t){if(!t)return"";var n="; "+e;return!0===t?n:n+"="+t}function r(e,t,n){return encodeURIComponent(e).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(t).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(e){if("number"==typeof e.expires){var t=new Date;t.setMilliseconds(t.getMilliseconds()+864e5*e.expires),e.expires=t}return i("Expires",e.expires?e.expires.toUTCString():"")+i("Domain",e.domain)+i("Path",e.path)+i("Secure",e.secure)+i("SameSite",e.sameSite)}(n)}function o(e){for(var t={},n=e?e.split("; "):[],i=/(%[\dA-F]{2})+/gi,r=0;r<n.length;r++){var o=n[r].split("="),s=o.slice(1).join("=");'"'===s.charAt(0)&&(s=s.slice(1,-1));try{t[o[0].replace(i,decodeURIComponent)]=s.replace(i,decodeURIComponent)}catch(e){}}return t}function s(){return o(document.cookie)}function a(e,t,i){document.cookie=r(e,t,n({path:"/"},i))}t.__esModule=!0,t.encode=r,t.parse=o,t.getAll=s,t.get=function(e){return s()[e]},t.set=a,t.remove=function(e,t){a(e,"",n(n({},t),{expires:-1}))}}));In(ca),ca.encode,ca.parse;var la=ca.getAll,ua=ca.get,ha=ca.set,da=ca.remove,fa=function(e){var t=ua(e);if(void 0!==t)return JSON.parse(t)},pa=function(e,t,n){ha(e,JSON.stringify(t),{expires:n.daysUntilExpire})},va=function(e){da(e)},ma=function(e){return"a0.spajs.txs."+e},_a=function(){function e(){var e=this;this.transactions={},Object.keys(la()||{}).filter((function(e){return e.startsWith("a0.spajs.txs.")})).forEach((function(t){var n=t.replace("a0.spajs.txs.","");e.transactions[n]=fa(t)}))}return e.prototype.create=function(e,t){this.transactions[e]=t,pa(ma(e),t,{daysUntilExpire:1})},e.prototype.get=function(e){return this.transactions[e]},e.prototype.remove=function(e){delete this.transactions[e],va(ma(e))},e}(),ga=function(e){return"number"==typeof e},ya=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],ba=function(e){function t(n,i,r,o){void 0===o&&(o=null);var s=e.call(this,n,i)||this;return s.state=r,s.appState=o,Object.setPrototypeOf(s,t.prototype),s}return Mn(t,e),t}(function(e){function t(n,i){var r=e.call(this,i)||this;return r.error=n,r.error_description=i,Object.setPrototypeOf(r,t.prototype),r}return Mn(t,e),t}(Error));var wa,Ca=("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwovKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UKdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUKTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKClRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRApXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLApNRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULgoKU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zCmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8KdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsdD0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWZvcih2YXIgbyBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHIoZSxyKXt2YXIgdCxuLG8scyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBzPXtuZXh0OmkoMCksdGhyb3c6aSgxKSxyZXR1cm46aSgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKHNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscztmdW5jdGlvbiBpKHMpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYodCl0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYodD0xLG4mJihvPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgobz1uLnJldHVybikmJm8uY2FsbChuKSwwKTpuLm5leHQpJiYhKG89by5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKG49MCxvJiYocz1bMiZzWzBdLG8udmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOm89czticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXthPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighb3x8c1sxXT5vWzBdJiZzWzFdPG9bM10pKXthLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89czticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKHMpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1zPXIuY2FsbChlLGEpfWNhdGNoKGUpe3M9WzYsZV0sbj0wfWZpbmFsbHl7dD1vPTB9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJue3ZhbHVlOnNbMF0/c1sxXTp2b2lkIDAsZG9uZTohMH19KFtzLGldKX19fXZhciB0O2FkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLChmdW5jdGlvbihuKXt2YXIgbyxzLGEsaSx1LGwsYyxmLHA7cmV0dXJuIGw9dm9pZCAwLGM9dm9pZCAwLHA9ZnVuY3Rpb24oKXt2YXIgbCxjLGYscCxoLHksYjtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOm89bi5kYXRhLHM9by51cmwsYT1vLnRpbWVvdXQsaT1mdW5jdGlvbihlLHIpe3ZhciB0PXt9O2Zvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiZyLmluZGV4T2Yobik8MCYmKHRbbl09ZVtuXSk7aWYobnVsbCE9ZSYmImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPTA7Zm9yKG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtvPG4ubGVuZ3RoO28rKylyLmluZGV4T2YobltvXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsbltvXSkmJih0W25bb11dPWVbbltvXV0pfXJldHVybiB0fShvLFsidXJsIiwidGltZW91dCJdKSx1PW4ucG9ydHNbMF0sci5sYWJlbD0xO2Nhc2UgMTppZihyLnRyeXMucHVzaChbMSw3LCw4XSksIShjPUpTT04ucGFyc2UoaS5ib2R5KSkucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09Yy5ncmFudF90eXBlKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoIlRoZSB3ZWIgd29ya2VyIGlzIG1pc3NpbmcgdGhlIHJlZnJlc2ggdG9rZW4iKTtpLmJvZHk9SlNPTi5zdHJpbmdpZnkoZShlKHt9LGMpLHtyZWZyZXNoX3Rva2VuOnR9KSl9Zj1uZXcgQWJvcnRDb250cm9sbGVyLHA9Zi5zaWduYWwsaD12b2lkIDAsci5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gci50cnlzLnB1c2goWzIsNCwsNV0pLFs0LFByb21pc2UucmFjZShbKHY9YSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHNldFRpbWVvdXQoZSx2KX0pKSksZmV0Y2gocyxlKGUoe30saSkse3NpZ25hbDpwfSkpXSldO2Nhc2UgMzpyZXR1cm4gaD1yLnNlbnQoKSxbMyw1XTtjYXNlIDQ6cmV0dXJuIHk9ci5zZW50KCksdS5wb3N0TWVzc2FnZSh7ZXJyb3I6eS5tZXNzYWdlfSksWzJdO2Nhc2UgNTpyZXR1cm4gaD9bNCxoLmpzb24oKV06KGYuYWJvcnQoKSxbMl0pO2Nhc2UgNjpyZXR1cm4obD1yLnNlbnQoKSkucmVmcmVzaF90b2tlbj8odD1sLnJlZnJlc2hfdG9rZW4sZGVsZXRlIGwucmVmcmVzaF90b2tlbik6dD1udWxsLHUucG9zdE1lc3NhZ2Uoe29rOmgub2ssanNvbjpsfSksWzMsOF07Y2FzZSA3OnJldHVybiBiPXIuc2VudCgpLHUucG9zdE1lc3NhZ2Uoe29rOiExLGpzb246e2Vycm9yX2Rlc2NyaXB0aW9uOmIubWVzc2FnZX19KSxbMyw4XTtjYXNlIDg6cmV0dXJuWzJdfXZhciB2fSkpfSxuZXcoKGY9dm9pZCAwKXx8KGY9UHJvbWlzZSkpKChmdW5jdGlvbihlLHIpe2Z1bmN0aW9uIHQoZSl7dHJ5e28ocC5uZXh0KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBuKGUpe3RyeXtvKHAudGhyb3coZSkpfWNhdGNoKGUpe3IoZSl9fWZ1bmN0aW9uIG8ocil7ci5kb25lP2Uoci52YWx1ZSk6bmV3IGYoKGZ1bmN0aW9uKGUpe2Uoci52YWx1ZSl9KSkudGhlbih0LG4pfW8oKHA9cC5hcHBseShsLGN8fFtdKSkubmV4dCgpKX0pKX0pKTsKCg==",null,!1,function(e){return wa=wa||function(e,t,n){var i=void 0===t?null:t,r=function(e,t){var n=atob(e);if(t){for(var i=new Uint8Array(n.length),r=0,o=n.length;r<o;++r)i[r]=n.charCodeAt(r);return String.fromCharCode.apply(null,new Uint16Array(i.buffer))}return n}(e,void 0!==n&&n),o=r.indexOf("\n",10)+1,s=r.substring(o)+(i?"//# sourceMappingURL="+i:""),a=new Blob([s],{type:"application/javascript"});return URL.createObjectURL(a)}("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwovKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UKdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUKTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKClRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRApXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLApNRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULgoKU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zCmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8KdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsdD0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWZvcih2YXIgbyBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHIoZSxyKXt2YXIgdCxuLG8scyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBzPXtuZXh0OmkoMCksdGhyb3c6aSgxKSxyZXR1cm46aSgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKHNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscztmdW5jdGlvbiBpKHMpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYodCl0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYodD0xLG4mJihvPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgobz1uLnJldHVybikmJm8uY2FsbChuKSwwKTpuLm5leHQpJiYhKG89by5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKG49MCxvJiYocz1bMiZzWzBdLG8udmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOm89czticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXthPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighb3x8c1sxXT5vWzBdJiZzWzFdPG9bM10pKXthLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89czticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKHMpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1zPXIuY2FsbChlLGEpfWNhdGNoKGUpe3M9WzYsZV0sbj0wfWZpbmFsbHl7dD1vPTB9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJue3ZhbHVlOnNbMF0/c1sxXTp2b2lkIDAsZG9uZTohMH19KFtzLGldKX19fXZhciB0O2FkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLChmdW5jdGlvbihuKXt2YXIgbyxzLGEsaSx1LGwsYyxmLHA7cmV0dXJuIGw9dm9pZCAwLGM9dm9pZCAwLHA9ZnVuY3Rpb24oKXt2YXIgbCxjLGYscCxoLHksYjtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOm89bi5kYXRhLHM9by51cmwsYT1vLnRpbWVvdXQsaT1mdW5jdGlvbihlLHIpe3ZhciB0PXt9O2Zvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiZyLmluZGV4T2Yobik8MCYmKHRbbl09ZVtuXSk7aWYobnVsbCE9ZSYmImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPTA7Zm9yKG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtvPG4ubGVuZ3RoO28rKylyLmluZGV4T2YobltvXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsbltvXSkmJih0W25bb11dPWVbbltvXV0pfXJldHVybiB0fShvLFsidXJsIiwidGltZW91dCJdKSx1PW4ucG9ydHNbMF0sci5sYWJlbD0xO2Nhc2UgMTppZihyLnRyeXMucHVzaChbMSw3LCw4XSksIShjPUpTT04ucGFyc2UoaS5ib2R5KSkucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09Yy5ncmFudF90eXBlKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoIlRoZSB3ZWIgd29ya2VyIGlzIG1pc3NpbmcgdGhlIHJlZnJlc2ggdG9rZW4iKTtpLmJvZHk9SlNPTi5zdHJpbmdpZnkoZShlKHt9LGMpLHtyZWZyZXNoX3Rva2VuOnR9KSl9Zj1uZXcgQWJvcnRDb250cm9sbGVyLHA9Zi5zaWduYWwsaD12b2lkIDAsci5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gci50cnlzLnB1c2goWzIsNCwsNV0pLFs0LFByb21pc2UucmFjZShbKHY9YSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHNldFRpbWVvdXQoZSx2KX0pKSksZmV0Y2gocyxlKGUoe30saSkse3NpZ25hbDpwfSkpXSldO2Nhc2UgMzpyZXR1cm4gaD1yLnNlbnQoKSxbMyw1XTtjYXNlIDQ6cmV0dXJuIHk9ci5zZW50KCksdS5wb3N0TWVzc2FnZSh7ZXJyb3I6eS5tZXNzYWdlfSksWzJdO2Nhc2UgNTpyZXR1cm4gaD9bNCxoLmpzb24oKV06KGYuYWJvcnQoKSxbMl0pO2Nhc2UgNjpyZXR1cm4obD1yLnNlbnQoKSkucmVmcmVzaF90b2tlbj8odD1sLnJlZnJlc2hfdG9rZW4sZGVsZXRlIGwucmVmcmVzaF90b2tlbik6dD1udWxsLHUucG9zdE1lc3NhZ2Uoe29rOmgub2ssanNvbjpsfSksWzMsOF07Y2FzZSA3OnJldHVybiBiPXIuc2VudCgpLHUucG9zdE1lc3NhZ2Uoe29rOiExLGpzb246e2Vycm9yX2Rlc2NyaXB0aW9uOmIubWVzc2FnZX19KSxbMyw4XTtjYXNlIDg6cmV0dXJuWzJdfXZhciB2fSkpfSxuZXcoKGY9dm9pZCAwKXx8KGY9UHJvbWlzZSkpKChmdW5jdGlvbihlLHIpe2Z1bmN0aW9uIHQoZSl7dHJ5e28ocC5uZXh0KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBuKGUpe3RyeXtvKHAudGhyb3coZSkpfWNhdGNoKGUpe3IoZSl9fWZ1bmN0aW9uIG8ocil7ci5kb25lP2Uoci52YWx1ZSk6bmV3IGYoKGZ1bmN0aW9uKGUpe2Uoci52YWx1ZSl9KSkudGhlbih0LG4pfW8oKHA9cC5hcHBseShsLGN8fFtdKSkubmV4dCgpKX0pKX0pKTsKCg==",null,!1),new Worker(wa,e)}),Sa=new Ws,ka={memory:function(){return(new aa).enclosedCache},localstorage:function(){return new sa}},Ea=function(e){return ka[e]},xa=function(){function e(e){var t,n;if(this.options=e,function(){if(!ea())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===ta())throw new Error("\n      auth0-spa-js must run on a secure origin.\n      See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin \n      for more information.\n    ")}(),this.cacheLocation=e.cacheLocation||"memory",!Ea(this.cacheLocation))throw new Error('Invalid cache location "'+this.cacheLocation+'"');this.cache=Ea(this.cacheLocation)(),this.scope=this.options.scope,this.transactionManager=new _a,this.domainUrl="https://"+this.options.domain,this.tokenIssuer=this.options.issuer?"https://"+this.options.issuer+"/":this.domainUrl+"/",this.defaultScope=ia("openid",void 0!==(null===(n=null===(t=this.options)||void 0===t?void 0:t.advancedOptions)||void 0===n?void 0:n.defaultScope)?this.options.advancedOptions.defaultScope:"openid profile email"),this.options.useRefreshTokens&&(this.scope=ia(this.scope,"offline_access")),window.Worker&&this.options.useRefreshTokens&&"memory"===this.cacheLocation&&!/Trident.*rv:11\.0/.test(navigator.userAgent)&&(this.worker=new Ca)}return e.prototype._url=function(e){var t=encodeURIComponent(btoa(JSON.stringify({name:"auth0-spa-js",version:"1.8.1"})));return""+this.domainUrl+e+"&auth0Client="+t},e.prototype._getParams=function(e,t,n,i,r){var o=this.options,s=(o.domain,o.leeway,o.useRefreshTokens,o.cacheLocation,o.advancedOptions,Rn(o,["domain","leeway","useRefreshTokens","cacheLocation","advancedOptions"]));return On(On(On({},s),e),{scope:ia(this.defaultScope,this.scope,e.scope),response_type:"code",response_mode:"query",state:t,nonce:n,redirect_uri:r||this.options.redirect_uri,code_challenge:i,code_challenge_method:"S256"})},e.prototype._authorizeUrl=function(e){return this._url("/authorize?"+Ys(e))},e.prototype._verifyIdToken=function(e,t){return function(e){if(!e.id_token)throw new Error("ID token is required but missing");var t=function(e){var t=e.split("."),n=t[0],i=t[1],r=t[2];if(3!==t.length||!n||!i||!r)throw new Error("ID token could not be decoded");var o=JSON.parse(Ks(i)),s={__raw:e},a={};return Object.keys(o).forEach((function(e){s[e]=o[e],ya.includes(e)||(a[e]=o[e])})),{encoded:{header:n,payload:i,signature:r},header:JSON.parse(Ks(n)),claims:s,user:a}}(e.id_token);if(!t.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(t.claims.iss!==e.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'+e.iss+'", found "'+t.claims.iss+'"');if(!t.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==t.header.alg)throw new Error('Signature algorithm of "'+t.header.alg+'" is not supported. Expected the ID token to be signed with "RS256".');if(!t.claims.aud||"string"!=typeof t.claims.aud&&!Array.isArray(t.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+e.aud+'" but was not one of "'+t.claims.aud.join(", ")+'"');if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(t.claims.azp!==e.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'+e.aud+'", found "'+t.claims.azp+'"')}}else if(t.claims.aud!==e.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+e.aud+'" but found "'+t.claims.aud+'"');if(e.nonce){if(!t.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(t.claims.nonce!==e.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'+e.nonce+'", found "'+t.claims.nonce+'"')}if(e.max_age&&!ga(t.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(!ga(t.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!ga(t.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");var n=e.leeway||60,i=new Date,r=new Date(0),o=new Date(0),s=new Date(0);if(s.setUTCSeconds((parseInt(t.claims.auth_time)+e.max_age)/1e3+n),r.setUTCSeconds(t.claims.exp+n),o.setUTCSeconds(t.claims.nbf-n),i>r)throw new Error("Expiration Time (exp) claim error in the ID token; current time ("+i+") is after expiration time ("+r+")");if(ga(t.claims.nbf)&&i<o)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time ("+i+") is before "+o);if(ga(t.claims.auth_time)&&i>s)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time ("+i+") is after last auth at "+s);return t}({iss:this.tokenIssuer,aud:this.options.client_id,id_token:e,nonce:t,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age)})},e.prototype._parseNumber=function(e){return"string"!=typeof e?e:parseInt(e,10)||void 0},e.prototype.buildAuthorizeUrl=function(e){return void 0===e&&(e={}),$n(this,void 0,void 0,(function(){var t,n,i,r,o,s,a,c,l,u,h;return An(this,(function(d){switch(d.label){case 0:return t=e.redirect_uri,n=e.appState,i=Rn(e,["redirect_uri","appState"]),r=zs(qs()),o=zs(qs()),s=qs(),[4,Vs(s)];case 1:return a=d.sent(),c=Gs(a),l=e.fragment?"#"+e.fragment:"",u=this._getParams(i,r,o,c,t),h=this._authorizeUrl(u),this.transactionManager.create(r,{nonce:o,code_verifier:s,appState:n,scope:u.scope,audience:u.audience||"default",redirect_uri:u.redirect_uri}),[2,h+l]}}))}))},e.prototype.loginWithPopup=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),$n(this,void 0,void 0,(function(){var n,i,r,o,s,a,c,l,u,h,d,f;return An(this,(function(p){switch(p.label){case 0:return n=Rn(e,[]),i=zs(qs()),r=zs(qs()),o=qs(),[4,Vs(o)];case 1:return s=p.sent(),a=Gs(s),c=this._getParams(n,i,r,a,this.options.redirect_uri||window.location.origin),l=this._authorizeUrl(On(On({},c),{response_mode:"web_message"})),[4,Us(l,On(On({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}))];case 2:if(u=p.sent(),i!==u.state)throw new Error("Invalid state");return[4,Qs({baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:o,code:u.code,grant_type:"authorization_code",redirect_uri:c.redirect_uri},this.worker)];case 3:return h=p.sent(),d=this._verifyIdToken(h.id_token,r),f=On(On({},h),{decodedToken:d,scope:c.scope,audience:c.audience||"default",client_id:this.options.client_id}),this.cache.save(f),pa("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2]}}))}))},e.prototype.getUser=function(e){return void 0===e&&(e={audience:this.options.audience||"default",scope:this.scope||this.defaultScope}),$n(this,void 0,void 0,(function(){var t;return An(this,(function(n){return e.scope=ia(this.defaultScope,e.scope),[2,(t=this.cache.get(On({client_id:this.options.client_id},e)))&&t.decodedToken&&t.decodedToken.user]}))}))},e.prototype.getIdTokenClaims=function(e){return void 0===e&&(e={audience:this.options.audience||"default",scope:this.scope||this.defaultScope}),$n(this,void 0,void 0,(function(){var t;return An(this,(function(n){return e.scope=ia(this.defaultScope,this.scope,e.scope),[2,(t=this.cache.get(On({client_id:this.options.client_id},e)))&&t.decodedToken&&t.decodedToken.claims]}))}))},e.prototype.loginWithRedirect=function(e){return void 0===e&&(e={}),$n(this,void 0,void 0,(function(){var t;return An(this,(function(n){switch(n.label){case 0:return[4,this.buildAuthorizeUrl(e)];case 1:return t=n.sent(),window.location.assign(t),[2]}}))}))},e.prototype.handleRedirectCallback=function(e){return void 0===e&&(e=window.location.href),$n(this,void 0,void 0,(function(){var t,n,i,r,o,s,a,c,l,u,h;return An(this,(function(d){switch(d.label){case 0:if(0===(t=e.split("?").slice(1)).length)throw new Error("There are no query params available for parsing.");if(n=function(e){e.indexOf("#")>-1&&(e=e.substr(0,e.indexOf("#")));var t=e.split("&"),n={};return t.forEach((function(e){var t=e.split("="),i=t[0],r=t[1];n[i]=decodeURIComponent(r)})),On(On({},n),{expires_in:parseInt(n.expires_in)})}(t.join("")),i=n.state,r=n.code,o=n.error,s=n.error_description,!(a=this.transactionManager.get(i)))throw new Error("Invalid state");if(o)throw this.transactionManager.remove(i),new ba(o,s,i,a.appState);return this.transactionManager.remove(i),c={baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:a.code_verifier,grant_type:"authorization_code",code:r},void 0!==a.redirect_uri&&(c.redirect_uri=a.redirect_uri),[4,Qs(c,this.worker)];case 1:return l=d.sent(),u=this._verifyIdToken(l.id_token,a.nonce),h=On(On({},l),{decodedToken:u,audience:a.audience,scope:a.scope,client_id:this.options.client_id}),this.cache.save(h),pa("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2,{appState:a.appState}]}}))}))},e.prototype.getTokenSilently=function(e){return void 0===e&&(e={}),$n(this,void 0,void 0,(function(){var t,n,i,r,o,s;return An(this,(function(a){switch(a.label){case 0:t=On({audience:this.options.audience,scope:ia(this.defaultScope,this.scope,e.scope),ignoreCache:!1},e),n=t.ignoreCache,i=Rn(t,["ignoreCache"]),a.label=1;case 1:return a.trys.push([1,7,8,10]),!n&&(r=this.cache.get({scope:i.scope,audience:i.audience||"default",client_id:this.options.client_id}))&&r.access_token?[2,r.access_token]:[4,Sa.acquireLock("auth0.lock.getTokenSilently",5e3)];case 2:return a.sent(),!this.options.useRefreshTokens||e.audience?[3,4]:[4,this._getTokenUsingRefreshToken(i)];case 3:return s=a.sent(),[3,6];case 4:return[4,this._getTokenFromIFrame(i)];case 5:s=a.sent(),a.label=6;case 6:return o=s,this.cache.save(On({client_id:this.options.client_id},o)),pa("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2,o.access_token];case 7:throw a.sent();case 8:return[4,Sa.releaseLock("auth0.lock.getTokenSilently")];case 9:return a.sent(),[7];case 10:return[2]}}))}))},e.prototype.getTokenWithPopup=function(e,t){return void 0===e&&(e={audience:this.options.audience,scope:this.scope||this.defaultScope}),void 0===t&&(t=Fs),$n(this,void 0,void 0,(function(){return An(this,(function(n){switch(n.label){case 0:return e.scope=ia(this.defaultScope,this.scope,e.scope),[4,this.loginWithPopup(e,t)];case 1:return n.sent(),[2,this.cache.get({scope:e.scope,audience:e.audience||"default",client_id:this.options.client_id}).access_token]}}))}))},e.prototype.isAuthenticated=function(){return $n(this,void 0,void 0,(function(){return An(this,(function(e){switch(e.label){case 0:return[4,this.getUser()];case 1:return[2,!!e.sent()]}}))}))},e.prototype.logout=function(e){void 0===e&&(e={}),null!==e.client_id?e.client_id=e.client_id||this.options.client_id:delete e.client_id;var t=e.federated,n=e.localOnly,i=Rn(e,["federated","localOnly"]);if(n&&t)throw new Error("It is invalid to set both the `federated` and `localOnly` options to `true`");if(this.cache.clear(),va("auth0.is.authenticated"),!n){var r=t?"&federated":"",o=this._url("/v2/logout?"+Ys(i));window.location.assign(""+o+r)}},e.prototype._getTokenFromIFrame=function(e){return $n(this,void 0,void 0,(function(){var t,n,i,r,o,s,a,c,l,u,h;return An(this,(function(d){switch(d.label){case 0:return t=zs(qs()),n=zs(qs()),i=qs(),[4,Vs(i)];case 1:return r=d.sent(),o=Gs(r),s=this._getParams(e,t,n,o,e.redirect_uri||this.options.redirect_uri||window.location.origin),a=this._authorizeUrl(On(On({},s),{prompt:"none",response_mode:"web_message"})),c=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,[4,(f=a,p=this.domainUrl,v=c,void 0===v&&(v=60),new Promise((function(e,t){var n=window.document.createElement("iframe");n.setAttribute("width","0"),n.setAttribute("height","0"),n.style.display="none";var i=function(){window.document.body.contains(n)&&window.document.body.removeChild(n)},r=setTimeout((function(){t(Ns),i()}),1e3*v),o=function(n){if(n.origin==p&&n.data&&"authorization_response"===n.data.type){var s=n.source;s&&s.close(),n.data.response.error?t(n.data.response):e(n.data.response),clearTimeout(r),window.removeEventListener("message",o,!1),setTimeout(i,2e3)}};window.addEventListener("message",o,!1),window.document.body.appendChild(n),n.setAttribute("src",f)})))];case 2:if(l=d.sent(),t!==l.state)throw new Error("Invalid state");return[4,Qs({baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:i,code:l.code,grant_type:"authorization_code",redirect_uri:s.redirect_uri},this.worker)];case 3:return u=d.sent(),h=this._verifyIdToken(u.id_token,n),[2,On(On({},u),{decodedToken:h,scope:s.scope,audience:s.audience||"default"})]}var f,p,v}))}))},e.prototype._getTokenUsingRefreshToken=function(e){return $n(this,void 0,void 0,(function(){var t,n,i,r,o;return An(this,(function(s){switch(s.label){case 0:return e.scope=ia(this.defaultScope,this.scope,e.scope),(t=this.cache.get({scope:e.scope,audience:e.audience||"default",client_id:this.options.client_id}))&&t.refresh_token||this.worker?[3,2]:[4,this._getTokenFromIFrame(e)];case 1:return[2,s.sent()];case 2:n=e.redirect_uri||this.options.redirect_uri||window.location.origin,s.label=3;case 3:return s.trys.push([3,5,,8]),[4,Qs({baseUrl:this.domainUrl,client_id:this.options.client_id,grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:n},this.worker)];case 4:return i=s.sent(),[3,8];case 5:return"The web worker is missing the refresh token"!==(r=s.sent()).message?[3,7]:[4,this._getTokenFromIFrame(e)];case 6:return[2,s.sent()];case 7:throw r;case 8:return o=this._verifyIdToken(i.id_token),[2,On(On({},i),{decodedToken:o,scope:e.scope,audience:e.audience||"default"})]}}))}))},e}();const Ta=Ve(!0),La=Ve(!1),Ma=Ve(""),Oa=Ve({}),Ra=Ve(null),$a={};function Aa(e){let t=null,n=void 0;F(async()=>{t=await function(e){return $n(this,void 0,void 0,(function(){var t,n;return An(this,(function(i){switch(i.label){case 0:if("memory"===(t=new xa(e)).cacheLocation&&!fa("auth0.is.authenticated"))return[2,t];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.getTokenSilently()];case 2:return i.sent(),[3,4];case 3:if("login_required"!==(n=i.sent()).error)throw n;return[3,4];case 4:return[2,t]}}))}))}(e);const i=new URLSearchParams(window.location.search);i.has("error")&&Ra.set(new Error(i.get("error_description"))),i.has("code")&&(await t.handleRedirectCallback(),window.history.replaceState({},document.title,"/"),Ra.set(null));const r=await t.isAuthenticated();if(La.set(r),r){Oa.set(await t.getUser());const i=await t.getTokenSilently(e.audience);console.log("GET TOKEN SILENTLY "+i),Ma.set(i),n=setInterval(async()=>{Ma.set(await t.getTokenSilently(e.audience))},36e6)}return Ta.set(!1),()=>{n&&clearInterval(n)}});const i={isLoading:Ta,isAuthenticated:La,authToken:Ma,authError:Ra,login:async e=>{await t.loginWithRedirect({redirect_uri:e||window.location.origin,prompt:"login"})},logout:async()=>{t.logout({returnTo:window.location.origin})},userInfo:Oa};return z($a,i),i}function Da(){return Y($a)}var Ia=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}},Pa=Object.prototype.toString;function Ba(e){return"[object Array]"===Pa.call(e)}function ja(e){return void 0===e}function Ha(e){return null!==e&&"object"==typeof e}function Wa(e){return"[object Function]"===Pa.call(e)}function Fa(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),Ba(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}var Na={isArray:Ba,isArrayBuffer:function(e){return"[object ArrayBuffer]"===Pa.call(e)},isBuffer:function(e){return null!==e&&!ja(e)&&null!==e.constructor&&!ja(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:Ha,isUndefined:ja,isDate:function(e){return"[object Date]"===Pa.call(e)},isFile:function(e){return"[object File]"===Pa.call(e)},isBlob:function(e){return"[object Blob]"===Pa.call(e)},isFunction:Wa,isStream:function(e){return Ha(e)&&Wa(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:Fa,merge:function e(){var t={};function n(n,i){"object"==typeof t[i]&&"object"==typeof n?t[i]=e(t[i],n):t[i]=n}for(var i=0,r=arguments.length;i<r;i++)Fa(arguments[i],n);return t},deepMerge:function e(){var t={};function n(n,i){"object"==typeof t[i]&&"object"==typeof n?t[i]=e(t[i],n):t[i]="object"==typeof n?e({},n):n}for(var i=0,r=arguments.length;i<r;i++)Fa(arguments[i],n);return t},extend:function(e,t,n){return Fa(t,(function(t,i){e[i]=n&&"function"==typeof t?Ia(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}};function Ua(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var qa=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(Na.isURLSearchParams(t))i=t.toString();else{var r=[];Na.forEach(t,(function(e,t){null!=e&&(Na.isArray(e)?t+="[]":e=[e],Na.forEach(e,(function(e){Na.isDate(e)?e=e.toISOString():Na.isObject(e)&&(e=JSON.stringify(e)),r.push(Ua(t)+"="+Ua(e))})))})),i=r.join("&")}if(i){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e};function za(){this.handlers=[]}za.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},za.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},za.prototype.forEach=function(e){Na.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var Ya=za,Va=function(e,t,n){return Na.forEach(n,(function(n){e=n(e,t)})),e},Ka=function(e){return!(!e||!e.__CANCEL__)},Ga=function(e,t){Na.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))},Xa=function(e,t,n,i,r){return function(e,t,n,i,r){return e.config=t,n&&(e.code=n),e.request=i,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}(new Error(e),t,n,i,r)},Za=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Ja=Na.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=Na.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},Qa=Na.isStandardBrowserEnv()?{write:function(e,t,n,i,r,o){var s=[];s.push(e+"="+encodeURIComponent(t)),Na.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Na.isString(i)&&s.push("path="+i),Na.isString(r)&&s.push("domain="+r),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},ec=function(e){return new Promise((function(t,n){var i=e.data,r=e.headers;Na.isFormData(i)&&delete r["Content-Type"];var o=new XMLHttpRequest;if(e.auth){var s=e.auth.username||"",a=e.auth.password||"";r.Authorization="Basic "+btoa(s+":"+a)}var c,l,u=(c=e.baseURL,l=e.url,c&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(l)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(c,l):l);if(o.open(e.method.toUpperCase(),qa(u,e.params,e.paramsSerializer),!0),o.timeout=e.timeout,o.onreadystatechange=function(){if(o&&4===o.readyState&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in o?function(e){var t,n,i,r={};return e?(Na.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=Na.trim(e.substr(0,i)).toLowerCase(),n=Na.trim(e.substr(i+1)),t){if(r[t]&&Za.indexOf(t)>=0)return;r[t]="set-cookie"===t?(r[t]?r[t]:[]).concat([n]):r[t]?r[t]+", "+n:n}})),r):r}(o.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?o.response:o.responseText,status:o.status,statusText:o.statusText,headers:i,config:e,request:o};!function(e,t,n){var i=n.config.validateStatus;!i||i(n.status)?e(n):t(Xa("Request failed with status code "+n.status,n.config,null,n.request,n))}(t,n,r),o=null}},o.onabort=function(){o&&(n(Xa("Request aborted",e,"ECONNABORTED",o)),o=null)},o.onerror=function(){n(Xa("Network Error",e,null,o)),o=null},o.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(Xa(t,e,"ECONNABORTED",o)),o=null},Na.isStandardBrowserEnv()){var h=Qa,d=(e.withCredentials||Ja(u))&&e.xsrfCookieName?h.read(e.xsrfCookieName):void 0;d&&(r[e.xsrfHeaderName]=d)}if("setRequestHeader"in o&&Na.forEach(r,(function(e,t){void 0===i&&"content-type"===t.toLowerCase()?delete r[t]:o.setRequestHeader(t,e)})),Na.isUndefined(e.withCredentials)||(o.withCredentials=!!e.withCredentials),e.responseType)try{o.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&o.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&o.upload&&o.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){o&&(o.abort(),n(e),o=null)})),void 0===i&&(i=null),o.send(i)}))},tc={"Content-Type":"application/x-www-form-urlencoded"};function nc(e,t){!Na.isUndefined(e)&&Na.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var ic,rc={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(ic=ec),ic),transformRequest:[function(e,t){return Ga(t,"Accept"),Ga(t,"Content-Type"),Na.isFormData(e)||Na.isArrayBuffer(e)||Na.isBuffer(e)||Na.isStream(e)||Na.isFile(e)||Na.isBlob(e)?e:Na.isArrayBufferView(e)?e.buffer:Na.isURLSearchParams(e)?(nc(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Na.isObject(e)?(nc(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};rc.headers={common:{Accept:"application/json, text/plain, */*"}},Na.forEach(["delete","get","head"],(function(e){rc.headers[e]={}})),Na.forEach(["post","put","patch"],(function(e){rc.headers[e]=Na.merge(tc)}));var oc=rc;function sc(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var ac=function(e){return sc(e),e.headers=e.headers||{},e.data=Va(e.data,e.headers,e.transformRequest),e.headers=Na.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Na.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||oc.adapter)(e).then((function(t){return sc(e),t.data=Va(t.data,t.headers,e.transformResponse),t}),(function(t){return Ka(t)||(sc(e),t&&t.response&&(t.response.data=Va(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},cc=function(e,t){t=t||{};var n={},i=["url","method","params","data"],r=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];Na.forEach(i,(function(e){void 0!==t[e]&&(n[e]=t[e])})),Na.forEach(r,(function(i){Na.isObject(t[i])?n[i]=Na.deepMerge(e[i],t[i]):void 0!==t[i]?n[i]=t[i]:Na.isObject(e[i])?n[i]=Na.deepMerge(e[i]):void 0!==e[i]&&(n[i]=e[i])})),Na.forEach(o,(function(i){void 0!==t[i]?n[i]=t[i]:void 0!==e[i]&&(n[i]=e[i])}));var s=i.concat(r).concat(o),a=Object.keys(t).filter((function(e){return-1===s.indexOf(e)}));return Na.forEach(a,(function(i){void 0!==t[i]?n[i]=t[i]:void 0!==e[i]&&(n[i]=e[i])})),n};function lc(e){this.defaults=e,this.interceptors={request:new Ya,response:new Ya}}lc.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=cc(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[ac,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},lc.prototype.getUri=function(e){return e=cc(this.defaults,e),qa(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},Na.forEach(["delete","get","head","options"],(function(e){lc.prototype[e]=function(t,n){return this.request(Na.merge(n||{},{method:e,url:t}))}})),Na.forEach(["post","put","patch"],(function(e){lc.prototype[e]=function(t,n,i){return this.request(Na.merge(i||{},{method:e,url:t,data:n}))}}));var uc=lc;function hc(e){this.message=e}hc.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},hc.prototype.__CANCEL__=!0;var dc=hc;function fc(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new dc(e),t(n.reason))}))}fc.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},fc.source=function(){var e;return{token:new fc((function(t){e=t})),cancel:e}};var pc=fc;function vc(e){var t=new uc(e),n=Ia(uc.prototype.request,t);return Na.extend(n,uc.prototype,t),Na.extend(n,t),n}var mc=vc(oc);mc.Axios=uc,mc.create=function(e){return vc(cc(mc.defaults,e))},mc.Cancel=dc,mc.CancelToken=pc,mc.isCancel=Ka,mc.all=function(e){return Promise.all(e)},mc.spread=function(e){return function(t){return e.apply(null,t)}};var _c=mc,gc=mc;_c.default=gc;var yc=_c;function bc(e,t){const n=setInterval(e,t);U(()=>{clearInterval(n)})}const wc="https://talesofapirate.com/api";function Cc(e,t,n,i){yc.post(wc+"/newcharacter",t,{mode:"no-cors",credentials:"same-origin",headers:{Authorization:"Bearer "+e}}).then(e=>n(e.data)).catch(e=>i(e))}function Sc(e,t,n){yc.get(wc+"/characters",{mode:"no-cors",credentials:"same-origin",headers:{Authorization:"Bearer "+e}}).then(e=>t(e.data)).catch(e=>n(e))}function kc(e,t){yc.get(wc+"/templates/characters",{mode:"no-cors",credentials:"same-origin"}).then(t=>e(t.data)).catch(e=>t(e))}const{console:Ec}=he,xc="src/characters/CharacterCreator.svelte";function Tc(e,t,n){const i=e.slice();return i[23]=t[n],i}function Lc(e){let t,n,i,r,o=e[2];Te(o);let s=[];for(let t=0;t<o.length;t+=1)s[t]=Mc(Tc(e,o,t));const c=e=>ue(s[e],1,1,()=>{s[e]=null}),l={c:function(){t=S("p"),t.textContent="Select a template which fits you most, you can change starting\n        attributes as well",n=x(),i=S("div");for(let e=0;e<s.length;e+=1)s[e].c();a(t,xc,89,6,1905),ke(i,"class","row"),a(i,xc,93,6,2024)},m:function(e,o){we(e,t,o),we(e,n,o),we(e,i,o);for(let e=0;e<s.length;e+=1)s[e].m(i,null);r=!0},p:function(e,t){if(12&t){let n;for(o=e[2],Te(o),n=0;n<o.length;n+=1){const r=Tc(e,o,n);s[n]?(s[n].p(r,t),le(s[n],1)):(s[n]=Mc(r),s[n].c(),le(s[n],1),s[n].m(i,null))}for(ae(),n=o.length;n<s.length;n+=1)c(n);ce()}},i:function(e){if(!r){for(let e=0;e<o.length;e+=1)le(s[e]);r=!0}},o:function(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)ue(s[e]);r=!1},d:function(e){e&&Ce(t),e&&Ce(n),e&&Ce(i),C(s,e)}};return ye("SvelteRegisterBlock",{block:l,id:Lc.name,type:"if",source:"(89:4) {#if !$store.templateSelected}",ctx:e}),l}function Mc(e){let t,n,i;function r(...t){return e[20](e[23],...t)}const o=new Tn({props:{name:e[23].name,description:e[23].description,created:e[23].created,attributes:e[23].attributes,templateId:e[23].templateId,callback:r},$$inline:!0}),s={c:function(){t=S("div"),pe(o.$$.fragment),n=x(),ke(t,"class","col s4"),a(t,xc,95,10,2092)},m:function(e,r){we(e,t,r),ve(o,t,null),be(t,n),i=!0},p:function(t,n){e=t;const i={};4&n&&(i.name=e[23].name),4&n&&(i.description=e[23].description),4&n&&(i.created=e[23].created),4&n&&(i.attributes=e[23].attributes),4&n&&(i.templateId=e[23].templateId),4&n&&(i.callback=r),o.$set(i)},i:function(e){i||(le(o.$$.fragment,e),i=!0)},o:function(e){ue(o.$$.fragment,e),i=!1},d:function(e){e&&Ce(t),me(o)}};return ye("SvelteRegisterBlock",{block:s,id:Mc.name,type:"each",source:"(95:8) {#each $templates as character}",ctx:e}),s}function Oc(e){let t,n;const i=new Tn({props:{name:e[1].name,description:e[1].description,created:e[1].character.created,attributes:e[1].character.attributes},$$inline:!0}),r={c:function(){t=S("div"),pe(i.$$.fragment),ke(t,"class","col s4"),a(t,xc,120,8,2914)},m:function(e,r){we(e,t,r),ve(i,t,null),n=!0},p:function(e,t){const n={};2&t&&(n.name=e[1].name),2&t&&(n.description=e[1].description),2&t&&(n.created=e[1].character.created),2&t&&(n.attributes=e[1].character.attributes),i.$set(n)},i:function(e){n||(le(i.$$.fragment,e),n=!0)},o:function(e){ue(i.$$.fragment,e),n=!1},d:function(e){e&&Ce(t),me(i)}};return ye("SvelteRegisterBlock",{block:r,id:Oc.name,type:"if",source:"(120:6) {#if $store.templateSelected}",ctx:e}),r}function Rc(e){let t,n,i,r,o,s,c,l,h,d,f,p,v,m,_,g,y,b,w,C,k,E,T,L,M=!e[1].templateSelected&&Lc(e),O=e[1].templateSelected&&Oc(e);const R={c:function(){t=S("div"),n=S("div"),i=S("h4"),i.textContent="Create new Character",r=x(),M&&M.c(),o=x(),s=S("div"),O&&O.c(),c=x(),l=S("div"),h=S("div"),d=S("input"),f=x(),p=S("label"),p.textContent="Name",v=x(),m=S("div"),_=S("input"),g=x(),y=S("label"),y.textContent="Description",b=x(),w=S("div"),C=S("button"),C.textContent="Cancel",k=x(),E=S("button"),E.textContent="Create",a(i,xc,86,4,1833),ke(d,"id","name"),ke(d,"type","text"),ke(d,"class","validate svelte-zc7mv9"),a(d,xc,132,10,3260),ke(p,"for","name"),ke(p,"class","active"),a(p,xc,138,10,3404),ke(h,"class","input-field"),a(h,xc,131,8,3224),ke(_,"id","description"),ke(_,"type","text"),ke(_,"class","svelte-zc7mv9"),a(_,xc,142,10,3510),ke(y,"for","description"),ke(y,"class","active"),a(y,xc,147,10,3639),ke(m,"class","input-field"),a(m,xc,141,8,3474),ke(l,"class","col s8"),a(l,xc,129,6,3194),ke(s,"class","row"),a(s,xc,118,4,2852),ke(n,"class","modal-content"),a(n,xc,85,2,1801),ke(C,"href","#!"),ke(C,"class","modal-close waves-effect waves-red btn"),a(C,xc,153,4,3780),ke(E,"href","#!"),ke(E,"class","modal-close waves-effect waves-green btn"),a(E,xc,159,4,3900),ke(w,"class","modal-footer"),a(w,xc,152,2,3749),ke(t,"id","modal1"),ke(t,"class","modal svelte-zc7mv9"),a(t,xc,84,0,1767)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(a,S,x){we(a,t,S),be(t,n),be(n,i),be(n,r),M&&M.m(n,null),be(n,o),be(n,s),O&&O.m(s,null),be(s,c),be(s,l),be(l,h),be(h,d),A(d,e[1].name),be(h,f),be(h,p),be(l,v),be(l,m),be(m,_),A(_,e[1].description),be(m,g),be(m,y),be(t,b),be(t,w),be(w,C),be(w,k),be(w,E),T=!0,x&&u(L),L=[Se(d,"input",e[21]),Se(_,"input",e[22]),Se(E,"click",e[9],!1,!1,!1)]},p:function(e,[t]){e[1].templateSelected?M&&(ae(),ue(M,1,1,()=>{M=null}),ce()):M?(M.p(e,t),2&t&&le(M,1)):(M=Lc(e),M.c(),le(M,1),M.m(n,o)),e[1].templateSelected?O?(O.p(e,t),2&t&&le(O,1)):(O=Oc(e),O.c(),le(O,1),O.m(s,c)):O&&(ae(),ue(O,1,1,()=>{O=null}),ce()),2&t&&d.value!==e[1].name&&A(d,e[1].name),2&t&&_.value!==e[1].description&&A(_,e[1].description)},i:function(e){T||(le(M),le(O),T=!0)},o:function(e){ue(M),ue(O),T=!1},d:function(e){e&&Ce(t),M&&M.d(),O&&O.d(),u(L)}};return ye("SvelteRegisterBlock",{block:R,id:Rc.name,type:"component",source:"",ctx:e}),R}function $c(e,t,n){let i,r,o,s,a,c,l,u=[],h=[];const d=Ve({templateSelected:!1,selectedTemplate:0,character:{},name:"unnamed",description:"Describe your new character"});f(d,"store"),v(e,d,e=>n(1,c=e));const{isLoading:p,isAuthenticated:m,login:_,logout:g,authToken:y,authError:b,userInfo:w}=Da();f(p,"isLoading"),v(e,p,e=>n(11,i=e)),f(m,"isAuthenticated"),v(e,m,e=>n(12,r=e)),f(y,"authToken"),v(e,y,e=>n(15,a=e)),f(b,"authError"),v(e,b,e=>n(13,o=e)),f(w,"userInfo"),v(e,w,e=>n(14,s=e));const C=()=>{const e={name:c.name,description:c.description,templateId:c.selectedTemplate};Cc(a,e,e=>console.log("Created character "+e.id),e=>console.log(e))};F(async()=>{document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".modal");M.Modal.init(e,{})})),kc(e=>{S.set(e)},e=>{console.log(e)})});const S=Ve([]);f(S,"templates"),v(e,S,e=>n(2,l=e));const k=[];Object.keys(t).forEach(e=>{~k.indexOf(e)||"$$"===e.slice(0,2)||Ec.warn(`<CharacterCreator> was created with unknown prop '${e}'`)});let{$$slots:E={},$$scope:x}=t;Le("CharacterCreator",E,[]);let T;return e.$capture_state=()=>({CharacterTemplate:Tn,onMount:F,writable:Ve,createAuth:Aa,getAuth:Da,axios:yc,onInterval:bc,getCharacterTemplates:kc,createNewCharacter:Cc,data:u,topTen:h,store:d,isLoading:p,isAuthenticated:m,login:_,logout:g,authToken:y,authError:b,userInfo:w,create:C,templates:S,state:T,$isLoading:i,$isAuthenticated:r,$authError:o,$userInfo:s,$authToken:a,$store:c,$templates:l}),e.$inject_state=e=>{"data"in e&&(u=e.data),"topTen"in e&&(h=e.topTen),"state"in e&&n(0,T=e.state)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{63488&e.$$.dirty&&n(0,T={isLoading:i,isAuthenticated:r,authError:o,userInfo:s?s.name:null,authToken:a.slice(0,20)})},[T,c,l,d,p,m,y,b,w,C,S,i,r,o,s,a,u,h,_,g,(e,t)=>{d.update(n=>(n.templateSelected=!0,n.selectedTemplate=t,n.character=e,n.name=e.name,n.description=e.description,n))},function(){c.name=this.value,d.set(c)},function(){c.description=this.value,d.set(c)}]}class Ac extends Me{constructor(e){super(e),ge(this,e,$c,Rc,d,{}),ye("SvelteRegisterComponent",{component:this,tagName:"CharacterCreator",options:e,id:Rc.name})}}var Dc=n(i((function(e,t){window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=33)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.forwardEvent=t.EventEmitter=void 0;var i=function(){function e(){this._listeners=[],this._disposed=!1}return Object.defineProperty(e.prototype,"event",{get:function(){var e=this;return this._event||(this._event=function(t){return e._listeners.push(t),{dispose:function(){if(!e._disposed)for(var n=0;n<e._listeners.length;n++)if(e._listeners[n]===t)return void e._listeners.splice(n,1)}}}),this._event},enumerable:!1,configurable:!0}),e.prototype.fire=function(e,t){for(var n=[],i=0;i<this._listeners.length;i++)n.push(this._listeners[i]);for(i=0;i<n.length;i++)n[i].call(void 0,e,t)},e.prototype.dispose=function(){this._listeners&&(this._listeners.length=0),this._disposed=!0},e}();t.EventEmitter=i,t.forwardEvent=function(e,t){return e((function(e){return t.fire(e)}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.IUnicodeService=t.IOptionsService=t.ILogService=t.IInstantiationService=t.IDirtyRowService=t.ICharsetService=t.ICoreService=t.ICoreMouseService=t.IBufferService=void 0;var i=n(14);t.IBufferService=i.createDecorator("BufferService"),t.ICoreMouseService=i.createDecorator("CoreMouseService"),t.ICoreService=i.createDecorator("CoreService"),t.ICharsetService=i.createDecorator("CharsetService"),t.IDirtyRowService=i.createDecorator("DirtyRowService"),t.IInstantiationService=i.createDecorator("InstantiationService"),t.ILogService=i.createDecorator("LogService"),t.IOptionsService=i.createDecorator("OptionsService"),t.IUnicodeService=i.createDecorator("UnicodeService")},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getDisposeArrayDisposable=t.disposeArray=t.Disposable=void 0;var i=function(){function e(){this._disposables=[],this._isDisposed=!1}return e.prototype.dispose=function(){this._isDisposed=!0,this._disposables.forEach((function(e){return e.dispose()})),this._disposables.length=0},e.prototype.register=function(e){return this._disposables.push(e),e},e.prototype.unregister=function(e){var t=this._disposables.indexOf(e);-1!==t&&this._disposables.splice(t,1)},e}();function r(e){e.forEach((function(e){return e.dispose()})),e.length=0}t.Disposable=i,t.disposeArray=r,t.getDisposeArrayDisposable=function(e){return{dispose:function(){return r(e)}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.WHITESPACE_CELL_CODE=t.WHITESPACE_CELL_WIDTH=t.WHITESPACE_CELL_CHAR=t.NULL_CELL_CODE=t.NULL_CELL_WIDTH=t.NULL_CELL_CHAR=t.CHAR_DATA_CODE_INDEX=t.CHAR_DATA_WIDTH_INDEX=t.CHAR_DATA_CHAR_INDEX=t.CHAR_DATA_ATTR_INDEX=t.DEFAULT_ATTR=t.DEFAULT_COLOR=void 0,t.DEFAULT_COLOR=256,t.DEFAULT_ATTR=256|t.DEFAULT_COLOR<<9,t.CHAR_DATA_ATTR_INDEX=0,t.CHAR_DATA_CHAR_INDEX=1,t.CHAR_DATA_WIDTH_INDEX=2,t.CHAR_DATA_CODE_INDEX=3,t.NULL_CELL_CHAR="",t.NULL_CELL_WIDTH=1,t.NULL_CELL_CODE=0,t.WHITESPACE_CELL_CHAR=" ",t.WHITESPACE_CELL_WIDTH=1,t.WHITESPACE_CELL_CODE=32},function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CellData=void 0;var o=n(8),s=n(3),a=n(6),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=0,t.fg=0,t.bg=0,t.extended=new a.ExtendedAttrs,t.combinedData="",t}return r(t,e),t.fromCharData=function(e){var n=new t;return n.setFromCharData(e),n},t.prototype.isCombined=function(){return 2097152&this.content},t.prototype.getWidth=function(){return this.content>>22},t.prototype.getChars=function(){return 2097152&this.content?this.combinedData:2097151&this.content?o.stringFromCodePoint(2097151&this.content):""},t.prototype.getCode=function(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content},t.prototype.setFromCharData=function(e){this.fg=e[s.CHAR_DATA_ATTR_INDEX],this.bg=0;var t=!1;if(e[s.CHAR_DATA_CHAR_INDEX].length>2)t=!0;else if(2===e[s.CHAR_DATA_CHAR_INDEX].length){var n=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=n&&n<=56319){var i=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=i&&i<=57343?this.content=1024*(n-55296)+i-56320+65536|e[s.CHAR_DATA_WIDTH_INDEX]<<22:t=!0}else t=!0}else this.content=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|e[s.CHAR_DATA_WIDTH_INDEX]<<22;t&&(this.combinedData=e[s.CHAR_DATA_CHAR_INDEX],this.content=2097152|e[s.CHAR_DATA_WIDTH_INDEX]<<22)},t.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},t}(a.AttributeData);t.CellData=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ISoundService=t.ISelectionService=t.IRenderService=t.IMouseService=t.ICoreBrowserService=t.ICharSizeService=void 0;var i=n(14);t.ICharSizeService=i.createDecorator("CharSizeService"),t.ICoreBrowserService=i.createDecorator("CoreBrowserService"),t.IMouseService=i.createDecorator("MouseService"),t.IRenderService=i.createDecorator("RenderService"),t.ISelectionService=i.createDecorator("SelectionService"),t.ISoundService=i.createDecorator("SoundService")},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedAttrs=t.AttributeData=void 0;var i=function(){function e(){this.fg=0,this.bg=0,this.extended=new r}return e.toColorRGB=function(e){return[e>>>16&255,e>>>8&255,255&e]},e.fromColorRGB=function(e){return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},e.prototype.clone=function(){var t=new e;return t.fg=this.fg,t.bg=this.bg,t.extended=this.extended.clone(),t},e.prototype.isInverse=function(){return 67108864&this.fg},e.prototype.isBold=function(){return 134217728&this.fg},e.prototype.isUnderline=function(){return 268435456&this.fg},e.prototype.isBlink=function(){return 536870912&this.fg},e.prototype.isInvisible=function(){return 1073741824&this.fg},e.prototype.isItalic=function(){return 67108864&this.bg},e.prototype.isDim=function(){return 134217728&this.bg},e.prototype.getFgColorMode=function(){return 50331648&this.fg},e.prototype.getBgColorMode=function(){return 50331648&this.bg},e.prototype.isFgRGB=function(){return 50331648==(50331648&this.fg)},e.prototype.isBgRGB=function(){return 50331648==(50331648&this.bg)},e.prototype.isFgPalette=function(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)},e.prototype.isBgPalette=function(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)},e.prototype.isFgDefault=function(){return 0==(50331648&this.fg)},e.prototype.isBgDefault=function(){return 0==(50331648&this.bg)},e.prototype.isAttributeDefault=function(){return 0===this.fg&&0===this.bg},e.prototype.getFgColor=function(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}},e.prototype.getBgColor=function(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}},e.prototype.hasExtendedAttrs=function(){return 268435456&this.bg},e.prototype.updateExtended=function(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456},e.prototype.getUnderlineColor=function(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()},e.prototype.getUnderlineColorMode=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()},e.prototype.isUnderlineColorRGB=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()},e.prototype.isUnderlineColorPalette=function(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()},e.prototype.isUnderlineColorDefault=function(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()},e.prototype.getUnderlineStyle=function(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0},e}();t.AttributeData=i;var r=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=-1),this.underlineStyle=e,this.underlineColor=t}return e.prototype.clone=function(){return new e(this.underlineStyle,this.underlineColor)},e.prototype.isEmpty=function(){return 0===this.underlineStyle},e}();t.ExtendedAttrs=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.addDisposableDomListener=void 0,t.addDisposableDomListener=function(e,t,n,i){e.addEventListener(t,n,i);var r=!1;return{dispose:function(){r||(r=!0,e.removeEventListener(t,n,i))}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Utf8ToUtf32=t.StringToUtf32=t.utf32ToString=t.stringFromCodePoint=void 0,t.stringFromCodePoint=function(e){return e>65535?(e-=65536,String.fromCharCode(55296+(e>>10))+String.fromCharCode(e%1024+56320)):String.fromCharCode(e)},t.utf32ToString=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.length);for(var i="",r=t;r<n;++r){var o=e[r];o>65535?(o-=65536,i+=String.fromCharCode(55296+(o>>10))+String.fromCharCode(o%1024+56320)):i+=String.fromCharCode(o)}return i};var i=function(){function e(){this._interim=0}return e.prototype.clear=function(){this._interim=0},e.prototype.decode=function(e,t){var n=e.length;if(!n)return 0;var i=0,r=0;this._interim&&(56320<=(a=e.charCodeAt(r++))&&a<=57343?t[i++]=1024*(this._interim-55296)+a-56320+65536:(t[i++]=this._interim,t[i++]=a),this._interim=0);for(var o=r;o<n;++o){var s=e.charCodeAt(o);if(55296<=s&&s<=56319){if(++o>=n)return this._interim=s,i;var a;56320<=(a=e.charCodeAt(o))&&a<=57343?t[i++]=1024*(s-55296)+a-56320+65536:(t[i++]=s,t[i++]=a)}else t[i++]=s}return i},e}();t.StringToUtf32=i;var r=function(){function e(){this.interim=new Uint8Array(3)}return e.prototype.clear=function(){this.interim.fill(0)},e.prototype.decode=function(e,t){var n=e.length;if(!n)return 0;var i,r,o,s,a=0,c=0,l=0;if(this.interim[0]){var u=!1,h=this.interim[0];h&=192==(224&h)?31:224==(240&h)?15:7;for(var d=0,f=void 0;(f=63&this.interim[++d])&&d<4;)h<<=6,h|=f;for(var p=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,v=p-d;l<v;){if(l>=n)return 0;if(128!=(192&(f=e[l++]))){l--,u=!0;break}this.interim[d++]=f,h<<=6,h|=63&f}u||(2===p?h<128?l--:t[a++]=h:3===p?h<2048||h>=55296&&h<=57343||(t[a++]=h):h<65536||h>1114111||(t[a++]=h)),this.interim.fill(0)}for(var m=n-4,_=l;_<n;){for(;!(!(_<m)||128&(i=e[_])||128&(r=e[_+1])||128&(o=e[_+2])||128&(s=e[_+3]));)t[a++]=i,t[a++]=r,t[a++]=o,t[a++]=s,_+=4;if((i=e[_++])<128)t[a++]=i;else if(192==(224&i)){if(_>=n)return this.interim[0]=i,a;if(128!=(192&(r=e[_++]))){_--;continue}if((c=(31&i)<<6|63&r)<128){_--;continue}t[a++]=c}else if(224==(240&i)){if(_>=n)return this.interim[0]=i,a;if(128!=(192&(r=e[_++]))){_--;continue}if(_>=n)return this.interim[0]=i,this.interim[1]=r,a;if(128!=(192&(o=e[_++]))){_--;continue}if((c=(15&i)<<12|(63&r)<<6|63&o)<2048||c>=55296&&c<=57343)continue;t[a++]=c}else if(240==(248&i)){if(_>=n)return this.interim[0]=i,a;if(128!=(192&(r=e[_++]))){_--;continue}if(_>=n)return this.interim[0]=i,this.interim[1]=r,a;if(128!=(192&(o=e[_++]))){_--;continue}if(_>=n)return this.interim[0]=i,this.interim[1]=r,this.interim[2]=o,a;if(128!=(192&(s=e[_++]))){_--;continue}if((c=(7&i)<<18|(63&r)<<12|(63&o)<<6|63&s)<65536||c>1114111)continue;t[a++]=c}}return a},e}();t.Utf8ToUtf32=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CHAR_ATLAS_CELL_SPACING=t.DIM_OPACITY=t.INVERTED_DEFAULT_COLOR=void 0,t.INVERTED_DEFAULT_COLOR=257,t.DIM_OPACITY=.5,t.CHAR_ATLAS_CELL_SPACING=1},function(e,t,n){var i,r,o,s;function a(e){var t=e.toString(16);return t.length<2?"0"+t:t}function c(e,t){return e<t?(t+.05)/(e+.05):(e+.05)/(t+.05)}Object.defineProperty(t,"__esModule",{value:!0}),t.contrastRatio=t.toPaddedHex=t.rgba=t.rgb=t.css=t.color=t.channels=void 0,function(e){e.toCss=function(e,t,n,i){return void 0!==i?"#"+a(e)+a(t)+a(n)+a(i):"#"+a(e)+a(t)+a(n)},e.toRgba=function(e,t,n,i){return void 0===i&&(i=255),(e<<24|t<<16|n<<8|i)>>>0}}(i=t.channels||(t.channels={})),(r=t.color||(t.color={})).blend=function(e,t){var n=(255&t.rgba)/255;if(1===n)return{css:t.css,rgba:t.rgba};var r=t.rgba>>24&255,o=t.rgba>>16&255,s=t.rgba>>8&255,a=e.rgba>>24&255,c=e.rgba>>16&255,l=e.rgba>>8&255,u=a+Math.round((r-a)*n),h=c+Math.round((o-c)*n),d=l+Math.round((s-l)*n);return{css:i.toCss(u,h,d),rgba:i.toRgba(u,h,d)}},r.ensureContrastRatio=function(e,t,n){var i=s.ensureContrastRatio(e.rgba,t.rgba,n);if(i)return s.toColor(i>>24&255,i>>16&255,i>>8&255)},r.opaque=function(e){var t=(255|e.rgba)>>>0,n=s.toChannels(t),r=n[0],o=n[1],a=n[2];return{css:i.toCss(r,o,a),rgba:t}},(t.css||(t.css={})).toColor=function(e){return{css:e,rgba:(parseInt(e.slice(1),16)<<8|255)>>>0}},function(e){function t(e,t,n){var i=e/255,r=t/255,o=n/255;return.2126*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))+.7152*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))+.0722*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))}e.relativeLuminance=function(e){return t(e>>16&255,e>>8&255,255&e)},e.relativeLuminance2=t}(o=t.rgb||(t.rgb={})),function(e){function t(e,t,n){for(var i=e>>24&255,r=e>>16&255,s=e>>8&255,a=t>>24&255,l=t>>16&255,u=t>>8&255,h=c(o.relativeLuminance2(a,u,l),o.relativeLuminance2(i,r,s));h<n&&(a>0||l>0||u>0);)a-=Math.max(0,Math.ceil(.1*a)),l-=Math.max(0,Math.ceil(.1*l)),u-=Math.max(0,Math.ceil(.1*u)),h=c(o.relativeLuminance2(a,u,l),o.relativeLuminance2(i,r,s));return(a<<24|l<<16|u<<8|255)>>>0}function n(e,t,n){for(var i=e>>24&255,r=e>>16&255,s=e>>8&255,a=t>>24&255,l=t>>16&255,u=t>>8&255,h=c(o.relativeLuminance2(a,u,l),o.relativeLuminance2(i,r,s));h<n&&(a<255||l<255||u<255);)a=Math.min(255,a+Math.ceil(.1*(255-a))),l=Math.min(255,l+Math.ceil(.1*(255-l))),u=Math.min(255,u+Math.ceil(.1*(255-u))),h=c(o.relativeLuminance2(a,u,l),o.relativeLuminance2(i,r,s));return(a<<24|l<<16|u<<8|255)>>>0}e.ensureContrastRatio=function(e,i,r){var s=o.relativeLuminance(e>>8),a=o.relativeLuminance(i>>8);if(c(s,a)<r)return a<s?t(e,i,r):n(e,i,r)},e.reduceLuminance=t,e.increaseLuminance=n,e.toChannels=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},e.toColor=function(e,t,n){return{css:i.toCss(e,t,n),rgba:i.toRgba(e,t,n)}}}(s=t.rgba||(t.rgba={})),t.toPaddedHex=a,t.contrastRatio=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isLinux=t.isWindows=t.isIphone=t.isIpad=t.isMac=t.isSafari=t.isFirefox=void 0;var i="undefined"==typeof navigator,r=i?"node":navigator.userAgent,o=i?"node":navigator.platform;function s(e,t){return e.indexOf(t)>=0}t.isFirefox=!!~r.indexOf("Firefox"),t.isSafari=/^((?!chrome|android).)*safari/i.test(r),t.isMac=s(["Macintosh","MacIntel","MacPPC","Mac68K"],o),t.isIpad="iPad"===o,t.isIphone="iPhone"===o,t.isWindows=s(["Windows","Win16","Win32","WinCE"],o),t.isLinux=o.indexOf("Linux")>=0},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.C1=t.C0=void 0,function(e){e.NUL="\0",e.SOH="",e.STX="",e.ETX="",e.EOT="",e.ENQ="",e.ACK="",e.BEL="",e.BS="\b",e.HT="\t",e.LF="\n",e.VT="\v",e.FF="\f",e.CR="\r",e.SO="",e.SI="",e.DLE="",e.DC1="",e.DC2="",e.DC3="",e.DC4="",e.NAK="",e.SYN="",e.ETB="",e.CAN="",e.EM="",e.SUB="",e.ESC="",e.FS="",e.GS="",e.RS="",e.US="",e.SP=" ",e.DEL=""}(t.C0||(t.C0={})),function(e){e.PAD="",e.HOP="",e.BPH="",e.NBH="",e.IND="",e.NEL="",e.SSA="",e.ESA="",e.HTS="",e.HTJ="",e.VTS="",e.PLD="",e.PLU="",e.RI="",e.SS2="",e.SS3="",e.DCS="",e.PU1="",e.PU2="",e.STS="",e.CCH="",e.MW="",e.SPA="",e.EPA="",e.SOS="",e.SGCI="",e.SCI="",e.CSI="",e.ST="",e.OSC="",e.PM="",e.APC=""}(t.C1||(t.C1={}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BaseRenderLayer=void 0;var i=n(3),r=n(9),o=n(24),s=n(6),a=n(27),c=n(10),l=function(){function e(e,t,n,i,r,o,s,a){this._container=e,this._alpha=i,this._colors=r,this._rendererId=o,this._bufferService=s,this._optionsService=a,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._currentGlyphIdentifier={chars:"",code:0,bg:0,fg:0,bold:!1,dim:!1,italic:!1},this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-"+t+"-layer"),this._canvas.style.zIndex=n.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return e.prototype.dispose=function(){var e,t;null===(e=this._canvas.parentElement)||void 0===e||e.removeChild(this._canvas),null===(t=this._charAtlas)||void 0===t||t.dispose()},e.prototype._initCanvas=function(){this._ctx=a.throwIfFalsy(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()},e.prototype.onOptionsChanged=function(){},e.prototype.onBlur=function(){},e.prototype.onFocus=function(){},e.prototype.onCursorMove=function(){},e.prototype.onGridChanged=function(e,t){},e.prototype.onSelectionChanged=function(e,t,n){},e.prototype.setColors=function(e){this._refreshCharAtlas(e)},e.prototype._setTransparency=function(e){if(e!==this._alpha){var t=this._canvas;this._alpha=e,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,t),this._refreshCharAtlas(this._colors),this.onGridChanged(0,this._bufferService.rows-1)}},e.prototype._refreshCharAtlas=function(e){this._scaledCharWidth<=0&&this._scaledCharHeight<=0||(this._charAtlas=o.acquireCharAtlas(this._optionsService.options,this._rendererId,e,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},e.prototype.resize=function(e){this._scaledCellWidth=e.scaledCellWidth,this._scaledCellHeight=e.scaledCellHeight,this._scaledCharWidth=e.scaledCharWidth,this._scaledCharHeight=e.scaledCharHeight,this._scaledCharLeft=e.scaledCharLeft,this._scaledCharTop=e.scaledCharTop,this._canvas.width=e.scaledCanvasWidth,this._canvas.height=e.scaledCanvasHeight,this._canvas.style.width=e.canvasWidth+"px",this._canvas.style.height=e.canvasHeight+"px",this._alpha||this._clearAll(),this._refreshCharAtlas(this._colors)},e.prototype._fillCells=function(e,t,n,i){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,n*this._scaledCellWidth,i*this._scaledCellHeight)},e.prototype._fillBottomLineAtCells=function(e,t,n){void 0===n&&(n=1),this._ctx.fillRect(e*this._scaledCellWidth,(t+1)*this._scaledCellHeight-window.devicePixelRatio-1,n*this._scaledCellWidth,window.devicePixelRatio)},e.prototype._fillLeftLineAtCell=function(e,t,n){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,window.devicePixelRatio*n,this._scaledCellHeight)},e.prototype._strokeRectAtCell=function(e,t,n,i){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(e*this._scaledCellWidth+window.devicePixelRatio/2,t*this._scaledCellHeight+window.devicePixelRatio/2,n*this._scaledCellWidth-window.devicePixelRatio,i*this._scaledCellHeight-window.devicePixelRatio)},e.prototype._clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},e.prototype._clearCells=function(e,t,n,i){this._alpha?this._ctx.clearRect(e*this._scaledCellWidth,t*this._scaledCellHeight,n*this._scaledCellWidth,i*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,n*this._scaledCellWidth,i*this._scaledCellHeight))},e.prototype._fillCharTrueColor=function(e,t,n){this._ctx.font=this._getFont(!1,!1),this._ctx.textBaseline="middle",this._clipRow(n),this._ctx.fillText(e.getChars(),t*this._scaledCellWidth+this._scaledCharLeft,n*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight/2)},e.prototype._drawChars=function(e,t,n){var o,s,a=this._getContrastColor(e);a||e.isFgRGB()||e.isBgRGB()?this._drawUncachedChars(e,t,n,a):(e.isInverse()?(o=e.isBgDefault()?r.INVERTED_DEFAULT_COLOR:e.getBgColor(),s=e.isFgDefault()?r.INVERTED_DEFAULT_COLOR:e.getFgColor()):(s=e.isBgDefault()?i.DEFAULT_COLOR:e.getBgColor(),o=e.isFgDefault()?i.DEFAULT_COLOR:e.getFgColor()),o+=this._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&o<8?8:0,this._currentGlyphIdentifier.chars=e.getChars()||i.WHITESPACE_CELL_CHAR,this._currentGlyphIdentifier.code=e.getCode()||i.WHITESPACE_CELL_CODE,this._currentGlyphIdentifier.bg=s,this._currentGlyphIdentifier.fg=o,this._currentGlyphIdentifier.bold=!!e.isBold(),this._currentGlyphIdentifier.dim=!!e.isDim(),this._currentGlyphIdentifier.italic=!!e.isItalic(),this._charAtlas&&this._charAtlas.draw(this._ctx,this._currentGlyphIdentifier,t*this._scaledCellWidth+this._scaledCharLeft,n*this._scaledCellHeight+this._scaledCharTop)||this._drawUncachedChars(e,t,n))},e.prototype._drawUncachedChars=function(e,t,n,i){if(this._ctx.save(),this._ctx.font=this._getFont(!!e.isBold(),!!e.isItalic()),this._ctx.textBaseline="middle",e.isInverse())if(i)this._ctx.fillStyle=i.css;else if(e.isBgDefault())this._ctx.fillStyle=c.color.opaque(this._colors.background).css;else if(e.isBgRGB())this._ctx.fillStyle="rgb("+s.AttributeData.toColorRGB(e.getBgColor()).join(",")+")";else{var o=e.getBgColor();this._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&o<8&&(o+=8),this._ctx.fillStyle=this._colors.ansi[o].css}else if(i)this._ctx.fillStyle=i.css;else if(e.isFgDefault())this._ctx.fillStyle=this._colors.foreground.css;else if(e.isFgRGB())this._ctx.fillStyle="rgb("+s.AttributeData.toColorRGB(e.getFgColor()).join(",")+")";else{var a=e.getFgColor();this._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&a<8&&(a+=8),this._ctx.fillStyle=this._colors.ansi[a].css}this._clipRow(n),e.isDim()&&(this._ctx.globalAlpha=r.DIM_OPACITY),this._ctx.fillText(e.getChars(),t*this._scaledCellWidth+this._scaledCharLeft,n*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight/2),this._ctx.restore()},e.prototype._clipRow=function(e){this._ctx.beginPath(),this._ctx.rect(0,e*this._scaledCellHeight,this._bufferService.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},e.prototype._getFont=function(e,t){return(t?"italic":"")+" "+(e?this._optionsService.options.fontWeightBold:this._optionsService.options.fontWeight)+" "+this._optionsService.options.fontSize*window.devicePixelRatio+"px "+this._optionsService.options.fontFamily},e.prototype._getContrastColor=function(e){if(1!==this._optionsService.options.minimumContrastRatio){var t=this._colors.contrastCache.getColor(e.bg,e.fg);if(void 0!==t)return t||void 0;var n=e.getFgColor(),i=e.getFgColorMode(),r=e.getBgColor(),o=e.getBgColorMode(),s=!!e.isInverse(),a=!!e.isInverse();if(s){var l=n;n=r,r=l;var u=i;i=o,o=u}var h=this._resolveBackgroundRgba(o,r,s),d=this._resolveForegroundRgba(i,n,s,a),f=c.rgba.ensureContrastRatio(h,d,this._optionsService.options.minimumContrastRatio);if(f){var p={css:c.channels.toCss(f>>24&255,f>>16&255,f>>8&255),rgba:f};return this._colors.contrastCache.setColor(e.bg,e.fg,p),p}this._colors.contrastCache.setColor(e.bg,e.fg,null)}},e.prototype._resolveBackgroundRgba=function(e,t,n){switch(e){case 16777216:case 33554432:return this._colors.ansi[t].rgba;case 50331648:return t<<8;case 0:default:return n?this._colors.foreground.rgba:this._colors.background.rgba}},e.prototype._resolveForegroundRgba=function(e,t,n,i){switch(e){case 16777216:case 33554432:return this._optionsService.options.drawBoldTextInBrightColors&&i&&t<8&&(t+=8),this._colors.ansi[t].rgba;case 50331648:return t<<8;case 0:default:return n?this._colors.background.rgba:this._colors.foreground.rgba}},e}();t.BaseRenderLayer=l},function(e,t,n){function i(e,t,n){t.di$target===t?t.di$dependencies.push({id:e,index:n}):(t.di$dependencies=[{id:e,index:n}],t.di$target=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createDecorator=t.getServiceDependencies=t.serviceRegistry=void 0,t.serviceRegistry=new Map,t.getServiceDependencies=function(e){return e.di$dependencies||[]},t.createDecorator=function(e){if(t.serviceRegistry.has(e))return t.serviceRegistry.get(e);var n=function(e,t,r){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");i(n,e,r)};return n.toString=function(){return e},t.serviceRegistry.set(e,n),n}},function(e,t,n){function i(e,t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=e.length),n>=e.length)return e;n=(e.length+n)%e.length,i=i>=e.length?e.length:(e.length+i)%e.length;for(var r=n;r<i;++r)e[r]=t;return e}Object.defineProperty(t,"__esModule",{value:!0}),t.concat=t.fillFallback=t.fill=void 0,t.fill=function(e,t,n,r){return e.fill?e.fill(t,n,r):i(e,t,n,r)},t.fillFallback=i,t.concat=function(e,t){var n=new e.constructor(e.length+t.length);return n.set(e),n.set(t,e.length),n}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BufferLine=t.DEFAULT_ATTR_DATA=void 0;var i=n(8),r=n(3),o=n(4),s=n(6);t.DEFAULT_ATTR_DATA=Object.freeze(new s.AttributeData);var a=function(){function e(e,t,n){void 0===n&&(n=!1),this.isWrapped=n,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*e);for(var i=t||o.CellData.fromCharData([0,r.NULL_CELL_CHAR,r.NULL_CELL_WIDTH,r.NULL_CELL_CODE]),s=0;s<e;++s)this.setCell(s,i);this.length=e}return e.prototype.get=function(e){var t=this._data[3*e+0],n=2097151&t;return[this._data[3*e+1],2097152&t?this._combined[e]:n?i.stringFromCodePoint(n):"",t>>22,2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):n]},e.prototype.set=function(e,t){this._data[3*e+1]=t[r.CHAR_DATA_ATTR_INDEX],t[r.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[e]=t[1],this._data[3*e+0]=2097152|e|t[r.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*e+0]=t[r.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|t[r.CHAR_DATA_WIDTH_INDEX]<<22},e.prototype.getWidth=function(e){return this._data[3*e+0]>>22},e.prototype.hasWidth=function(e){return 12582912&this._data[3*e+0]},e.prototype.getFg=function(e){return this._data[3*e+1]},e.prototype.getBg=function(e){return this._data[3*e+2]},e.prototype.hasContent=function(e){return 4194303&this._data[3*e+0]},e.prototype.getCodePoint=function(e){var t=this._data[3*e+0];return 2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):2097151&t},e.prototype.isCombined=function(e){return 2097152&this._data[3*e+0]},e.prototype.getString=function(e){var t=this._data[3*e+0];return 2097152&t?this._combined[e]:2097151&t?i.stringFromCodePoint(2097151&t):""},e.prototype.loadCell=function(e,t){var n=3*e;return t.content=this._data[n+0],t.fg=this._data[n+1],t.bg=this._data[n+2],2097152&t.content&&(t.combinedData=this._combined[e]),268435456&t.bg&&(t.extended=this._extendedAttrs[e]),t},e.prototype.setCell=function(e,t){2097152&t.content&&(this._combined[e]=t.combinedData),268435456&t.bg&&(this._extendedAttrs[e]=t.extended),this._data[3*e+0]=t.content,this._data[3*e+1]=t.fg,this._data[3*e+2]=t.bg},e.prototype.setCellFromCodePoint=function(e,t,n,i,r,o){268435456&r&&(this._extendedAttrs[e]=o),this._data[3*e+0]=t|n<<22,this._data[3*e+1]=i,this._data[3*e+2]=r},e.prototype.addCodepointToCell=function(e,t){var n=this._data[3*e+0];2097152&n?this._combined[e]+=i.stringFromCodePoint(t):(2097151&n?(this._combined[e]=i.stringFromCodePoint(2097151&n)+i.stringFromCodePoint(t),n&=-2097152,n|=2097152):n=t|1<<22,this._data[3*e+0]=n)},e.prototype.insertCells=function(e,t,n,i){if((e%=this.length)&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new s.ExtendedAttrs),t<this.length-e){for(var r=new o.CellData,a=this.length-e-t-1;a>=0;--a)this.setCell(e+t+a,this.loadCell(e+a,r));for(a=0;a<t;++a)this.setCell(e+a,n)}else for(a=e;a<this.length;++a)this.setCell(a,n);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new s.ExtendedAttrs)},e.prototype.deleteCells=function(e,t,n,i){if(e%=this.length,t<this.length-e){for(var r=new o.CellData,a=0;a<this.length-e-t;++a)this.setCell(e+a,this.loadCell(e+t+a,r));for(a=this.length-t;a<this.length;++a)this.setCell(a,n)}else for(a=e;a<this.length;++a)this.setCell(a,n);e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new s.ExtendedAttrs),0!==this.getWidth(e)||this.hasContent(e)||this.setCellFromCodePoint(e,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new s.ExtendedAttrs)},e.prototype.replaceCells=function(e,t,n,i){for(e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new s.ExtendedAttrs),t<this.length&&2===this.getWidth(t-1)&&this.setCellFromCodePoint(t,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new s.ExtendedAttrs);e<t&&e<this.length;)this.setCell(e++,n)},e.prototype.resize=function(e,t){if(e!==this.length){if(e>this.length){var n=new Uint32Array(3*e);this.length&&(3*e<this._data.length?n.set(this._data.subarray(0,3*e)):n.set(this._data)),this._data=n;for(var i=this.length;i<e;++i)this.setCell(i,t)}else if(e){(n=new Uint32Array(3*e)).set(this._data.subarray(0,3*e)),this._data=n;var r=Object.keys(this._combined);for(i=0;i<r.length;i++){var o=parseInt(r[i],10);o>=e&&delete this._combined[o]}}else this._data=new Uint32Array(0),this._combined={};this.length=e}},e.prototype.fill=function(e){this._combined={},this._extendedAttrs={};for(var t=0;t<this.length;++t)this.setCell(t,e)},e.prototype.copyFrom=function(e){for(var t in this.length!==e.length?this._data=new Uint32Array(e._data):this._data.set(e._data),this.length=e.length,this._combined={},e._combined)this._combined[t]=e._combined[t];for(var t in this._extendedAttrs={},e._extendedAttrs)this._extendedAttrs[t]=e._extendedAttrs[t];this.isWrapped=e.isWrapped},e.prototype.clone=function(){var t=new e(0);for(var n in t._data=new Uint32Array(this._data),t.length=this.length,this._combined)t._combined[n]=this._combined[n];for(var n in this._extendedAttrs)t._extendedAttrs[n]=this._extendedAttrs[n];return t.isWrapped=this.isWrapped,t},e.prototype.getTrimmedLength=function(){for(var e=this.length-1;e>=0;--e)if(4194303&this._data[3*e+0])return e+(this._data[3*e+0]>>22);return 0},e.prototype.copyCellsFrom=function(e,t,n,i,r){var o=e._data;if(r)for(var s=i-1;s>=0;s--)for(var a=0;a<3;a++)this._data[3*(n+s)+a]=o[3*(t+s)+a];else for(s=0;s<i;s++)for(a=0;a<3;a++)this._data[3*(n+s)+a]=o[3*(t+s)+a];var c=Object.keys(e._combined);for(a=0;a<c.length;a++){var l=parseInt(c[a],10);l>=t&&(this._combined[l-t+n]=e._combined[l])}},e.prototype.translateToString=function(e,t,n){void 0===e&&(e=!1),void 0===t&&(t=0),void 0===n&&(n=this.length),e&&(n=Math.min(n,this.getTrimmedLength()));for(var o="";t<n;){var s=this._data[3*t+0],a=2097151&s;o+=2097152&s?this._combined[t]:a?i.stringFromCodePoint(a):r.WHITESPACE_CELL_CHAR,t+=s>>22||1}return o},e}();t.BufferLine=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.tooMuchOutput=t.promptLabel=void 0,t.promptLabel="Terminal input",t.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.InputHandler=t.WindowsOptionsReportType=void 0;var o,s=n(12),a=n(19),c=n(38),l=n(2),u=n(15),h=n(8),d=n(16),f=n(0),p=n(3),v=n(4),m=n(6),_=n(21),g=n(23),y={"(":0,")":1,"*":2,"+":3,"-":1,".":2};function b(e,t){if(e>24)return t.setWinLines||!1;switch(e){case 1:return!!t.restoreWin;case 2:return!!t.minimizeWin;case 3:return!!t.setWinPosition;case 4:return!!t.setWinSizePixels;case 5:return!!t.raiseWin;case 6:return!!t.lowerWin;case 7:return!!t.refreshWin;case 8:return!!t.setWinSizeChars;case 9:return!!t.maximizeWin;case 10:return!!t.fullscreenWin;case 11:return!!t.getWinState;case 13:return!!t.getWinPosition;case 14:return!!t.getWinSizePixels;case 15:return!!t.getScreenSizePixels;case 16:return!!t.getCellSizePixels;case 18:return!!t.getWinSizeChars;case 19:return!!t.getScreenSizeChars;case 20:return!!t.getIconTitle;case 21:return!!t.getWinTitle;case 22:return!!t.pushTitle;case 23:return!!t.popTitle;case 24:return!!t.setWinLines}return!1}!function(e){e[e.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",e[e.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"}(o=t.WindowsOptionsReportType||(t.WindowsOptionsReportType={}));var w=function(){function e(e,t,n,i){this._bufferService=e,this._coreService=t,this._logService=n,this._optionsService=i,this._data=new Uint32Array(0)}return e.prototype.hook=function(e){this._data=new Uint32Array(0)},e.prototype.put=function(e,t,n){this._data=u.concat(this._data,e.subarray(t,n))},e.prototype.unhook=function(e){if(e){var t=h.utf32ToString(this._data);switch(this._data=new Uint32Array(0),t){case'"q':return this._coreService.triggerDataEvent(s.C0.ESC+'P1$r0"q'+s.C0.ESC+"\\");case'"p':return this._coreService.triggerDataEvent(s.C0.ESC+'P1$r61;1"p'+s.C0.ESC+"\\");case"r":var n=this._bufferService.buffer.scrollTop+1+";"+(this._bufferService.buffer.scrollBottom+1)+"r";return this._coreService.triggerDataEvent(s.C0.ESC+"P1$r"+n+s.C0.ESC+"\\");case"m":return this._coreService.triggerDataEvent(s.C0.ESC+"P1$r0m"+s.C0.ESC+"\\");case" q":var i={block:2,underline:4,bar:6}[this._optionsService.options.cursorStyle];return i-=this._optionsService.options.cursorBlink?1:0,this._coreService.triggerDataEvent(s.C0.ESC+"P1$r"+i+" q"+s.C0.ESC+"\\");default:this._logService.debug("Unknown DCS $q %s",t),this._coreService.triggerDataEvent(s.C0.ESC+"P0$r"+s.C0.ESC+"\\")}}else this._data=new Uint32Array(0)},e}(),C=function(e){function t(t,n,i,r,o,l,u,p,m){void 0===m&&(m=new c.EscapeSequenceParser);var g=e.call(this)||this;g._bufferService=t,g._charsetService=n,g._coreService=i,g._dirtyRowService=r,g._logService=o,g._optionsService=l,g._coreMouseService=u,g._unicodeService=p,g._parser=m,g._parseBuffer=new Uint32Array(4096),g._stringDecoder=new h.StringToUtf32,g._utf8Decoder=new h.Utf8ToUtf32,g._workCell=new v.CellData,g._windowTitle="",g._iconName="",g._windowTitleStack=[],g._iconNameStack=[],g._curAttrData=d.DEFAULT_ATTR_DATA.clone(),g._eraseAttrDataInternal=d.DEFAULT_ATTR_DATA.clone(),g._onRequestBell=new f.EventEmitter,g._onRequestRefreshRows=new f.EventEmitter,g._onRequestReset=new f.EventEmitter,g._onRequestScroll=new f.EventEmitter,g._onRequestSyncScrollBar=new f.EventEmitter,g._onRequestWindowsOptionsReport=new f.EventEmitter,g._onA11yChar=new f.EventEmitter,g._onA11yTab=new f.EventEmitter,g._onCursorMove=new f.EventEmitter,g._onLineFeed=new f.EventEmitter,g._onScroll=new f.EventEmitter,g._onTitleChange=new f.EventEmitter,g.register(g._parser),g._parser.setCsiHandlerFallback((function(e,t){g._logService.debug("Unknown CSI code: ",{identifier:g._parser.identToString(e),params:t.toArray()})})),g._parser.setEscHandlerFallback((function(e){g._logService.debug("Unknown ESC code: ",{identifier:g._parser.identToString(e)})})),g._parser.setExecuteHandlerFallback((function(e){g._logService.debug("Unknown EXECUTE code: ",{code:e})})),g._parser.setOscHandlerFallback((function(e,t,n){g._logService.debug("Unknown OSC code: ",{identifier:e,action:t,data:n})})),g._parser.setDcsHandlerFallback((function(e,t,n){"HOOK"===t&&(n=n.toArray()),g._logService.debug("Unknown DCS code: ",{identifier:g._parser.identToString(e),action:t,payload:n})})),g._parser.setPrintHandler((function(e,t,n){return g.print(e,t,n)})),g._parser.setCsiHandler({final:"@"},(function(e){return g.insertChars(e)})),g._parser.setCsiHandler({intermediates:" ",final:"@"},(function(e){return g.scrollLeft(e)})),g._parser.setCsiHandler({final:"A"},(function(e){return g.cursorUp(e)})),g._parser.setCsiHandler({intermediates:" ",final:"A"},(function(e){return g.scrollRight(e)})),g._parser.setCsiHandler({final:"B"},(function(e){return g.cursorDown(e)})),g._parser.setCsiHandler({final:"C"},(function(e){return g.cursorForward(e)})),g._parser.setCsiHandler({final:"D"},(function(e){return g.cursorBackward(e)})),g._parser.setCsiHandler({final:"E"},(function(e){return g.cursorNextLine(e)})),g._parser.setCsiHandler({final:"F"},(function(e){return g.cursorPrecedingLine(e)})),g._parser.setCsiHandler({final:"G"},(function(e){return g.cursorCharAbsolute(e)})),g._parser.setCsiHandler({final:"H"},(function(e){return g.cursorPosition(e)})),g._parser.setCsiHandler({final:"I"},(function(e){return g.cursorForwardTab(e)})),g._parser.setCsiHandler({final:"J"},(function(e){return g.eraseInDisplay(e)})),g._parser.setCsiHandler({prefix:"?",final:"J"},(function(e){return g.eraseInDisplay(e)})),g._parser.setCsiHandler({final:"K"},(function(e){return g.eraseInLine(e)})),g._parser.setCsiHandler({prefix:"?",final:"K"},(function(e){return g.eraseInLine(e)})),g._parser.setCsiHandler({final:"L"},(function(e){return g.insertLines(e)})),g._parser.setCsiHandler({final:"M"},(function(e){return g.deleteLines(e)})),g._parser.setCsiHandler({final:"P"},(function(e){return g.deleteChars(e)})),g._parser.setCsiHandler({final:"S"},(function(e){return g.scrollUp(e)})),g._parser.setCsiHandler({final:"T"},(function(e){return g.scrollDown(e)})),g._parser.setCsiHandler({final:"X"},(function(e){return g.eraseChars(e)})),g._parser.setCsiHandler({final:"Z"},(function(e){return g.cursorBackwardTab(e)})),g._parser.setCsiHandler({final:"`"},(function(e){return g.charPosAbsolute(e)})),g._parser.setCsiHandler({final:"a"},(function(e){return g.hPositionRelative(e)})),g._parser.setCsiHandler({final:"b"},(function(e){return g.repeatPrecedingCharacter(e)})),g._parser.setCsiHandler({final:"c"},(function(e){return g.sendDeviceAttributesPrimary(e)})),g._parser.setCsiHandler({prefix:">",final:"c"},(function(e){return g.sendDeviceAttributesSecondary(e)})),g._parser.setCsiHandler({final:"d"},(function(e){return g.linePosAbsolute(e)})),g._parser.setCsiHandler({final:"e"},(function(e){return g.vPositionRelative(e)})),g._parser.setCsiHandler({final:"f"},(function(e){return g.hVPosition(e)})),g._parser.setCsiHandler({final:"g"},(function(e){return g.tabClear(e)})),g._parser.setCsiHandler({final:"h"},(function(e){return g.setMode(e)})),g._parser.setCsiHandler({prefix:"?",final:"h"},(function(e){return g.setModePrivate(e)})),g._parser.setCsiHandler({final:"l"},(function(e){return g.resetMode(e)})),g._parser.setCsiHandler({prefix:"?",final:"l"},(function(e){return g.resetModePrivate(e)})),g._parser.setCsiHandler({final:"m"},(function(e){return g.charAttributes(e)})),g._parser.setCsiHandler({final:"n"},(function(e){return g.deviceStatus(e)})),g._parser.setCsiHandler({prefix:"?",final:"n"},(function(e){return g.deviceStatusPrivate(e)})),g._parser.setCsiHandler({intermediates:"!",final:"p"},(function(e){return g.softReset(e)})),g._parser.setCsiHandler({intermediates:" ",final:"q"},(function(e){return g.setCursorStyle(e)})),g._parser.setCsiHandler({final:"r"},(function(e){return g.setScrollRegion(e)})),g._parser.setCsiHandler({final:"s"},(function(e){return g.saveCursor(e)})),g._parser.setCsiHandler({final:"t"},(function(e){return g.windowOptions(e)})),g._parser.setCsiHandler({final:"u"},(function(e){return g.restoreCursor(e)})),g._parser.setCsiHandler({intermediates:"'",final:"}"},(function(e){return g.insertColumns(e)})),g._parser.setCsiHandler({intermediates:"'",final:"~"},(function(e){return g.deleteColumns(e)})),g._parser.setExecuteHandler(s.C0.BEL,(function(){return g.bell()})),g._parser.setExecuteHandler(s.C0.LF,(function(){return g.lineFeed()})),g._parser.setExecuteHandler(s.C0.VT,(function(){return g.lineFeed()})),g._parser.setExecuteHandler(s.C0.FF,(function(){return g.lineFeed()})),g._parser.setExecuteHandler(s.C0.CR,(function(){return g.carriageReturn()})),g._parser.setExecuteHandler(s.C0.BS,(function(){return g.backspace()})),g._parser.setExecuteHandler(s.C0.HT,(function(){return g.tab()})),g._parser.setExecuteHandler(s.C0.SO,(function(){return g.shiftOut()})),g._parser.setExecuteHandler(s.C0.SI,(function(){return g.shiftIn()})),g._parser.setExecuteHandler(s.C1.IND,(function(){return g.index()})),g._parser.setExecuteHandler(s.C1.NEL,(function(){return g.nextLine()})),g._parser.setExecuteHandler(s.C1.HTS,(function(){return g.tabSet()})),g._parser.setOscHandler(0,new _.OscHandler((function(e){g.setTitle(e),g.setIconName(e)}))),g._parser.setOscHandler(1,new _.OscHandler((function(e){return g.setIconName(e)}))),g._parser.setOscHandler(2,new _.OscHandler((function(e){return g.setTitle(e)}))),g._parser.setEscHandler({final:"7"},(function(){return g.saveCursor()})),g._parser.setEscHandler({final:"8"},(function(){return g.restoreCursor()})),g._parser.setEscHandler({final:"D"},(function(){return g.index()})),g._parser.setEscHandler({final:"E"},(function(){return g.nextLine()})),g._parser.setEscHandler({final:"H"},(function(){return g.tabSet()})),g._parser.setEscHandler({final:"M"},(function(){return g.reverseIndex()})),g._parser.setEscHandler({final:"="},(function(){return g.keypadApplicationMode()})),g._parser.setEscHandler({final:">"},(function(){return g.keypadNumericMode()})),g._parser.setEscHandler({final:"c"},(function(){return g.fullReset()})),g._parser.setEscHandler({final:"n"},(function(){return g.setgLevel(2)})),g._parser.setEscHandler({final:"o"},(function(){return g.setgLevel(3)})),g._parser.setEscHandler({final:"|"},(function(){return g.setgLevel(3)})),g._parser.setEscHandler({final:"}"},(function(){return g.setgLevel(2)})),g._parser.setEscHandler({final:"~"},(function(){return g.setgLevel(1)})),g._parser.setEscHandler({intermediates:"%",final:"@"},(function(){return g.selectDefaultCharset()})),g._parser.setEscHandler({intermediates:"%",final:"G"},(function(){return g.selectDefaultCharset()}));var y=function(e){b._parser.setEscHandler({intermediates:"(",final:e},(function(){return g.selectCharset("("+e)})),b._parser.setEscHandler({intermediates:")",final:e},(function(){return g.selectCharset(")"+e)})),b._parser.setEscHandler({intermediates:"*",final:e},(function(){return g.selectCharset("*"+e)})),b._parser.setEscHandler({intermediates:"+",final:e},(function(){return g.selectCharset("+"+e)})),b._parser.setEscHandler({intermediates:"-",final:e},(function(){return g.selectCharset("-"+e)})),b._parser.setEscHandler({intermediates:".",final:e},(function(){return g.selectCharset("."+e)})),b._parser.setEscHandler({intermediates:"/",final:e},(function(){return g.selectCharset("/"+e)}))},b=this;for(var C in a.CHARSETS)y(C);return g._parser.setEscHandler({intermediates:"#",final:"8"},(function(){return g.screenAlignmentPattern()})),g._parser.setErrorHandler((function(e){return g._logService.error("Parsing error: ",e),e})),g._parser.setDcsHandler({intermediates:"$",final:"q"},new w(g._bufferService,g._coreService,g._logService,g._optionsService)),g}return r(t,e),Object.defineProperty(t.prototype,"onRequestBell",{get:function(){return this._onRequestBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestRefreshRows",{get:function(){return this._onRequestRefreshRows.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestReset",{get:function(){return this._onRequestReset.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestScroll",{get:function(){return this._onRequestScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestSyncScrollBar",{get:function(){return this._onRequestSyncScrollBar.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestWindowsOptionsReport",{get:function(){return this._onRequestWindowsOptionsReport.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onA11yChar",{get:function(){return this._onA11yChar.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onA11yTab",{get:function(){return this._onA11yTab.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.parse=function(e){var t=this._bufferService.buffer,n=t.x,i=t.y;if(this._logService.debug("parsing data",e),this._parseBuffer.length<e.length&&this._parseBuffer.length<131072&&(this._parseBuffer=new Uint32Array(Math.min(e.length,131072))),this._dirtyRowService.clearRange(),e.length>131072)for(var r=0;r<e.length;r+=131072){var o=r+131072<e.length?r+131072:e.length,s="string"==typeof e?this._stringDecoder.decode(e.substring(r,o),this._parseBuffer):this._utf8Decoder.decode(e.subarray(r,o),this._parseBuffer);this._parser.parse(this._parseBuffer,s)}else s="string"==typeof e?this._stringDecoder.decode(e,this._parseBuffer):this._utf8Decoder.decode(e,this._parseBuffer),this._parser.parse(this._parseBuffer,s);(t=this._bufferService.buffer).x===n&&t.y===i||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowService.start,this._dirtyRowService.end)},t.prototype.print=function(e,t,n){var i,r,o=this._bufferService.buffer,s=this._charsetService.charset,a=this._optionsService.options.screenReaderMode,c=this._bufferService.cols,l=this._coreService.decPrivateModes.wraparound,u=this._coreService.modes.insertMode,d=this._curAttrData,f=o.lines.get(o.ybase+o.y);this._dirtyRowService.markDirty(o.y),o.x&&n-t>0&&2===f.getWidth(o.x-1)&&f.setCellFromCodePoint(o.x-1,0,1,d.fg,d.bg,d.extended);for(var v=t;v<n;++v){if(i=e[v],r=this._unicodeService.wcwidth(i),i<127&&s){var m=s[String.fromCharCode(i)];m&&(i=m.charCodeAt(0))}if(a&&this._onA11yChar.fire(h.stringFromCodePoint(i)),r||!o.x){if(o.x+r-1>=c)if(l){for(;o.x<c;)f.setCellFromCodePoint(o.x++,0,1,d.fg,d.bg,d.extended);o.x=0,o.y++,o.y===o.scrollBottom+1?(o.y--,this._onRequestScroll.fire(this._eraseAttrData(),!0)):(o.y>=this._bufferService.rows&&(o.y=this._bufferService.rows-1),o.lines.get(o.ybase+o.y).isWrapped=!0),f=o.lines.get(o.ybase+o.y)}else if(o.x=c-1,2===r)continue;if(u&&(f.insertCells(o.x,r,o.getNullCell(d),d),2===f.getWidth(c-1)&&f.setCellFromCodePoint(c-1,p.NULL_CELL_CODE,p.NULL_CELL_WIDTH,d.fg,d.bg,d.extended)),f.setCellFromCodePoint(o.x++,i,r,d.fg,d.bg,d.extended),r>0)for(;--r;)f.setCellFromCodePoint(o.x++,0,0,d.fg,d.bg,d.extended)}else f.getWidth(o.x-1)?f.addCodepointToCell(o.x-1,i):f.addCodepointToCell(o.x-2,i)}n-t>0&&(f.loadCell(o.x-1,this._workCell),2===this._workCell.getWidth()||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),o.x<c&&n-t>0&&0===f.getWidth(o.x)&&!f.hasContent(o.x)&&f.setCellFromCodePoint(o.x,0,1,d.fg,d.bg,d.extended),this._dirtyRowService.markDirty(o.y)},t.prototype.addCsiHandler=function(e,t){var n=this;return"t"!==e.final||e.prefix||e.intermediates?this._parser.addCsiHandler(e,t):this._parser.addCsiHandler(e,(function(e){return!b(e.params[0],n._optionsService.options.windowOptions)||t(e)}))},t.prototype.addDcsHandler=function(e,t){return this._parser.addDcsHandler(e,new g.DcsHandler(t))},t.prototype.addEscHandler=function(e,t){return this._parser.addEscHandler(e,t)},t.prototype.addOscHandler=function(e,t){return this._parser.addOscHandler(e,new _.OscHandler(t))},t.prototype.bell=function(){this._onRequestBell.fire()},t.prototype.lineFeed=function(){var e=this._bufferService.buffer;this._dirtyRowService.markDirty(e.y),this._optionsService.options.convertEol&&(e.x=0),e.y++,e.y===e.scrollBottom+1?(e.y--,this._onRequestScroll.fire(this._eraseAttrData())):e.y>=this._bufferService.rows&&(e.y=this._bufferService.rows-1),e.x>=this._bufferService.cols&&e.x--,this._dirtyRowService.markDirty(e.y),this._onLineFeed.fire()},t.prototype.carriageReturn=function(){this._bufferService.buffer.x=0},t.prototype.backspace=function(){var e,t=this._bufferService.buffer;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),void(t.x>0&&t.x--);if(this._restrictCursor(this._bufferService.cols),t.x>0)t.x--;else if(0===t.x&&t.y>t.scrollTop&&t.y<=t.scrollBottom&&(null===(e=t.lines.get(t.ybase+t.y))||void 0===e?void 0:e.isWrapped)){t.lines.get(t.ybase+t.y).isWrapped=!1,t.y--,t.x=this._bufferService.cols-1;var n=t.lines.get(t.ybase+t.y);n.hasWidth(t.x)&&!n.hasContent(t.x)&&t.x--}this._restrictCursor()},t.prototype.tab=function(){if(!(this._bufferService.buffer.x>=this._bufferService.cols)){var e=this._bufferService.buffer.x;this._bufferService.buffer.x=this._bufferService.buffer.nextStop(),this._optionsService.options.screenReaderMode&&this._onA11yTab.fire(this._bufferService.buffer.x-e)}},t.prototype.shiftOut=function(){this._charsetService.setgLevel(1)},t.prototype.shiftIn=function(){this._charsetService.setgLevel(0)},t.prototype._restrictCursor=function(e){void 0===e&&(e=this._bufferService.cols-1),this._bufferService.buffer.x=Math.min(e,Math.max(0,this._bufferService.buffer.x)),this._bufferService.buffer.y=this._coreService.decPrivateModes.origin?Math.min(this._bufferService.buffer.scrollBottom,Math.max(this._bufferService.buffer.scrollTop,this._bufferService.buffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._bufferService.buffer.y)),this._dirtyRowService.markDirty(this._bufferService.buffer.y)},t.prototype._setCursor=function(e,t){this._dirtyRowService.markDirty(this._bufferService.buffer.y),this._coreService.decPrivateModes.origin?(this._bufferService.buffer.x=e,this._bufferService.buffer.y=this._bufferService.buffer.scrollTop+t):(this._bufferService.buffer.x=e,this._bufferService.buffer.y=t),this._restrictCursor(),this._dirtyRowService.markDirty(this._bufferService.buffer.y)},t.prototype._moveCursor=function(e,t){this._restrictCursor(),this._setCursor(this._bufferService.buffer.x+e,this._bufferService.buffer.y+t)},t.prototype.cursorUp=function(e){var t=this._bufferService.buffer.y-this._bufferService.buffer.scrollTop;t>=0?this._moveCursor(0,-Math.min(t,e.params[0]||1)):this._moveCursor(0,-(e.params[0]||1))},t.prototype.cursorDown=function(e){var t=this._bufferService.buffer.scrollBottom-this._bufferService.buffer.y;t>=0?this._moveCursor(0,Math.min(t,e.params[0]||1)):this._moveCursor(0,e.params[0]||1)},t.prototype.cursorForward=function(e){this._moveCursor(e.params[0]||1,0)},t.prototype.cursorBackward=function(e){this._moveCursor(-(e.params[0]||1),0)},t.prototype.cursorNextLine=function(e){this.cursorDown(e),this._bufferService.buffer.x=0},t.prototype.cursorPrecedingLine=function(e){this.cursorUp(e),this._bufferService.buffer.x=0},t.prototype.cursorCharAbsolute=function(e){this._setCursor((e.params[0]||1)-1,this._bufferService.buffer.y)},t.prototype.cursorPosition=function(e){this._setCursor(e.length>=2?(e.params[1]||1)-1:0,(e.params[0]||1)-1)},t.prototype.charPosAbsolute=function(e){this._setCursor((e.params[0]||1)-1,this._bufferService.buffer.y)},t.prototype.hPositionRelative=function(e){this._moveCursor(e.params[0]||1,0)},t.prototype.linePosAbsolute=function(e){this._setCursor(this._bufferService.buffer.x,(e.params[0]||1)-1)},t.prototype.vPositionRelative=function(e){this._moveCursor(0,e.params[0]||1)},t.prototype.hVPosition=function(e){this.cursorPosition(e)},t.prototype.tabClear=function(e){var t=e.params[0];0===t?delete this._bufferService.buffer.tabs[this._bufferService.buffer.x]:3===t&&(this._bufferService.buffer.tabs={})},t.prototype.cursorForwardTab=function(e){if(!(this._bufferService.buffer.x>=this._bufferService.cols))for(var t=e.params[0]||1;t--;)this._bufferService.buffer.x=this._bufferService.buffer.nextStop()},t.prototype.cursorBackwardTab=function(e){if(!(this._bufferService.buffer.x>=this._bufferService.cols))for(var t=e.params[0]||1,n=this._bufferService.buffer;t--;)n.x=n.prevStop()},t.prototype._eraseInBufferLine=function(e,t,n,i){void 0===i&&(i=!1);var r=this._bufferService.buffer.lines.get(this._bufferService.buffer.ybase+e);r.replaceCells(t,n,this._bufferService.buffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),i&&(r.isWrapped=!1)},t.prototype._resetBufferLine=function(e){var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.ybase+e);t.fill(this._bufferService.buffer.getNullCell(this._eraseAttrData())),t.isWrapped=!1},t.prototype.eraseInDisplay=function(e){var t;switch(this._restrictCursor(),e.params[0]){case 0:for(t=this._bufferService.buffer.y,this._dirtyRowService.markDirty(t),this._eraseInBufferLine(t++,this._bufferService.buffer.x,this._bufferService.cols,0===this._bufferService.buffer.x);t<this._bufferService.rows;t++)this._resetBufferLine(t);this._dirtyRowService.markDirty(t);break;case 1:for(t=this._bufferService.buffer.y,this._dirtyRowService.markDirty(t),this._eraseInBufferLine(t,0,this._bufferService.buffer.x+1,!0),this._bufferService.buffer.x+1>=this._bufferService.cols&&(this._bufferService.buffer.lines.get(t+1).isWrapped=!1);t--;)this._resetBufferLine(t);this._dirtyRowService.markDirty(0);break;case 2:for(t=this._bufferService.rows,this._dirtyRowService.markDirty(t-1);t--;)this._resetBufferLine(t);this._dirtyRowService.markDirty(0);break;case 3:var n=this._bufferService.buffer.lines.length-this._bufferService.rows;n>0&&(this._bufferService.buffer.lines.trimStart(n),this._bufferService.buffer.ybase=Math.max(this._bufferService.buffer.ybase-n,0),this._bufferService.buffer.ydisp=Math.max(this._bufferService.buffer.ydisp-n,0),this._onScroll.fire(0))}},t.prototype.eraseInLine=function(e){switch(this._restrictCursor(),e.params[0]){case 0:this._eraseInBufferLine(this._bufferService.buffer.y,this._bufferService.buffer.x,this._bufferService.cols);break;case 1:this._eraseInBufferLine(this._bufferService.buffer.y,0,this._bufferService.buffer.x+1);break;case 2:this._eraseInBufferLine(this._bufferService.buffer.y,0,this._bufferService.cols)}this._dirtyRowService.markDirty(this._bufferService.buffer.y)},t.prototype.insertLines=function(e){this._restrictCursor();var t=e.params[0]||1,n=this._bufferService.buffer;if(!(n.y>n.scrollBottom||n.y<n.scrollTop)){for(var i=n.ybase+n.y,r=this._bufferService.rows-1-n.scrollBottom,o=this._bufferService.rows-1+n.ybase-r+1;t--;)n.lines.splice(o-1,1),n.lines.splice(i,0,n.getBlankLine(this._eraseAttrData()));this._dirtyRowService.markRangeDirty(n.y,n.scrollBottom),n.x=0}},t.prototype.deleteLines=function(e){this._restrictCursor();var t=e.params[0]||1,n=this._bufferService.buffer;if(!(n.y>n.scrollBottom||n.y<n.scrollTop)){var i,r=n.ybase+n.y;for(i=this._bufferService.rows-1-n.scrollBottom,i=this._bufferService.rows-1+n.ybase-i;t--;)n.lines.splice(r,1),n.lines.splice(i,0,n.getBlankLine(this._eraseAttrData()));this._dirtyRowService.markRangeDirty(n.y,n.scrollBottom),n.x=0}},t.prototype.insertChars=function(e){this._restrictCursor();var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.ybase+this._bufferService.buffer.y);t&&(t.insertCells(this._bufferService.buffer.x,e.params[0]||1,this._bufferService.buffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._bufferService.buffer.y))},t.prototype.deleteChars=function(e){this._restrictCursor();var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.ybase+this._bufferService.buffer.y);t&&(t.deleteCells(this._bufferService.buffer.x,e.params[0]||1,this._bufferService.buffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._bufferService.buffer.y))},t.prototype.scrollUp=function(e){for(var t=e.params[0]||1,n=this._bufferService.buffer;t--;)n.lines.splice(n.ybase+n.scrollTop,1),n.lines.splice(n.ybase+n.scrollBottom,0,n.getBlankLine(this._eraseAttrData()));this._dirtyRowService.markRangeDirty(n.scrollTop,n.scrollBottom)},t.prototype.scrollDown=function(e){for(var t=e.params[0]||1,n=this._bufferService.buffer;t--;)n.lines.splice(n.ybase+n.scrollBottom,1),n.lines.splice(n.ybase+n.scrollTop,0,n.getBlankLine(d.DEFAULT_ATTR_DATA));this._dirtyRowService.markRangeDirty(n.scrollTop,n.scrollBottom)},t.prototype.scrollLeft=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var n=e.params[0]||1,i=t.scrollTop;i<=t.scrollBottom;++i){var r=t.lines.get(t.ybase+i);r.deleteCells(0,n,t.getNullCell(this._eraseAttrData()),this._eraseAttrData()),r.isWrapped=!1}this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},t.prototype.scrollRight=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var n=e.params[0]||1,i=t.scrollTop;i<=t.scrollBottom;++i){var r=t.lines.get(t.ybase+i);r.insertCells(0,n,t.getNullCell(this._eraseAttrData()),this._eraseAttrData()),r.isWrapped=!1}this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},t.prototype.insertColumns=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var n=e.params[0]||1,i=t.scrollTop;i<=t.scrollBottom;++i){var r=this._bufferService.buffer.lines.get(t.ybase+i);r.insertCells(t.x,n,t.getNullCell(this._eraseAttrData()),this._eraseAttrData()),r.isWrapped=!1}this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},t.prototype.deleteColumns=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var n=e.params[0]||1,i=t.scrollTop;i<=t.scrollBottom;++i){var r=t.lines.get(t.ybase+i);r.deleteCells(t.x,n,t.getNullCell(this._eraseAttrData()),this._eraseAttrData()),r.isWrapped=!1}this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},t.prototype.eraseChars=function(e){this._restrictCursor();var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.ybase+this._bufferService.buffer.y);t&&(t.replaceCells(this._bufferService.buffer.x,this._bufferService.buffer.x+(e.params[0]||1),this._bufferService.buffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._bufferService.buffer.y))},t.prototype.repeatPrecedingCharacter=function(e){if(this._parser.precedingCodepoint){for(var t=e.params[0]||1,n=new Uint32Array(t),i=0;i<t;++i)n[i]=this._parser.precedingCodepoint;this.print(n,0,n.length)}},t.prototype.sendDeviceAttributesPrimary=function(e){e.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(s.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(s.C0.ESC+"[?6c"))},t.prototype.sendDeviceAttributesSecondary=function(e){e.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(s.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(s.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(e.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(s.C0.ESC+"[>83;40003;0c"))},t.prototype._is=function(e){return 0===(this._optionsService.options.termName+"").indexOf(e)},t.prototype.setMode=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!0}},t.prototype.setModePrivate=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,a.DEFAULT_CHARSET),this._charsetService.setgCharset(1,a.DEFAULT_CHARSET),this._charsetService.setgCharset(2,a.DEFAULT_CHARSET),this._charsetService.setgCharset(3,a.DEFAULT_CHARSET);break;case 3:this._optionsService.options.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0;break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}},t.prototype.resetMode=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!1}},t.prototype.resetModePrivate=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.options.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===e.params[t]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}},t.prototype._updateAttrColor=function(e,t,n,i,r){return 2===t?(e|=50331648,e&=-16777216,e|=m.AttributeData.fromColorRGB([n,i,r])):5===t&&(e&=-50331904,e|=33554432|255&n),e},t.prototype._extractColor=function(e,t,n){var i=[0,0,-1,0,0,0],r=0,o=0;do{if(i[o+r]=e.params[t+o],e.hasSubParams(t+o)){var s=e.getSubParams(t+o),a=0;do{5===i[1]&&(r=1),i[o+a+1+r]=s[a]}while(++a<s.length&&a+o+1+r<i.length);break}if(5===i[1]&&o+r>=2||2===i[1]&&o+r>=5)break;i[1]&&(r=1)}while(++o+t<e.length&&o+r<i.length);for(a=2;a<i.length;++a)-1===i[a]&&(i[a]=0);switch(i[0]){case 38:n.fg=this._updateAttrColor(n.fg,i[1],i[3],i[4],i[5]);break;case 48:n.bg=this._updateAttrColor(n.bg,i[1],i[3],i[4],i[5]);break;case 58:n.extended=n.extended.clone(),n.extended.underlineColor=this._updateAttrColor(n.extended.underlineColor,i[1],i[3],i[4],i[5])}return o},t.prototype._processUnderline=function(e,t){t.extended=t.extended.clone(),(!~e||e>5)&&(e=1),t.extended.underlineStyle=e,t.fg|=268435456,0===e&&(t.fg&=-268435457),t.updateExtended()},t.prototype.charAttributes=function(e){if(1===e.length&&0===e.params[0])return this._curAttrData.fg=d.DEFAULT_ATTR_DATA.fg,void(this._curAttrData.bg=d.DEFAULT_ATTR_DATA.bg);for(var t,n=e.length,i=this._curAttrData,r=0;r<n;r++)(t=e.params[r])>=30&&t<=37?(i.fg&=-50331904,i.fg|=16777216|t-30):t>=40&&t<=47?(i.bg&=-50331904,i.bg|=16777216|t-40):t>=90&&t<=97?(i.fg&=-50331904,i.fg|=16777224|t-90):t>=100&&t<=107?(i.bg&=-50331904,i.bg|=16777224|t-100):0===t?(i.fg=d.DEFAULT_ATTR_DATA.fg,i.bg=d.DEFAULT_ATTR_DATA.bg):1===t?i.fg|=134217728:3===t?i.bg|=67108864:4===t?(i.fg|=268435456,this._processUnderline(e.hasSubParams(r)?e.getSubParams(r)[0]:1,i)):5===t?i.fg|=536870912:7===t?i.fg|=67108864:8===t?i.fg|=1073741824:2===t?i.bg|=134217728:21===t?this._processUnderline(2,i):22===t?(i.fg&=-134217729,i.bg&=-134217729):23===t?i.bg&=-67108865:24===t?i.fg&=-268435457:25===t?i.fg&=-536870913:27===t?i.fg&=-67108865:28===t?i.fg&=-1073741825:39===t?(i.fg&=-67108864,i.fg|=16777215&d.DEFAULT_ATTR_DATA.fg):49===t?(i.bg&=-67108864,i.bg|=16777215&d.DEFAULT_ATTR_DATA.bg):38===t||48===t||58===t?r+=this._extractColor(e,r,i):59===t?(i.extended=i.extended.clone(),i.extended.underlineColor=-1,i.updateExtended()):100===t?(i.fg&=-67108864,i.fg|=16777215&d.DEFAULT_ATTR_DATA.fg,i.bg&=-67108864,i.bg|=16777215&d.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",t)},t.prototype.deviceStatus=function(e){switch(e.params[0]){case 5:this._coreService.triggerDataEvent(s.C0.ESC+"[0n");break;case 6:var t=this._bufferService.buffer.y+1,n=this._bufferService.buffer.x+1;this._coreService.triggerDataEvent(s.C0.ESC+"["+t+";"+n+"R")}},t.prototype.deviceStatusPrivate=function(e){switch(e.params[0]){case 6:var t=this._bufferService.buffer.y+1,n=this._bufferService.buffer.x+1;this._coreService.triggerDataEvent(s.C0.ESC+"[?"+t+";"+n+"R")}},t.prototype.softReset=function(e){this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._bufferService.buffer.scrollTop=0,this._bufferService.buffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._bufferService.buffer.savedX=0,this._bufferService.buffer.savedY=this._bufferService.buffer.ybase,this._bufferService.buffer.savedCurAttrData.fg=this._curAttrData.fg,this._bufferService.buffer.savedCurAttrData.bg=this._curAttrData.bg,this._bufferService.buffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1},t.prototype.setCursorStyle=function(e){var t=e.params[0]||1;switch(t){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}var n=t%2==1;this._optionsService.options.cursorBlink=n},t.prototype.setScrollRegion=function(e){var t,n=e.params[0]||1;(e.length<2||(t=e.params[1])>this._bufferService.rows||0===t)&&(t=this._bufferService.rows),t>n&&(this._bufferService.buffer.scrollTop=n-1,this._bufferService.buffer.scrollBottom=t-1,this._setCursor(0,0))},t.prototype.windowOptions=function(e){if(b(e.params[0],this._optionsService.options.windowOptions)){var t=e.length>1?e.params[1]:0;switch(e.params[0]){case 14:2!==t&&this._onRequestWindowsOptionsReport.fire(o.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(o.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(s.C0.ESC+"[8;"+this._bufferService.rows+";"+this._bufferService.cols+"t");break;case 22:0!==t&&2!==t||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==t&&1!==t||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==t&&2!==t||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==t&&1!==t||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}}},t.prototype.saveCursor=function(e){this._bufferService.buffer.savedX=this._bufferService.buffer.x,this._bufferService.buffer.savedY=this._bufferService.buffer.ybase+this._bufferService.buffer.y,this._bufferService.buffer.savedCurAttrData.fg=this._curAttrData.fg,this._bufferService.buffer.savedCurAttrData.bg=this._curAttrData.bg,this._bufferService.buffer.savedCharset=this._charsetService.charset},t.prototype.restoreCursor=function(e){this._bufferService.buffer.x=this._bufferService.buffer.savedX||0,this._bufferService.buffer.y=Math.max(this._bufferService.buffer.savedY-this._bufferService.buffer.ybase,0),this._curAttrData.fg=this._bufferService.buffer.savedCurAttrData.fg,this._curAttrData.bg=this._bufferService.buffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._bufferService.buffer.savedCharset&&(this._charsetService.charset=this._bufferService.buffer.savedCharset),this._restrictCursor()},t.prototype.setTitle=function(e){this._windowTitle=e,this._onTitleChange.fire(e)},t.prototype.setIconName=function(e){this._iconName=e},t.prototype.nextLine=function(){this._bufferService.buffer.x=0,this.index()},t.prototype.keypadApplicationMode=function(){this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire()},t.prototype.keypadNumericMode=function(){this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire()},t.prototype.selectDefaultCharset=function(){this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,a.DEFAULT_CHARSET)},t.prototype.selectCharset=function(e){2===e.length?"/"!==e[0]&&this._charsetService.setgCharset(y[e[0]],a.CHARSETS[e[1]]||a.DEFAULT_CHARSET):this.selectDefaultCharset()},t.prototype.index=function(){this._restrictCursor();var e=this._bufferService.buffer;this._bufferService.buffer.y++,e.y===e.scrollBottom+1?(e.y--,this._onRequestScroll.fire(this._eraseAttrData())):e.y>=this._bufferService.rows&&(e.y=this._bufferService.rows-1),this._restrictCursor()},t.prototype.tabSet=function(){this._bufferService.buffer.tabs[this._bufferService.buffer.x]=!0},t.prototype.reverseIndex=function(){this._restrictCursor();var e=this._bufferService.buffer;if(e.y===e.scrollTop){var t=e.scrollBottom-e.scrollTop;e.lines.shiftElements(e.ybase+e.y,t,1),e.lines.set(e.ybase+e.y,e.getBlankLine(this._eraseAttrData())),this._dirtyRowService.markRangeDirty(e.scrollTop,e.scrollBottom)}else e.y--,this._restrictCursor()},t.prototype.fullReset=function(){this._parser.reset(),this._onRequestReset.fire()},t.prototype.reset=function(){this._curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=d.DEFAULT_ATTR_DATA.clone()},t.prototype._eraseAttrData=function(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal},t.prototype.setgLevel=function(e){this._charsetService.setgLevel(e)},t.prototype.screenAlignmentPattern=function(){var e=new v.CellData;e.content=1<<22|"E".charCodeAt(0),e.fg=this._curAttrData.fg,e.bg=this._curAttrData.bg;var t=this._bufferService.buffer;this._setCursor(0,0);for(var n=0;n<this._bufferService.rows;++n){var i=t.ybase+t.y+n,r=t.lines.get(i);r&&(r.fill(e),r.isWrapped=!1)}this._dirtyRowService.markAllDirty(),this._setCursor(0,0)},t}(l.Disposable);t.InputHandler=C},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CHARSET=t.CHARSETS=void 0,t.CHARSETS={},t.DEFAULT_CHARSET=t.CHARSETS.B,t.CHARSETS[0]={"`":"◆",a:"▒",b:"␉",c:"␌",d:"␍",e:"␊",f:"°",g:"±",h:"␤",i:"␋",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},t.CHARSETS.A={"#":"£"},t.CHARSETS.B=void 0,t.CHARSETS[4]={"#":"£","@":"¾","[":"ij","\\":"½","]":"|","{":"¨","|":"f","}":"¼","~":"´"},t.CHARSETS.C=t.CHARSETS[5]={"[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},t.CHARSETS.R={"#":"£","@":"à","[":"°","\\":"ç","]":"§","{":"é","|":"ù","}":"è","~":"¨"},t.CHARSETS.Q={"@":"à","[":"â","\\":"ç","]":"ê","^":"î","`":"ô","{":"é","|":"ù","}":"è","~":"û"},t.CHARSETS.K={"@":"§","[":"Ä","\\":"Ö","]":"Ü","{":"ä","|":"ö","}":"ü","~":"ß"},t.CHARSETS.Y={"#":"£","@":"§","[":"°","\\":"ç","]":"é","`":"ù","{":"à","|":"ò","}":"è","~":"ì"},t.CHARSETS.E=t.CHARSETS[6]={"@":"Ä","[":"Æ","\\":"Ø","]":"Å","^":"Ü","`":"ä","{":"æ","|":"ø","}":"å","~":"ü"},t.CHARSETS.Z={"#":"£","@":"§","[":"¡","\\":"Ñ","]":"¿","{":"°","|":"ñ","}":"ç"},t.CHARSETS.H=t.CHARSETS[7]={"@":"É","[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},t.CHARSETS["="]={"#":"ù","@":"à","[":"é","\\":"ç","]":"ê","^":"î",_:"è","`":"ô","{":"ä","|":"ö","}":"ü","~":"û"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Params=void 0;var i=function(){function e(e,t){if(void 0===e&&(e=32),void 0===t&&(t=32),this.maxLength=e,this.maxSubParamsLength=t,t>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(e),this.length=0,this._subParams=new Int32Array(t),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(e),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}return e.fromArray=function(t){var n=new e;if(!t.length)return n;for(var i=t[0]instanceof Array?1:0;i<t.length;++i){var r=t[i];if(r instanceof Array)for(var o=0;o<r.length;++o)n.addSubParam(r[o]);else n.addParam(r)}return n},e.prototype.clone=function(){var t=new e(this.maxLength,this.maxSubParamsLength);return t.params.set(this.params),t.length=this.length,t._subParams.set(this._subParams),t._subParamsLength=this._subParamsLength,t._subParamsIdx.set(this._subParamsIdx),t._rejectDigits=this._rejectDigits,t._rejectSubDigits=this._rejectSubDigits,t._digitIsSub=this._digitIsSub,t},e.prototype.toArray=function(){for(var e=[],t=0;t<this.length;++t){e.push(this.params[t]);var n=this._subParamsIdx[t]>>8,i=255&this._subParamsIdx[t];i-n>0&&e.push(Array.prototype.slice.call(this._subParams,n,i))}return e},e.prototype.reset=function(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1},e.prototype.addParam=function(e){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=e>2147483647?2147483647:e}},e.prototype.addSubParam=function(e){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=e>2147483647?2147483647:e,this._subParamsIdx[this.length-1]++}},e.prototype.hasSubParams=function(e){return(255&this._subParamsIdx[e])-(this._subParamsIdx[e]>>8)>0},e.prototype.getSubParams=function(e){var t=this._subParamsIdx[e]>>8,n=255&this._subParamsIdx[e];return n-t>0?this._subParams.subarray(t,n):null},e.prototype.getSubParamsAll=function(){for(var e={},t=0;t<this.length;++t){var n=this._subParamsIdx[t]>>8,i=255&this._subParamsIdx[t];i-n>0&&(e[t]=this._subParams.slice(n,i))}return e},e.prototype.addDigit=function(e){var t;if(!(this._rejectDigits||!(t=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)){var n=this._digitIsSub?this._subParams:this.params,i=n[t-1];n[t-1]=~i?Math.min(10*i+e,2147483647):e}},e}();t.Params=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.OscHandler=t.OscParser=void 0;var i=n(22),r=n(8),o=function(){function e(){this._state=0,this._id=-1,this._handlers=Object.create(null),this._handlerFb=function(){}}return e.prototype.addHandler=function(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);var n=this._handlers[e];return n.push(t),{dispose:function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}},e.prototype.setHandler=function(e,t){this._handlers[e]=[t]},e.prototype.clearHandler=function(e){this._handlers[e]&&delete this._handlers[e]},e.prototype.setHandlerFallback=function(e){this._handlerFb=e},e.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){}},e.prototype.reset=function(){2===this._state&&this.end(!1),this._id=-1,this._state=0},e.prototype._start=function(){var e=this._handlers[this._id];if(e)for(var t=e.length-1;t>=0;t--)e[t].start();else this._handlerFb(this._id,"START")},e.prototype._put=function(e,t,n){var i=this._handlers[this._id];if(i)for(var o=i.length-1;o>=0;o--)i[o].put(e,t,n);else this._handlerFb(this._id,"PUT",r.utf32ToString(e,t,n))},e.prototype._end=function(e){var t=this._handlers[this._id];if(t){for(var n=t.length-1;n>=0&&!1===t[n].end(e);n--);for(n--;n>=0;n--)t[n].end(!1)}else this._handlerFb(this._id,"END",e)},e.prototype.start=function(){this.reset(),this._id=-1,this._state=1},e.prototype.put=function(e,t,n){if(3!==this._state){if(1===this._state)for(;t<n;){var i=e[t++];if(59===i){this._state=2,this._start();break}if(i<48||57<i)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+i-48}2===this._state&&n-t>0&&this._put(e,t,n)}},e.prototype.end=function(e){0!==this._state&&(3!==this._state&&(1===this._state&&this._start(),this._end(e)),this._id=-1,this._state=0)},e}();t.OscParser=o;var s=function(){function e(e){this._handler=e,this._data="",this._hitLimit=!1}return e.prototype.start=function(){this._data="",this._hitLimit=!1},e.prototype.put=function(e,t,n){this._hitLimit||(this._data+=r.utf32ToString(e,t,n),this._data.length>i.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},e.prototype.end=function(e){var t;return this._hitLimit?t=!1:e&&(t=this._handler(this._data)),this._data="",this._hitLimit=!1,t},e}();t.OscHandler=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PAYLOAD_LIMIT=void 0,t.PAYLOAD_LIMIT=1e7},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DcsHandler=t.DcsParser=void 0;var i=n(8),r=n(20),o=n(22),s=[],a=function(){function e(){this._handlers=Object.create(null),this._active=s,this._ident=0,this._handlerFb=function(){}}return e.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){}},e.prototype.addHandler=function(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);var n=this._handlers[e];return n.push(t),{dispose:function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}},e.prototype.setHandler=function(e,t){this._handlers[e]=[t]},e.prototype.clearHandler=function(e){this._handlers[e]&&delete this._handlers[e]},e.prototype.setHandlerFallback=function(e){this._handlerFb=e},e.prototype.reset=function(){this._active.length&&this.unhook(!1),this._active=s,this._ident=0},e.prototype.hook=function(e,t){if(this.reset(),this._ident=e,this._active=this._handlers[e]||s,this._active.length)for(var n=this._active.length-1;n>=0;n--)this._active[n].hook(t);else this._handlerFb(this._ident,"HOOK",t)},e.prototype.put=function(e,t,n){if(this._active.length)for(var r=this._active.length-1;r>=0;r--)this._active[r].put(e,t,n);else this._handlerFb(this._ident,"PUT",i.utf32ToString(e,t,n))},e.prototype.unhook=function(e){if(this._active.length){for(var t=this._active.length-1;t>=0&&!1===this._active[t].unhook(e);t--);for(t--;t>=0;t--)this._active[t].unhook(!1)}else this._handlerFb(this._ident,"UNHOOK",e);this._active=s,this._ident=0},e}();t.DcsParser=a;var c=function(){function e(e){this._handler=e,this._data="",this._hitLimit=!1}return e.prototype.hook=function(e){this._params=e.clone(),this._data="",this._hitLimit=!1},e.prototype.put=function(e,t,n){this._hitLimit||(this._data+=i.utf32ToString(e,t,n),this._data.length>o.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},e.prototype.unhook=function(e){var t;return this._hitLimit?t=!1:e&&(t=this._handler(this._data,this._params?this._params:new r.Params)),this._params=void 0,this._data="",this._hitLimit=!1,t},e}();t.DcsHandler=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.removeTerminalFromCache=t.acquireCharAtlas=void 0;var i=n(25),r=n(42),o=[];t.acquireCharAtlas=function(e,t,n,s,a){for(var c=i.generateConfig(s,a,e,n),l=0;l<o.length;l++){var u=(h=o[l]).ownedBy.indexOf(t);if(u>=0){if(i.configEquals(h.config,c))return h.atlas;1===h.ownedBy.length?(h.atlas.dispose(),o.splice(l,1)):h.ownedBy.splice(u,1);break}}for(l=0;l<o.length;l++){var h=o[l];if(i.configEquals(h.config,c))return h.ownedBy.push(t),h.atlas}var d={atlas:new r.DynamicCharAtlas(document,c),config:c,ownedBy:[t]};return o.push(d),d.atlas},t.removeTerminalFromCache=function(e){for(var t=0;t<o.length;t++){var n=o[t].ownedBy.indexOf(e);if(-1!==n){1===o[t].ownedBy.length?(o[t].atlas.dispose(),o.splice(t,1)):o[t].ownedBy.splice(n,1);break}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.is256Color=t.configEquals=t.generateConfig=void 0;var i=n(3);t.generateConfig=function(e,t,n,i){var r={foreground:i.foreground,background:i.background,cursor:void 0,cursorAccent:void 0,selection:void 0,ansi:i.ansi.slice(0,16)};return{devicePixelRatio:window.devicePixelRatio,scaledCharWidth:e,scaledCharHeight:t,fontFamily:n.fontFamily,fontSize:n.fontSize,fontWeight:n.fontWeight,fontWeightBold:n.fontWeightBold,allowTransparency:n.allowTransparency,colors:r}},t.configEquals=function(e,t){for(var n=0;n<e.colors.ansi.length;n++)if(e.colors.ansi[n].rgba!==t.colors.ansi[n].rgba)return!1;return e.devicePixelRatio===t.devicePixelRatio&&e.fontFamily===t.fontFamily&&e.fontSize===t.fontSize&&e.fontWeight===t.fontWeight&&e.fontWeightBold===t.fontWeightBold&&e.allowTransparency===t.allowTransparency&&e.scaledCharWidth===t.scaledCharWidth&&e.scaledCharHeight===t.scaledCharHeight&&e.colors.foreground===t.colors.foreground&&e.colors.background===t.colors.background},t.is256Color=function(e){return e<i.DEFAULT_COLOR}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorManager=t.DEFAULT_ANSI_COLORS=void 0;var i=n(10),r=n(44),o=i.css.toColor("#ffffff"),s=i.css.toColor("#000000"),a=i.css.toColor("#ffffff"),c=i.css.toColor("#000000"),l={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};t.DEFAULT_ANSI_COLORS=function(){for(var e=[i.css.toColor("#2e3436"),i.css.toColor("#cc0000"),i.css.toColor("#4e9a06"),i.css.toColor("#c4a000"),i.css.toColor("#3465a4"),i.css.toColor("#75507b"),i.css.toColor("#06989a"),i.css.toColor("#d3d7cf"),i.css.toColor("#555753"),i.css.toColor("#ef2929"),i.css.toColor("#8ae234"),i.css.toColor("#fce94f"),i.css.toColor("#729fcf"),i.css.toColor("#ad7fa8"),i.css.toColor("#34e2e2"),i.css.toColor("#eeeeec")],t=[0,95,135,175,215,255],n=0;n<216;n++){var r=t[n/36%6|0],o=t[n/6%6|0],s=t[n%6];e.push({css:i.channels.toCss(r,o,s),rgba:i.channels.toRgba(r,o,s)})}for(n=0;n<24;n++){var a=8+10*n;e.push({css:i.channels.toCss(a,a,a),rgba:i.channels.toRgba(a,a,a)})}return e}();var u=function(){function e(e,n){this.allowTransparency=n;var u=e.createElement("canvas");u.width=1,u.height=1;var h=u.getContext("2d");if(!h)throw new Error("Could not get rendering context");this._ctx=h,this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this._contrastCache=new r.ColorContrastCache,this.colors={foreground:o,background:s,cursor:a,cursorAccent:c,selection:l,selectionOpaque:i.color.blend(s,l),ansi:t.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache}}return e.prototype.onOptionsChange=function(e){"minimumContrastRatio"===e&&this._contrastCache.clear()},e.prototype.setTheme=function(e){void 0===e&&(e={}),this.colors.foreground=this._parseColor(e.foreground,o),this.colors.background=this._parseColor(e.background,s),this.colors.cursor=this._parseColor(e.cursor,a,!0),this.colors.cursorAccent=this._parseColor(e.cursorAccent,c,!0),this.colors.selection=this._parseColor(e.selection,l,!0),this.colors.selectionOpaque=i.color.blend(this.colors.background,this.colors.selection),this.colors.ansi[0]=this._parseColor(e.black,t.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(e.red,t.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(e.green,t.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(e.yellow,t.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(e.blue,t.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(e.magenta,t.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(e.cyan,t.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(e.white,t.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(e.brightBlack,t.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(e.brightRed,t.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(e.brightGreen,t.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(e.brightYellow,t.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(e.brightBlue,t.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(e.brightMagenta,t.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(e.brightCyan,t.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(e.brightWhite,t.DEFAULT_ANSI_COLORS[15]),this._contrastCache.clear()},e.prototype._parseColor=function(e,t,n){if(void 0===n&&(n=this.allowTransparency),void 0===e)return t;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=e,"string"!=typeof this._ctx.fillStyle)return console.warn("Color: "+e+" is invalid using fallback "+t.css),t;this._ctx.fillRect(0,0,1,1);var r=this._ctx.getImageData(0,0,1,1).data;if(255!==r[3]){if(!n)return console.warn("Color: "+e+" is using transparency, but allowTransparency is false. Using fallback "+t.css+"."),t;var o=this._ctx.fillStyle.substring(5,this._ctx.fillStyle.length-1).split(",").map((function(e){return Number(e)})),s=o[0],a=o[1],c=o[2],l=o[3],u=Math.round(255*l);return{rgba:i.channels.toRgba(s,a,c,u),css:e}}return{css:this._ctx.fillStyle,rgba:i.channels.toRgba(r[0],r[1],r[2],r[3])}},e}();t.ColorManager=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.throwIfFalsy=void 0,t.throwIfFalsy=function(e){if(!e)throw new Error("value must not be falsy");return e}},function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CharacterJoinerRegistry=t.JoinedCellData=void 0;var o=n(6),s=n(3),a=n(4),c=function(e){function t(t,n,i){var r=e.call(this)||this;return r.content=0,r.combinedData="",r.fg=t.fg,r.bg=t.bg,r.combinedData=n,r._width=i,r}return r(t,e),t.prototype.isCombined=function(){return 2097152},t.prototype.getWidth=function(){return this._width},t.prototype.getChars=function(){return this.combinedData},t.prototype.getCode=function(){return 2097151},t.prototype.setFromCharData=function(e){throw new Error("not implemented")},t.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},t}(o.AttributeData);t.JoinedCellData=c;var l=function(){function e(e){this._bufferService=e,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new a.CellData}return e.prototype.registerCharacterJoiner=function(e){var t={id:this._nextCharacterJoinerId++,handler:e};return this._characterJoiners.push(t),t.id},e.prototype.deregisterCharacterJoiner=function(e){for(var t=0;t<this._characterJoiners.length;t++)if(this._characterJoiners[t].id===e)return this._characterJoiners.splice(t,1),!0;return!1},e.prototype.getJoinedCharacters=function(e){if(0===this._characterJoiners.length)return[];var t=this._bufferService.buffer.lines.get(e);if(!t||0===t.length)return[];for(var n=[],i=t.translateToString(!0),r=0,o=0,a=0,c=t.getFg(0),l=t.getBg(0),u=0;u<t.getTrimmedLength();u++)if(t.loadCell(u,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==c||this._workCell.bg!==l){if(u-r>1)for(var h=this._getJoinedRanges(i,a,o,t,r),d=0;d<h.length;d++)n.push(h[d]);r=u,a=o,c=this._workCell.fg,l=this._workCell.bg}o+=this._workCell.getChars().length||s.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-r>1)for(h=this._getJoinedRanges(i,a,o,t,r),d=0;d<h.length;d++)n.push(h[d]);return n},e.prototype._getJoinedRanges=function(t,n,i,r,o){for(var s=t.substring(n,i),a=this._characterJoiners[0].handler(s),c=1;c<this._characterJoiners.length;c++)for(var l=this._characterJoiners[c].handler(s),u=0;u<l.length;u++)e._mergeRanges(a,l[u]);return this._stringRangesToCellRanges(a,r,o),a},e.prototype._stringRangesToCellRanges=function(e,t,n){var i=0,r=!1,o=0,a=e[i];if(a){for(var c=n;c<this._bufferService.cols;c++){var l=t.getWidth(c),u=t.getString(c).length||s.WHITESPACE_CELL_CHAR.length;if(0!==l){if(!r&&a[0]<=o&&(a[0]=c,r=!0),a[1]<=o){if(a[1]=c,!(a=e[++i]))break;a[0]<=o?(a[0]=c,r=!0):r=!1}o+=u}}a&&(a[1]=this._bufferService.cols)}},e._mergeRanges=function(e,t){for(var n=!1,i=0;i<e.length;i++){var r=e[i];if(n){if(t[1]<=r[0])return e[i-1][1]=t[1],e;if(t[1]<=r[1])return e[i-1][1]=Math.max(t[1],r[1]),e.splice(i,1),e;e.splice(i,1),i--}else{if(t[1]<=r[0])return e.splice(i,0,t),e;if(t[1]<=r[1])return r[0]=Math.min(t[0],r[0]),e;t[0]<r[1]&&(r[0]=Math.min(t[0],r[0]),n=!0)}}return n?e[e.length-1][1]=t[1]:e.push(t),e},e}();t.CharacterJoinerRegistry=l},function(e,t,n){function i(e,t){var n=t.getBoundingClientRect();return[e.clientX-n.left,e.clientY-n.top]}Object.defineProperty(t,"__esModule",{value:!0}),t.getRawByteCoords=t.getCoords=t.getCoordsRelativeToElement=void 0,t.getCoordsRelativeToElement=i,t.getCoords=function(e,t,n,r,o,s,a,c){if(o){var l=i(e,t);if(l)return l[0]=Math.ceil((l[0]+(c?s/2:0))/s),l[1]=Math.ceil(l[1]/a),l[0]=Math.min(Math.max(l[0],1),n+(c?1:0)),l[1]=Math.min(Math.max(l[1],1),r),l}},t.getRawByteCoords=function(e){if(e)return{x:e[0]+32,y:e[1]+32}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.RenderDebouncer=void 0;var i=function(){function e(e){this._renderCallback=e}return e.prototype.dispose=function(){this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.refresh=function(e,t,n){var i=this;this._rowCount=n,e=void 0!==e?e:0,t=void 0!==t?t:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,e):e,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,t):t,this._animationFrame||(this._animationFrame=window.requestAnimationFrame((function(){return i._innerRefresh()})))},e.prototype._innerRefresh=function(){if(void 0!==this._rowStart&&void 0!==this._rowEnd&&void 0!==this._rowCount){var e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._animationFrame=void 0,this._renderCallback(e,t)}},e}();t.RenderDebouncer=i},function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenDprMonitor=void 0;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._currentDevicePixelRatio=window.devicePixelRatio,t}return r(t,e),t.prototype.setListener=function(e){var t=this;this._listener&&this.clearListener(),this._listener=e,this._outerListener=function(){t._listener&&(t._listener(window.devicePixelRatio,t._currentDevicePixelRatio),t._updateDpr())},this._updateDpr()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.clearListener()},t.prototype._updateDpr=function(){var e;this._outerListener&&(null===(e=this._resolutionMediaMatchList)||void 0===e||e.removeListener(this._outerListener),this._currentDevicePixelRatio=window.devicePixelRatio,this._resolutionMediaMatchList=window.matchMedia("screen and (resolution: "+window.devicePixelRatio+"dppx)"),this._resolutionMediaMatchList.addListener(this._outerListener))},t.prototype.clearListener=function(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)},t}(n(2).Disposable);t.ScreenDprMonitor=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.clone=void 0,t.clone=function e(t,n){if(void 0===n&&(n=5),"object"!=typeof t)return t;var i=Array.isArray(t)?[]:{};for(var r in t)i[r]=n<=1?t[r]:t[r]?e(t[r],n-1):t[r];return i}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Terminal=void 0;var i=n(4),r=n(34),o=n(17),s=n(0),a=n(82),c=function(){function e(e){this._core=new r.Terminal(e),this._addonManager=new a.AddonManager}return e.prototype._checkProposedApi=function(){if(!this._core.optionsService.options.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")},Object.defineProperty(e.prototype,"onCursorMove",{get:function(){return this._core.onCursorMove},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onLineFeed",{get:function(){return this._core.onLineFeed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onSelectionChange",{get:function(){return this._core.onSelectionChange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onData",{get:function(){return this._core.onData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onBinary",{get:function(){return this._core.onBinary},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onTitleChange",{get:function(){return this._core.onTitleChange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onScroll",{get:function(){return this._core.onScroll},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onKey",{get:function(){return this._core.onKey},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRender",{get:function(){return this._core.onRender},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onResize",{get:function(){return this._core.onResize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._core.element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parser",{get:function(){return this._checkProposedApi(),this._parser||(this._parser=new d(this._core)),this._parser},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"unicode",{get:function(){return this._checkProposedApi(),new f(this._core)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textarea",{get:function(){return this._core.textarea},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._core.rows},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cols",{get:function(){return this._core.cols},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffer",{get:function(){return this._checkProposedApi(),new u(this._core.buffers)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"markers",{get:function(){return this._checkProposedApi(),this._core.markers},enumerable:!1,configurable:!0}),e.prototype.blur=function(){this._core.blur()},e.prototype.focus=function(){this._core.focus()},e.prototype.resize=function(e,t){this._verifyIntegers(e,t),this._core.resize(e,t)},e.prototype.open=function(e){this._core.open(e)},e.prototype.attachCustomKeyEventHandler=function(e){this._core.attachCustomKeyEventHandler(e)},e.prototype.registerLinkMatcher=function(e,t,n){return this._checkProposedApi(),this._core.registerLinkMatcher(e,t,n)},e.prototype.deregisterLinkMatcher=function(e){this._checkProposedApi(),this._core.deregisterLinkMatcher(e)},e.prototype.registerLinkProvider=function(e){return this._checkProposedApi(),this._core.registerLinkProvider(e)},e.prototype.registerCharacterJoiner=function(e){return this._checkProposedApi(),this._core.registerCharacterJoiner(e)},e.prototype.deregisterCharacterJoiner=function(e){this._checkProposedApi(),this._core.deregisterCharacterJoiner(e)},e.prototype.registerMarker=function(e){return this._checkProposedApi(),this._verifyIntegers(e),this._core.addMarker(e)},e.prototype.addMarker=function(e){return this.registerMarker(e)},e.prototype.hasSelection=function(){return this._core.hasSelection()},e.prototype.select=function(e,t,n){this._verifyIntegers(e,t,n),this._core.select(e,t,n)},e.prototype.getSelection=function(){return this._core.getSelection()},e.prototype.getSelectionPosition=function(){return this._core.getSelectionPosition()},e.prototype.clearSelection=function(){this._core.clearSelection()},e.prototype.selectAll=function(){this._core.selectAll()},e.prototype.selectLines=function(e,t){this._verifyIntegers(e,t),this._core.selectLines(e,t)},e.prototype.dispose=function(){this._addonManager.dispose(),this._core.dispose()},e.prototype.scrollLines=function(e){this._verifyIntegers(e),this._core.scrollLines(e)},e.prototype.scrollPages=function(e){this._verifyIntegers(e),this._core.scrollPages(e)},e.prototype.scrollToTop=function(){this._core.scrollToTop()},e.prototype.scrollToBottom=function(){this._core.scrollToBottom()},e.prototype.scrollToLine=function(e){this._verifyIntegers(e),this._core.scrollToLine(e)},e.prototype.clear=function(){this._core.clear()},e.prototype.write=function(e,t){this._core.write(e,t)},e.prototype.writeUtf8=function(e,t){this._core.write(e,t)},e.prototype.writeln=function(e,t){this._core.write(e),this._core.write("\r\n",t)},e.prototype.paste=function(e){this._core.paste(e)},e.prototype.getOption=function(e){return this._core.optionsService.getOption(e)},e.prototype.setOption=function(e,t){this._core.optionsService.setOption(e,t)},e.prototype.refresh=function(e,t){this._verifyIntegers(e,t),this._core.refresh(e,t)},e.prototype.reset=function(){this._core.reset()},e.prototype.loadAddon=function(e){return this._addonManager.loadAddon(this,e)},Object.defineProperty(e,"strings",{get:function(){return o},enumerable:!1,configurable:!0}),e.prototype._verifyIntegers=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.forEach((function(e){if(e===1/0||isNaN(e)||e%1!=0)throw new Error("This API only accepts integers")}))},e}();t.Terminal=c;var l=function(){function e(e,t){this._buffer=e,this.type=t}return e.prototype.init=function(e){return this._buffer=e,this},Object.defineProperty(e.prototype,"cursorY",{get:function(){return this._buffer.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursorX",{get:function(){return this._buffer.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewportY",{get:function(){return this._buffer.ydisp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseY",{get:function(){return this._buffer.ybase},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._buffer.lines.length},enumerable:!1,configurable:!0}),e.prototype.getLine=function(e){var t=this._buffer.lines.get(e);if(t)return new h(t)},e.prototype.getNullCell=function(){return new i.CellData},e}(),u=function(){function e(e){var t=this;this._buffers=e,this._onBufferChange=new s.EventEmitter,this._normal=new l(this._buffers.normal,"normal"),this._alternate=new l(this._buffers.alt,"alternate"),this._buffers.onBufferActivate((function(){return t._onBufferChange.fire(t.active)}))}return Object.defineProperty(e.prototype,"onBufferChange",{get:function(){return this._onBufferChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){if(this._buffers.active===this._buffers.normal)return this.normal;if(this._buffers.active===this._buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"normal",{get:function(){return this._normal.init(this._buffers.normal)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alternate",{get:function(){return this._alternate.init(this._buffers.alt)},enumerable:!1,configurable:!0}),e}(),h=function(){function e(e){this._line=e}return Object.defineProperty(e.prototype,"isWrapped",{get:function(){return this._line.isWrapped},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._line.length},enumerable:!1,configurable:!0}),e.prototype.getCell=function(e,t){if(!(e<0||e>=this._line.length))return t?(this._line.loadCell(e,t),t):this._line.loadCell(e,new i.CellData)},e.prototype.translateToString=function(e,t,n){return this._line.translateToString(e,t,n)},e}(),d=function(){function e(e){this._core=e}return e.prototype.registerCsiHandler=function(e,t){return this._core.addCsiHandler(e,(function(e){return t(e.toArray())}))},e.prototype.addCsiHandler=function(e,t){return this.registerCsiHandler(e,t)},e.prototype.registerDcsHandler=function(e,t){return this._core.addDcsHandler(e,(function(e,n){return t(e,n.toArray())}))},e.prototype.addDcsHandler=function(e,t){return this.registerDcsHandler(e,t)},e.prototype.registerEscHandler=function(e,t){return this._core.addEscHandler(e,t)},e.prototype.addEscHandler=function(e,t){return this.registerEscHandler(e,t)},e.prototype.registerOscHandler=function(e,t){return this._core.addOscHandler(e,t)},e.prototype.addOscHandler=function(e,t){return this.registerOscHandler(e,t)},e}(),f=function(){function e(e){this._core=e}return e.prototype.register=function(e){this._core.unicodeService.register(e)},Object.defineProperty(e.prototype,"versions",{get:function(){return this._core.unicodeService.versions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeVersion",{get:function(){return this._core.unicodeService.activeVersion},set:function(e){this._core.unicodeService.activeVersion=e},enumerable:!1,configurable:!0}),e}()},function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Terminal=void 0;var o=n(35),s=n(36),a=n(37),c=n(12),l=n(18),u=n(39),h=n(49),d=n(50),f=n(11),p=n(7),v=n(17),m=n(53),_=n(54),g=n(55),y=n(56),b=n(58),w=n(0),C=n(16),S=n(26),k=n(59),E=n(5),x=n(60),T=n(61),L=n(62),M=n(63),O=n(64),R="undefined"!=typeof window?window.document:null,$=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.browser=f,n._keyDownHandled=!1,n._onCursorMove=new w.EventEmitter,n._onKey=new w.EventEmitter,n._onRender=new w.EventEmitter,n._onSelectionChange=new w.EventEmitter,n._onTitleChange=new w.EventEmitter,n._onFocus=new w.EventEmitter,n._onBlur=new w.EventEmitter,n._onA11yCharEmitter=new w.EventEmitter,n._onA11yTabEmitter=new w.EventEmitter,n._setup(),n.linkifier=n._instantiationService.createInstance(h.Linkifier),n.linkifier2=n.register(n._instantiationService.createInstance(L.Linkifier2)),n.register(n._inputHandler.onRequestBell((function(){return n.bell()}))),n.register(n._inputHandler.onRequestRefreshRows((function(e,t){return n.refresh(e,t)}))),n.register(n._inputHandler.onRequestReset((function(){return n.reset()}))),n.register(n._inputHandler.onRequestScroll((function(e,t){return n.scroll(e,t||void 0)}))),n.register(n._inputHandler.onRequestWindowsOptionsReport((function(e){return n._reportWindowsOptions(e)}))),n.register(w.forwardEvent(n._inputHandler.onCursorMove,n._onCursorMove)),n.register(w.forwardEvent(n._inputHandler.onTitleChange,n._onTitleChange)),n.register(w.forwardEvent(n._inputHandler.onA11yChar,n._onA11yCharEmitter)),n.register(w.forwardEvent(n._inputHandler.onA11yTab,n._onA11yTabEmitter)),n.register(n._bufferService.onResize((function(e){return n._afterResize(e.cols,e.rows)}))),n}return r(t,e),Object.defineProperty(t.prototype,"options",{get:function(){return this.optionsService.options},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onKey",{get:function(){return this._onKey.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onFocus",{get:function(){return this._onFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onBlur",{get:function(){return this._onBlur.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onA11yChar",{get:function(){return this._onA11yCharEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onA11yTab",{get:function(){return this._onA11yTabEmitter.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){var t,n,i;this._isDisposed||(e.prototype.dispose.call(this),null===(t=this._renderService)||void 0===t||t.dispose(),this._customKeyEventHandler=void 0,this.write=function(){},null===(i=null===(n=this.element)||void 0===n?void 0:n.parentNode)||void 0===i||i.removeChild(this.element))},t.prototype._setup=function(){e.prototype._setup.call(this),this._customKeyEventHandler=void 0},Object.defineProperty(t.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),t.prototype.focus=function(){this.textarea&&this.textarea.focus({preventScroll:!0})},t.prototype._updateOptions=function(t){var n,i,r,o;switch(e.prototype._updateOptions.call(this,t),t){case"fontFamily":case"fontSize":null===(n=this._renderService)||void 0===n||n.clear(),null===(i=this._charSizeService)||void 0===i||i.measure();break;case"cursorBlink":case"cursorStyle":this.refresh(this.buffer.y,this.buffer.y);break;case"drawBoldTextInBrightColors":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":case"minimumContrastRatio":this._renderService&&(this._renderService.clear(),this._renderService.onResize(this.cols,this.rows),this.refresh(0,this.rows-1));break;case"rendererType":this._renderService&&(this._renderService.setRenderer(this._createRenderer()),this._renderService.onResize(this.cols,this.rows));break;case"scrollback":null===(r=this.viewport)||void 0===r||r.syncScrollArea();break;case"screenReaderMode":this.optionsService.options.screenReaderMode?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new g.AccessibilityManager(this,this._renderService)):(null===(o=this._accessibilityManager)||void 0===o||o.dispose(),this._accessibilityManager=void 0);break;case"tabStopWidth":this.buffers.setupTabStops();break;case"theme":this._setTheme(this.optionsService.options.theme)}},t.prototype._onTextAreaFocus=function(e){this._coreService.decPrivateModes.sendFocus&&this._coreService.triggerDataEvent(c.C0.ESC+"[I"),this.updateCursorStyle(e),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()},t.prototype.blur=function(){var e;return null===(e=this.textarea)||void 0===e?void 0:e.blur()},t.prototype._onTextAreaBlur=function(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this._coreService.decPrivateModes.sendFocus&&this._coreService.triggerDataEvent(c.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()},t.prototype._initGlobal=function(){var e=this;this._bindKeys(),this.register(p.addDisposableDomListener(this.element,"copy",(function(t){e.hasSelection()&&a.copyHandler(t,e._selectionService)})));var t=function(t){return a.handlePasteEvent(t,e.textarea,e._coreService)};this.register(p.addDisposableDomListener(this.textarea,"paste",t)),this.register(p.addDisposableDomListener(this.element,"paste",t)),f.isFirefox?this.register(p.addDisposableDomListener(this.element,"mousedown",(function(t){2===t.button&&a.rightClickHandler(t,e.textarea,e.screenElement,e._selectionService,e.options.rightClickSelectsWord)}))):this.register(p.addDisposableDomListener(this.element,"contextmenu",(function(t){a.rightClickHandler(t,e.textarea,e.screenElement,e._selectionService,e.options.rightClickSelectsWord)}))),f.isLinux&&this.register(p.addDisposableDomListener(this.element,"auxclick",(function(t){1===t.button&&a.moveTextAreaUnderMouseCursor(t,e.textarea,e.screenElement)})))},t.prototype._bindKeys=function(){var e=this;this.register(p.addDisposableDomListener(this.textarea,"keyup",(function(t){return e._keyUp(t)}),!0)),this.register(p.addDisposableDomListener(this.textarea,"keydown",(function(t){return e._keyDown(t)}),!0)),this.register(p.addDisposableDomListener(this.textarea,"keypress",(function(t){return e._keyPress(t)}),!0)),this.register(p.addDisposableDomListener(this.textarea,"compositionstart",(function(){return e._compositionHelper.compositionstart()}))),this.register(p.addDisposableDomListener(this.textarea,"compositionupdate",(function(t){return e._compositionHelper.compositionupdate(t)}))),this.register(p.addDisposableDomListener(this.textarea,"compositionend",(function(){return e._compositionHelper.compositionend()}))),this.register(this.onRender((function(){return e._compositionHelper.updateCompositionElements()}))),this.register(this.onRender((function(t){return e._queueLinkification(t.start,t.end)})))},t.prototype.open=function(e){var t=this;if(!e)throw new Error("Terminal requires a parent element.");R.body.contains(e)||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=e.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),e.appendChild(this.element);var n=R.createDocumentFragment();this._viewportElement=R.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),n.appendChild(this._viewportElement),this._viewportScrollArea=R.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=R.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=R.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),n.appendChild(this.screenElement),this.textarea=R.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",v.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register(p.addDisposableDomListener(this.textarea,"focus",(function(e){return t._onTextAreaFocus(e)}))),this.register(p.addDisposableDomListener(this.textarea,"blur",(function(){return t._onTextAreaBlur()}))),this._helperContainer.appendChild(this.textarea);var i=this._instantiationService.createInstance(M.CoreBrowserService,this.textarea);this._instantiationService.setService(E.ICoreBrowserService,i),this._charSizeService=this._instantiationService.createInstance(x.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(E.ICharSizeService,this._charSizeService),this._compositionView=R.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(o.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(n),this._theme=this.options.theme||this._theme,this._colorManager=new S.ColorManager(R,this.options.allowTransparency),this.register(this.optionsService.onOptionChange((function(e){return t._colorManager.onOptionsChange(e)}))),this._colorManager.setTheme(this._theme);var r=this._createRenderer();this._renderService=this.register(this._instantiationService.createInstance(k.RenderService,r,this.rows,this.screenElement)),this._instantiationService.setService(E.IRenderService,this._renderService),this.register(this._renderService.onRenderedBufferChange((function(e){return t._onRender.fire(e)}))),this.onResize((function(e){return t._renderService.resize(e.cols,e.rows)})),this._soundService=this._instantiationService.createInstance(m.SoundService),this._instantiationService.setService(E.ISoundService,this._soundService),this._mouseService=this._instantiationService.createInstance(T.MouseService),this._instantiationService.setService(E.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(s.Viewport,(function(e,n){return t.scrollLines(e,n)}),this._viewportElement,this._viewportScrollArea),this.viewport.onThemeChange(this._colorManager.colors),this.register(this._inputHandler.onRequestSyncScrollBar((function(){return t.viewport.syncScrollArea()}))),this.register(this.viewport),this.register(this.onCursorMove((function(){return t._renderService.onCursorMove()}))),this.register(this.onResize((function(){return t._renderService.onResize(t.cols,t.rows)}))),this.register(this.onBlur((function(){return t._renderService.onBlur()}))),this.register(this.onFocus((function(){return t._renderService.onFocus()}))),this.register(this._renderService.onDimensionsChange((function(){return t.viewport.syncScrollArea()}))),this._selectionService=this.register(this._instantiationService.createInstance(d.SelectionService,this.element,this.screenElement)),this._instantiationService.setService(E.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((function(e){return t.scrollLines(e.amount,e.suppressScrollEvent)}))),this.register(this._selectionService.onSelectionChange((function(){return t._onSelectionChange.fire()}))),this.register(this._selectionService.onRequestRedraw((function(e){return t._renderService.onSelectionChanged(e.start,e.end,e.columnSelectMode)}))),this.register(this._selectionService.onLinuxMouseSelection((function(e){t.textarea.value=e,t.textarea.focus(),t.textarea.select()}))),this.register(this.onScroll((function(){t.viewport.syncScrollArea(),t._selectionService.refresh()}))),this.register(p.addDisposableDomListener(this._viewportElement,"scroll",(function(){return t._selectionService.refresh()}))),this._mouseZoneManager=this._instantiationService.createInstance(_.MouseZoneManager,this.element,this.screenElement),this.register(this._mouseZoneManager),this.register(this.onScroll((function(){return t._mouseZoneManager.clearAll()}))),this.linkifier.attachToDom(this.element,this._mouseZoneManager),this.linkifier2.attachToDom(this.element,this._mouseService,this._renderService),this.register(p.addDisposableDomListener(this.element,"mousedown",(function(e){return t._selectionService.onMouseDown(e)}))),this._coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new g.AccessibilityManager(this,this._renderService)),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()},t.prototype._createRenderer=function(){switch(this.options.rendererType){case"canvas":return this._instantiationService.createInstance(u.Renderer,this._colorManager.colors,this.screenElement,this.linkifier,this.linkifier2);case"dom":return this._instantiationService.createInstance(y.DomRenderer,this._colorManager.colors,this.element,this.screenElement,this._viewportElement,this.linkifier,this.linkifier2);default:throw new Error('Unrecognized rendererType "'+this.options.rendererType+'"')}},t.prototype._setTheme=function(e){var t,n,i;this._theme=e,null===(t=this._colorManager)||void 0===t||t.setTheme(e),null===(n=this._renderService)||void 0===n||n.setColors(this._colorManager.colors),null===(i=this.viewport)||void 0===i||i.onThemeChange(this._colorManager.colors)},t.prototype.bindMouse=function(){var e=this,t=this,n=this.element;function i(e){var n,i,r=t._mouseService.getRawByteCoords(e,t.screenElement,t.cols,t.rows);if(!r)return!1;switch(e.overrideType||e.type){case"mousemove":i=32,void 0===e.buttons?(n=3,void 0!==e.button&&(n=e.button<3?e.button:3)):n=1&e.buttons?0:4&e.buttons?1:2&e.buttons?2:3;break;case"mouseup":i=0,n=e.button<3?e.button:3;break;case"mousedown":i=1,n=e.button<3?e.button:3;break;case"wheel":0!==e.deltaY&&(i=e.deltaY<0?0:1),n=4;break;default:return!1}return!(void 0===i||void 0===n||n>4)&&t._coreMouseService.triggerMouseEvent({col:r.x-33,row:r.y-33,button:n,action:i,ctrl:e.ctrlKey,alt:e.altKey,shift:e.shiftKey})}var r={mouseup:null,wheel:null,mousedrag:null,mousemove:null},o=function(t){return i(t),t.buttons||(e._document.removeEventListener("mouseup",r.mouseup),r.mousedrag&&e._document.removeEventListener("mousemove",r.mousedrag)),e.cancel(t)},s=function(t){return i(t),t.preventDefault(),e.cancel(t)},a=function(e){e.buttons&&i(e)},l=function(e){e.buttons||i(e)};this.register(this._coreMouseService.onProtocolChange((function(t){t?("debug"===e.optionsService.options.logLevel&&e._logService.debug("Binding to mouse events:",e._coreMouseService.explainEvents(t)),e.element.classList.add("enable-mouse-events"),e._selectionService.disable()):(e._logService.debug("Unbinding from mouse events."),e.element.classList.remove("enable-mouse-events"),e._selectionService.enable()),8&t?r.mousemove||(n.addEventListener("mousemove",l),r.mousemove=l):(n.removeEventListener("mousemove",r.mousemove),r.mousemove=null),16&t?r.wheel||(n.addEventListener("wheel",s),r.wheel=s):(n.removeEventListener("wheel",r.wheel),r.wheel=null),2&t?r.mouseup||(r.mouseup=o):(e._document.removeEventListener("mouseup",r.mouseup),r.mouseup=null),4&t?r.mousedrag||(r.mousedrag=a):(e._document.removeEventListener("mousemove",r.mousedrag),r.mousedrag=null)}))),this._coreMouseService.activeProtocol=this._coreMouseService.activeProtocol,this.register(p.addDisposableDomListener(n,"mousedown",(function(t){if(t.preventDefault(),e.focus(),e._coreMouseService.areMouseEventsActive&&!e._selectionService.shouldForceSelection(t))return i(t),r.mouseup&&e._document.addEventListener("mouseup",r.mouseup),r.mousedrag&&e._document.addEventListener("mousemove",r.mousedrag),e.cancel(t)}))),this.register(p.addDisposableDomListener(n,"wheel",(function(t){if(r.wheel);else if(!e.buffer.hasScrollback){var n=e.viewport.getLinesScrolled(t);if(0===n)return;for(var i=c.C0.ESC+(e._coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(t.deltaY<0?"A":"B"),o="",s=0;s<Math.abs(n);s++)o+=i;e._coreService.triggerDataEvent(o,!0)}}))),this.register(p.addDisposableDomListener(n,"wheel",(function(t){if(!r.wheel)return e.viewport.onWheel(t)?void 0:e.cancel(t)}))),this.register(p.addDisposableDomListener(n,"touchstart",(function(t){if(!e._coreMouseService.areMouseEventsActive)return e.viewport.onTouchStart(t),e.cancel(t)}))),this.register(p.addDisposableDomListener(n,"touchmove",(function(t){if(!e._coreMouseService.areMouseEventsActive)return e.viewport.onTouchMove(t)?void 0:e.cancel(t)})))},t.prototype.refresh=function(e,t){var n;null===(n=this._renderService)||void 0===n||n.refreshRows(e,t)},t.prototype._queueLinkification=function(e,t){var n;null===(n=this.linkifier)||void 0===n||n.linkifyRows(e,t)},t.prototype.updateCursorStyle=function(e){this._selectionService&&this._selectionService.shouldColumnSelect(e)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")},t.prototype._showCursor=function(){this._coreService.isCursorInitialized||(this._coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))},t.prototype.scrollLines=function(t,n){e.prototype.scrollLines.call(this,t,n),this.refresh(0,this.rows-1)},t.prototype.paste=function(e){a.paste(e,this.textarea,this._coreService)},t.prototype.attachCustomKeyEventHandler=function(e){this._customKeyEventHandler=e},t.prototype.registerLinkMatcher=function(e,t,n){var i=this.linkifier.registerLinkMatcher(e,t,n);return this.refresh(0,this.rows-1),i},t.prototype.deregisterLinkMatcher=function(e){this.linkifier.deregisterLinkMatcher(e)&&this.refresh(0,this.rows-1)},t.prototype.registerLinkProvider=function(e){return this.linkifier2.registerLinkProvider(e)},t.prototype.registerCharacterJoiner=function(e){var t=this._renderService.registerCharacterJoiner(e);return this.refresh(0,this.rows-1),t},t.prototype.deregisterCharacterJoiner=function(e){this._renderService.deregisterCharacterJoiner(e)&&this.refresh(0,this.rows-1)},Object.defineProperty(t.prototype,"markers",{get:function(){return this.buffer.markers},enumerable:!1,configurable:!0}),t.prototype.addMarker=function(e){if(this.buffer===this.buffers.normal)return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+e)},t.prototype.hasSelection=function(){return!!this._selectionService&&this._selectionService.hasSelection},t.prototype.select=function(e,t,n){this._selectionService.setSelection(e,t,n)},t.prototype.getSelection=function(){return this._selectionService?this._selectionService.selectionText:""},t.prototype.getSelectionPosition=function(){if(this._selectionService&&this._selectionService.hasSelection)return{startColumn:this._selectionService.selectionStart[0],startRow:this._selectionService.selectionStart[1],endColumn:this._selectionService.selectionEnd[0],endRow:this._selectionService.selectionEnd[1]}},t.prototype.clearSelection=function(){var e;null===(e=this._selectionService)||void 0===e||e.clearSelection()},t.prototype.selectAll=function(){var e;null===(e=this._selectionService)||void 0===e||e.selectAll()},t.prototype.selectLines=function(e,t){var n;null===(n=this._selectionService)||void 0===n||n.selectLines(e,t)},t.prototype._keyDown=function(e){if(this._keyDownHandled=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;if(!this._compositionHelper.keydown(e))return this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;var t=b.evaluateKeyboardEvent(e,this._coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(e),3===t.type||2===t.type){var n=this.rows-1;return this.scrollLines(2===t.type?-n:n),this.cancel(e,!0)}return 1===t.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,e)||(t.cancel&&this.cancel(e,!0),!t.key||(t.key!==c.C0.ETX&&t.key!==c.C0.CR||(this.textarea.value=""),this._onKey.fire({key:t.key,domEvent:e}),this._showCursor(),this._coreService.triggerDataEvent(t.key,!0),this.optionsService.options.screenReaderMode?void(this._keyDownHandled=!0):this.cancel(e,!0)))},t.prototype._isThirdLevelShift=function(e,t){var n=e.isMac&&!this.options.macOptionIsMeta&&t.altKey&&!t.ctrlKey&&!t.metaKey||e.isWindows&&t.altKey&&t.ctrlKey&&!t.metaKey;return"keypress"===t.type?n:n&&(!t.keyCode||t.keyCode>47)},t.prototype._keyUp=function(e){this._customKeyEventHandler&&!1===this._customKeyEventHandler(e)||(function(e){return 16===e.keyCode||17===e.keyCode||18===e.keyCode}(e)||this.focus(),this.updateCursorStyle(e))},t.prototype._keyPress=function(e){var t;if(this._keyDownHandled)return!1;if(this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;if(this.cancel(e),e.charCode)t=e.charCode;else if(null===e.which||void 0===e.which)t=e.keyCode;else{if(0===e.which||0===e.charCode)return!1;t=e.which}return!(!t||(e.altKey||e.ctrlKey||e.metaKey)&&!this._isThirdLevelShift(this.browser,e)||(t=String.fromCharCode(t),this._onKey.fire({key:t,domEvent:e}),this._showCursor(),this._coreService.triggerDataEvent(t,!0),0))},t.prototype.bell=function(){this._soundBell()&&this._soundService.playBellSound()},t.prototype.resize=function(t,n){t!==this.cols||n!==this.rows?e.prototype.resize.call(this,t,n):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()},t.prototype._afterResize=function(e,t){var n,i;null===(n=this._charSizeService)||void 0===n||n.measure(),null===(i=this.viewport)||void 0===i||i.syncScrollArea(!0)},t.prototype.clear=function(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var e=1;e<this.rows;e++)this.buffer.lines.push(this.buffer.getBlankLine(C.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire(this.buffer.ydisp)}},t.prototype.reset=function(){var t,n;this.options.rows=this.rows,this.options.cols=this.cols;var i=this._customKeyEventHandler;this._setup(),e.prototype.reset.call(this),null===(t=this._selectionService)||void 0===t||t.reset(),this._customKeyEventHandler=i,this.refresh(0,this.rows-1),null===(n=this.viewport)||void 0===n||n.syncScrollArea()},t.prototype._reportWindowsOptions=function(e){if(this._renderService)switch(e){case l.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:var t=this._renderService.dimensions.scaledCanvasWidth.toFixed(0),n=this._renderService.dimensions.scaledCanvasHeight.toFixed(0);this._coreService.triggerDataEvent(c.C0.ESC+"[4;"+n+";"+t+"t");break;case l.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:var i=this._renderService.dimensions.scaledCellWidth.toFixed(0),r=this._renderService.dimensions.scaledCellHeight.toFixed(0);this._coreService.triggerDataEvent(c.C0.ESC+"[6;"+r+";"+i+"t")}},t.prototype.cancel=function(e,t){if(this.options.cancelEvents||t)return e.preventDefault(),e.stopPropagation(),!1},t.prototype._visualBell=function(){return!1},t.prototype._soundBell=function(){return"sound"===this.options.bellStyle},t}(O.CoreTerminal);t.Terminal=$},function(e,t,n){var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CompositionHelper=void 0;var o=n(5),s=n(1),a=function(){function e(e,t,n,i,r,o){this._textarea=e,this._compositionView=t,this._bufferService=n,this._optionsService=i,this._charSizeService=r,this._coreService=o,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0}}return e.prototype.compositionstart=function(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._compositionView.classList.add("active")},e.prototype.compositionupdate=function(e){var t=this;this._compositionView.textContent=e.data,this.updateCompositionElements(),setTimeout((function(){t._compositionPosition.end=t._textarea.value.length}),0)},e.prototype.compositionend=function(){this._finalizeComposition(!0)},e.prototype.keydown=function(e){if(this._isComposing||this._isSendingComposition){if(229===e.keyCode)return!1;if(16===e.keyCode||17===e.keyCode||18===e.keyCode)return!1;this._finalizeComposition(!1)}return 229!==e.keyCode||(this._handleAnyTextareaChanges(),!1)},e.prototype._finalizeComposition=function(e){var t=this;if(this._compositionView.classList.remove("active"),this._isComposing=!1,this._clearTextareaPosition(),e){var n={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((function(){var e;t._isSendingComposition&&(t._isSendingComposition=!1,e=t._isComposing?t._textarea.value.substring(n.start,n.end):t._textarea.value.substring(n.start),t._coreService.triggerDataEvent(e,!0))}),0)}else{this._isSendingComposition=!1;var i=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(i,!0)}},e.prototype._handleAnyTextareaChanges=function(){var e=this,t=this._textarea.value;setTimeout((function(){if(!e._isComposing){var n=e._textarea.value.replace(t,"");n.length>0&&e._coreService.triggerDataEvent(n,!0)}}),0)},e.prototype.updateCompositionElements=function(e){var t=this;if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){var n=Math.ceil(this._charSizeService.height*this._optionsService.options.lineHeight),i=this._bufferService.buffer.y*n,r=this._bufferService.buffer.x*this._charSizeService.width;this._compositionView.style.left=r+"px",this._compositionView.style.top=i+"px",this._compositionView.style.height=n+"px",this._compositionView.style.lineHeight=n+"px",this._compositionView.style.fontFamily=this._optionsService.options.fontFamily,this._compositionView.style.fontSize=this._optionsService.options.fontSize+"px";var o=this._compositionView.getBoundingClientRect();this._textarea.style.left=r+"px",this._textarea.style.top=i+"px",this._textarea.style.width=o.width+"px",this._textarea.style.height=o.height+"px",this._textarea.style.lineHeight=o.height+"px"}e||setTimeout((function(){return t.updateCompositionElements(!0)}),0)}},e.prototype._clearTextareaPosition=function(){this._textarea.style.left="",this._textarea.style.top=""},i([r(2,s.IBufferService),r(3,s.IOptionsService),r(4,o.ICharSizeService),r(5,s.ICoreService)],e)}();t.CompositionHelper=a},function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Viewport=void 0;var a=n(2),c=n(7),l=n(5),u=n(1),h=function(e){function t(t,n,i,r,o,s,a){var l=e.call(this)||this;return l._scrollLines=t,l._viewportElement=n,l._scrollArea=i,l._bufferService=r,l._optionsService=o,l._charSizeService=s,l._renderService=a,l.scrollBarWidth=0,l._currentRowHeight=0,l._lastRecordedBufferLength=0,l._lastRecordedViewportHeight=0,l._lastRecordedBufferHeight=0,l._lastTouchY=0,l._lastScrollTop=0,l._wheelPartialScroll=0,l._refreshAnimationFrame=null,l._ignoreNextScrollEvent=!1,l.scrollBarWidth=l._viewportElement.offsetWidth-l._scrollArea.offsetWidth||15,l.register(c.addDisposableDomListener(l._viewportElement,"scroll",l._onScroll.bind(l))),setTimeout((function(){return l.syncScrollArea()}),0),l}return r(t,e),t.prototype.onThemeChange=function(e){this._viewportElement.style.backgroundColor=e.background.css},t.prototype._refresh=function(e){var t=this;if(e)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=requestAnimationFrame((function(){return t._innerRefresh()})))},t.prototype._innerRefresh=function(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;var e=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.canvasHeight);this._lastRecordedBufferHeight!==e&&(this._lastRecordedBufferHeight=e,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}var t=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==t&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=t),this._refreshAnimationFrame=null},t.prototype.syncScrollArea=function(e){if(void 0===e&&(e=!1),this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(e);if(this._lastRecordedViewportHeight===this._renderService.dimensions.canvasHeight){var t=this._bufferService.buffer.ydisp*this._currentRowHeight;this._lastScrollTop===t&&this._lastScrollTop===this._viewportElement.scrollTop&&this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio===this._currentRowHeight||this._refresh(e)}else this._refresh(e)},t.prototype._onScroll=function(e){if(this._lastScrollTop=this._viewportElement.scrollTop,this._viewportElement.offsetParent)if(this._ignoreNextScrollEvent)this._ignoreNextScrollEvent=!1;else{var t=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(t,!0)}},t.prototype._bubbleScroll=function(e,t){var n=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(t<0&&0!==this._viewportElement.scrollTop||t>0&&n<this._lastRecordedBufferHeight)||(e.cancelable&&e.preventDefault(),!1)},t.prototype.onWheel=function(e){var t=this._getPixelsScrolled(e);return 0!==t&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))},t.prototype._getPixelsScrolled=function(e){if(0===e.deltaY)return 0;var t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_LINE?t*=this._currentRowHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._currentRowHeight*this._bufferService.rows),t},t.prototype.getLinesScrolled=function(e){if(0===e.deltaY)return 0;var t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(t/=this._currentRowHeight+0,this._wheelPartialScroll+=t,t=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._bufferService.rows),t},t.prototype._applyScrollModifier=function(e,t){var n=this._optionsService.options.fastScrollModifier;return"alt"===n&&t.altKey||"ctrl"===n&&t.ctrlKey||"shift"===n&&t.shiftKey?e*this._optionsService.options.fastScrollSensitivity*this._optionsService.options.scrollSensitivity:e*this._optionsService.options.scrollSensitivity},t.prototype.onTouchStart=function(e){this._lastTouchY=e.touches[0].pageY},t.prototype.onTouchMove=function(e){var t=this._lastTouchY-e.touches[0].pageY;return this._lastTouchY=e.touches[0].pageY,0!==t&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))},o([s(3,u.IBufferService),s(4,u.IOptionsService),s(5,l.ICharSizeService),s(6,l.IRenderService)],t)}(a.Disposable);t.Viewport=h},function(e,t,n){function i(e){return e.replace(/\r?\n/g,"\r")}function r(e,t){return t?"[200~"+e+"[201~":e}function o(e,t,n){e=r(e=i(e),n.decPrivateModes.bracketedPasteMode),n.triggerDataEvent(e,!0),t.value=""}function s(e,t,n){var i=n.getBoundingClientRect(),r=e.clientX-i.left-10,o=e.clientY-i.top-10;t.style.position="absolute",t.style.width="20px",t.style.height="20px",t.style.left=r+"px",t.style.top=o+"px",t.style.zIndex="1000",t.focus(),setTimeout((function(){t.style.position="",t.style.width="",t.style.height="",t.style.left="",t.style.top="",t.style.zIndex=""}),200)}Object.defineProperty(t,"__esModule",{value:!0}),t.rightClickHandler=t.moveTextAreaUnderMouseCursor=t.paste=t.handlePasteEvent=t.copyHandler=t.bracketTextForPaste=t.prepareTextForTerminal=void 0,t.prepareTextForTerminal=i,t.bracketTextForPaste=r,t.copyHandler=function(e,t){e.clipboardData&&e.clipboardData.setData("text/plain",t.selectionText),e.preventDefault()},t.handlePasteEvent=function(e,t,n){e.stopPropagation(),e.clipboardData&&o(e.clipboardData.getData("text/plain"),t,n)},t.paste=o,t.moveTextAreaUnderMouseCursor=s,t.rightClickHandler=function(e,t,n,i,r){s(e,t,n),r&&!i.isClickInSelection(e)&&i.selectWordAtCursor(e),t.value=i.selectionText,t.select()}},function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.EscapeSequenceParser=t.VT500_TRANSITION_TABLE=t.TransitionTable=void 0;var o=n(2),s=n(15),a=n(20),c=n(21),l=n(23),u=function(){function e(e){this.table=new Uint8Array(e)}return e.prototype.setDefault=function(e,t){s.fill(this.table,e<<4|t)},e.prototype.add=function(e,t,n,i){this.table[t<<8|e]=n<<4|i},e.prototype.addMany=function(e,t,n,i){for(var r=0;r<e.length;r++)this.table[t<<8|e[r]]=n<<4|i},e}();t.TransitionTable=u,t.VT500_TRANSITION_TABLE=function(){var e=new u(4095),t=Array.apply(null,Array(256)).map((function(e,t){return t})),n=function(e,n){return t.slice(e,n)},i=n(32,127),r=n(0,24);r.push(25),r.push.apply(r,n(28,32));var o,s=n(0,14);for(o in e.setDefault(1,0),e.addMany(i,0,2,0),s)e.addMany([24,26,153,154],o,3,0),e.addMany(n(128,144),o,3,0),e.addMany(n(144,152),o,3,0),e.add(156,o,0,0),e.add(27,o,11,1),e.add(157,o,4,8),e.addMany([152,158,159],o,0,7),e.add(155,o,11,3),e.add(144,o,11,9);return e.addMany(r,0,3,0),e.addMany(r,1,3,1),e.add(127,1,0,1),e.addMany(r,8,0,8),e.addMany(r,3,3,3),e.add(127,3,0,3),e.addMany(r,4,3,4),e.add(127,4,0,4),e.addMany(r,6,3,6),e.addMany(r,5,3,5),e.add(127,5,0,5),e.addMany(r,2,3,2),e.add(127,2,0,2),e.add(93,1,4,8),e.addMany(i,8,5,8),e.add(127,8,5,8),e.addMany([156,27,24,26,7],8,6,0),e.addMany(n(28,32),8,0,8),e.addMany([88,94,95],1,0,7),e.addMany(i,7,0,7),e.addMany(r,7,0,7),e.add(156,7,0,0),e.add(127,7,0,7),e.add(91,1,11,3),e.addMany(n(64,127),3,7,0),e.addMany(n(48,60),3,8,4),e.addMany([60,61,62,63],3,9,4),e.addMany(n(48,60),4,8,4),e.addMany(n(64,127),4,7,0),e.addMany([60,61,62,63],4,0,6),e.addMany(n(32,64),6,0,6),e.add(127,6,0,6),e.addMany(n(64,127),6,0,0),e.addMany(n(32,48),3,9,5),e.addMany(n(32,48),5,9,5),e.addMany(n(48,64),5,0,6),e.addMany(n(64,127),5,7,0),e.addMany(n(32,48),4,9,5),e.addMany(n(32,48),1,9,2),e.addMany(n(32,48),2,9,2),e.addMany(n(48,127),2,10,0),e.addMany(n(48,80),1,10,0),e.addMany(n(81,88),1,10,0),e.addMany([89,90,92],1,10,0),e.addMany(n(96,127),1,10,0),e.add(80,1,11,9),e.addMany(r,9,0,9),e.add(127,9,0,9),e.addMany(n(28,32),9,0,9),e.addMany(n(32,48),9,9,12),e.addMany(n(48,60),9,8,10),e.addMany([60,61,62,63],9,9,10),e.addMany(r,11,0,11),e.addMany(n(32,128),11,0,11),e.addMany(n(28,32),11,0,11),e.addMany(r,10,0,10),e.add(127,10,0,10),e.addMany(n(28,32),10,0,10),e.addMany(n(48,60),10,8,10),e.addMany([60,61,62,63],10,0,11),e.addMany(n(32,48),10,9,12),e.addMany(r,12,0,12),e.add(127,12,0,12),e.addMany(n(28,32),12,0,12),e.addMany(n(32,48),12,9,12),e.addMany(n(48,64),12,0,11),e.addMany(n(64,127),12,12,13),e.addMany(n(64,127),10,12,13),e.addMany(n(64,127),9,12,13),e.addMany(r,13,13,13),e.addMany(i,13,13,13),e.add(127,13,0,13),e.addMany([27,156,24,26],13,14,0),e.add(160,0,2,0),e.add(160,8,5,8),e.add(160,6,0,6),e.add(160,11,0,11),e.add(160,13,13,13),e}();var h=function(e){function n(n){void 0===n&&(n=t.VT500_TRANSITION_TABLE);var i=e.call(this)||this;return i._transitions=n,i.initialState=0,i.currentState=i.initialState,i._params=new a.Params,i._params.addParam(0),i._collect=0,i.precedingCodepoint=0,i._printHandlerFb=function(e,t,n){},i._executeHandlerFb=function(e){},i._csiHandlerFb=function(e,t){},i._escHandlerFb=function(e){},i._errorHandlerFb=function(e){return e},i._printHandler=i._printHandlerFb,i._executeHandlers=Object.create(null),i._csiHandlers=Object.create(null),i._escHandlers=Object.create(null),i._oscParser=new c.OscParser,i._dcsParser=new l.DcsParser,i._errorHandler=i._errorHandlerFb,i.setEscHandler({final:"\\"},(function(){})),i}return r(n,e),n.prototype._identifier=function(e,t){void 0===t&&(t=[64,126]);var n=0;if(e.prefix){if(e.prefix.length>1)throw new Error("only one byte as prefix supported");if((n=e.prefix.charCodeAt(0))&&60>n||n>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(e.intermediates){if(e.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(var i=0;i<e.intermediates.length;++i){var r=e.intermediates.charCodeAt(i);if(32>r||r>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");n<<=8,n|=r}}if(1!==e.final.length)throw new Error("final must be a single byte");var o=e.final.charCodeAt(0);if(t[0]>o||o>t[1])throw new Error("final must be in range "+t[0]+" .. "+t[1]);return(n<<=8)|o},n.prototype.identToString=function(e){for(var t=[];e;)t.push(String.fromCharCode(255&e)),e>>=8;return t.reverse().join("")},n.prototype.dispose=function(){this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser.dispose(),this._dcsParser.dispose()},n.prototype.setPrintHandler=function(e){this._printHandler=e},n.prototype.clearPrintHandler=function(){this._printHandler=this._printHandlerFb},n.prototype.addEscHandler=function(e,t){var n=this._identifier(e,[48,126]);void 0===this._escHandlers[n]&&(this._escHandlers[n]=[]);var i=this._escHandlers[n];return i.push(t),{dispose:function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}}},n.prototype.setEscHandler=function(e,t){this._escHandlers[this._identifier(e,[48,126])]=[t]},n.prototype.clearEscHandler=function(e){this._escHandlers[this._identifier(e,[48,126])]&&delete this._escHandlers[this._identifier(e,[48,126])]},n.prototype.setEscHandlerFallback=function(e){this._escHandlerFb=e},n.prototype.setExecuteHandler=function(e,t){this._executeHandlers[e.charCodeAt(0)]=t},n.prototype.clearExecuteHandler=function(e){this._executeHandlers[e.charCodeAt(0)]&&delete this._executeHandlers[e.charCodeAt(0)]},n.prototype.setExecuteHandlerFallback=function(e){this._executeHandlerFb=e},n.prototype.addCsiHandler=function(e,t){var n=this._identifier(e);void 0===this._csiHandlers[n]&&(this._csiHandlers[n]=[]);var i=this._csiHandlers[n];return i.push(t),{dispose:function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}}},n.prototype.setCsiHandler=function(e,t){this._csiHandlers[this._identifier(e)]=[t]},n.prototype.clearCsiHandler=function(e){this._csiHandlers[this._identifier(e)]&&delete this._csiHandlers[this._identifier(e)]},n.prototype.setCsiHandlerFallback=function(e){this._csiHandlerFb=e},n.prototype.addDcsHandler=function(e,t){return this._dcsParser.addHandler(this._identifier(e),t)},n.prototype.setDcsHandler=function(e,t){this._dcsParser.setHandler(this._identifier(e),t)},n.prototype.clearDcsHandler=function(e){this._dcsParser.clearHandler(this._identifier(e))},n.prototype.setDcsHandlerFallback=function(e){this._dcsParser.setHandlerFallback(e)},n.prototype.addOscHandler=function(e,t){return this._oscParser.addHandler(e,t)},n.prototype.setOscHandler=function(e,t){this._oscParser.setHandler(e,t)},n.prototype.clearOscHandler=function(e){this._oscParser.clearHandler(e)},n.prototype.setOscHandlerFallback=function(e){this._oscParser.setHandlerFallback(e)},n.prototype.setErrorHandler=function(e){this._errorHandler=e},n.prototype.clearErrorHandler=function(){this._errorHandler=this._errorHandlerFb},n.prototype.reset=function(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0},n.prototype.parse=function(e,t){for(var n=0,i=0,r=this.currentState,o=this._oscParser,s=this._dcsParser,a=this._collect,c=this._params,l=this._transitions.table,u=0;u<t;++u){switch((i=l[r<<8|((n=e[u])<160?n:160)])>>4){case 2:for(var h=u+1;;++h){if(h>=t||(n=e[h])<32||n>126&&n<160){this._printHandler(e,u,h),u=h-1;break}if(++h>=t||(n=e[h])<32||n>126&&n<160){this._printHandler(e,u,h),u=h-1;break}if(++h>=t||(n=e[h])<32||n>126&&n<160){this._printHandler(e,u,h),u=h-1;break}if(++h>=t||(n=e[h])<32||n>126&&n<160){this._printHandler(e,u,h),u=h-1;break}}break;case 3:this._executeHandlers[n]?this._executeHandlers[n]():this._executeHandlerFb(n),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:u,code:n,currentState:r,collect:a,params:c,abort:!1}).abort)return;break;case 7:for(var d=this._csiHandlers[a<<8|n],f=d?d.length-1:-1;f>=0&&!1===d[f](c);f--);f<0&&this._csiHandlerFb(a<<8|n,c),this.precedingCodepoint=0;break;case 8:do{switch(n){case 59:c.addParam(0);break;case 58:c.addSubParam(-1);break;default:c.addDigit(n-48)}}while(++u<t&&(n=e[u])>47&&n<60);u--;break;case 9:a<<=8,a|=n;break;case 10:for(var p=this._escHandlers[a<<8|n],v=p?p.length-1:-1;v>=0&&!1===p[v]();v--);v<0&&this._escHandlerFb(a<<8|n),this.precedingCodepoint=0;break;case 11:c.reset(),c.addParam(0),a=0;break;case 12:s.hook(a<<8|n,c);break;case 13:for(var m=u+1;;++m)if(m>=t||24===(n=e[m])||26===n||27===n||n>127&&n<160){s.put(e,u,m),u=m-1;break}break;case 14:s.unhook(24!==n&&26!==n),27===n&&(i|=1),c.reset(),c.addParam(0),a=0,this.precedingCodepoint=0;break;case 4:o.start();break;case 5:for(var _=u+1;;_++)if(_>=t||(n=e[_])<32||n>127&&n<=159){o.put(e,u,_),u=_-1;break}break;case 6:o.end(24!==n&&26!==n),27===n&&(i|=1),c.reset(),c.addParam(0),a=0,this.precedingCodepoint=0}r=15&i}this._collect=a,this.currentState=r},n}(o.Disposable);t.EscapeSequenceParser=h},function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=void 0;var a=n(40),c=n(46),l=n(47),u=n(48),h=n(28),d=n(2),f=n(5),p=n(1),v=n(24),m=n(0),_=1,g=function(e){function t(t,n,i,r,o,s,d,f,p){var v=e.call(this)||this;v._colors=t,v._screenElement=n,v._bufferService=o,v._charSizeService=s,v._optionsService=d,v._id=_++,v._onRequestRedraw=new m.EventEmitter;var g=v._optionsService.options.allowTransparency;return v._characterJoinerRegistry=new h.CharacterJoinerRegistry(v._bufferService),v._renderLayers=[new a.TextRenderLayer(v._screenElement,0,v._colors,v._characterJoinerRegistry,g,v._id,v._bufferService,d),new c.SelectionRenderLayer(v._screenElement,1,v._colors,v._id,v._bufferService,d),new u.LinkRenderLayer(v._screenElement,2,v._colors,v._id,i,r,v._bufferService,d),new l.CursorRenderLayer(v._screenElement,3,v._colors,v._id,v._onRequestRedraw,v._bufferService,d,f,p)],v.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},v._devicePixelRatio=window.devicePixelRatio,v._updateDimensions(),v.onOptionsChanged(),v}return r(t,e),Object.defineProperty(t.prototype,"onRequestRedraw",{get:function(){return this._onRequestRedraw.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this._renderLayers.forEach((function(e){return e.dispose()})),e.prototype.dispose.call(this),v.removeTerminalFromCache(this._id)},t.prototype.onDevicePixelRatioChange=function(){this._devicePixelRatio!==window.devicePixelRatio&&(this._devicePixelRatio=window.devicePixelRatio,this.onResize(this._bufferService.cols,this._bufferService.rows))},t.prototype.setColors=function(e){var t=this;this._colors=e,this._renderLayers.forEach((function(e){e.setColors(t._colors),e.reset()}))},t.prototype.onResize=function(e,t){var n=this;this._updateDimensions(),this._renderLayers.forEach((function(e){return e.resize(n.dimensions)})),this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},t.prototype.onCharSizeChanged=function(){this.onResize(this._bufferService.cols,this._bufferService.rows)},t.prototype.onBlur=function(){this._runOperation((function(e){return e.onBlur()}))},t.prototype.onFocus=function(){this._runOperation((function(e){return e.onFocus()}))},t.prototype.onSelectionChanged=function(e,t,n){void 0===n&&(n=!1),this._runOperation((function(i){return i.onSelectionChanged(e,t,n)}))},t.prototype.onCursorMove=function(){this._runOperation((function(e){return e.onCursorMove()}))},t.prototype.onOptionsChanged=function(){this._runOperation((function(e){return e.onOptionsChanged()}))},t.prototype.clear=function(){this._runOperation((function(e){return e.reset()}))},t.prototype._runOperation=function(e){this._renderLayers.forEach((function(t){return e(t)}))},t.prototype.renderRows=function(e,t){this._renderLayers.forEach((function(n){return n.onGridChanged(e,t)}))},t.prototype._updateDimensions=function(){this._charSizeService.hasValidSize&&(this.dimensions.scaledCharWidth=Math.floor(this._charSizeService.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.options.lineHeight),this.dimensions.scaledCharTop=1===this._optionsService.options.lineHeight?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.options.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._optionsService.options.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._bufferService.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._bufferService.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols)},t.prototype.registerCharacterJoiner=function(e){return this._characterJoinerRegistry.registerCharacterJoiner(e)},t.prototype.deregisterCharacterJoiner=function(e){return this._characterJoinerRegistry.deregisterCharacterJoiner(e)},o([s(4,p.IBufferService),s(5,f.ICharSizeService),s(6,p.IOptionsService),s(7,p.ICoreService),s(8,f.ICoreBrowserService)],t)}(d.Disposable);t.Renderer=g},function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.TextRenderLayer=void 0;var o=n(41),s=n(13),a=n(6),c=n(3),l=n(28),u=n(4),h=function(e){function t(t,n,i,r,s,a,c,l){var h=e.call(this,t,"text",n,s,i,a,c,l)||this;return h._characterWidth=0,h._characterFont="",h._characterOverlapCache={},h._workCell=new u.CellData,h._state=new o.GridCache,h._characterJoinerRegistry=r,h}return r(t,e),t.prototype.resize=function(t){e.prototype.resize.call(this,t);var n=this._getFont(!1,!1);this._characterWidth===t.scaledCharWidth&&this._characterFont===n||(this._characterWidth=t.scaledCharWidth,this._characterFont=n,this._characterOverlapCache={}),this._state.clear(),this._state.resize(this._bufferService.cols,this._bufferService.rows)},t.prototype.reset=function(){this._state.clear(),this._clearAll()},t.prototype._forEachCell=function(e,t,n,i){for(var r=e;r<=t;r++)for(var o=r+this._bufferService.buffer.ydisp,s=this._bufferService.buffer.lines.get(o),a=n?n.getJoinedCharacters(o):[],u=0;u<this._bufferService.cols;u++){s.loadCell(u,this._workCell);var h=this._workCell,d=!1,f=u;if(0!==h.getWidth()){if(a.length>0&&u===a[0][0]){d=!0;var p=a.shift();h=new l.JoinedCellData(this._workCell,s.translateToString(!0,p[0],p[1]),p[1]-p[0]),f=p[1]-1}!d&&this._isOverlapping(h)&&f<s.length-1&&s.getCodePoint(f+1)===c.NULL_CELL_CODE&&(h.content&=-12582913,h.content|=2<<22),i(h,u,r),u=f}}},t.prototype._drawBackground=function(e,t){var n=this,i=this._ctx,r=this._bufferService.cols,o=0,s=0,c=null;i.save(),this._forEachCell(e,t,null,(function(e,t,l){var u=null;e.isInverse()?u=e.isFgDefault()?n._colors.foreground.css:e.isFgRGB()?"rgb("+a.AttributeData.toColorRGB(e.getFgColor()).join(",")+")":n._colors.ansi[e.getFgColor()].css:e.isBgRGB()?u="rgb("+a.AttributeData.toColorRGB(e.getBgColor()).join(",")+")":e.isBgPalette()&&(u=n._colors.ansi[e.getBgColor()].css),null===c&&(o=t,s=l),l!==s?(i.fillStyle=c||"",n._fillCells(o,s,r-o,1),o=t,s=l):c!==u&&(i.fillStyle=c||"",n._fillCells(o,s,t-o,1),o=t,s=l),c=u})),null!==c&&(i.fillStyle=c,this._fillCells(o,s,r-o,1)),i.restore()},t.prototype._drawForeground=function(e,t){var n=this;this._forEachCell(e,t,this._characterJoinerRegistry,(function(e,t,i){if(!e.isInvisible()&&(n._drawChars(e,t,i),e.isUnderline())){if(n._ctx.save(),e.isInverse())if(e.isBgDefault())n._ctx.fillStyle=n._colors.background.css;else if(e.isBgRGB())n._ctx.fillStyle="rgb("+a.AttributeData.toColorRGB(e.getBgColor()).join(",")+")";else{var r=e.getBgColor();n._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&r<8&&(r+=8),n._ctx.fillStyle=n._colors.ansi[r].css}else if(e.isFgDefault())n._ctx.fillStyle=n._colors.foreground.css;else if(e.isFgRGB())n._ctx.fillStyle="rgb("+a.AttributeData.toColorRGB(e.getFgColor()).join(",")+")";else{var o=e.getFgColor();n._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&o<8&&(o+=8),n._ctx.fillStyle=n._colors.ansi[o].css}n._fillBottomLineAtCells(t,i,e.getWidth()),n._ctx.restore()}}))},t.prototype.onGridChanged=function(e,t){0!==this._state.cache.length&&(this._charAtlas&&this._charAtlas.beginFrame(),this._clearCells(0,e,this._bufferService.cols,t-e+1),this._drawBackground(e,t),this._drawForeground(e,t))},t.prototype.onOptionsChanged=function(){this._setTransparency(this._optionsService.options.allowTransparency)},t.prototype._isOverlapping=function(e){if(1!==e.getWidth())return!1;if(e.getCode()<256)return!1;var t=e.getChars();if(this._characterOverlapCache.hasOwnProperty(t))return this._characterOverlapCache[t];this._ctx.save(),this._ctx.font=this._characterFont;var n=Math.floor(this._ctx.measureText(t).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[t]=n,n},t}(s.BaseRenderLayer);t.TextRenderLayer=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.GridCache=void 0;var i=function(){function e(){this.cache=[]}return e.prototype.resize=function(e,t){for(var n=0;n<e;n++){this.cache.length<=n&&this.cache.push([]);for(var i=this.cache[n].length;i<t;i++)this.cache[n].push(void 0);this.cache[n].length=t}this.cache.length=e},e.prototype.clear=function(){for(var e=0;e<this.cache.length;e++)for(var t=0;t<this.cache[e].length;t++)this.cache[e][t]=void 0},e}();t.GridCache=i},function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.NoneCharAtlas=t.DynamicCharAtlas=t.getGlyphCacheKey=void 0;var o=n(9),s=n(43),a=n(26),c=n(45),l=n(11),u=n(27),h=n(10),d={css:"rgba(0, 0, 0, 0)",rgba:0};function f(e){return e.code<<21|e.bg<<12|e.fg<<3|(e.bold?0:4)+(e.dim?0:2)+(e.italic?0:1)}t.getGlyphCacheKey=f;var p=function(e){function t(t,n){var i=e.call(this)||this;i._config=n,i._drawToCacheCount=0,i._glyphsWaitingOnBitmap=[],i._bitmapCommitTimeout=null,i._bitmap=null,i._cacheCanvas=t.createElement("canvas"),i._cacheCanvas.width=1024,i._cacheCanvas.height=1024,i._cacheCtx=u.throwIfFalsy(i._cacheCanvas.getContext("2d",{alpha:!0}));var r=t.createElement("canvas");r.width=i._config.scaledCharWidth,r.height=i._config.scaledCharHeight,i._tmpCtx=u.throwIfFalsy(r.getContext("2d",{alpha:i._config.allowTransparency})),i._width=Math.floor(1024/i._config.scaledCharWidth),i._height=Math.floor(1024/i._config.scaledCharHeight);var o=i._width*i._height;return i._cacheMap=new c.LRUMap(o),i._cacheMap.prealloc(o),i}return r(t,e),t.prototype.dispose=function(){null!==this._bitmapCommitTimeout&&(window.clearTimeout(this._bitmapCommitTimeout),this._bitmapCommitTimeout=null)},t.prototype.beginFrame=function(){this._drawToCacheCount=0},t.prototype.draw=function(e,t,n,i){if(32===t.code)return!0;if(!this._canCache(t))return!1;var r=f(t),o=this._cacheMap.get(r);if(null!=o)return this._drawFromCache(e,o,n,i),!0;if(this._drawToCacheCount<100){var s;s=this._cacheMap.size<this._cacheMap.capacity?this._cacheMap.size:this._cacheMap.peek().index;var a=this._drawToCache(t,s);return this._cacheMap.set(r,a),this._drawFromCache(e,a,n,i),!0}return!1},t.prototype._canCache=function(e){return e.code<256},t.prototype._toCoordinateX=function(e){return e%this._width*this._config.scaledCharWidth},t.prototype._toCoordinateY=function(e){return Math.floor(e/this._width)*this._config.scaledCharHeight},t.prototype._drawFromCache=function(e,t,n,i){if(!t.isEmpty){var r=this._toCoordinateX(t.index),o=this._toCoordinateY(t.index);e.drawImage(t.inBitmap?this._bitmap:this._cacheCanvas,r,o,this._config.scaledCharWidth,this._config.scaledCharHeight,n,i,this._config.scaledCharWidth,this._config.scaledCharHeight)}},t.prototype._getColorFromAnsiIndex=function(e){return e<this._config.colors.ansi.length?this._config.colors.ansi[e]:a.DEFAULT_ANSI_COLORS[e]},t.prototype._getBackgroundColor=function(e){return this._config.allowTransparency?d:e.bg===o.INVERTED_DEFAULT_COLOR?this._config.colors.foreground:e.bg<256?this._getColorFromAnsiIndex(e.bg):this._config.colors.background},t.prototype._getForegroundColor=function(e){return e.fg===o.INVERTED_DEFAULT_COLOR?h.color.opaque(this._config.colors.background):e.fg<256?this._getColorFromAnsiIndex(e.fg):this._config.colors.foreground},t.prototype._drawToCache=function(e,t){this._drawToCacheCount++,this._tmpCtx.save();var n=this._getBackgroundColor(e);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=n.css,this._tmpCtx.fillRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),this._tmpCtx.globalCompositeOperation="source-over";var i=e.bold?this._config.fontWeightBold:this._config.fontWeight,r=e.italic?"italic":"";this._tmpCtx.font=r+" "+i+" "+this._config.fontSize*this._config.devicePixelRatio+"px "+this._config.fontFamily,this._tmpCtx.textBaseline="middle",this._tmpCtx.fillStyle=this._getForegroundColor(e).css,e.dim&&(this._tmpCtx.globalAlpha=o.DIM_OPACITY),this._tmpCtx.fillText(e.chars,0,this._config.scaledCharHeight/2),this._tmpCtx.restore();var s=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),a=!1;this._config.allowTransparency||(a=function(e,t){for(var n=!0,i=t.rgba>>>24,r=t.rgba>>>16&255,o=t.rgba>>>8&255,s=0;s<e.data.length;s+=4)e.data[s]===i&&e.data[s+1]===r&&e.data[s+2]===o?e.data[s+3]=0:n=!1;return n}(s,n));var c=this._toCoordinateX(t),l=this._toCoordinateY(t);this._cacheCtx.putImageData(s,c,l);var u={index:t,isEmpty:a,inBitmap:!1};return this._addGlyphToBitmap(u),u},t.prototype._addGlyphToBitmap=function(e){var t=this;!("createImageBitmap"in window)||l.isFirefox||l.isSafari||(this._glyphsWaitingOnBitmap.push(e),null===this._bitmapCommitTimeout&&(this._bitmapCommitTimeout=window.setTimeout((function(){return t._generateBitmap()}),100)))},t.prototype._generateBitmap=function(){var e=this,t=this._glyphsWaitingOnBitmap;this._glyphsWaitingOnBitmap=[],window.createImageBitmap(this._cacheCanvas).then((function(n){e._bitmap=n;for(var i=0;i<t.length;i++)t[i].inBitmap=!0})),this._bitmapCommitTimeout=null},t}(s.BaseCharAtlas);t.DynamicCharAtlas=p;var v=function(e){function t(t,n){return e.call(this)||this}return r(t,e),t.prototype.draw=function(e,t,n,i){return!1},t}(s.BaseCharAtlas);t.NoneCharAtlas=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BaseCharAtlas=void 0;var i=function(){function e(){this._didWarmUp=!1}return e.prototype.dispose=function(){},e.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},e.prototype._doWarmUp=function(){},e.prototype.beginFrame=function(){},e}();t.BaseCharAtlas=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorContrastCache=void 0;var i=function(){function e(){this._color={},this._rgba={}}return e.prototype.clear=function(){this._color={},this._rgba={}},e.prototype.setCss=function(e,t,n){this._rgba[e]||(this._rgba[e]={}),this._rgba[e][t]=n},e.prototype.getCss=function(e,t){return this._rgba[e]?this._rgba[e][t]:void 0},e.prototype.setColor=function(e,t,n){this._color[e]||(this._color[e]={}),this._color[e][t]=n},e.prototype.getColor=function(e,t){return this._color[e]?this._color[e][t]:void 0},e}();t.ColorContrastCache=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.LRUMap=void 0;var i=function(){function e(e){this.capacity=e,this._map={},this._head=null,this._tail=null,this._nodePool=[],this.size=0}return e.prototype._unlinkNode=function(e){var t=e.prev,n=e.next;e===this._head&&(this._head=n),e===this._tail&&(this._tail=t),null!==t&&(t.next=n),null!==n&&(n.prev=t)},e.prototype._appendNode=function(e){var t=this._tail;null!==t&&(t.next=e),e.prev=t,e.next=null,this._tail=e,null===this._head&&(this._head=e)},e.prototype.prealloc=function(e){for(var t=this._nodePool,n=0;n<e;n++)t.push({prev:null,next:null,key:null,value:null})},e.prototype.get=function(e){var t=this._map[e];return void 0!==t?(this._unlinkNode(t),this._appendNode(t),t.value):null},e.prototype.peekValue=function(e){var t=this._map[e];return void 0!==t?t.value:null},e.prototype.peek=function(){var e=this._head;return null===e?null:e.value},e.prototype.set=function(e,t){var n=this._map[e];if(void 0!==n)n=this._map[e],this._unlinkNode(n),n.value=t;else if(this.size>=this.capacity)n=this._head,this._unlinkNode(n),delete this._map[n.key],n.key=e,n.value=t,this._map[e]=n;else{var i=this._nodePool;i.length>0?((n=i.pop()).key=e,n.value=t):n={prev:null,next:null,key:e,value:t},this._map[e]=n,this.size++}this._appendNode(n)},e}();t.LRUMap=i},function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRenderLayer=void 0;var o=function(e){function t(t,n,i,r,o,s){var a=e.call(this,t,"selection",n,!0,i,r,o,s)||this;return a._clearState(),a}return r(t,e),t.prototype._clearState=function(){this._state={start:void 0,end:void 0,columnSelectMode:void 0,ydisp:void 0}},t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._clearState()},t.prototype.reset=function(){this._state.start&&this._state.end&&(this._clearState(),this._clearAll())},t.prototype.onSelectionChanged=function(e,t,n){if(this._didStateChange(e,t,n,this._bufferService.buffer.ydisp))if(this._clearAll(),e&&t){var i=e[1]-this._bufferService.buffer.ydisp,r=t[1]-this._bufferService.buffer.ydisp,o=Math.max(i,0),s=Math.min(r,this._bufferService.rows-1);if(!(o>=this._bufferService.rows||s<0)){if(this._ctx.fillStyle=this._colors.selection.css,n){var a=e[0],c=t[0]-a,l=s-o+1;this._fillCells(a,o,c,l)}else{a=i===o?e[0]:0;var u=o===s?t[0]:this._bufferService.cols;this._fillCells(a,o,u-a,1);var h=Math.max(s-o-1,0);if(this._fillCells(0,o+1,this._bufferService.cols,h),o!==s){var d=r===s?t[0]:this._bufferService.cols;this._fillCells(0,s,d,1)}}this._state.start=[e[0],e[1]],this._state.end=[t[0],t[1]],this._state.columnSelectMode=n,this._state.ydisp=this._bufferService.buffer.ydisp}}else this._clearState()},t.prototype._didStateChange=function(e,t,n,i){return!this._areCoordinatesEqual(e,this._state.start)||!this._areCoordinatesEqual(t,this._state.end)||n!==this._state.columnSelectMode||i!==this._state.ydisp},t.prototype._areCoordinatesEqual=function(e,t){return!(!e||!t)&&e[0]===t[0]&&e[1]===t[1]},t}(n(13).BaseRenderLayer);t.SelectionRenderLayer=o},function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CursorRenderLayer=void 0;var o=n(13),s=n(4),a=function(e){function t(t,n,i,r,o,a,c,l,u){var h=e.call(this,t,"cursor",n,!0,i,r,a,c)||this;return h._onRequestRedraw=o,h._coreService=l,h._coreBrowserService=u,h._cell=new s.CellData,h._state={x:0,y:0,isFocused:!1,style:"",width:0},h._cursorRenderers={bar:h._renderBarCursor.bind(h),block:h._renderBlockCursor.bind(h),underline:h._renderUnderlineCursor.bind(h)},h}return r(t,e),t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._state={x:0,y:0,isFocused:!1,style:"",width:0}},t.prototype.reset=function(){this._clearCursor(),this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=void 0,this.onOptionsChanged())},t.prototype.onBlur=function(){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.pause(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onFocus=function(){this._cursorBlinkStateManager?this._cursorBlinkStateManager.resume():this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onOptionsChanged=function(){var e,t=this;this._optionsService.options.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new c(this._coreBrowserService.isFocused,(function(){t._render(!0)}))):(null===(e=this._cursorBlinkStateManager)||void 0===e||e.dispose(),this._cursorBlinkStateManager=void 0),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onCursorMove=function(){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.restartBlinkAnimation()},t.prototype.onGridChanged=function(e,t){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(!1):this._cursorBlinkStateManager.restartBlinkAnimation()},t.prototype._render=function(e){if(this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden){var t=this._bufferService.buffer.ybase+this._bufferService.buffer.y,n=t-this._bufferService.buffer.ydisp;if(n<0||n>=this._bufferService.rows)this._clearCursor();else{var i=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1);if(this._bufferService.buffer.lines.get(t).loadCell(i,this._cell),void 0!==this._cell.content){if(!this._coreBrowserService.isFocused){this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css;var r=this._optionsService.options.cursorStyle;return r&&"block"!==r?this._cursorRenderers[r](i,n,this._cell):this._renderBlurCursor(i,n,this._cell),this._ctx.restore(),this._state.x=i,this._state.y=n,this._state.isFocused=!1,this._state.style=r,void(this._state.width=this._cell.getWidth())}if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===i&&this._state.y===n&&this._state.isFocused===this._coreBrowserService.isFocused&&this._state.style===this._optionsService.options.cursorStyle&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[this._optionsService.options.cursorStyle||"block"](i,n,this._cell),this._ctx.restore(),this._state.x=i,this._state.y=n,this._state.isFocused=!1,this._state.style=this._optionsService.options.cursorStyle,this._state.width=this._cell.getWidth()}else this._clearCursor()}}}else this._clearCursor()},t.prototype._clearCursor=function(){this._state&&(this._clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:0,y:0,isFocused:!1,style:"",width:0})},t.prototype._renderBarCursor=function(e,t,n){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillLeftLineAtCell(e,t,this._optionsService.options.cursorWidth),this._ctx.restore()},t.prototype._renderBlockCursor=function(e,t,n){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillCells(e,t,n.getWidth(),1),this._ctx.fillStyle=this._colors.cursorAccent.css,this._fillCharTrueColor(n,e,t),this._ctx.restore()},t.prototype._renderUnderlineCursor=function(e,t,n){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillBottomLineAtCells(e,t),this._ctx.restore()},t.prototype._renderBlurCursor=function(e,t,n){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this._strokeRectAtCell(e,t,n.getWidth(),1),this._ctx.restore()},t}(o.BaseRenderLayer);t.CursorRenderLayer=a;var c=function(){function e(e,t){this._renderCallback=t,this.isCursorVisible=!0,e&&this._restartInterval()}return Object.defineProperty(e.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.restartBlinkAnimation=function(){var e=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame((function(){e._renderCallback(),e._animationFrame=void 0}))))},e.prototype._restartInterval=function(e){var t=this;void 0===e&&(e=600),this._blinkInterval&&window.clearInterval(this._blinkInterval),this._blinkStartTimeout=window.setTimeout((function(){if(t._animationTimeRestarted){var e=600-(Date.now()-t._animationTimeRestarted);if(t._animationTimeRestarted=void 0,e>0)return void t._restartInterval(e)}t.isCursorVisible=!1,t._animationFrame=window.requestAnimationFrame((function(){t._renderCallback(),t._animationFrame=void 0})),t._blinkInterval=window.setInterval((function(){if(t._animationTimeRestarted){var e=600-(Date.now()-t._animationTimeRestarted);return t._animationTimeRestarted=void 0,void t._restartInterval(e)}t.isCursorVisible=!t.isCursorVisible,t._animationFrame=window.requestAnimationFrame((function(){t._renderCallback(),t._animationFrame=void 0}))}),600)}),e)},e.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.resume=function(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()},e}()},function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.LinkRenderLayer=void 0;var o=n(13),s=n(9),a=n(25),c=function(e){function t(t,n,i,r,o,s,a,c){var l=e.call(this,t,"link",n,!0,i,r,a,c)||this;return o.onShowLinkUnderline((function(e){return l._onShowLinkUnderline(e)})),o.onHideLinkUnderline((function(e){return l._onHideLinkUnderline(e)})),s.onShowLinkUnderline((function(e){return l._onShowLinkUnderline(e)})),s.onHideLinkUnderline((function(e){return l._onHideLinkUnderline(e)})),l}return r(t,e),t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._state=void 0},t.prototype.reset=function(){this._clearCurrentLink()},t.prototype._clearCurrentLink=function(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var e=this._state.y2-this._state.y1-1;e>0&&this._clearCells(0,this._state.y1+1,this._state.cols,e),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}},t.prototype._onShowLinkUnderline=function(e){if(e.fg===s.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background.css:e.fg&&a.is256Color(e.fg)?this._ctx.fillStyle=this._colors.ansi[e.fg].css:this._ctx.fillStyle=this._colors.foreground.css,e.y1===e.y2)this._fillBottomLineAtCells(e.x1,e.y1,e.x2-e.x1);else{this._fillBottomLineAtCells(e.x1,e.y1,e.cols-e.x1);for(var t=e.y1+1;t<e.y2;t++)this._fillBottomLineAtCells(0,t,e.cols);this._fillBottomLineAtCells(0,e.y2,e.x2)}this._state=e},t.prototype._onHideLinkUnderline=function(e){this._clearCurrentLink()},t}(o.BaseRenderLayer);t.LinkRenderLayer=c},function(e,t,n){var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseZone=t.Linkifier=void 0;var o=n(0),s=n(1),a=function(){function e(e,t,n){this._bufferService=e,this._logService=t,this._unicodeService=n,this._linkMatchers=[],this._nextLinkMatcherId=0,this._onShowLinkUnderline=new o.EventEmitter,this._onHideLinkUnderline=new o.EventEmitter,this._onLinkTooltip=new o.EventEmitter,this._rowsToLinkify={start:void 0,end:void 0}}return Object.defineProperty(e.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onLinkTooltip",{get:function(){return this._onLinkTooltip.event},enumerable:!1,configurable:!0}),e.prototype.attachToDom=function(e,t){this._element=e,this._mouseZoneManager=t},e.prototype.linkifyRows=function(t,n){var i=this;this._mouseZoneManager&&(void 0===this._rowsToLinkify.start||void 0===this._rowsToLinkify.end?(this._rowsToLinkify.start=t,this._rowsToLinkify.end=n):(this._rowsToLinkify.start=Math.min(this._rowsToLinkify.start,t),this._rowsToLinkify.end=Math.max(this._rowsToLinkify.end,n)),this._mouseZoneManager.clearAll(t,n),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout((function(){return i._linkifyRows()}),e._timeBeforeLatency))},e.prototype._linkifyRows=function(){this._rowsTimeoutId=void 0;var e=this._bufferService.buffer;if(void 0!==this._rowsToLinkify.start&&void 0!==this._rowsToLinkify.end){var t=e.ydisp+this._rowsToLinkify.start;if(!(t>=e.lines.length)){for(var n=e.ydisp+Math.min(this._rowsToLinkify.end,this._bufferService.rows)+1,i=Math.ceil(2e3/this._bufferService.cols),r=this._bufferService.buffer.iterator(!1,t,n,i,i);r.hasNext();)for(var o=r.next(),s=0;s<this._linkMatchers.length;s++)this._doLinkifyRow(o.range.first,o.content,this._linkMatchers[s]);this._rowsToLinkify.start=void 0,this._rowsToLinkify.end=void 0}}else this._logService.debug("_rowToLinkify was unset before _linkifyRows was called")},e.prototype.registerLinkMatcher=function(e,t,n){if(void 0===n&&(n={}),!t)throw new Error("handler must be defined");var i={id:this._nextLinkMatcherId++,regex:e,handler:t,matchIndex:n.matchIndex,validationCallback:n.validationCallback,hoverTooltipCallback:n.tooltipCallback,hoverLeaveCallback:n.leaveCallback,willLinkActivate:n.willLinkActivate,priority:n.priority||0};return this._addLinkMatcherToList(i),i.id},e.prototype._addLinkMatcherToList=function(e){if(0!==this._linkMatchers.length){for(var t=this._linkMatchers.length-1;t>=0;t--)if(e.priority<=this._linkMatchers[t].priority)return void this._linkMatchers.splice(t+1,0,e);this._linkMatchers.splice(0,0,e)}else this._linkMatchers.push(e)},e.prototype.deregisterLinkMatcher=function(e){for(var t=0;t<this._linkMatchers.length;t++)if(this._linkMatchers[t].id===e)return this._linkMatchers.splice(t,1),!0;return!1},e.prototype._doLinkifyRow=function(e,t,n){for(var i,r=this,o=new RegExp(n.regex.source,(n.regex.flags||"")+"g"),s=-1,a=function(){var a=i["number"!=typeof n.matchIndex?0:n.matchIndex];if(!a)return c._logService.debug("match found without corresponding matchIndex",i,n),"break";if(s=t.indexOf(a,s+1),o.lastIndex=s+a.length,s<0)return"break";var l=c._bufferService.buffer.stringIndexToBufferIndex(e,s);if(l[0]<0)return"break";var u=c._bufferService.buffer.lines.get(l[0]);if(!u)return"break";var h=u.getFg(l[1]),d=h?h>>9&511:void 0;n.validationCallback?n.validationCallback(a,(function(e){r._rowsTimeoutId||e&&r._addLink(l[1],l[0]-r._bufferService.buffer.ydisp,a,n,d)})):c._addLink(l[1],l[0]-c._bufferService.buffer.ydisp,a,n,d)},c=this;null!==(i=o.exec(t))&&"break"!==a(););},e.prototype._addLink=function(e,t,n,i,r){var o=this;if(this._mouseZoneManager&&this._element){var s=this._unicodeService.getStringCellWidth(n),a=e%this._bufferService.cols,l=t+Math.floor(e/this._bufferService.cols),u=(a+s)%this._bufferService.cols,h=l+Math.floor((a+s)/this._bufferService.cols);0===u&&(u=this._bufferService.cols,h--),this._mouseZoneManager.add(new c(a+1,l+1,u+1,h+1,(function(e){if(i.handler)return i.handler(e,n);var t=window.open();t?(t.opener=null,t.location.href=n):console.warn("Opening link blocked as opener could not be cleared")}),(function(){o._onShowLinkUnderline.fire(o._createLinkHoverEvent(a,l,u,h,r)),o._element.classList.add("xterm-cursor-pointer")}),(function(e){o._onLinkTooltip.fire(o._createLinkHoverEvent(a,l,u,h,r)),i.hoverTooltipCallback&&i.hoverTooltipCallback(e,n,{start:{x:a,y:l},end:{x:u,y:h}})}),(function(){o._onHideLinkUnderline.fire(o._createLinkHoverEvent(a,l,u,h,r)),o._element.classList.remove("xterm-cursor-pointer"),i.hoverLeaveCallback&&i.hoverLeaveCallback()}),(function(e){return!i.willLinkActivate||i.willLinkActivate(e,n)})))}},e.prototype._createLinkHoverEvent=function(e,t,n,i,r){return{x1:e,y1:t,x2:n,y2:i,cols:this._bufferService.cols,fg:r}},e._timeBeforeLatency=200,e=i([r(0,s.IBufferService),r(1,s.ILogService),r(2,s.IUnicodeService)],e)}();t.Linkifier=a;var c=function(e,t,n,i,r,o,s,a,c){this.x1=e,this.y1=t,this.x2=n,this.y2=i,this.clickCallback=r,this.hoverCallback=o,this.tooltipCallback=s,this.leaveCallback=a,this.willLinkActivate=c};t.MouseZone=c},function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionService=void 0;var a=n(11),c=n(51),l=n(4),u=n(0),h=n(5),d=n(1),f=n(29),p=n(52),v=n(2),m=String.fromCharCode(160),_=new RegExp(m,"g"),g=function(e){function t(t,n,i,r,o,s,a){var h=e.call(this)||this;return h._element=t,h._screenElement=n,h._bufferService=i,h._coreService=r,h._mouseService=o,h._optionsService=s,h._renderService=a,h._dragScrollAmount=0,h._enabled=!0,h._workCell=new l.CellData,h._mouseDownTimeStamp=0,h._onLinuxMouseSelection=h.register(new u.EventEmitter),h._onRedrawRequest=h.register(new u.EventEmitter),h._onSelectionChange=h.register(new u.EventEmitter),h._onRequestScrollLines=h.register(new u.EventEmitter),h._mouseMoveListener=function(e){return h._onMouseMove(e)},h._mouseUpListener=function(e){return h._onMouseUp(e)},h._coreService.onUserInput((function(){h.hasSelection&&h.clearSelection()})),h._trimListener=h._bufferService.buffer.lines.onTrim((function(e){return h._onTrim(e)})),h.register(h._bufferService.buffers.onBufferActivate((function(e){return h._onBufferActivate(e)}))),h.enable(),h._model=new c.SelectionModel(h._bufferService),h._activeSelectionMode=0,h}return r(t,e),Object.defineProperty(t.prototype,"onLinuxMouseSelection",{get:function(){return this._onLinuxMouseSelection.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestRedraw",{get:function(){return this._onRedrawRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestScrollLines",{get:function(){return this._onRequestScrollLines.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this._removeMouseDownListeners()},t.prototype.reset=function(){this.clearSelection()},t.prototype.disable=function(){this.clearSelection(),this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},Object.defineProperty(t.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSelection",{get:function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;return!(!e||!t||e[0]===t[0]&&e[1]===t[1])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectionText",{get:function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;if(!e||!t)return"";var n=this._bufferService.buffer,i=[];if(3===this._activeSelectionMode){if(e[0]===t[0])return"";for(var r=e[1];r<=t[1];r++){var o=n.translateBufferLineToString(r,!0,e[0],t[0]);i.push(o)}}else{var s=e[1]===t[1]?t[0]:void 0;for(i.push(n.translateBufferLineToString(e[1],!0,e[0],s)),r=e[1]+1;r<=t[1]-1;r++){var c=n.lines.get(r);o=n.translateBufferLineToString(r,!0),c&&c.isWrapped?i[i.length-1]+=o:i.push(o)}e[1]!==t[1]&&(c=n.lines.get(t[1]),o=n.translateBufferLineToString(t[1],!0,0,t[0]),c&&c.isWrapped?i[i.length-1]+=o:i.push(o))}return i.map((function(e){return e.replace(_," ")})).join(a.isWindows?"\r\n":"\n")},enumerable:!1,configurable:!0}),t.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()},t.prototype.refresh=function(e){var t=this;this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame((function(){return t._refresh()}))),a.isLinux&&e&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)},t.prototype._refresh=function(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})},t.prototype.isClickInSelection=function(e){var t=this._getMouseBufferCoords(e),n=this._model.finalSelectionStart,i=this._model.finalSelectionEnd;return!!(n&&i&&t)&&this._areCoordsInSelection(t,n,i)},t.prototype._areCoordsInSelection=function(e,t,n){return e[1]>t[1]&&e[1]<n[1]||t[1]===n[1]&&e[1]===t[1]&&e[0]>=t[0]&&e[0]<n[0]||t[1]<n[1]&&e[1]===n[1]&&e[0]<n[0]||t[1]<n[1]&&e[1]===t[1]&&e[0]>=t[0]},t.prototype.selectWordAtCursor=function(e){var t=this._getMouseBufferCoords(e);t&&(this._selectWordAt(t,!1),this._model.selectionEnd=void 0,this.refresh(!0))},t.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()},t.prototype.selectLines=function(e,t){this._model.clearSelection(),e=Math.max(e,0),t=Math.min(t,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,e],this._model.selectionEnd=[this._bufferService.cols,t],this.refresh(),this._onSelectionChange.fire()},t.prototype._onTrim=function(e){this._model.onTrim(e)&&this.refresh()},t.prototype._getMouseBufferCoords=function(e){var t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(t)return t[0]--,t[1]--,t[1]+=this._bufferService.buffer.ydisp,t},t.prototype._getMouseEventScrollAmount=function(e){var t=f.getCoordsRelativeToElement(e,this._screenElement)[1],n=this._renderService.dimensions.canvasHeight;return t>=0&&t<=n?0:(t>n&&(t-=n),t=Math.min(Math.max(t,-50),50),(t/=50)/Math.abs(t)+Math.round(14*t))},t.prototype.shouldForceSelection=function(e){return a.isMac?e.altKey&&this._optionsService.options.macOptionClickForcesSelection:e.shiftKey},t.prototype.onMouseDown=function(e){if(this._mouseDownTimeStamp=e.timeStamp,(2!==e.button||!this.hasSelection)&&0===e.button){if(!this._enabled){if(!this.shouldForceSelection(e))return;e.stopPropagation()}e.preventDefault(),this._dragScrollAmount=0,this._enabled&&e.shiftKey?this._onIncrementalClick(e):1===e.detail?this._onSingleClick(e):2===e.detail?this._onDoubleClick(e):3===e.detail&&this._onTripleClick(e),this._addMouseDownListeners(),this.refresh(!0)}},t.prototype._addMouseDownListeners=function(){var e=this;this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=window.setInterval((function(){return e._dragScroll()}),50)},t.prototype._removeMouseDownListeners=function(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0},t.prototype._onIncrementalClick=function(e){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(e))},t.prototype._onSingleClick=function(e){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(e)?3:0,this._model.selectionStart=this._getMouseBufferCoords(e),this._model.selectionStart){this._model.selectionEnd=void 0;var t=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);t&&t.length!==this._model.selectionStart[0]&&0===t.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}},t.prototype._onDoubleClick=function(e){var t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=1,this._selectWordAt(t,!0))},t.prototype._onTripleClick=function(e){var t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=2,this._selectLineAt(t[1]))},t.prototype.shouldColumnSelect=function(e){return e.altKey&&!(a.isMac&&this._optionsService.options.macOptionClickForcesSelection)},t.prototype._onMouseMove=function(e){if(e.stopImmediatePropagation(),this._model.selectionStart){var t=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(e),this._model.selectionEnd){2===this._activeSelectionMode?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(e),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));var n=this._bufferService.buffer;if(this._model.selectionEnd[1]<n.lines.length){var i=n.lines.get(this._model.selectionEnd[1]);i&&0===i.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}t&&t[0]===this._model.selectionEnd[0]&&t[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)}},t.prototype._dragScroll=function(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});var e=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(e.ydisp+this._bufferService.rows,e.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=e.ydisp),this.refresh()}},t.prototype._onMouseUp=function(e){var t=e.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&t<500){if(e.altKey&&this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){var n=this._mouseService.getCoords(e,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(n&&void 0!==n[0]&&void 0!==n[1]){var i=p.moveToCellSequence(n[0]-1,n[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(i,!0)}}}else this.hasSelection&&this._onSelectionChange.fire()},t.prototype._onBufferActivate=function(e){var t=this;this.clearSelection(),this._trimListener.dispose(),this._trimListener=e.activeBuffer.lines.onTrim((function(e){return t._onTrim(e)}))},t.prototype._convertViewportColToCharacterIndex=function(e,t){for(var n=t[0],i=0;t[0]>=i;i++){var r=e.loadCell(i,this._workCell).getChars().length;0===this._workCell.getWidth()?n--:r>1&&t[0]!==i&&(n+=r-1)}return n},t.prototype.setSelection=function(e,t,n){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[e,t],this._model.selectionStartLength=n,this.refresh()},t.prototype._getWordAt=function(e,t,n,i){if(void 0===n&&(n=!0),void 0===i&&(i=!0),!(e[0]>=this._bufferService.cols)){var r=this._bufferService.buffer,o=r.lines.get(e[1]);if(o){var s=r.translateBufferLineToString(e[1],!1),a=this._convertViewportColToCharacterIndex(o,e),c=a,l=e[0]-a,u=0,h=0,d=0,f=0;if(" "===s.charAt(a)){for(;a>0&&" "===s.charAt(a-1);)a--;for(;c<s.length&&" "===s.charAt(c+1);)c++}else{var p=e[0],v=e[0];0===o.getWidth(p)&&(u++,p--),2===o.getWidth(v)&&(h++,v++);var m=o.getString(v).length;for(m>1&&(f+=m-1,c+=m-1);p>0&&a>0&&!this._isCharWordSeparator(o.loadCell(p-1,this._workCell));){o.loadCell(p-1,this._workCell);var _=this._workCell.getChars().length;0===this._workCell.getWidth()?(u++,p--):_>1&&(d+=_-1,a-=_-1),a--,p--}for(;v<o.length&&c+1<s.length&&!this._isCharWordSeparator(o.loadCell(v+1,this._workCell));){o.loadCell(v+1,this._workCell);var g=this._workCell.getChars().length;2===this._workCell.getWidth()?(h++,v++):g>1&&(f+=g-1,c+=g-1),c++,v++}}c++;var y=a+l-u+d,b=Math.min(this._bufferService.cols,c-a+u+h-d-f);if(t||""!==s.slice(a,c).trim()){if(n&&0===y&&32!==o.getCodePoint(0)){var w=r.lines.get(e[1]-1);if(w&&o.isWrapped&&32!==w.getCodePoint(this._bufferService.cols-1)){var C=this._getWordAt([this._bufferService.cols-1,e[1]-1],!1,!0,!1);if(C){var S=this._bufferService.cols-C.start;y-=S,b+=S}}}if(i&&y+b===this._bufferService.cols&&32!==o.getCodePoint(this._bufferService.cols-1)){var k=r.lines.get(e[1]+1);if(k&&k.isWrapped&&32!==k.getCodePoint(0)){var E=this._getWordAt([0,e[1]+1],!1,!1,!0);E&&(b+=E.length)}}return{start:y,length:b}}}}},t.prototype._selectWordAt=function(e,t){var n=this._getWordAt(e,t);if(n){for(;n.start<0;)n.start+=this._bufferService.cols,e[1]--;this._model.selectionStart=[n.start,e[1]],this._model.selectionStartLength=n.length}},t.prototype._selectToWordAt=function(e){var t=this._getWordAt(e,!0);if(t){for(var n=e[1];t.start<0;)t.start+=this._bufferService.cols,n--;if(!this._model.areSelectionValuesReversed())for(;t.start+t.length>this._bufferService.cols;)t.length-=this._bufferService.cols,n++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?t.start:t.start+t.length,n]}},t.prototype._isCharWordSeparator=function(e){return 0!==e.getWidth()&&this._optionsService.options.wordSeparator.indexOf(e.getChars())>=0},t.prototype._selectLineAt=function(e){var t=this._bufferService.buffer.getWrappedRangeForLine(e);this._model.selectionStart=[0,t.first],this._model.selectionEnd=[this._bufferService.cols,t.last],this._model.selectionStartLength=0},o([s(2,d.IBufferService),s(3,d.ICoreService),s(4,h.IMouseService),s(5,d.IOptionsService),s(6,h.IRenderService)],t)}(v.Disposable);t.SelectionService=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionModel=void 0;var i=function(){function e(e){this._bufferService=e,this.isSelectAllActive=!1,this.selectionStartLength=0}return e.prototype.clearSelection=function(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(e.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"finalSelectionEnd",{get:function(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){var e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[e,this.selectionStart[1]]}return this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?[Math.max(this.selectionStart[0]+this.selectionStartLength,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd}},enumerable:!1,configurable:!0}),e.prototype.areSelectionValuesReversed=function(){var e=this.selectionStart,t=this.selectionEnd;return!(!e||!t)&&(e[1]>t[1]||e[1]===t[1]&&e[0]>t[0])},e.prototype.onTrim=function(e){return this.selectionStart&&(this.selectionStart[1]-=e),this.selectionEnd&&(this.selectionEnd[1]-=e),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},e}();t.SelectionModel=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.moveToCellSequence=void 0;var i=n(12);function r(e,t,n,i){var r=e-o(n,e),a=t-o(n,t);return l(Math.abs(r-a)-function(e,t,n){for(var i=0,r=e-o(n,e),a=t-o(n,t),c=0;c<Math.abs(r-a);c++){var l="A"===s(e,t)?-1:1,u=n.buffer.lines.get(r+l*c);u&&u.isWrapped&&i++}return i}(e,t,n),c(s(e,t),i))}function o(e,t){for(var n=0,i=e.buffer.lines.get(t),r=i&&i.isWrapped;r&&t>=0&&t<e.rows;)n++,r=(i=e.buffer.lines.get(--t))&&i.isWrapped;return n}function s(e,t){return e>t?"A":"B"}function a(e,t,n,i,r,o){for(var s=e,a=t,c="";s!==n||a!==i;)s+=r?1:-1,r&&s>o.cols-1?(c+=o.buffer.translateBufferLineToString(a,!1,e,s),s=0,e=0,a++):!r&&s<0&&(c+=o.buffer.translateBufferLineToString(a,!1,0,e+1),e=s=o.cols-1,a--);return c+o.buffer.translateBufferLineToString(a,!1,e,s)}function c(e,t){var n=t?"O":"[";return i.C0.ESC+n+e}function l(e,t){e=Math.floor(e);for(var n="",i=0;i<e;i++)n+=t;return n}t.moveToCellSequence=function(e,t,n,i){var s,u=n.buffer.x,h=n.buffer.y;if(!n.buffer.hasScrollback)return function(e,t,n,i,s,u){return 0===r(t,i,s,u).length?"":l(a(e,t,e,t-o(s,t),!1,s).length,c("D",u))}(u,h,0,t,n,i)+r(h,t,n,i)+function(e,t,n,i,s,u){var h;h=r(t,i,s,u).length>0?i-o(s,i):t;var d=i,f=function(e,t,n,i,s,a){var c;return c=r(n,i,s,a).length>0?i-o(s,i):t,e<n&&c<=i||e>=n&&c<i?"C":"D"}(e,t,n,i,s,u);return l(a(e,h,n,d,"C"===f,s).length,c(f,u))}(u,h,e,t,n,i);if(h===t)return s=u>e?"D":"C",l(Math.abs(u-e),c(s,i));s=h>t?"D":"C";var d=Math.abs(h-t);return l(function(e,t){return t.cols-e}(h>t?e:u,n)+(d-1)*n.cols+1+((h>t?u:e)-1),c(s,i))}},function(e,t,n){var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SoundService=void 0;var o=n(1),s=function(){function e(e){this._optionsService=e}return Object.defineProperty(e,"audioContext",{get:function(){if(!e._audioContext){var t=window.AudioContext||window.webkitAudioContext;if(!t)return console.warn("Web Audio API is not supported by this browser. Consider upgrading to the latest version"),null;e._audioContext=new t}return e._audioContext},enumerable:!1,configurable:!0}),e.prototype.playBellSound=function(){var t=e.audioContext;if(t){var n=t.createBufferSource();t.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._optionsService.options.bellSound)),(function(e){n.buffer=e,n.connect(t.destination),n.start(0)}))}},e.prototype._base64ToArrayBuffer=function(e){for(var t=window.atob(e),n=t.length,i=new Uint8Array(n),r=0;r<n;r++)i[r]=t.charCodeAt(r);return i.buffer},e.prototype._removeMimeType=function(e){return e.split(",")[1]},e=i([r(0,o.IOptionsService)],e)}();t.SoundService=s},function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseZoneManager=void 0;var a=n(2),c=n(7),l=n(5),u=n(1),h=function(e){function t(t,n,i,r,o,s){var a=e.call(this)||this;return a._element=t,a._screenElement=n,a._bufferService=i,a._mouseService=r,a._selectionService=o,a._optionsService=s,a._zones=[],a._areZonesActive=!1,a._lastHoverCoords=[void 0,void 0],a._initialSelectionLength=0,a.register(c.addDisposableDomListener(a._element,"mousedown",(function(e){return a._onMouseDown(e)}))),a._mouseMoveListener=function(e){return a._onMouseMove(e)},a._mouseLeaveListener=function(e){return a._onMouseLeave(e)},a._clickListener=function(e){return a._onClick(e)},a}return r(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._deactivate()},t.prototype.add=function(e){this._zones.push(e),1===this._zones.length&&this._activate()},t.prototype.clearAll=function(e,t){if(0!==this._zones.length){e&&t||(e=0,t=this._bufferService.rows-1);for(var n=0;n<this._zones.length;n++){var i=this._zones[n];(i.y1>e&&i.y1<=t+1||i.y2>e&&i.y2<=t+1||i.y1<e&&i.y2>t+1)&&(this._currentZone&&this._currentZone===i&&(this._currentZone.leaveCallback(),this._currentZone=void 0),this._zones.splice(n--,1))}0===this._zones.length&&this._deactivate()}},t.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._element.addEventListener("mousemove",this._mouseMoveListener),this._element.addEventListener("mouseleave",this._mouseLeaveListener),this._element.addEventListener("click",this._clickListener))},t.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._element.removeEventListener("mousemove",this._mouseMoveListener),this._element.removeEventListener("mouseleave",this._mouseLeaveListener),this._element.removeEventListener("click",this._clickListener))},t.prototype._onMouseMove=function(e){this._lastHoverCoords[0]===e.pageX&&this._lastHoverCoords[1]===e.pageY||(this._onHover(e),this._lastHoverCoords=[e.pageX,e.pageY])},t.prototype._onHover=function(e){var t=this,n=this._findZoneEventAt(e);n!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),n&&(this._currentZone=n,n.hoverCallback&&n.hoverCallback(e),this._tooltipTimeout=window.setTimeout((function(){return t._onTooltip(e)}),this._optionsService.options.linkTooltipHoverDuration)))},t.prototype._onTooltip=function(e){this._tooltipTimeout=void 0;var t=this._findZoneEventAt(e);t&&t.tooltipCallback&&t.tooltipCallback(e)},t.prototype._onMouseDown=function(e){if(this._initialSelectionLength=this._getSelectionLength(),this._areZonesActive){var t=this._findZoneEventAt(e);(null==t?void 0:t.willLinkActivate(e))&&(e.preventDefault(),e.stopImmediatePropagation())}},t.prototype._onMouseLeave=function(e){this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout))},t.prototype._onClick=function(e){var t=this._findZoneEventAt(e),n=this._getSelectionLength();t&&n===this._initialSelectionLength&&(t.clickCallback(e),e.preventDefault(),e.stopImmediatePropagation())},t.prototype._getSelectionLength=function(){var e=this._selectionService.selectionText;return e?e.length:0},t.prototype._findZoneEventAt=function(e){var t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows);if(t)for(var n=t[0],i=t[1],r=0;r<this._zones.length;r++){var o=this._zones[r];if(o.y1===o.y2){if(i===o.y1&&n>=o.x1&&n<o.x2)return o}else if(i===o.y1&&n>=o.x1||i===o.y2&&n<o.x2||i>o.y1&&i<o.y2)return o}},o([s(2,u.IBufferService),s(3,l.IMouseService),s(4,l.ISelectionService),s(5,u.IOptionsService)],t)}(a.Disposable);t.MouseZoneManager=h},function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibilityManager=void 0;var o=n(17),s=n(11),a=n(30),c=n(7),l=n(2),u=n(31),h=function(e){function t(t,n){var i=e.call(this)||this;i._terminal=t,i._renderService=n,i._liveRegionLineCount=0,i._charsToConsume=[],i._charsToAnnounce="",i._accessibilityTreeRoot=document.createElement("div"),i._accessibilityTreeRoot.classList.add("xterm-accessibility"),i._rowContainer=document.createElement("div"),i._rowContainer.classList.add("xterm-accessibility-tree"),i._rowContainer.setAttribute("role","list"),i._rowElements=[];for(var r=0;r<i._terminal.rows;r++)i._rowElements[r]=i._createAccessibilityTreeNode(),i._rowContainer.appendChild(i._rowElements[r]);if(i._topBoundaryFocusListener=function(e){return i._onBoundaryFocus(e,0)},i._bottomBoundaryFocusListener=function(e){return i._onBoundaryFocus(e,1)},i._rowElements[0].addEventListener("focus",i._topBoundaryFocusListener),i._rowElements[i._rowElements.length-1].addEventListener("focus",i._bottomBoundaryFocusListener),i._refreshRowsDimensions(),i._accessibilityTreeRoot.appendChild(i._rowContainer),i._renderRowsDebouncer=new a.RenderDebouncer(i._renderRows.bind(i)),i._refreshRows(),i._liveRegion=document.createElement("div"),i._liveRegion.classList.add("live-region"),i._liveRegion.setAttribute("aria-live","assertive"),i._accessibilityTreeRoot.appendChild(i._liveRegion),!i._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");return i._terminal.element.insertAdjacentElement("afterbegin",i._accessibilityTreeRoot),i.register(i._renderRowsDebouncer),i.register(i._terminal.onResize((function(e){return i._onResize(e.rows)}))),i.register(i._terminal.onRender((function(e){return i._refreshRows(e.start,e.end)}))),i.register(i._terminal.onScroll((function(){return i._refreshRows()}))),i.register(i._terminal.onA11yChar((function(e){return i._onChar(e)}))),i.register(i._terminal.onLineFeed((function(){return i._onChar("\n")}))),i.register(i._terminal.onA11yTab((function(e){return i._onTab(e)}))),i.register(i._terminal.onKey((function(e){return i._onKey(e.key)}))),i.register(i._terminal.onBlur((function(){return i._clearLiveRegion()}))),i.register(i._renderService.onDimensionsChange((function(){return i._refreshRowsDimensions()}))),i._screenDprMonitor=new u.ScreenDprMonitor,i.register(i._screenDprMonitor),i._screenDprMonitor.setListener((function(){return i._refreshRowsDimensions()})),i.register(c.addDisposableDomListener(window,"resize",(function(){return i._refreshRowsDimensions()}))),i}return r(t,e),t.prototype.dispose=function(){var t;e.prototype.dispose.call(this),null===(t=this._terminal.element)||void 0===t||t.removeChild(this._accessibilityTreeRoot),this._rowElements.length=0},t.prototype._onBoundaryFocus=function(e,t){var n=e.target,i=this._rowElements[0===t?1:this._rowElements.length-2];if(n.getAttribute("aria-posinset")!==(0===t?"1":""+this._terminal.buffer.lines.length)&&e.relatedTarget===i){var r,o;if(0===t?(r=n,o=this._rowElements.pop(),this._rowContainer.removeChild(o)):(r=this._rowElements.shift(),o=n,this._rowContainer.removeChild(r)),r.removeEventListener("focus",this._topBoundaryFocusListener),o.removeEventListener("focus",this._bottomBoundaryFocusListener),0===t){var s=this._createAccessibilityTreeNode();this._rowElements.unshift(s),this._rowContainer.insertAdjacentElement("afterbegin",s)}else s=this._createAccessibilityTreeNode(),this._rowElements.push(s),this._rowContainer.appendChild(s);this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===t?-1:1),this._rowElements[0===t?1:this._rowElements.length-2].focus(),e.preventDefault(),e.stopImmediatePropagation()}},t.prototype._onResize=function(e){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(var t=this._rowContainer.children.length;t<this._terminal.rows;t++)this._rowElements[t]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[t]);for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()},t.prototype._createAccessibilityTreeNode=function(){var e=document.createElement("div");return e.setAttribute("role","listitem"),e.tabIndex=-1,this._refreshRowDimensions(e),e},t.prototype._onTab=function(e){for(var t=0;t<e;t++)this._onChar(" ")},t.prototype._onChar=function(e){var t=this;this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==e&&(this._charsToAnnounce+=e):this._charsToAnnounce+=e,"\n"===e&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=o.tooMuchOutput)),s.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout((function(){t._accessibilityTreeRoot.appendChild(t._liveRegion)}),0))},t.prototype._clearLiveRegion=function(){this._liveRegion.textContent="",this._liveRegionLineCount=0,s.isMac&&this._liveRegion.parentNode&&this._accessibilityTreeRoot.removeChild(this._liveRegion)},t.prototype._onKey=function(e){this._clearLiveRegion(),this._charsToConsume.push(e)},t.prototype._refreshRows=function(e,t){this._renderRowsDebouncer.refresh(e,t,this._terminal.rows)},t.prototype._renderRows=function(e,t){for(var n=this._terminal.buffer,i=n.lines.length.toString(),r=e;r<=t;r++){var o=n.translateBufferLineToString(n.ydisp+r,!0),s=(n.ydisp+r+1).toString(),a=this._rowElements[r];a&&(0===o.length?a.innerHTML="&nbsp;":a.textContent=o,a.setAttribute("aria-posinset",s),a.setAttribute("aria-setsize",i))}this._announceCharacters()},t.prototype._refreshRowsDimensions=function(){if(this._renderService.dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(var e=0;e<this._terminal.rows;e++)this._refreshRowDimensions(this._rowElements[e])}},t.prototype._refreshRowDimensions=function(e){e.style.height=this._renderService.dimensions.actualCellHeight+"px"},t.prototype._announceCharacters=function(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")},t}(l.Disposable);t.AccessibilityManager=h},function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomRenderer=void 0;var a=n(57),c=n(9),l=n(2),u=n(5),h=n(1),d=n(0),f=n(10),p=1,v=function(e){function t(t,n,i,r,o,s,c,l,u){var h=e.call(this)||this;return h._colors=t,h._element=n,h._screenElement=i,h._viewportElement=r,h._linkifier=o,h._linkifier2=s,h._charSizeService=c,h._optionsService=l,h._bufferService=u,h._terminalClass=p++,h._rowElements=[],h._rowContainer=document.createElement("div"),h._rowContainer.classList.add("xterm-rows"),h._rowContainer.style.lineHeight="normal",h._rowContainer.setAttribute("aria-hidden","true"),h._refreshRowElements(h._bufferService.cols,h._bufferService.rows),h._selectionContainer=document.createElement("div"),h._selectionContainer.classList.add("xterm-selection"),h._selectionContainer.setAttribute("aria-hidden","true"),h.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},h._updateDimensions(),h._injectCss(),h._rowFactory=new a.DomRendererRowFactory(document,h._optionsService,h._colors),h._element.classList.add("xterm-dom-renderer-owner-"+h._terminalClass),h._screenElement.appendChild(h._rowContainer),h._screenElement.appendChild(h._selectionContainer),h._linkifier.onShowLinkUnderline((function(e){return h._onLinkHover(e)})),h._linkifier.onHideLinkUnderline((function(e){return h._onLinkLeave(e)})),h._linkifier2.onShowLinkUnderline((function(e){return h._onLinkHover(e)})),h._linkifier2.onHideLinkUnderline((function(e){return h._onLinkLeave(e)})),h}return r(t,e),Object.defineProperty(t.prototype,"onRequestRedraw",{get:function(){return(new d.EventEmitter).event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this._element.classList.remove("xterm-dom-renderer-owner-"+this._terminalClass),this._screenElement.removeChild(this._rowContainer),this._screenElement.removeChild(this._selectionContainer),this._screenElement.removeChild(this._themeStyleElement),this._screenElement.removeChild(this._dimensionsStyleElement),e.prototype.dispose.call(this)},t.prototype._updateDimensions=function(){var e=this;this.dimensions.scaledCharWidth=this._charSizeService.width*window.devicePixelRatio,this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.options.letterSpacing),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.options.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._bufferService.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._bufferService.rows,this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows,this._rowElements.forEach((function(t){t.style.width=e.dimensions.canvasWidth+"px",t.style.height=e.dimensions.actualCellHeight+"px",t.style.lineHeight=e.dimensions.actualCellHeight+"px",t.style.overflow="hidden"})),this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));var t=this._terminalSelector+" .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: "+this.dimensions.actualCellWidth+"px}";this._dimensionsStyleElement.innerHTML=t,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},t.prototype.setColors=function(e){this._colors=e,this._injectCss()},t.prototype._injectCss=function(){var e=this;this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));var t=this._terminalSelector+" .xterm-rows { color: "+this._colors.foreground.css+"; font-family: "+this._optionsService.options.fontFamily+"; font-size: "+this._optionsService.options.fontSize+"px;}";t+=this._terminalSelector+" span:not(."+a.BOLD_CLASS+") { font-weight: "+this._optionsService.options.fontWeight+";}"+this._terminalSelector+" span."+a.BOLD_CLASS+" { font-weight: "+this._optionsService.options.fontWeightBold+";}"+this._terminalSelector+" span."+a.ITALIC_CLASS+" { font-style: italic;}",t+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",t+="@keyframes blink_block_"+this._terminalClass+" { 0% {  background-color: "+this._colors.cursor.css+";  color: "+this._colors.cursorAccent.css+"; } 50% {  background-color: "+this._colors.cursorAccent.css+";  color: "+this._colors.cursor.css+"; }}",t+=this._terminalSelector+" .xterm-rows:not(.xterm-focus) ."+a.CURSOR_CLASS+"."+a.CURSOR_STYLE_BLOCK_CLASS+" { outline: 1px solid "+this._colors.cursor.css+"; outline-offset: -1px;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+a.CURSOR_CLASS+"."+a.CURSOR_BLINK_CLASS+":not(."+a.CURSOR_STYLE_BLOCK_CLASS+") { animation: blink_box_shadow_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+a.CURSOR_CLASS+"."+a.CURSOR_BLINK_CLASS+"."+a.CURSOR_STYLE_BLOCK_CLASS+" { animation: blink_block_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+a.CURSOR_CLASS+"."+a.CURSOR_STYLE_BLOCK_CLASS+" { background-color: "+this._colors.cursor.css+"; color: "+this._colors.cursorAccent.css+";}"+this._terminalSelector+" .xterm-rows ."+a.CURSOR_CLASS+"."+a.CURSOR_STYLE_BAR_CLASS+" { box-shadow: "+this._optionsService.options.cursorWidth+"px 0 0 "+this._colors.cursor.css+" inset;}"+this._terminalSelector+" .xterm-rows ."+a.CURSOR_CLASS+"."+a.CURSOR_STYLE_UNDERLINE_CLASS+" { box-shadow: 0 -1px 0 "+this._colors.cursor.css+" inset;}",t+=this._terminalSelector+" .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}"+this._terminalSelector+" .xterm-selection div { position: absolute; background-color: "+this._colors.selection.css+";}",this._colors.ansi.forEach((function(n,i){t+=e._terminalSelector+" .xterm-fg-"+i+" { color: "+n.css+"; }"+e._terminalSelector+" .xterm-bg-"+i+" { background-color: "+n.css+"; }"})),t+=this._terminalSelector+" .xterm-fg-"+c.INVERTED_DEFAULT_COLOR+" { color: "+f.color.opaque(this._colors.background).css+"; }"+this._terminalSelector+" .xterm-bg-"+c.INVERTED_DEFAULT_COLOR+" { background-color: "+this._colors.foreground.css+"; }",this._themeStyleElement.innerHTML=t},t.prototype.onDevicePixelRatioChange=function(){this._updateDimensions()},t.prototype._refreshRowElements=function(e,t){for(var n=this._rowElements.length;n<=t;n++){var i=document.createElement("div");this._rowContainer.appendChild(i),this._rowElements.push(i)}for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop())},t.prototype.onResize=function(e,t){this._refreshRowElements(e,t),this._updateDimensions()},t.prototype.onCharSizeChanged=function(){this._updateDimensions()},t.prototype.onBlur=function(){this._rowContainer.classList.remove("xterm-focus")},t.prototype.onFocus=function(){this._rowContainer.classList.add("xterm-focus")},t.prototype.onSelectionChanged=function(e,t,n){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(e&&t){var i=e[1]-this._bufferService.buffer.ydisp,r=t[1]-this._bufferService.buffer.ydisp,o=Math.max(i,0),s=Math.min(r,this._bufferService.rows-1);if(!(o>=this._bufferService.rows||s<0)){var a=document.createDocumentFragment();if(n)a.appendChild(this._createSelectionElement(o,e[0],t[0],s-o+1));else{var c=i===o?e[0]:0,l=o===s?t[0]:this._bufferService.cols;a.appendChild(this._createSelectionElement(o,c,l));var u=s-o-1;if(a.appendChild(this._createSelectionElement(o+1,0,this._bufferService.cols,u)),o!==s){var h=r===s?t[0]:this._bufferService.cols;a.appendChild(this._createSelectionElement(s,0,h))}}this._selectionContainer.appendChild(a)}}},t.prototype._createSelectionElement=function(e,t,n,i){void 0===i&&(i=1);var r=document.createElement("div");return r.style.height=i*this.dimensions.actualCellHeight+"px",r.style.top=e*this.dimensions.actualCellHeight+"px",r.style.left=t*this.dimensions.actualCellWidth+"px",r.style.width=this.dimensions.actualCellWidth*(n-t)+"px",r},t.prototype.onCursorMove=function(){},t.prototype.onOptionsChanged=function(){this._updateDimensions(),this._injectCss()},t.prototype.clear=function(){this._rowElements.forEach((function(e){return e.innerHTML=""}))},t.prototype.renderRows=function(e,t){for(var n=this._bufferService.buffer.ybase+this._bufferService.buffer.y,i=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),r=this._optionsService.options.cursorBlink,o=e;o<=t;o++){var s=this._rowElements[o];s.innerHTML="";var a=o+this._bufferService.buffer.ydisp,c=this._bufferService.buffer.lines.get(a),l=this._optionsService.options.cursorStyle;s.appendChild(this._rowFactory.createRow(c,a===n,l,i,r,this.dimensions.actualCellWidth,this._bufferService.cols))}},Object.defineProperty(t.prototype,"_terminalSelector",{get:function(){return".xterm-dom-renderer-owner-"+this._terminalClass},enumerable:!1,configurable:!0}),t.prototype.registerCharacterJoiner=function(e){return-1},t.prototype.deregisterCharacterJoiner=function(e){return!1},t.prototype._onLinkHover=function(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!0)},t.prototype._onLinkLeave=function(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!1)},t.prototype._setCellUnderline=function(e,t,n,i,r,o){for(;e!==t||n!==i;){var s=this._rowElements[n];if(!s)return;var a=s.children[e];a&&(a.style.textDecoration=o?"underline":"none"),++e>=r&&(e=0,n++)}},o([s(6,u.ICharSizeService),s(7,h.IOptionsService),s(8,h.IBufferService)],t)}(l.Disposable);t.DomRenderer=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DomRendererRowFactory=t.CURSOR_STYLE_UNDERLINE_CLASS=t.CURSOR_STYLE_BAR_CLASS=t.CURSOR_STYLE_BLOCK_CLASS=t.CURSOR_BLINK_CLASS=t.CURSOR_CLASS=t.UNDERLINE_CLASS=t.ITALIC_CLASS=t.DIM_CLASS=t.BOLD_CLASS=void 0;var i=n(9),r=n(3),o=n(4),s=n(10);t.BOLD_CLASS="xterm-bold",t.DIM_CLASS="xterm-dim",t.ITALIC_CLASS="xterm-italic",t.UNDERLINE_CLASS="xterm-underline",t.CURSOR_CLASS="xterm-cursor",t.CURSOR_BLINK_CLASS="xterm-cursor-blink",t.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",t.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",t.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";var a=function(){function e(e,t,n){this._document=e,this._optionsService=t,this._colors=n,this._workCell=new o.CellData}return e.prototype.setColors=function(e){this._colors=e},e.prototype.createRow=function(e,n,o,a,l,u,h){for(var d=this._document.createDocumentFragment(),f=0,p=Math.min(e.length,h)-1;p>=0;p--)if(e.loadCell(p,this._workCell).getCode()!==r.NULL_CELL_CODE||n&&p===a){f=p+1;break}for(p=0;p<f;p++){e.loadCell(p,this._workCell);var v=this._workCell.getWidth();if(0!==v){var m=this._document.createElement("span");if(v>1&&(m.style.width=u*v+"px"),n&&p===a)switch(m.classList.add(t.CURSOR_CLASS),l&&m.classList.add(t.CURSOR_BLINK_CLASS),o){case"bar":m.classList.add(t.CURSOR_STYLE_BAR_CLASS);break;case"underline":m.classList.add(t.CURSOR_STYLE_UNDERLINE_CLASS);break;default:m.classList.add(t.CURSOR_STYLE_BLOCK_CLASS)}this._workCell.isBold()&&m.classList.add(t.BOLD_CLASS),this._workCell.isItalic()&&m.classList.add(t.ITALIC_CLASS),this._workCell.isDim()&&m.classList.add(t.DIM_CLASS),this._workCell.isUnderline()&&m.classList.add(t.UNDERLINE_CLASS),this._workCell.isInvisible()?m.textContent=r.WHITESPACE_CELL_CHAR:m.textContent=this._workCell.getChars()||r.WHITESPACE_CELL_CHAR;var _=this._workCell.getFgColor(),g=this._workCell.getFgColorMode(),y=this._workCell.getBgColor(),b=this._workCell.getBgColorMode(),w=!!this._workCell.isInverse();if(w){var C=_;_=y,y=C;var S=g;g=b,b=S}switch(g){case 16777216:case 33554432:this._workCell.isBold()&&_<8&&this._optionsService.options.drawBoldTextInBrightColors&&(_+=8),this._applyMinimumContrast(m,this._colors.background,this._colors.ansi[_])||m.classList.add("xterm-fg-"+_);break;case 50331648:var k=s.rgba.toColor(_>>16&255,_>>8&255,255&_);this._applyMinimumContrast(m,this._colors.background,k)||this._addStyle(m,"color:#"+c(_.toString(16),"0",6));break;case 0:default:this._applyMinimumContrast(m,this._colors.background,this._colors.foreground)||w&&m.classList.add("xterm-fg-"+i.INVERTED_DEFAULT_COLOR)}switch(b){case 16777216:case 33554432:m.classList.add("xterm-bg-"+y);break;case 50331648:this._addStyle(m,"background-color:#"+c(y.toString(16),"0",6));break;case 0:default:w&&m.classList.add("xterm-bg-"+i.INVERTED_DEFAULT_COLOR)}d.appendChild(m)}}return d},e.prototype._applyMinimumContrast=function(e,t,n){if(1===this._optionsService.options.minimumContrastRatio)return!1;var i=this._colors.contrastCache.getColor(this._workCell.bg,this._workCell.fg);return void 0===i&&(i=s.color.ensureContrastRatio(t,n,this._optionsService.options.minimumContrastRatio),this._colors.contrastCache.setColor(this._workCell.bg,this._workCell.fg,null!=i?i:null)),!!i&&(this._addStyle(e,"color:"+i.css),!0)},e.prototype._addStyle=function(e,t){e.setAttribute("style",""+(e.getAttribute("style")||"")+t+";")},e}();function c(e,t,n){for(;e.length<n;)e=t+e;return e}t.DomRendererRowFactory=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateKeyboardEvent=void 0;var i=n(12),r={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};t.evaluateKeyboardEvent=function(e,t,n,o){var s={type:0,cancel:!1,key:void 0},a=(e.shiftKey?1:0)|(e.altKey?2:0)|(e.ctrlKey?4:0)|(e.metaKey?8:0);switch(e.keyCode){case 0:"UIKeyInputUpArrow"===e.key?s.key=t?i.C0.ESC+"OA":i.C0.ESC+"[A":"UIKeyInputLeftArrow"===e.key?s.key=t?i.C0.ESC+"OD":i.C0.ESC+"[D":"UIKeyInputRightArrow"===e.key?s.key=t?i.C0.ESC+"OC":i.C0.ESC+"[C":"UIKeyInputDownArrow"===e.key&&(s.key=t?i.C0.ESC+"OB":i.C0.ESC+"[B");break;case 8:if(e.shiftKey){s.key=i.C0.BS;break}if(e.altKey){s.key=i.C0.ESC+i.C0.DEL;break}s.key=i.C0.DEL;break;case 9:if(e.shiftKey){s.key=i.C0.ESC+"[Z";break}s.key=i.C0.HT,s.cancel=!0;break;case 13:s.key=e.altKey?i.C0.ESC+i.C0.CR:i.C0.CR,s.cancel=!0;break;case 27:s.key=i.C0.ESC,e.altKey&&(s.key=i.C0.ESC+i.C0.ESC),s.cancel=!0;break;case 37:if(e.metaKey)break;a?(s.key=i.C0.ESC+"[1;"+(a+1)+"D",s.key===i.C0.ESC+"[1;3D"&&(s.key=i.C0.ESC+(n?"b":"[1;5D"))):s.key=t?i.C0.ESC+"OD":i.C0.ESC+"[D";break;case 39:if(e.metaKey)break;a?(s.key=i.C0.ESC+"[1;"+(a+1)+"C",s.key===i.C0.ESC+"[1;3C"&&(s.key=i.C0.ESC+(n?"f":"[1;5C"))):s.key=t?i.C0.ESC+"OC":i.C0.ESC+"[C";break;case 38:if(e.metaKey)break;a?(s.key=i.C0.ESC+"[1;"+(a+1)+"A",n||s.key!==i.C0.ESC+"[1;3A"||(s.key=i.C0.ESC+"[1;5A")):s.key=t?i.C0.ESC+"OA":i.C0.ESC+"[A";break;case 40:if(e.metaKey)break;a?(s.key=i.C0.ESC+"[1;"+(a+1)+"B",n||s.key!==i.C0.ESC+"[1;3B"||(s.key=i.C0.ESC+"[1;5B")):s.key=t?i.C0.ESC+"OB":i.C0.ESC+"[B";break;case 45:e.shiftKey||e.ctrlKey||(s.key=i.C0.ESC+"[2~");break;case 46:s.key=a?i.C0.ESC+"[3;"+(a+1)+"~":i.C0.ESC+"[3~";break;case 36:s.key=a?i.C0.ESC+"[1;"+(a+1)+"H":t?i.C0.ESC+"OH":i.C0.ESC+"[H";break;case 35:s.key=a?i.C0.ESC+"[1;"+(a+1)+"F":t?i.C0.ESC+"OF":i.C0.ESC+"[F";break;case 33:e.shiftKey?s.type=2:s.key=i.C0.ESC+"[5~";break;case 34:e.shiftKey?s.type=3:s.key=i.C0.ESC+"[6~";break;case 112:s.key=a?i.C0.ESC+"[1;"+(a+1)+"P":i.C0.ESC+"OP";break;case 113:s.key=a?i.C0.ESC+"[1;"+(a+1)+"Q":i.C0.ESC+"OQ";break;case 114:s.key=a?i.C0.ESC+"[1;"+(a+1)+"R":i.C0.ESC+"OR";break;case 115:s.key=a?i.C0.ESC+"[1;"+(a+1)+"S":i.C0.ESC+"OS";break;case 116:s.key=a?i.C0.ESC+"[15;"+(a+1)+"~":i.C0.ESC+"[15~";break;case 117:s.key=a?i.C0.ESC+"[17;"+(a+1)+"~":i.C0.ESC+"[17~";break;case 118:s.key=a?i.C0.ESC+"[18;"+(a+1)+"~":i.C0.ESC+"[18~";break;case 119:s.key=a?i.C0.ESC+"[19;"+(a+1)+"~":i.C0.ESC+"[19~";break;case 120:s.key=a?i.C0.ESC+"[20;"+(a+1)+"~":i.C0.ESC+"[20~";break;case 121:s.key=a?i.C0.ESC+"[21;"+(a+1)+"~":i.C0.ESC+"[21~";break;case 122:s.key=a?i.C0.ESC+"[23;"+(a+1)+"~":i.C0.ESC+"[23~";break;case 123:s.key=a?i.C0.ESC+"[24;"+(a+1)+"~":i.C0.ESC+"[24~";break;default:if(!e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)if(n&&!o||!e.altKey||e.metaKey)n&&!e.altKey&&!e.ctrlKey&&e.metaKey?65===e.keyCode&&(s.type=1):e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.keyCode>=48&&1===e.key.length?s.key=e.key:e.key&&e.ctrlKey&&"_"===e.key&&(s.key=i.C0.US);else{var c=r[e.keyCode],l=c&&c[e.shiftKey?1:0];if(l)s.key=i.C0.ESC+l;else if(e.keyCode>=65&&e.keyCode<=90){var u=e.ctrlKey?e.keyCode-64:e.keyCode+32;s.key=i.C0.ESC+String.fromCharCode(u)}}else e.keyCode>=65&&e.keyCode<=90?s.key=String.fromCharCode(e.keyCode-64):32===e.keyCode?s.key=i.C0.NUL:e.keyCode>=51&&e.keyCode<=55?s.key=String.fromCharCode(e.keyCode-51+27):56===e.keyCode?s.key=i.C0.DEL:219===e.keyCode?s.key=i.C0.ESC:220===e.keyCode?s.key=i.C0.FS:221===e.keyCode&&(s.key=i.C0.GS)}return s}},function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RenderService=void 0;var a=n(30),c=n(0),l=n(2),u=n(31),h=n(7),d=n(1),f=n(5),p=function(e){function t(t,n,i,r,o,s){var l=e.call(this)||this;if(l._renderer=t,l._rowCount=n,l._isPaused=!1,l._needsFullRefresh=!1,l._isNextRenderRedrawOnly=!0,l._needsSelectionRefresh=!1,l._canvasWidth=0,l._canvasHeight=0,l._selectionState={start:void 0,end:void 0,columnSelectMode:!1},l._onDimensionsChange=new c.EventEmitter,l._onRender=new c.EventEmitter,l._onRefreshRequest=new c.EventEmitter,l._renderDebouncer=new a.RenderDebouncer((function(e,t){return l._renderRows(e,t)})),l.register(l._renderDebouncer),l._screenDprMonitor=new u.ScreenDprMonitor,l._screenDprMonitor.setListener((function(){return l.onDevicePixelRatioChange()})),l.register(l._screenDprMonitor),l.register(s.onResize((function(e){return l._fullRefresh()}))),l.register(r.onOptionChange((function(){return l._renderer.onOptionsChanged()}))),l.register(o.onCharSizeChange((function(){return l.onCharSizeChanged()}))),l._renderer.onRequestRedraw((function(e){return l.refreshRows(e.start,e.end,!0)})),l.register(h.addDisposableDomListener(window,"resize",(function(){return l.onDevicePixelRatioChange()}))),"IntersectionObserver"in window){var d=new IntersectionObserver((function(e){return l._onIntersectionChange(e[e.length-1])}),{threshold:0});d.observe(i),l.register({dispose:function(){return d.disconnect()}})}return l}return r(t,e),Object.defineProperty(t.prototype,"onDimensionsChange",{get:function(){return this._onDimensionsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRenderedBufferChange",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRefreshRequest",{get:function(){return this._onRefreshRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dimensions",{get:function(){return this._renderer.dimensions},enumerable:!1,configurable:!0}),t.prototype._onIntersectionChange=function(e){this._isPaused=0===e.intersectionRatio,!this._isPaused&&this._needsFullRefresh&&(this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)},t.prototype.refreshRows=function(e,t,n){void 0===n&&(n=!1),this._isPaused?this._needsFullRefresh=!0:(n||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(e,t,this._rowCount))},t.prototype._renderRows=function(e,t){this._renderer.renderRows(e,t),this._needsSelectionRefresh&&(this._renderer.onSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRender.fire({start:e,end:t}),this._isNextRenderRedrawOnly=!0},t.prototype.resize=function(e,t){this._rowCount=t,this._fireOnCanvasResize()},t.prototype.changeOptions=function(){this._renderer.onOptionsChanged(),this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize()},t.prototype._fireOnCanvasResize=function(){this._renderer.dimensions.canvasWidth===this._canvasWidth&&this._renderer.dimensions.canvasHeight===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions)},t.prototype.dispose=function(){this._renderer.dispose(),e.prototype.dispose.call(this)},t.prototype.setRenderer=function(e){var t=this;this._renderer.dispose(),this._renderer=e,this._renderer.onRequestRedraw((function(e){return t.refreshRows(e.start,e.end,!0)})),this._needsSelectionRefresh=!0,this._fullRefresh()},t.prototype._fullRefresh=function(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)},t.prototype.setColors=function(e){this._renderer.setColors(e),this._fullRefresh()},t.prototype.onDevicePixelRatioChange=function(){this._renderer.onDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1)},t.prototype.onResize=function(e,t){this._renderer.onResize(e,t),this._fullRefresh()},t.prototype.onCharSizeChanged=function(){this._renderer.onCharSizeChanged()},t.prototype.onBlur=function(){this._renderer.onBlur()},t.prototype.onFocus=function(){this._renderer.onFocus()},t.prototype.onSelectionChanged=function(e,t,n){this._selectionState.start=e,this._selectionState.end=t,this._selectionState.columnSelectMode=n,this._renderer.onSelectionChanged(e,t,n)},t.prototype.onCursorMove=function(){this._renderer.onCursorMove()},t.prototype.clear=function(){this._renderer.clear()},t.prototype.registerCharacterJoiner=function(e){return this._renderer.registerCharacterJoiner(e)},t.prototype.deregisterCharacterJoiner=function(e){return this._renderer.deregisterCharacterJoiner(e)},o([s(3,d.IOptionsService),s(4,f.ICharSizeService),s(5,d.IBufferService)],t)}(l.Disposable);t.RenderService=p},function(e,t,n){var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharSizeService=void 0;var o=n(1),s=n(0),a=function(){function e(e,t,n){this._optionsService=n,this.width=0,this.height=0,this._onCharSizeChange=new s.EventEmitter,this._measureStrategy=new c(e,t,this._optionsService)}return Object.defineProperty(e.prototype,"hasValidSize",{get:function(){return this.width>0&&this.height>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onCharSizeChange",{get:function(){return this._onCharSizeChange.event},enumerable:!1,configurable:!0}),e.prototype.measure=function(){var e=this._measureStrategy.measure();e.width===this.width&&e.height===this.height||(this.width=e.width,this.height=e.height,this._onCharSizeChange.fire())},i([r(2,o.IOptionsService)],e)}();t.CharSizeService=a;var c=function(){function e(e,t,n){this._document=e,this._parentElement=t,this._optionsService=n,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}return e.prototype.measure=function(){this._measureElement.style.fontFamily=this._optionsService.options.fontFamily,this._measureElement.style.fontSize=this._optionsService.options.fontSize+"px";var e=this._measureElement.getBoundingClientRect();return 0!==e.width&&0!==e.height&&(this._result.width=e.width,this._result.height=Math.ceil(e.height)),this._result},e}()},function(e,t,n){var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseService=void 0;var o=n(5),s=n(29),a=function(){function e(e,t){this._renderService=e,this._charSizeService=t}return e.prototype.getCoords=function(e,t,n,i,r){return s.getCoords(e,t,n,i,this._charSizeService.hasValidSize,this._renderService.dimensions.actualCellWidth,this._renderService.dimensions.actualCellHeight,r)},e.prototype.getRawByteCoords=function(e,t,n,i){var r=this.getCoords(e,t,n,i);return s.getRawByteCoords(r)},i([r(0,o.IRenderService),r(1,o.ICharSizeService)],e)}();t.MouseService=a},function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Linkifier2=void 0;var a=n(1),c=n(0),l=n(2),u=n(7),h=function(e){function t(t){var n=e.call(this)||this;return n._bufferService=t,n._linkProviders=[],n._linkCacheDisposables=[],n._isMouseOut=!0,n._activeLine=-1,n._onShowLinkUnderline=n.register(new c.EventEmitter),n._onHideLinkUnderline=n.register(new c.EventEmitter),n.register(l.getDisposeArrayDisposable(n._linkCacheDisposables)),n}return r(t,e),Object.defineProperty(t.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),t.prototype.registerLinkProvider=function(e){var t=this;return this._linkProviders.push(e),{dispose:function(){var n=t._linkProviders.indexOf(e);-1!==n&&t._linkProviders.splice(n,1)}}},t.prototype.attachToDom=function(e,t,n){var i=this;this._element=e,this._mouseService=t,this._renderService=n,this.register(u.addDisposableDomListener(this._element,"mouseleave",(function(){i._isMouseOut=!0,i._clearCurrentLink()}))),this.register(u.addDisposableDomListener(this._element,"mousemove",this._onMouseMove.bind(this))),this.register(u.addDisposableDomListener(this._element,"click",this._onClick.bind(this)))},t.prototype._onMouseMove=function(e){if(this._lastMouseEvent=e,this._element&&this._mouseService){var t=this._positionFromMouseEvent(e,this._element,this._mouseService);if(t){this._isMouseOut=!1;for(var n=e.composedPath(),i=0;i<n.length;i++){var r=n[i];if(r.classList.contains("xterm"))break;if(r.classList.contains("xterm-hover"))return}this._lastBufferCell&&t.x===this._lastBufferCell.x&&t.y===this._lastBufferCell.y||(this._onHover(t),this._lastBufferCell=t)}}},t.prototype._onHover=function(e){if(this._activeLine!==e.y)return this._clearCurrentLink(),void this._askForLink(e,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,e)||(this._clearCurrentLink(),this._askForLink(e,!0))},t.prototype._askForLink=function(e,t){var n=this;this._activeProviderReplies&&t||(this._activeProviderReplies=new Map,this._activeLine=e.y);var i=!1;this._linkProviders.forEach((function(r,o){var s;t?(null===(s=n._activeProviderReplies)||void 0===s?void 0:s.get(o))&&(i=n._checkLinkProviderResult(o,e,i)):r.provideLinks(e.y,(function(t){var r,s;if(!n._isMouseOut){var a=null==t?void 0:t.map((function(e){return{link:e}}));null===(r=n._activeProviderReplies)||void 0===r||r.set(o,a),i=n._checkLinkProviderResult(o,e,i),(null===(s=n._activeProviderReplies)||void 0===s?void 0:s.size)===n._linkProviders.length&&n._removeIntersectingLinks(e.y,n._activeProviderReplies)}}))}))},t.prototype._removeIntersectingLinks=function(e,t){for(var n=new Set,i=0;i<t.size;i++){var r=t.get(i);if(r)for(var o=0;o<r.length;o++)for(var s=r[o],a=s.link.range.start.y<e?0:s.link.range.start.x,c=s.link.range.end.y>e?this._bufferService.cols:s.link.range.end.x,l=a;l<=c;l++){if(n.has(l)){r.splice(o--,1);break}n.add(l)}}},t.prototype._checkLinkProviderResult=function(e,t,n){var i,r=this;if(!this._activeProviderReplies)return n;for(var o=this._activeProviderReplies.get(e),s=!1,a=0;a<e;a++)this._activeProviderReplies.has(a)&&!this._activeProviderReplies.get(a)||(s=!0);if(!s&&o){var c=o.find((function(e){return r._linkAtPosition(e.link,t)}));c&&(n=!0,this._handleNewLink(c))}if(this._activeProviderReplies.size===this._linkProviders.length&&!n)for(a=0;a<this._activeProviderReplies.size;a++){var l=null===(i=this._activeProviderReplies.get(a))||void 0===i?void 0:i.find((function(e){return r._linkAtPosition(e.link,t)}));if(l){n=!0,this._handleNewLink(l);break}}return n},t.prototype._onClick=function(e){if(this._element&&this._mouseService&&this._currentLink){var t=this._positionFromMouseEvent(e,this._element,this._mouseService);t&&this._linkAtPosition(this._currentLink.link,t)&&this._currentLink.link.activate(e,this._currentLink.link.text)}},t.prototype._clearCurrentLink=function(e,t){this._element&&this._currentLink&&this._lastMouseEvent&&(!e||!t||this._currentLink.link.range.start.y>=e&&this._currentLink.link.range.end.y<=t)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,l.disposeArray(this._linkCacheDisposables))},t.prototype._handleNewLink=function(e){var t=this;if(this._element&&this._lastMouseEvent&&this._mouseService){var n=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);n&&this._linkAtPosition(e.link,n)&&(this._currentLink=e,this._currentLink.state={decorations:{underline:void 0===e.link.decorations||e.link.decorations.underline,pointerCursor:void 0===e.link.decorations||e.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,e.link,this._lastMouseEvent),e.link.decorations={},Object.defineProperties(e.link.decorations,{pointerCursor:{get:function(){var e,n;return null===(n=null===(e=t._currentLink)||void 0===e?void 0:e.state)||void 0===n?void 0:n.decorations.pointerCursor},set:function(e){var n,i;(null===(n=t._currentLink)||void 0===n?void 0:n.state)&&t._currentLink.state.decorations.pointerCursor!==e&&(t._currentLink.state.decorations.pointerCursor=e,t._currentLink.state.isHovered&&(null===(i=t._element)||void 0===i||i.classList.toggle("xterm-cursor-pointer",e)))}},underline:{get:function(){var e,n;return null===(n=null===(e=t._currentLink)||void 0===e?void 0:e.state)||void 0===n?void 0:n.decorations.underline},set:function(n){var i,r,o;(null===(i=t._currentLink)||void 0===i?void 0:i.state)&&(null===(o=null===(r=t._currentLink)||void 0===r?void 0:r.state)||void 0===o?void 0:o.decorations.underline)!==n&&(t._currentLink.state.decorations.underline=n,t._currentLink.state.isHovered&&t._fireUnderlineEvent(e.link,n))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedBufferChange((function(e){var n=0===e.start?0:e.start+1+t._bufferService.buffer.ydisp;t._clearCurrentLink(n,e.end+1+t._bufferService.buffer.ydisp)}))))}},t.prototype._linkHover=function(e,t,n){var i;(null===(i=this._currentLink)||void 0===i?void 0:i.state)&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!0),this._currentLink.state.decorations.pointerCursor&&e.classList.add("xterm-cursor-pointer")),t.hover&&t.hover(n,t.text)},t.prototype._fireUnderlineEvent=function(e,t){var n=e.range,i=this._bufferService.buffer.ydisp,r=this._createLinkUnderlineEvent(n.start.x-1,n.start.y-i-1,n.end.x,n.end.y-i-1,void 0);(t?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(r)},t.prototype._linkLeave=function(e,t,n){var i;(null===(i=this._currentLink)||void 0===i?void 0:i.state)&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!1),this._currentLink.state.decorations.pointerCursor&&e.classList.remove("xterm-cursor-pointer")),t.leave&&t.leave(n,t.text)},t.prototype._linkAtPosition=function(e,t){var n=e.range.start.y===e.range.end.y,i=e.range.start.y<t.y,r=e.range.end.y>t.y;return(n&&e.range.start.x<=t.x&&e.range.end.x>=t.x||i&&e.range.end.x>=t.x||r&&e.range.start.x<=t.x||i&&r)&&e.range.start.y<=t.y&&e.range.end.y>=t.y},t.prototype._positionFromMouseEvent=function(e,t,n){var i=n.getCoords(e,t,this._bufferService.cols,this._bufferService.rows);if(i)return{x:i[0],y:i[1]+this._bufferService.buffer.ydisp}},t.prototype._createLinkUnderlineEvent=function(e,t,n,i,r){return{x1:e,y1:t,x2:n,y2:i,cols:this._bufferService.cols,fg:r}},o([s(0,a.IBufferService)],t)}(l.Disposable);t.Linkifier2=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CoreBrowserService=void 0;var i=function(){function e(e){this._textarea=e}return Object.defineProperty(e.prototype,"isFocused",{get:function(){return document.activeElement===this._textarea&&document.hasFocus()},enumerable:!1,configurable:!0}),e}();t.CoreBrowserService=i},function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CoreTerminal=void 0;var o=n(2),s=n(1),a=n(65),c=n(66),l=n(67),u=n(73),h=n(74),d=n(0),f=n(75),p=n(76),v=n(77),m=n(79),_=n(80),g=n(18),y=n(81),b=function(e){function t(t){var n=e.call(this)||this;return n._onBinary=new d.EventEmitter,n._onData=new d.EventEmitter,n._onLineFeed=new d.EventEmitter,n._onResize=new d.EventEmitter,n._onScroll=new d.EventEmitter,n._instantiationService=new a.InstantiationService,n.optionsService=new u.OptionsService(t),n._instantiationService.setService(s.IOptionsService,n.optionsService),n._bufferService=n.register(n._instantiationService.createInstance(l.BufferService)),n._instantiationService.setService(s.IBufferService,n._bufferService),n._logService=n._instantiationService.createInstance(c.LogService),n._instantiationService.setService(s.ILogService,n._logService),n._coreService=n.register(n._instantiationService.createInstance(h.CoreService,(function(){return n.scrollToBottom()}))),n._instantiationService.setService(s.ICoreService,n._coreService),n._coreMouseService=n._instantiationService.createInstance(f.CoreMouseService),n._instantiationService.setService(s.ICoreMouseService,n._coreMouseService),n._dirtyRowService=n._instantiationService.createInstance(p.DirtyRowService),n._instantiationService.setService(s.IDirtyRowService,n._dirtyRowService),n.unicodeService=n._instantiationService.createInstance(v.UnicodeService),n._instantiationService.setService(s.IUnicodeService,n.unicodeService),n._charsetService=n._instantiationService.createInstance(m.CharsetService),n._instantiationService.setService(s.ICharsetService,n._charsetService),n._inputHandler=new g.InputHandler(n._bufferService,n._charsetService,n._coreService,n._dirtyRowService,n._logService,n.optionsService,n._coreMouseService,n.unicodeService),n.register(d.forwardEvent(n._inputHandler.onLineFeed,n._onLineFeed)),n.register(n._inputHandler),n.register(d.forwardEvent(n._bufferService.onResize,n._onResize)),n.register(d.forwardEvent(n._coreService.onData,n._onData)),n.register(d.forwardEvent(n._coreService.onBinary,n._onBinary)),n.register(n.optionsService.onOptionChange((function(e){return n._updateOptions(e)}))),n._writeBuffer=new y.WriteBuffer((function(e){return n._inputHandler.parse(e)})),n}return r(t,e),Object.defineProperty(t.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cols",{get:function(){return this._bufferService.cols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._bufferService.rows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buffers",{get:function(){return this._bufferService.buffers},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){var t;this._isDisposed||(e.prototype.dispose.call(this),null===(t=this._windowsMode)||void 0===t||t.dispose(),this._windowsMode=void 0)},t.prototype.write=function(e,t){this._writeBuffer.write(e,t)},t.prototype.writeSync=function(e){this._writeBuffer.writeSync(e)},t.prototype.resize=function(e,t){isNaN(e)||isNaN(t)||(e=Math.max(e,l.MINIMUM_COLS),t=Math.max(t,l.MINIMUM_ROWS),this._bufferService.resize(e,t))},t.prototype.scroll=function(e,t){void 0===t&&(t=!1);var n,i=this._bufferService.buffer;(n=this._cachedBlankLine)&&n.length===this.cols&&n.getFg(0)===e.fg&&n.getBg(0)===e.bg||(n=i.getBlankLine(e,t),this._cachedBlankLine=n),n.isWrapped=t;var r=i.ybase+i.scrollTop,o=i.ybase+i.scrollBottom;if(0===i.scrollTop){var s=i.lines.isFull;o===i.lines.length-1?s?i.lines.recycle().copyFrom(n):i.lines.push(n.clone()):i.lines.splice(o+1,0,n.clone()),s?this._bufferService.isUserScrolling&&(i.ydisp=Math.max(i.ydisp-1,0)):(i.ybase++,this._bufferService.isUserScrolling||i.ydisp++)}else{var a=o-r+1;i.lines.shiftElements(r+1,a-1,-1),i.lines.set(o,n.clone())}this._bufferService.isUserScrolling||(i.ydisp=i.ybase),this._dirtyRowService.markRangeDirty(i.scrollTop,i.scrollBottom),this._onScroll.fire(i.ydisp)},t.prototype.scrollLines=function(e,t){var n=this._bufferService.buffer;if(e<0){if(0===n.ydisp)return;this._bufferService.isUserScrolling=!0}else e+n.ydisp>=n.ybase&&(this._bufferService.isUserScrolling=!1);var i=n.ydisp;n.ydisp=Math.max(Math.min(n.ydisp+e,n.ybase),0),i!==n.ydisp&&(t||this._onScroll.fire(n.ydisp))},t.prototype.scrollPages=function(e){this.scrollLines(e*(this.rows-1))},t.prototype.scrollToTop=function(){this.scrollLines(-this._bufferService.buffer.ydisp)},t.prototype.scrollToBottom=function(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)},t.prototype.scrollToLine=function(e){var t=e-this._bufferService.buffer.ydisp;0!==t&&this.scrollLines(t)},t.prototype.addEscHandler=function(e,t){return this._inputHandler.addEscHandler(e,t)},t.prototype.addDcsHandler=function(e,t){return this._inputHandler.addDcsHandler(e,t)},t.prototype.addCsiHandler=function(e,t){return this._inputHandler.addCsiHandler(e,t)},t.prototype.addOscHandler=function(e,t){return this._inputHandler.addOscHandler(e,t)},t.prototype._setup=function(){this.optionsService.options.windowsMode&&this._enableWindowsMode()},t.prototype.reset=function(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this._coreService.reset(),this._coreMouseService.reset()},t.prototype._updateOptions=function(e){var t;switch(e){case"scrollback":this.buffers.resize(this.cols,this.rows);break;case"windowsMode":this.optionsService.options.windowsMode?this._enableWindowsMode():(null===(t=this._windowsMode)||void 0===t||t.dispose(),this._windowsMode=void 0)}},t.prototype._enableWindowsMode=function(){var e=this;if(!this._windowsMode){var t=[];t.push(this.onLineFeed(_.updateWindowsModeWrappedState.bind(null,this._bufferService))),t.push(this.addCsiHandler({final:"H"},(function(){return _.updateWindowsModeWrappedState(e._bufferService),!1}))),this._windowsMode={dispose:function(){t.forEach((function(e){return e.dispose()}))}}}},t}(o.Disposable);t.CoreTerminal=b},function(e,t,n){var i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i};Object.defineProperty(t,"__esModule",{value:!0}),t.InstantiationService=t.ServiceCollection=void 0;var r=n(1),o=n(14),s=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._entries=new Map;for(var n=0,i=e;n<i.length;n++){var r=i[n],o=r[0],s=r[1];this.set(o,s)}}return e.prototype.set=function(e,t){var n=this._entries.get(e);return this._entries.set(e,t),n},e.prototype.forEach=function(e){this._entries.forEach((function(t,n){return e(n,t)}))},e.prototype.has=function(e){return this._entries.has(e)},e.prototype.get=function(e){return this._entries.get(e)},e}();t.ServiceCollection=s;var a=function(){function e(){this._services=new s,this._services.set(r.IInstantiationService,this)}return e.prototype.setService=function(e,t){this._services.set(e,t)},e.prototype.getService=function(e){return this._services.get(e)},e.prototype.createInstance=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=o.getServiceDependencies(e).sort((function(e,t){return e.index-t.index})),s=[],a=0,c=r;a<c.length;a++){var l=c[a],u=this._services.get(l.id);if(!u)throw new Error("[createInstance] "+e.name+" depends on UNKNOWN service "+l.id+".");s.push(u)}var h=r.length>0?r[0].index:t.length;if(t.length!==h)throw new Error("[createInstance] First service dependency of "+e.name+" at position "+(h+1)+" conflicts with "+t.length+" static arguments");return new(e.bind.apply(e,i([void 0],i(t,s))))},e}();t.InstantiationService=a},function(e,t,n){var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i};Object.defineProperty(t,"__esModule",{value:!0}),t.LogService=t.LogLevel=void 0;var s,a=n(1);!function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e[e.OFF=4]="OFF"}(s=t.LogLevel||(t.LogLevel={}));var c={debug:s.DEBUG,info:s.INFO,warn:s.WARN,error:s.ERROR,off:s.OFF},l=function(){function e(e){var t=this;this._optionsService=e,this._updateLogLevel(),this._optionsService.onOptionChange((function(e){"logLevel"===e&&t._updateLogLevel()}))}return e.prototype._updateLogLevel=function(){this._logLevel=c[this._optionsService.options.logLevel]},e.prototype._evalLazyOptionalParams=function(e){for(var t=0;t<e.length;t++)"function"==typeof e[t]&&(e[t]=e[t]())},e.prototype._log=function(e,t,n){this._evalLazyOptionalParams(n),e.call.apply(e,o([console,"xterm.js: "+t],n))},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._logLevel<=s.DEBUG&&this._log(console.log,e,t)},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._logLevel<=s.INFO&&this._log(console.info,e,t)},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._logLevel<=s.WARN&&this._log(console.warn,e,t)},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._logLevel<=s.ERROR&&this._log(console.error,e,t)},i([r(0,a.IOptionsService)],e)}();t.LogService=l},function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferService=t.MINIMUM_ROWS=t.MINIMUM_COLS=void 0;var a=n(1),c=n(68),l=n(0),u=n(2);t.MINIMUM_COLS=2,t.MINIMUM_ROWS=1;var h=function(e){function n(n){var i=e.call(this)||this;return i._optionsService=n,i.isUserScrolling=!1,i._onResize=new l.EventEmitter,i.cols=Math.max(n.options.cols,t.MINIMUM_COLS),i.rows=Math.max(n.options.rows,t.MINIMUM_ROWS),i.buffers=new c.BufferSet(n,i),i}return r(n,e),Object.defineProperty(n.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),n.prototype.dispose=function(){e.prototype.dispose.call(this),this.buffers.dispose()},n.prototype.resize=function(e,t){this.cols=e,this.rows=t,this.buffers.resize(e,t),this.buffers.setupTabStops(this.cols),this._onResize.fire({cols:e,rows:t})},n.prototype.reset=function(){this.buffers.dispose(),this.buffers=new c.BufferSet(this._optionsService,this),this.isUserScrolling=!1},o([s(0,a.IOptionsService)],n)}(u.Disposable);t.BufferService=h},function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.BufferSet=void 0;var o=n(69),s=n(0),a=function(e){function t(t,n){var i=e.call(this)||this;return i._onBufferActivate=i.register(new s.EventEmitter),i._normal=new o.Buffer(!0,t,n),i._normal.fillViewportRows(),i._alt=new o.Buffer(!1,t,n),i._activeBuffer=i._normal,i.setupTabStops(),i}return r(t,e),Object.defineProperty(t.prototype,"onBufferActivate",{get:function(){return this._onBufferActivate.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alt",{get:function(){return this._alt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"normal",{get:function(){return this._normal},enumerable:!1,configurable:!0}),t.prototype.activateNormalBuffer=function(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))},t.prototype.activateAltBuffer=function(e){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(e),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))},t.prototype.resize=function(e,t){this._normal.resize(e,t),this._alt.resize(e,t)},t.prototype.setupTabStops=function(e){this._normal.setupTabStops(e),this._alt.setupTabStops(e)},t}(n(2).Disposable);t.BufferSet=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BufferStringIterator=t.Buffer=t.MAX_BUFFER_SIZE=void 0;var i=n(70),r=n(16),o=n(4),s=n(3),a=n(71),c=n(72),l=n(19),u=n(6);t.MAX_BUFFER_SIZE=4294967295;var h=function(){function e(e,t,n){this._hasScrollback=e,this._optionsService=t,this._bufferService=n,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.savedY=0,this.savedX=0,this.savedCurAttrData=r.DEFAULT_ATTR_DATA.clone(),this.savedCharset=l.DEFAULT_CHARSET,this.markers=[],this._nullCell=o.CellData.fromCharData([0,s.NULL_CELL_CHAR,s.NULL_CELL_WIDTH,s.NULL_CELL_CODE]),this._whitespaceCell=o.CellData.fromCharData([0,s.WHITESPACE_CELL_CHAR,s.WHITESPACE_CELL_WIDTH,s.WHITESPACE_CELL_CODE]),this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new i.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}return e.prototype.getNullCell=function(e){return e?(this._nullCell.fg=e.fg,this._nullCell.bg=e.bg,this._nullCell.extended=e.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new u.ExtendedAttrs),this._nullCell},e.prototype.getWhitespaceCell=function(e){return e?(this._whitespaceCell.fg=e.fg,this._whitespaceCell.bg=e.bg,this._whitespaceCell.extended=e.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new u.ExtendedAttrs),this._whitespaceCell},e.prototype.getBlankLine=function(e,t){return new r.BufferLine(this._bufferService.cols,this.getNullCell(e),t)},Object.defineProperty(e.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._rows},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCursorInViewport",{get:function(){var e=this.ybase+this.y-this.ydisp;return e>=0&&e<this._rows},enumerable:!1,configurable:!0}),e.prototype._getCorrectBufferLength=function(e){if(!this._hasScrollback)return e;var n=e+this._optionsService.options.scrollback;return n>t.MAX_BUFFER_SIZE?t.MAX_BUFFER_SIZE:n},e.prototype.fillViewportRows=function(e){if(0===this.lines.length){void 0===e&&(e=r.DEFAULT_ATTR_DATA);for(var t=this._rows;t--;)this.lines.push(this.getBlankLine(e))}},e.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new i.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()},e.prototype.resize=function(e,t){var n=this.getNullCell(r.DEFAULT_ATTR_DATA),i=this._getCorrectBufferLength(t);if(i>this.lines.maxLength&&(this.lines.maxLength=i),this.lines.length>0){if(this._cols<e)for(var o=0;o<this.lines.length;o++)this.lines.get(o).resize(e,n);var s=0;if(this._rows<t)for(var a=this._rows;a<t;a++)this.lines.length<t+this.ybase&&(this._optionsService.options.windowsMode?this.lines.push(new r.BufferLine(e,n)):this.ybase>0&&this.lines.length<=this.ybase+this.y+s+1?(this.ybase--,s++,this.ydisp>0&&this.ydisp--):this.lines.push(new r.BufferLine(e,n)));else for(a=this._rows;a>t;a--)this.lines.length>t+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(i<this.lines.maxLength){var c=this.lines.length-i;c>0&&(this.lines.trimStart(c),this.ybase=Math.max(this.ybase-c,0),this.ydisp=Math.max(this.ydisp-c,0),this.savedY=Math.max(this.savedY-c,0)),this.lines.maxLength=i}this.x=Math.min(this.x,e-1),this.y=Math.min(this.y,t-1),s&&(this.y+=s),this.savedX=Math.min(this.savedX,e-1),this.scrollTop=0}if(this.scrollBottom=t-1,this._isReflowEnabled&&(this._reflow(e,t),this._cols>e))for(o=0;o<this.lines.length;o++)this.lines.get(o).resize(e,n);this._cols=e,this._rows=t},Object.defineProperty(e.prototype,"_isReflowEnabled",{get:function(){return this._hasScrollback&&!this._optionsService.options.windowsMode},enumerable:!1,configurable:!0}),e.prototype._reflow=function(e,t){this._cols!==e&&(e>this._cols?this._reflowLarger(e,t):this._reflowSmaller(e,t))},e.prototype._reflowLarger=function(e,t){var n=a.reflowLargerGetLinesToRemove(this.lines,this._cols,e,this.ybase+this.y,this.getNullCell(r.DEFAULT_ATTR_DATA));if(n.length>0){var i=a.reflowLargerCreateNewLayout(this.lines,n);a.reflowLargerApplyNewLayout(this.lines,i.layout),this._reflowLargerAdjustViewport(e,t,i.countRemoved)}},e.prototype._reflowLargerAdjustViewport=function(e,t,n){for(var i=this.getNullCell(r.DEFAULT_ATTR_DATA),o=n;o-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<t&&this.lines.push(new r.BufferLine(e,i))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-n,0)},e.prototype._reflowSmaller=function(e,t){for(var n=this.getNullCell(r.DEFAULT_ATTR_DATA),i=[],o=0,s=this.lines.length-1;s>=0;s--){var c=this.lines.get(s);if(!(!c||!c.isWrapped&&c.getTrimmedLength()<=e)){for(var l=[c];c.isWrapped&&s>0;)c=this.lines.get(--s),l.unshift(c);var u=this.ybase+this.y;if(!(u>=s&&u<s+l.length)){var h,d=l[l.length-1].getTrimmedLength(),f=a.reflowSmallerGetNewLineLengths(l,this._cols,e),p=f.length-l.length;h=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+p):Math.max(0,this.lines.length-this.lines.maxLength+p);for(var v=[],m=0;m<p;m++){var _=this.getBlankLine(r.DEFAULT_ATTR_DATA,!0);v.push(_)}v.length>0&&(i.push({start:s+l.length+o,newLines:v}),o+=v.length),l.push.apply(l,v);var g=f.length-1,y=f[g];0===y&&(y=f[--g]);for(var b=l.length-p-1,w=d;b>=0;){var C=Math.min(w,y);if(l[g].copyCellsFrom(l[b],w-C,y-C,C,!0),0==(y-=C)&&(y=f[--g]),0==(w-=C)){b--;var S=Math.max(b,0);w=a.getWrappedLineTrimmedLength(l,S,this._cols)}}for(m=0;m<l.length;m++)f[m]<e&&l[m].setCell(f[m],n);for(var k=p-h;k-- >0;)0===this.ybase?this.y<t-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+o)-t&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+p,this.ybase+t-1)}}}if(i.length>0){var E=[],x=[];for(m=0;m<this.lines.length;m++)x.push(this.lines.get(m));var T=this.lines.length,L=T-1,M=0,O=i[M];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+o);var R=0;for(m=Math.min(this.lines.maxLength-1,T+o-1);m>=0;m--)if(O&&O.start>L+R){for(var $=O.newLines.length-1;$>=0;$--)this.lines.set(m--,O.newLines[$]);m++,E.push({index:L+1,amount:O.newLines.length}),R+=O.newLines.length,O=i[++M]}else this.lines.set(m,x[L--]);var A=0;for(m=E.length-1;m>=0;m--)E[m].index+=A,this.lines.onInsertEmitter.fire(E[m]),A+=E[m].amount;var D=Math.max(0,T+o-this.lines.maxLength);D>0&&this.lines.onTrimEmitter.fire(D)}},e.prototype.stringIndexToBufferIndex=function(e,t,n){for(void 0===n&&(n=!1);t;){var i=this.lines.get(e);if(!i)return[-1,-1];for(var r=n?i.getTrimmedLength():i.length,o=0;o<r;++o)if(i.get(o)[s.CHAR_DATA_WIDTH_INDEX]&&(t-=i.get(o)[s.CHAR_DATA_CHAR_INDEX].length||1),t<0)return[e,o];e++}return[e,0]},e.prototype.translateBufferLineToString=function(e,t,n,i){void 0===n&&(n=0);var r=this.lines.get(e);return r?r.translateToString(t,n,i):""},e.prototype.getWrappedRangeForLine=function(e){for(var t=e,n=e;t>0&&this.lines.get(t).isWrapped;)t--;for(;n+1<this.lines.length&&this.lines.get(n+1).isWrapped;)n++;return{first:t,last:n}},e.prototype.setupTabStops=function(e){for(null!=e?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this._cols;e+=this._optionsService.options.tabStopWidth)this.tabs[e]=!0},e.prototype.prevStop=function(e){for(null==e&&(e=this.x);!this.tabs[--e]&&e>0;);return e>=this._cols?this._cols-1:e<0?0:e},e.prototype.nextStop=function(e){for(null==e&&(e=this.x);!this.tabs[++e]&&e<this._cols;);return e>=this._cols?this._cols-1:e<0?0:e},e.prototype.addMarker=function(e){var t=this,n=new c.Marker(e);return this.markers.push(n),n.register(this.lines.onTrim((function(e){n.line-=e,n.line<0&&n.dispose()}))),n.register(this.lines.onInsert((function(e){n.line>=e.index&&(n.line+=e.amount)}))),n.register(this.lines.onDelete((function(e){n.line>=e.index&&n.line<e.index+e.amount&&n.dispose(),n.line>e.index&&(n.line-=e.amount)}))),n.register(n.onDispose((function(){return t._removeMarker(n)}))),n},e.prototype._removeMarker=function(e){this.markers.splice(this.markers.indexOf(e),1)},e.prototype.iterator=function(e,t,n,i,r){return new d(this,e,t,n,i,r)},e}();t.Buffer=h;var d=function(){function e(e,t,n,i,r,o){void 0===n&&(n=0),void 0===i&&(i=e.lines.length),void 0===r&&(r=0),void 0===o&&(o=0),this._buffer=e,this._trimRight=t,this._startIndex=n,this._endIndex=i,this._startOverscan=r,this._endOverscan=o,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}return e.prototype.hasNext=function(){return this._current<this._endIndex},e.prototype.next=function(){var e=this._buffer.getWrappedRangeForLine(this._current);e.first<this._startIndex-this._startOverscan&&(e.first=this._startIndex-this._startOverscan),e.last>this._endIndex+this._endOverscan&&(e.last=this._endIndex+this._endOverscan),e.first=Math.max(e.first,0),e.last=Math.min(e.last,this._buffer.lines.length);for(var t="",n=e.first;n<=e.last;++n)t+=this._buffer.translateBufferLineToString(n,this._trimRight);return this._current=e.last+1,{range:e,content:t}},e}();t.BufferStringIterator=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CircularList=void 0;var i=n(0),r=function(){function e(e){this._maxLength=e,this.onDeleteEmitter=new i.EventEmitter,this.onInsertEmitter=new i.EventEmitter,this.onTrimEmitter=new i.EventEmitter,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}return Object.defineProperty(e.prototype,"onDelete",{get:function(){return this.onDeleteEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onInsert",{get:function(){return this.onInsertEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onTrim",{get:function(){return this.onTrimEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLength",{get:function(){return this._maxLength},set:function(e){if(this._maxLength!==e){for(var t=new Array(e),n=0;n<Math.min(e,this.length);n++)t[n]=this._array[this._getCyclicIndex(n)];this._array=t,this._maxLength=e,this._startIndex=0}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},set:function(e){if(e>this._length)for(var t=this._length;t<e;t++)this._array[t]=void 0;this._length=e},enumerable:!1,configurable:!0}),e.prototype.get=function(e){return this._array[this._getCyclicIndex(e)]},e.prototype.set=function(e,t){this._array[this._getCyclicIndex(e)]=t},e.prototype.push=function(e){this._array[this._getCyclicIndex(this._length)]=e,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++},e.prototype.recycle=function(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]},Object.defineProperty(e.prototype,"isFull",{get:function(){return this._length===this._maxLength},enumerable:!1,configurable:!0}),e.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},e.prototype.splice=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(t){for(var r=e;r<this._length-t;r++)this._array[this._getCyclicIndex(r)]=this._array[this._getCyclicIndex(r+t)];this._length-=t}for(r=this._length-1;r>=e;r--)this._array[this._getCyclicIndex(r+n.length)]=this._array[this._getCyclicIndex(r)];for(r=0;r<n.length;r++)this._array[this._getCyclicIndex(e+r)]=n[r];if(this._length+n.length>this._maxLength){var o=this._length+n.length-this._maxLength;this._startIndex+=o,this._length=this._maxLength,this.onTrimEmitter.fire(o)}else this._length+=n.length},e.prototype.trimStart=function(e){e>this._length&&(e=this._length),this._startIndex+=e,this._length-=e,this.onTrimEmitter.fire(e)},e.prototype.shiftElements=function(e,t,n){if(!(t<=0)){if(e<0||e>=this._length)throw new Error("start argument out of range");if(e+n<0)throw new Error("Cannot shift elements in list beyond index 0");if(n>0){for(var i=t-1;i>=0;i--)this.set(e+i+n,this.get(e+i));var r=e+t+n-this._length;if(r>0)for(this._length+=r;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(i=0;i<t;i++)this.set(e+i+n,this.get(e+i))}},e.prototype._getCyclicIndex=function(e){return(this._startIndex+e)%this._maxLength},e}();t.CircularList=r},function(e,t,n){function i(e,t,n){if(t===e.length-1)return e[t].getTrimmedLength();var i=!e[t].hasContent(n-1)&&1===e[t].getWidth(n-1),r=2===e[t+1].getWidth(0);return i&&r?n-1:n}Object.defineProperty(t,"__esModule",{value:!0}),t.getWrappedLineTrimmedLength=t.reflowSmallerGetNewLineLengths=t.reflowLargerApplyNewLayout=t.reflowLargerCreateNewLayout=t.reflowLargerGetLinesToRemove=void 0,t.reflowLargerGetLinesToRemove=function(e,t,n,r,o){for(var s=[],a=0;a<e.length-1;a++){var c=a,l=e.get(++c);if(l.isWrapped){for(var u=[e.get(a)];c<e.length&&l.isWrapped;)u.push(l),l=e.get(++c);if(r>=a&&r<c)a+=u.length-1;else{for(var h=0,d=i(u,h,t),f=1,p=0;f<u.length;){var v=i(u,f,t),m=v-p,_=n-d,g=Math.min(m,_);u[h].copyCellsFrom(u[f],p,d,g,!1),(d+=g)===n&&(h++,d=0),(p+=g)===v&&(f++,p=0),0===d&&0!==h&&2===u[h-1].getWidth(n-1)&&(u[h].copyCellsFrom(u[h-1],n-1,d++,1,!1),u[h-1].setCell(n-1,o))}u[h].replaceCells(d,n,o);for(var y=0,b=u.length-1;b>0&&(b>h||0===u[b].getTrimmedLength());b--)y++;y>0&&(s.push(a+u.length-y),s.push(y)),a+=u.length-1}}}return s},t.reflowLargerCreateNewLayout=function(e,t){for(var n=[],i=0,r=t[i],o=0,s=0;s<e.length;s++)if(r===s){var a=t[++i];e.onDeleteEmitter.fire({index:s-o,amount:a}),s+=a-1,o+=a,r=t[++i]}else n.push(s);return{layout:n,countRemoved:o}},t.reflowLargerApplyNewLayout=function(e,t){for(var n=[],i=0;i<t.length;i++)n.push(e.get(t[i]));for(i=0;i<n.length;i++)e.set(i,n[i]);e.length=t.length},t.reflowSmallerGetNewLineLengths=function(e,t,n){for(var r=[],o=e.map((function(n,r){return i(e,r,t)})).reduce((function(e,t){return e+t})),s=0,a=0,c=0;c<o;){if(o-c<n){r.push(o-c);break}s+=n;var l=i(e,a,t);s>l&&(s-=l,a++);var u=2===e[a].getWidth(s-1);u&&s--;var h=u?n-1:n;r.push(h),c+=h}return r},t.getWrappedLineTrimmedLength=i},function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Marker=void 0;var o=n(0),s=function(e){function t(n){var i=e.call(this)||this;return i.line=n,i._id=t._nextId++,i.isDisposed=!1,i._onDispose=new o.EventEmitter,i}return r(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire())},t._nextId=1,t}(n(2).Disposable);t.Marker=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.OptionsService=t.DEFAULT_OPTIONS=t.DEFAULT_BELL_SOUND=void 0;var i=n(0),r=n(11),o=n(32);t.DEFAULT_BELL_SOUND="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",t.DEFAULT_OPTIONS=Object.freeze({cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,bellSound:t.DEFAULT_BELL_SOUND,bellStyle:"none",drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,linkTooltipHoverDuration:500,letterSpacing:0,logLevel:"info",scrollback:1e3,scrollSensitivity:1,screenReaderMode:!1,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!0,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:r.isMac,rendererType:"canvas",windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",convertEol:!1,termName:"xterm",cancelEvents:!1});var s=["cols","rows"],a=function(){function e(e){var n=this;this._onOptionChange=new i.EventEmitter,this.options=o.clone(t.DEFAULT_OPTIONS),Object.keys(e).forEach((function(t){if(t in n.options){var i=e[t];n.options[t]=i}}))}return Object.defineProperty(e.prototype,"onOptionChange",{get:function(){return this._onOptionChange.event},enumerable:!1,configurable:!0}),e.prototype.setOption=function(e,n){if(!(e in t.DEFAULT_OPTIONS))throw new Error('No option with key "'+e+'"');if(-1!==s.indexOf(e))throw new Error('Option "'+e+'" can only be set in the constructor');this.options[e]!==n&&(n=this._sanitizeAndValidateOption(e,n),this.options[e]!==n&&(this.options[e]=n,this._onOptionChange.fire(e)))},e.prototype._sanitizeAndValidateOption=function(e,n){switch(e){case"bellStyle":case"cursorStyle":case"fontWeight":case"fontWeightBold":case"rendererType":case"wordSeparator":n||(n=t.DEFAULT_OPTIONS[e]);break;case"cursorWidth":n=Math.floor(n);case"lineHeight":case"tabStopWidth":if(n<1)throw new Error(e+" cannot be less than 1, value: "+n);break;case"minimumContrastRatio":n=Math.max(1,Math.min(21,Math.round(10*n)/10));break;case"scrollback":if((n=Math.min(n,4294967295))<0)throw new Error(e+" cannot be less than 0, value: "+n);break;case"fastScrollSensitivity":case"scrollSensitivity":if(n<=0)throw new Error(e+" cannot be less than or equal to 0, value: "+n)}return n},e.prototype.getOption=function(e){if(!(e in t.DEFAULT_OPTIONS))throw new Error('No option with key "'+e+'"');return this.options[e]},e}();t.OptionsService=a},function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreService=void 0;var a=n(1),c=n(0),l=n(32),u=n(2),h=Object.freeze({insertMode:!1}),d=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0}),f=function(e){function t(t,n,i,r){var o=e.call(this)||this;return o._bufferService=n,o._logService=i,o._optionsService=r,o.isCursorInitialized=!1,o.isCursorHidden=!1,o._onData=o.register(new c.EventEmitter),o._onUserInput=o.register(new c.EventEmitter),o._onBinary=o.register(new c.EventEmitter),o._scrollToBottom=t,o.register({dispose:function(){return o._scrollToBottom=void 0}}),o.modes=l.clone(h),o.decPrivateModes=l.clone(d),o}return r(t,e),Object.defineProperty(t.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onUserInput",{get:function(){return this._onUserInput.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.modes=l.clone(h),this.decPrivateModes=l.clone(d)},t.prototype.triggerDataEvent=function(e,t){if(void 0===t&&(t=!1),!this._optionsService.options.disableStdin){var n=this._bufferService.buffer;n.ybase!==n.ydisp&&this._scrollToBottom(),t&&this._onUserInput.fire(),this._logService.debug('sending data "'+e+'"',(function(){return e.split("").map((function(e){return e.charCodeAt(0)}))})),this._onData.fire(e)}},t.prototype.triggerBinaryEvent=function(e){this._optionsService.options.disableStdin||(this._logService.debug('sending binary "'+e+'"',(function(){return e.split("").map((function(e){return e.charCodeAt(0)}))})),this._onBinary.fire(e))},o([s(1,a.IBufferService),s(2,a.ILogService),s(3,a.IOptionsService)],t)}(u.Disposable);t.CoreService=f},function(e,t,n){var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreMouseService=void 0;var o=n(1),s=n(0),a={NONE:{events:0,restrict:function(){return!1}},X10:{events:1,restrict:function(e){return 4!==e.button&&1===e.action&&(e.ctrl=!1,e.alt=!1,e.shift=!1,!0)}},VT200:{events:19,restrict:function(e){return 32!==e.action}},DRAG:{events:23,restrict:function(e){return 32!==e.action||3!==e.button}},ANY:{events:31,restrict:function(e){return!0}}};function c(e,t){var n=(e.ctrl?16:0)|(e.shift?4:0)|(e.alt?8:0);return 4===e.button?(n|=64,n|=e.action):(n|=3&e.button,4&e.button&&(n|=64),8&e.button&&(n|=128),32===e.action?n|=32:0!==e.action||t||(n|=3)),n}var l=String.fromCharCode,u={DEFAULT:function(e){var t=[c(e,!1)+32,e.col+32,e.row+32];return t[0]>255||t[1]>255||t[2]>255?"":"[M"+l(t[0])+l(t[1])+l(t[2])},SGR:function(e){var t=0===e.action&&4!==e.button?"m":"M";return"[<"+c(e,!0)+";"+e.col+";"+e.row+t}},h=function(){function e(e,t){var n=this;this._bufferService=e,this._coreService=t,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._onProtocolChange=new s.EventEmitter,this._lastEvent=null,Object.keys(a).forEach((function(e){return n.addProtocol(e,a[e])})),Object.keys(u).forEach((function(e){return n.addEncoding(e,u[e])})),this.reset()}return e.prototype.addProtocol=function(e,t){this._protocols[e]=t},e.prototype.addEncoding=function(e,t){this._encodings[e]=t},Object.defineProperty(e.prototype,"activeProtocol",{get:function(){return this._activeProtocol},set:function(e){if(!this._protocols[e])throw new Error('unknown protocol "'+e+'"');this._activeProtocol=e,this._onProtocolChange.fire(this._protocols[e].events)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"areMouseEventsActive",{get:function(){return 0!==this._protocols[this._activeProtocol].events},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeEncoding",{get:function(){return this._activeEncoding},set:function(e){if(!this._encodings[e])throw new Error('unknown encoding "'+e+'"');this._activeEncoding=e},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null},Object.defineProperty(e.prototype,"onProtocolChange",{get:function(){return this._onProtocolChange.event},enumerable:!1,configurable:!0}),e.prototype.triggerMouseEvent=function(e){if(e.col<0||e.col>=this._bufferService.cols||e.row<0||e.row>=this._bufferService.rows)return!1;if(4===e.button&&32===e.action)return!1;if(3===e.button&&32!==e.action)return!1;if(4!==e.button&&(2===e.action||3===e.action))return!1;if(e.col++,e.row++,32===e.action&&this._lastEvent&&this._compareEvents(this._lastEvent,e))return!1;if(!this._protocols[this._activeProtocol].restrict(e))return!1;var t=this._encodings[this._activeEncoding](e);return t&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(t):this._coreService.triggerDataEvent(t,!0)),this._lastEvent=e,!0},e.prototype.explainEvents=function(e){return{down:!!(1&e),up:!!(2&e),drag:!!(4&e),move:!!(8&e),wheel:!!(16&e)}},e.prototype._compareEvents=function(e,t){return e.col===t.col&&e.row===t.row&&e.button===t.button&&e.action===t.action&&e.ctrl===t.ctrl&&e.alt===t.alt&&e.shift===t.shift},i([r(0,o.IBufferService),r(1,o.ICoreService)],e)}();t.CoreMouseService=h},function(e,t,n){var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DirtyRowService=void 0;var o=n(1),s=function(){function e(e){this._bufferService=e,this.clearRange()}return Object.defineProperty(e.prototype,"start",{get:function(){return this._start},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},enumerable:!1,configurable:!0}),e.prototype.clearRange=function(){this._start=this._bufferService.buffer.y,this._end=this._bufferService.buffer.y},e.prototype.markDirty=function(e){e<this._start?this._start=e:e>this._end&&(this._end=e)},e.prototype.markRangeDirty=function(e,t){if(e>t){var n=e;e=t,t=n}e<this._start&&(this._start=e),t>this._end&&(this._end=t)},e.prototype.markAllDirty=function(){this.markRangeDirty(0,this._bufferService.rows-1)},i([r(0,o.IBufferService)],e)}();t.DirtyRowService=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeService=void 0;var i=n(0),r=n(78),o=function(){function e(){this._providers=Object.create(null),this._active="",this._onChange=new i.EventEmitter;var e=new r.UnicodeV6;this.register(e),this._active=e.version,this._activeProvider=e}return Object.defineProperty(e.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"versions",{get:function(){return Object.keys(this._providers)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeVersion",{get:function(){return this._active},set:function(e){if(!this._providers[e])throw new Error('unknown Unicode version "'+e+'"');this._active=e,this._activeProvider=this._providers[e],this._onChange.fire(e)},enumerable:!1,configurable:!0}),e.prototype.register=function(e){this._providers[e.version]=e},e.prototype.wcwidth=function(e){return this._activeProvider.wcwidth(e)},e.prototype.getStringCellWidth=function(e){for(var t=0,n=e.length,i=0;i<n;++i){var r=e.charCodeAt(i);if(55296<=r&&r<=56319){if(++i>=n)return t+this.wcwidth(r);var o=e.charCodeAt(i);56320<=o&&o<=57343?r=1024*(r-55296)+o-56320+65536:t+=this.wcwidth(o)}t+=this.wcwidth(r)}return t},e}();t.UnicodeService=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeV6=void 0;var i,r=n(15),o=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],s=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],a=function(){function e(){if(this.version="6",!i){i=new Uint8Array(65536),r.fill(i,1),i[0]=0,r.fill(i,0,1,32),r.fill(i,0,127,160),r.fill(i,2,4352,4448),i[9001]=2,i[9002]=2,r.fill(i,2,11904,42192),i[12351]=1,r.fill(i,2,44032,55204),r.fill(i,2,63744,64256),r.fill(i,2,65040,65050),r.fill(i,2,65072,65136),r.fill(i,2,65280,65377),r.fill(i,2,65504,65511);for(var e=0;e<o.length;++e)r.fill(i,0,o[e][0],o[e][1]+1)}}return e.prototype.wcwidth=function(e){return e<32?0:e<127?1:e<65536?i[e]:function(e,t){var n,i=0,r=t.length-1;if(e<t[0][0]||e>t[r][1])return!1;for(;r>=i;)if(e>t[n=i+r>>1][1])i=n+1;else{if(!(e<t[n][0]))return!0;r=n-1}return!1}(e,s)?0:e>=131072&&e<=196605||e>=196608&&e<=262141?2:1},e}();t.UnicodeV6=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CharsetService=void 0;var i=function(){function e(){this.glevel=0,this._charsets=[]}return e.prototype.reset=function(){this.charset=void 0,this._charsets=[],this.glevel=0},e.prototype.setgLevel=function(e){this.glevel=e,this.charset=this._charsets[e]},e.prototype.setgCharset=function(e,t){this._charsets[e]=t,this.glevel===e&&(this.charset=t)},e}();t.CharsetService=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.updateWindowsModeWrappedState=void 0;var i=n(3);t.updateWindowsModeWrappedState=function(e){var t=e.buffer.lines.get(e.buffer.ybase+e.buffer.y-1),n=null==t?void 0:t.get(e.cols-1),r=e.buffer.lines.get(e.buffer.ybase+e.buffer.y);r&&n&&(r.isWrapped=n[i.CHAR_DATA_CODE_INDEX]!==i.NULL_CELL_CODE&&n[i.CHAR_DATA_CODE_INDEX]!==i.WHITESPACE_CELL_CODE)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.WriteBuffer=void 0;var i=function(){function e(e){this._action=e,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0}return e.prototype.writeSync=function(e){if(this._writeBuffer.length){for(var t=this._bufferOffset;t<this._writeBuffer.length;++t){var n=this._writeBuffer[t],i=this._callbacks[t];this._action(n),i&&i()}this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=2147483647}this._action(e)},e.prototype.write=function(e,t){var n=this;if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");this._writeBuffer.length||(this._bufferOffset=0,setTimeout((function(){return n._innerWrite()}))),this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t)},e.prototype._innerWrite=function(){for(var e=this,t=Date.now();this._writeBuffer.length>this._bufferOffset;){var n=this._writeBuffer[this._bufferOffset],i=this._callbacks[this._bufferOffset];if(this._bufferOffset++,this._action(n),this._pendingData-=n.length,i&&i(),Date.now()-t>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((function(){return e._innerWrite()}),0)):(this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0)},e}();t.WriteBuffer=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AddonManager=void 0;var i=function(){function e(){this._addons=[]}return e.prototype.dispose=function(){for(var e=this._addons.length-1;e>=0;e--)this._addons[e].instance.dispose()},e.prototype.loadAddon=function(e,t){var n=this,i={instance:t,dispose:t.dispose,isDisposed:!1};this._addons.push(i),t.dispose=function(){return n._wrappedAddonDispose(i)},t.activate(e)},e.prototype._wrappedAddonDispose=function(e){if(!e.isDisposed){for(var t=-1,n=0;n<this._addons.length;n++)if(this._addons[n]===e){t=n;break}if(-1===t)throw new Error("Could not dispose an addon that has not been loaded");e.isDisposed=!0,e.dispose.apply(e.instance),this._addons.splice(t,1)}},e}();t.AddonManager=i}])})));class Ic{constructor(e){this.size=e,this.entries=[],this.cursor=0}push(e){if(""===e.trim())return;e!=this.entries[this.entries.length-1]&&(this.entries.push(e),this.entries.length>this.size&&this.entries.pop(0),this.cursor=this.entries.length)}rewind(){this.cursor=this.entries.length}getPrevious(){const e=Math.max(0,this.cursor-1);return this.cursor=e,this.entries[e]}getNext(){const e=Math.min(this.entries.length,this.cursor+1);return this.cursor=e,this.entries[e]}}for(var Pc="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(",">>",">\\&","[&;()|<>]"].join("|")+")",Bc="",jc=0;jc<4;jc++)Bc+=(Math.pow(16,8)*Math.random()).toString(16);var Hc=function(e,t,n){var i=function(e,t,n){var i=new RegExp(["("+Pc+")","((\\\\['\"|&;()<> \\t]|[^\\s'\"|&;()<> \\t])+|\"((\\\\\"|[^\"])*?)\"|'((\\\\'|[^'])*?)')*"].join("|"),"g"),r=e.match(i).filter(Boolean),o=!1;if(!r)return[];t||(t={});n||(n={});return r.map((function(e,i){if(!o){if(RegExp("^"+Pc+"$").test(e))return{op:e};for(var s=n.escape||"\\",a=!1,c=!1,l="",u=!1,h=0,d=e.length;h<d;h++){var f=e.charAt(h);if(u=u||!a&&("*"===f||"?"===f),c)l+=f,c=!1;else if(a)f===a?a=!1:"'"==a?l+=f:f===s?(h+=1,l+='"'===(f=e.charAt(h))||f===s||"$"===f?f:s+f):l+="$"===f?p():f;else if('"'===f||"'"===f)a=f;else{if(RegExp("^"+Pc+"$").test(f))return{op:e};if(RegExp("^#$").test(f))return o=!0,l.length?[l,{comment:e.slice(h+1)+r.slice(i+1).join(" ")}]:[{comment:e.slice(h+1)+r.slice(i+1).join(" ")}];f===s?c=!0:l+="$"===f?p():f}}return u?{op:"glob",pattern:l}:l}function p(){var n,i;if(h+=1,"{"===e.charAt(h)){if(h+=1,"}"===e.charAt(h))throw new Error("Bad substitution: "+e.substr(h-2,3));if((n=e.indexOf("}",h))<0)throw new Error("Bad substitution: "+e.substr(h));i=e.substr(h,n-h),h=n}else/[*@#?$!_\-]/.test(e.charAt(h))?(i=e.charAt(h),h+=1):(n=e.substr(h).match(/[^\w\d_]/))?(i=e.substr(h,n.index),h+=n.index-1):(i=e.substr(h),h=e.length);return function(e,n,i){var r="function"==typeof t?t(i):t[i];void 0===r&&""!=i?r="":void 0===r&&(r="$");return"object"==typeof r?n+Bc+JSON.stringify(r)+Bc:n+r}(0,"",i)}})).reduce((function(e,t){return void 0===t?e:e.concat(t)}),[])}(e,t,n);return"function"!=typeof t?i:i.reduce((function(e,t){if("object"==typeof t)return e.concat(t);var n=t.split(RegExp("("+Bc+".*?"+Bc+")","g"));return 1===n.length?e.concat(n[0]):e.concat(n.filter(Boolean).map((function(e){return RegExp("^"+Bc).test(e)?JSON.parse(e.split(Bc)[1]):e})))}),[])};function Wc(e,t=!0){let n;const i=[],r=/\w+/g;for(;n=r.exec(e);)t?i.push(n.index):i.push(n.index+n[0].length);return i}function Fc(e,t){const n=Wc(e,!0).reverse().find(e=>e<t);return null==n?0:n}function Nc(e,t,n){let i=0,r=0;for(let o=0;o<t;++o){"\n"==e.charAt(o)?(r=0,i+=1):(r+=1,r>n&&(r=0,i+=1))}return{row:i,col:r}}function Uc(e,t){return Nc(e,e.length,t).row+1}function qc(e){return null!=e.match(/[^\\][ \t]$/m)}function zc(e){if(""===e.trim())return"";if(qc(e))return"";return Hc(e).pop()||""}class Yc{constructor(e,t={}){this.term=e,this._handleTermData=this.handleTermData.bind(this),this._handleTermResize=this.handleTermResize.bind(this),this.history=new Ic(t.historySize||10),this.maxAutocompleteEntries=t.maxAutocompleteEntries||100,this._autocompleteHandlers=[],this._active=!1,this._input="",this._cursor=0,this._activePrompt=null,this._activeCharPrompt=null,this._termSize={cols:this.term.cols,rows:this.term.rows},this.attach()}detach(){this.term.off("data",this._handleTermData),this.term.off("resize",this._handleTermResize)}attach(){this.term.onData(this._handleTermData),this.term.onResize(this._handleTermResize)}addAutocompleteHandler(e,...t){this._autocompleteHandlers.push({fn:e,args:t})}removeAutocompleteHandler(e){const t=this._autocompleteHandlers.findIndex(t=>t.fn===e);-1!==t&&this._autocompleteHandlers.splice(t,1)}read(e,t="> "){return new Promise((n,i)=>{this.term.write(e),this._activePrompt={prompt:e,continuationPrompt:t,resolve:n,reject:i},this._input="",this._cursor=0,this._active=!0})}readChar(e){return new Promise((t,n)=>{this.term.write(e),this._activeCharPrompt={prompt:e,resolve:t,reject:n}})}abortRead(e="aborted"){null==this._activePrompt&&null==this._activeCharPrompt||this.term.write("\r\n"),null!=this._activePrompt&&(this._activePrompt.reject(e),this._activePrompt=null),null!=this._activeCharPrompt&&(this._activeCharPrompt.reject(e),this._activeCharPrompt=null),this._active=!1}println(e){this.print(e+"\n")}print(e){const t=e.replace(/[\r\n]+/g,"\n");this.term.write(t.replace(/\n/g,"\r\n"))}printWide(e,t=2){if(0==e.length)return println("");const n=e.reduce((e,t)=>Math.max(e,t.length),0)+t,i=Math.floor(this._termSize.cols/n),r=Math.ceil(e.length/i);let o=0;for(let t=0;t<r;++t){let t="";for(let r=0;r<i;++r)if(o<e.length){let i=e[o++];i+=" ".repeat(n-i.length),t+=i}this.println(t)}}applyPrompts(e){const t=(this._activePrompt||{}).prompt||"",n=(this._activePrompt||{}).continuationPrompt||"";return t+e.replace(/\n/g,"\n"+n)}applyPromptOffset(e,t){return this.applyPrompts(e.substr(0,t)).length}clearInput(){const e=this.applyPrompts(this._input),t=Uc(e,this._termSize.cols),n=this.applyPromptOffset(this._input,this._cursor),{col:i,row:r}=Nc(e,n,this._termSize.cols),o=t-r-1;for(var s=0;s<o;++s)this.term.write("[E");this.term.write("\r[K");for(s=1;s<t;++s)this.term.write("[F[K")}setInput(e,t=!0){t&&this.clearInput();const n=this.applyPrompts(e);this.print(n),this._cursor>e.length&&(this._cursor=e.length);const i=this.applyPromptOffset(e,this._cursor),r=Uc(n,this._termSize.cols),{col:o,row:s}=Nc(n,i,this._termSize.cols),a=r-s-1;this.term.write("\r");for(var c=0;c<a;++c)this.term.write("[F");for(c=0;c<o;++c)this.term.write("[C");this._input=e}printAndRestartPrompt(e){const t=this._cursor;this.setCursor(this._input.length),this.term.write("\r\n");const n=()=>{this._cursor=t,this.setInput(this._input)},i=e();null==i?n():i.then(n)}setCursor(e){e<0&&(e=0),e>this._input.length&&(e=this._input.length);const t=this.applyPrompts(this._input),n=(Uc(t,this._termSize.cols),this.applyPromptOffset(this._input,this._cursor)),{col:i,row:r}=Nc(t,n,this._termSize.cols),o=this.applyPromptOffset(this._input,e),{col:s,row:a}=Nc(t,o,this._termSize.cols);if(a>r)for(let e=r;e<a;++e)this.term.write("[B");else for(let e=a;e<r;++e)this.term.write("[A");if(s>i)for(let e=i;e<s;++e)this.term.write("[C");else for(let e=s;e<i;++e)this.term.write("[D");this._cursor=e}handleCursorMove(e){if(e>0){const t=Math.min(e,this._input.length-this._cursor);this.setCursor(this._cursor+t)}else if(e<0){const t=Math.max(e,-this._cursor);this.setCursor(this._cursor+t)}}handleCursorErase(e){const{_cursor:t,_input:n}=this;if(e){if(t<=0)return;const e=n.substr(0,t-1)+n.substr(t);this.clearInput(),this._cursor-=1,this.setInput(e,!1)}else{const e=n.substr(0,t)+n.substr(t+1);this.setInput(e)}}handleCursorInsert(e){const{_cursor:t,_input:n}=this,i=n.substr(0,t)+e+n.substr(t);this._cursor+=e.length,this.setInput(i)}handleReadComplete(){this.history&&this.history.push(this._input),this._activePrompt&&(this._activePrompt.resolve(this._input),this._activePrompt=null),this.term.write("\r\n"),this._active=!1}handleTermResize(e){const{rows:t,cols:n}=e;this.clearInput(),this._termSize={cols:n,rows:t},this.setInput(this._input,!1)}handleTermData(e){if(this._active){if(null!=this._activeCharPrompt)return this._activeCharPrompt.resolve(e),this._activeCharPrompt=null,void this.term.write("\r\n");if(e.length>3&&27!==e.charCodeAt(0)){const t=e.replace(/[\r\n]+/g,"\r");Array.from(t).forEach(e=>this.handleData(e))}else this.handleData(e)}}handleData(e){if(!this._active)return;const t=e.charCodeAt(0);let n;if(27==t)switch(e.substr(1)){case"[A":if(this.history){let e=this.history.getPrevious();e&&(this.setInput(e),this.setCursor(e.length))}break;case"[B":if(this.history){let e=this.history.getNext();e||(e=""),this.setInput(e),this.setCursor(e.length)}break;case"[D":this.handleCursorMove(-1);break;case"[C":this.handleCursorMove(1);break;case"[3~":this.handleCursorErase(!1);break;case"[F":this.setCursor(this._input.length);break;case"[H":this.setCursor(0);break;case"b":n=Fc(this._input,this._cursor),null!=n&&this.setCursor(n);break;case"f":n=function(e,t){const n=Wc(e,!1).find(e=>e>t);return null==n?e.length:n}(this._input,this._cursor),null!=n&&this.setCursor(n);break;case"":n=Fc(this._input,this._cursor),null!=n&&(this.setInput(this._input.substr(0,n)+this._input.substr(this._cursor)),this.setCursor(n))}else if(t<32||127===t)switch(e){case"\r":""!=(i=this._input).trim()&&((i.match(/'/g)||[]).length%2!=0||(i.match(/"/g)||[]).length%2!=0||""==i.split(/(\|\||\||&&)/g).pop().trim()||i.endsWith("\\")&&!i.endsWith("\\\\"))?this.handleCursorInsert("\n"):this.handleReadComplete();break;case"":this.handleCursorErase(!0);break;case"\t":if(this._autocompleteHandlers.length>0){const e=this._input.substr(0,this._cursor),t=qc(e),n=function(e,t){const n=Hc(t);let i=n.length-1,r=n[i]||"";return""===t.trim()?(i=0,r=""):qc(t)&&(i+=1,r=""),e.reduce((e,{fn:t,args:r})=>{try{return e.concat(t(i,n,...r))}catch(t){return console.error("Auto-complete error:",t),e}},[]).filter(e=>e.startsWith(r))}(this._autocompleteHandlers,e);if(n.sort(),0===n.length)t||this.handleCursorInsert(" ");else if(1===n.length){const t=zc(e);this.handleCursorInsert(n[0].substr(t.length)+" ")}else if(n.length<=this.maxAutocompleteEntries){const t=function e(t,n){if(t.length>=n[0].length)return t;const i=t;t+=n[0].slice(t.length,t.length+1);for(let e=0;e<n.length;e++){if(!n[e].startsWith(i))return null;if(!n[e].startsWith(t))return i}return e(t,n)}(e,n);if(t){const n=zc(e);this.handleCursorInsert(t.substr(n.length))}this.printAndRestartPrompt(()=>{this.printWide(n)})}else this.printAndRestartPrompt(()=>this.readChar(`Display all ${n.length} possibilities? (y or n)`).then(e=>{"y"!=e&&"Y"!=e||this.printWide(n)}))}else this.handleCursorInsert("    ");break;case"":this.setCursor(this._input.length),this.term.write("^C\r\n"+((this._activePrompt||{}).prompt||"")),this._input="",this._cursor=0,this.history&&this.history.rewind()}else this.handleCursorInsert(e);var i}}var Vc=i((function(e,t){window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.FitAddon=void 0;var i=function(){function e(){}return e.prototype.activate=function(e){this._terminal=e},e.prototype.dispose=function(){},e.prototype.fit=function(){var e=this.proposeDimensions();if(e&&this._terminal){var t=this._terminal._core;this._terminal.rows===e.rows&&this._terminal.cols===e.cols||(t._renderService.clear(),this._terminal.resize(e.cols,e.rows))}},e.prototype.proposeDimensions=function(){if(this._terminal&&this._terminal.element&&this._terminal.element.parentElement){var e=this._terminal._core,t=window.getComputedStyle(this._terminal.element.parentElement),n=parseInt(t.getPropertyValue("height")),i=Math.max(0,parseInt(t.getPropertyValue("width"))),r=window.getComputedStyle(this._terminal.element),o=n-(parseInt(r.getPropertyValue("padding-top"))+parseInt(r.getPropertyValue("padding-bottom"))),s=i-(parseInt(r.getPropertyValue("padding-right"))+parseInt(r.getPropertyValue("padding-left")))-e.viewport.scrollBarWidth;return{cols:Math.max(2,Math.floor(s/e._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(o/e._renderService.dimensions.actualCellHeight))}}},e}();t.FitAddon=i}])})),Kc=n(Vc);Vc.FitAddon;const Gc="node_modules/svelte-feather-icons/src/icons/BookOpenIcon.svelte";function Xc(e){let t,n,i,o;const s={c:function(){t=k("svg"),n=k("path"),i=k("path"),ke(n,"d","M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"),a(n,Gc,12,234,490),ke(i,"d","M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"),a(i,Gc,12,292,548),ke(t,"xmlns","http://www.w3.org/2000/svg"),ke(t,"width",e[0]),ke(t,"height",e[0]),ke(t,"fill","none"),ke(t,"viewBox","0 0 24 24"),ke(t,"stroke","currentColor"),ke(t,"stroke-width","2"),ke(t,"stroke-linecap","round"),ke(t,"stroke-linejoin","round"),ke(t,"class",o="feather feather-book-open "+e[1]),a(t,Gc,12,0,256)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){we(e,t,r),be(t,n),be(t,i)},p:function(e,[n]){1&n&&ke(t,"width",e[0]),1&n&&ke(t,"height",e[0]),2&n&&o!==(o="feather feather-book-open "+e[1])&&ke(t,"class",o)},i:r,o:r,d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:s,id:Xc.name,type:"component",source:"",ctx:e}),s}function Zc(e,t,n){let{size:i="100%"}=t,{class:r=""}=t;"100%"!==i&&(i="x"===i.slice(-1)?i.slice(0,i.length-1)+"em":parseInt(i)+"px");const o=["size","class"];Object.keys(t).forEach(e=>{~o.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<BookOpenIcon> was created with unknown prop '${e}'`)});let{$$slots:s={},$$scope:a}=t;return Le("BookOpenIcon",s,[]),e.$set=e=>{"size"in e&&n(0,i=e.size),"class"in e&&n(1,r=e.class)},e.$capture_state=()=>({size:i,customClass:r}),e.$inject_state=e=>{"size"in e&&n(0,i=e.size),"customClass"in e&&n(1,r=e.customClass)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[i,r]}class Jc extends Me{constructor(e){super(e),ge(this,e,Zc,Xc,d,{size:0,class:1}),ye("SvelteRegisterComponent",{component:this,tagName:"BookOpenIcon",options:e,id:Xc.name})}get size(){throw new Error("<BookOpenIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<BookOpenIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get class(){throw new Error("<BookOpenIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set class(e){throw new Error("<BookOpenIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Qc="node_modules/svelte-feather-icons/src/icons/EditIcon.svelte";function el(e){let t,n,i,o;const s={c:function(){t=k("svg"),n=k("path"),i=k("path"),ke(n,"d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"),a(n,Qc,12,229,485),ke(i,"d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"),a(i,Qc,12,305,561),ke(t,"xmlns","http://www.w3.org/2000/svg"),ke(t,"width",e[0]),ke(t,"height",e[0]),ke(t,"fill","none"),ke(t,"viewBox","0 0 24 24"),ke(t,"stroke","currentColor"),ke(t,"stroke-width","2"),ke(t,"stroke-linecap","round"),ke(t,"stroke-linejoin","round"),ke(t,"class",o="feather feather-edit "+e[1]),a(t,Qc,12,0,256)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){we(e,t,r),be(t,n),be(t,i)},p:function(e,[n]){1&n&&ke(t,"width",e[0]),1&n&&ke(t,"height",e[0]),2&n&&o!==(o="feather feather-edit "+e[1])&&ke(t,"class",o)},i:r,o:r,d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:s,id:el.name,type:"component",source:"",ctx:e}),s}function tl(e,t,n){let{size:i="100%"}=t,{class:r=""}=t;"100%"!==i&&(i="x"===i.slice(-1)?i.slice(0,i.length-1)+"em":parseInt(i)+"px");const o=["size","class"];Object.keys(t).forEach(e=>{~o.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<EditIcon> was created with unknown prop '${e}'`)});let{$$slots:s={},$$scope:a}=t;return Le("EditIcon",s,[]),e.$set=e=>{"size"in e&&n(0,i=e.size),"class"in e&&n(1,r=e.class)},e.$capture_state=()=>({size:i,customClass:r}),e.$inject_state=e=>{"size"in e&&n(0,i=e.size),"customClass"in e&&n(1,r=e.customClass)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[i,r]}class nl extends Me{constructor(e){super(e),ge(this,e,tl,el,d,{size:0,class:1}),ye("SvelteRegisterComponent",{component:this,tagName:"EditIcon",options:e,id:el.name})}get size(){throw new Error("<EditIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<EditIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get class(){throw new Error("<EditIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set class(e){throw new Error("<EditIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const il="node_modules/svelte-feather-icons/src/icons/HashIcon.svelte";function rl(e){let t,n,i,o,s,c;const l={c:function(){t=k("svg"),n=k("line"),i=k("line"),o=k("line"),s=k("line"),ke(n,"x1","4"),ke(n,"y1","9"),ke(n,"x2","20"),ke(n,"y2","9"),a(n,il,12,229,485),ke(i,"x1","4"),ke(i,"y1","15"),ke(i,"x2","20"),ke(i,"y2","15"),a(i,il,12,271,527),ke(o,"x1","10"),ke(o,"y1","3"),ke(o,"x2","8"),ke(o,"y2","21"),a(o,il,12,315,571),ke(s,"x1","16"),ke(s,"y1","3"),ke(s,"x2","14"),ke(s,"y2","21"),a(s,il,12,358,614),ke(t,"xmlns","http://www.w3.org/2000/svg"),ke(t,"width",e[0]),ke(t,"height",e[0]),ke(t,"fill","none"),ke(t,"viewBox","0 0 24 24"),ke(t,"stroke","currentColor"),ke(t,"stroke-width","2"),ke(t,"stroke-linecap","round"),ke(t,"stroke-linejoin","round"),ke(t,"class",c="feather feather-hash "+e[1]),a(t,il,12,0,256)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){we(e,t,r),be(t,n),be(t,i),be(t,o),be(t,s)},p:function(e,[n]){1&n&&ke(t,"width",e[0]),1&n&&ke(t,"height",e[0]),2&n&&c!==(c="feather feather-hash "+e[1])&&ke(t,"class",c)},i:r,o:r,d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:l,id:rl.name,type:"component",source:"",ctx:e}),l}function ol(e,t,n){let{size:i="100%"}=t,{class:r=""}=t;"100%"!==i&&(i="x"===i.slice(-1)?i.slice(0,i.length-1)+"em":parseInt(i)+"px");const o=["size","class"];Object.keys(t).forEach(e=>{~o.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<HashIcon> was created with unknown prop '${e}'`)});let{$$slots:s={},$$scope:a}=t;return Le("HashIcon",s,[]),e.$set=e=>{"size"in e&&n(0,i=e.size),"class"in e&&n(1,r=e.class)},e.$capture_state=()=>({size:i,customClass:r}),e.$inject_state=e=>{"size"in e&&n(0,i=e.size),"customClass"in e&&n(1,r=e.customClass)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[i,r]}class sl extends Me{constructor(e){super(e),ge(this,e,ol,rl,d,{size:0,class:1}),ye("SvelteRegisterComponent",{component:this,tagName:"HashIcon",options:e,id:rl.name})}get size(){throw new Error("<HashIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<HashIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get class(){throw new Error("<HashIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set class(e){throw new Error("<HashIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const al="node_modules/svelte-feather-icons/src/icons/PlayIcon.svelte";function cl(e){let t,n,i;const o={c:function(){t=k("svg"),n=k("polygon"),ke(n,"points","5 3 19 12 5 21 5 3"),a(n,al,12,229,485),ke(t,"xmlns","http://www.w3.org/2000/svg"),ke(t,"width",e[0]),ke(t,"height",e[0]),ke(t,"fill","none"),ke(t,"viewBox","0 0 24 24"),ke(t,"stroke","currentColor"),ke(t,"stroke-width","2"),ke(t,"stroke-linecap","round"),ke(t,"stroke-linejoin","round"),ke(t,"class",i="feather feather-play "+e[1]),a(t,al,12,0,256)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,i){we(e,t,i),be(t,n)},p:function(e,[n]){1&n&&ke(t,"width",e[0]),1&n&&ke(t,"height",e[0]),2&n&&i!==(i="feather feather-play "+e[1])&&ke(t,"class",i)},i:r,o:r,d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:o,id:cl.name,type:"component",source:"",ctx:e}),o}function ll(e,t,n){let{size:i="100%"}=t,{class:r=""}=t;"100%"!==i&&(i="x"===i.slice(-1)?i.slice(0,i.length-1)+"em":parseInt(i)+"px");const o=["size","class"];Object.keys(t).forEach(e=>{~o.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<PlayIcon> was created with unknown prop '${e}'`)});let{$$slots:s={},$$scope:a}=t;return Le("PlayIcon",s,[]),e.$set=e=>{"size"in e&&n(0,i=e.size),"class"in e&&n(1,r=e.class)},e.$capture_state=()=>({size:i,customClass:r}),e.$inject_state=e=>{"size"in e&&n(0,i=e.size),"customClass"in e&&n(1,r=e.customClass)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[i,r]}class ul extends Me{constructor(e){super(e),ge(this,e,ll,cl,d,{size:0,class:1}),ye("SvelteRegisterComponent",{component:this,tagName:"PlayIcon",options:e,id:cl.name})}get size(){throw new Error("<PlayIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<PlayIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get class(){throw new Error("<PlayIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set class(e){throw new Error("<PlayIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const hl="node_modules/svelte-feather-icons/src/icons/PlusIcon.svelte";function dl(e){let t,n,i,o;const s={c:function(){t=k("svg"),n=k("line"),i=k("line"),ke(n,"x1","12"),ke(n,"y1","5"),ke(n,"x2","12"),ke(n,"y2","19"),a(n,hl,12,229,485),ke(i,"x1","5"),ke(i,"y1","12"),ke(i,"x2","19"),ke(i,"y2","12"),a(i,hl,12,273,529),ke(t,"xmlns","http://www.w3.org/2000/svg"),ke(t,"width",e[0]),ke(t,"height",e[0]),ke(t,"fill","none"),ke(t,"viewBox","0 0 24 24"),ke(t,"stroke","currentColor"),ke(t,"stroke-width","2"),ke(t,"stroke-linecap","round"),ke(t,"stroke-linejoin","round"),ke(t,"class",o="feather feather-plus "+e[1]),a(t,hl,12,0,256)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){we(e,t,r),be(t,n),be(t,i)},p:function(e,[n]){1&n&&ke(t,"width",e[0]),1&n&&ke(t,"height",e[0]),2&n&&o!==(o="feather feather-plus "+e[1])&&ke(t,"class",o)},i:r,o:r,d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:s,id:dl.name,type:"component",source:"",ctx:e}),s}function fl(e,t,n){let{size:i="100%"}=t,{class:r=""}=t;"100%"!==i&&(i="x"===i.slice(-1)?i.slice(0,i.length-1)+"em":parseInt(i)+"px");const o=["size","class"];Object.keys(t).forEach(e=>{~o.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<PlusIcon> was created with unknown prop '${e}'`)});let{$$slots:s={},$$scope:a}=t;return Le("PlusIcon",s,[]),e.$set=e=>{"size"in e&&n(0,i=e.size),"class"in e&&n(1,r=e.class)},e.$capture_state=()=>({size:i,customClass:r}),e.$inject_state=e=>{"size"in e&&n(0,i=e.size),"customClass"in e&&n(1,r=e.customClass)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[i,r]}class pl extends Me{constructor(e){super(e),ge(this,e,fl,dl,d,{size:0,class:1}),ye("SvelteRegisterComponent",{component:this,tagName:"PlusIcon",options:e,id:dl.name})}get size(){throw new Error("<PlusIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<PlusIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get class(){throw new Error("<PlusIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set class(e){throw new Error("<PlusIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const vl="node_modules/svelte-feather-icons/src/icons/ShieldIcon.svelte";function ml(e){let t,n,i;const o={c:function(){t=k("svg"),n=k("path"),ke(n,"d","M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"),a(n,vl,12,231,487),ke(t,"xmlns","http://www.w3.org/2000/svg"),ke(t,"width",e[0]),ke(t,"height",e[0]),ke(t,"fill","none"),ke(t,"viewBox","0 0 24 24"),ke(t,"stroke","currentColor"),ke(t,"stroke-width","2"),ke(t,"stroke-linecap","round"),ke(t,"stroke-linejoin","round"),ke(t,"class",i="feather feather-shield "+e[1]),a(t,vl,12,0,256)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,i){we(e,t,i),be(t,n)},p:function(e,[n]){1&n&&ke(t,"width",e[0]),1&n&&ke(t,"height",e[0]),2&n&&i!==(i="feather feather-shield "+e[1])&&ke(t,"class",i)},i:r,o:r,d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:o,id:ml.name,type:"component",source:"",ctx:e}),o}function _l(e,t,n){let{size:i="100%"}=t,{class:r=""}=t;"100%"!==i&&(i="x"===i.slice(-1)?i.slice(0,i.length-1)+"em":parseInt(i)+"px");const o=["size","class"];Object.keys(t).forEach(e=>{~o.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<ShieldIcon> was created with unknown prop '${e}'`)});let{$$slots:s={},$$scope:a}=t;return Le("ShieldIcon",s,[]),e.$set=e=>{"size"in e&&n(0,i=e.size),"class"in e&&n(1,r=e.class)},e.$capture_state=()=>({size:i,customClass:r}),e.$inject_state=e=>{"size"in e&&n(0,i=e.size),"customClass"in e&&n(1,r=e.customClass)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[i,r]}class gl extends Me{constructor(e){super(e),ge(this,e,_l,ml,d,{size:0,class:1}),ye("SvelteRegisterComponent",{component:this,tagName:"ShieldIcon",options:e,id:ml.name})}get size(){throw new Error("<ShieldIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<ShieldIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get class(){throw new Error("<ShieldIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set class(e){throw new Error("<ShieldIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const yl="node_modules/svelte-feather-icons/src/icons/UserIcon.svelte";function bl(e){let t,n,i,o;const s={c:function(){t=k("svg"),n=k("path"),i=k("circle"),ke(n,"d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"),a(n,yl,12,229,485),ke(i,"cx","12"),ke(i,"cy","7"),ke(i,"r","4"),a(i,yl,12,288,544),ke(t,"xmlns","http://www.w3.org/2000/svg"),ke(t,"width",e[0]),ke(t,"height",e[0]),ke(t,"fill","none"),ke(t,"viewBox","0 0 24 24"),ke(t,"stroke","currentColor"),ke(t,"stroke-width","2"),ke(t,"stroke-linecap","round"),ke(t,"stroke-linejoin","round"),ke(t,"class",o="feather feather-user "+e[1]),a(t,yl,12,0,256)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){we(e,t,r),be(t,n),be(t,i)},p:function(e,[n]){1&n&&ke(t,"width",e[0]),1&n&&ke(t,"height",e[0]),2&n&&o!==(o="feather feather-user "+e[1])&&ke(t,"class",o)},i:r,o:r,d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:s,id:bl.name,type:"component",source:"",ctx:e}),s}function wl(e,t,n){let{size:i="100%"}=t,{class:r=""}=t;"100%"!==i&&(i="x"===i.slice(-1)?i.slice(0,i.length-1)+"em":parseInt(i)+"px");const o=["size","class"];Object.keys(t).forEach(e=>{~o.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<UserIcon> was created with unknown prop '${e}'`)});let{$$slots:s={},$$scope:a}=t;return Le("UserIcon",s,[]),e.$set=e=>{"size"in e&&n(0,i=e.size),"class"in e&&n(1,r=e.class)},e.$capture_state=()=>({size:i,customClass:r}),e.$inject_state=e=>{"size"in e&&n(0,i=e.size),"customClass"in e&&n(1,r=e.customClass)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[i,r]}class Cl extends Me{constructor(e){super(e),ge(this,e,wl,bl,d,{size:0,class:1}),ye("SvelteRegisterComponent",{component:this,tagName:"UserIcon",options:e,id:bl.name})}get size(){throw new Error("<UserIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<UserIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get class(){throw new Error("<UserIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set class(e){throw new Error("<UserIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Sl="node_modules/svelte-feather-icons/src/icons/UsersIcon.svelte";function kl(e){let t,n,i,o,s,c;const l={c:function(){t=k("svg"),n=k("path"),i=k("circle"),o=k("path"),s=k("path"),ke(n,"d","M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"),a(n,Sl,12,230,486),ke(i,"cx","9"),ke(i,"cy","7"),ke(i,"r","4"),a(i,Sl,12,289,545),ke(o,"d","M23 21v-2a4 4 0 0 0-3-3.87"),a(o,Sl,12,326,582),ke(s,"d","M16 3.13a4 4 0 0 1 0 7.75"),a(s,Sl,12,370,626),ke(t,"xmlns","http://www.w3.org/2000/svg"),ke(t,"width",e[0]),ke(t,"height",e[0]),ke(t,"fill","none"),ke(t,"viewBox","0 0 24 24"),ke(t,"stroke","currentColor"),ke(t,"stroke-width","2"),ke(t,"stroke-linecap","round"),ke(t,"stroke-linejoin","round"),ke(t,"class",c="feather feather-users "+e[1]),a(t,Sl,12,0,256)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){we(e,t,r),be(t,n),be(t,i),be(t,o),be(t,s)},p:function(e,[n]){1&n&&ke(t,"width",e[0]),1&n&&ke(t,"height",e[0]),2&n&&c!==(c="feather feather-users "+e[1])&&ke(t,"class",c)},i:r,o:r,d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:l,id:kl.name,type:"component",source:"",ctx:e}),l}function El(e,t,n){let{size:i="100%"}=t,{class:r=""}=t;"100%"!==i&&(i="x"===i.slice(-1)?i.slice(0,i.length-1)+"em":parseInt(i)+"px");const o=["size","class"];Object.keys(t).forEach(e=>{~o.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<UsersIcon> was created with unknown prop '${e}'`)});let{$$slots:s={},$$scope:a}=t;return Le("UsersIcon",s,[]),e.$set=e=>{"size"in e&&n(0,i=e.size),"class"in e&&n(1,r=e.class)},e.$capture_state=()=>({size:i,customClass:r}),e.$inject_state=e=>{"size"in e&&n(0,i=e.size),"customClass"in e&&n(1,r=e.customClass)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[i,r]}class xl extends Me{constructor(e){super(e),ge(this,e,El,kl,d,{size:0,class:1}),ye("SvelteRegisterComponent",{component:this,tagName:"UsersIcon",options:e,id:kl.name})}get size(){throw new Error("<UsersIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<UsersIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get class(){throw new Error("<UsersIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set class(e){throw new Error("<UsersIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function Tl(e,t,n){yc.get(wc+"/user",{mode:"no-cors",credentials:"same-origin",headers:{Authorization:"Bearer "+e}}).then(e=>t(e.data)).catch(e=>n(e))}function Ll(e,t,n){yc.put(wc+"/user",t,{mode:"no-cors",credentials:"same-origin",headers:{Authorization:"Bearer "+e}}).then(e=>n(e.data))}const{console:Ml}=he,Ol="src/UserMenu.svelte";function Rl(e){let t,n,i,o,s,c;const l={c:function(){t=S("li"),n=S("p"),n.textContent="Signup",i=x(),o=S("li"),s=S("button"),s.textContent="Log in",ke(n,"class","btn-small userbutton green svelte-1ujdy1x"),a(n,Ol,71,4,1252),ke(t,"class","right-align"),a(t,Ol,70,2,1223),ke(s,"class","btn-small userbutton green svelte-1ujdy1x"),a(s,Ol,74,4,1368),ke(o,"class","right-align"),a(o,Ol,73,2,1339)},m:function(r,a,l){we(r,t,a),be(t,n),we(r,i,a),we(r,o,a),be(o,s),l&&u(c),c=[Se(n,"click",e[14],!1,!1,!1),Se(s,"click",e[15],!1,!1,!1)]},p:r,d:function(e){e&&Ce(t),e&&Ce(i),e&&Ce(o),u(c)}};return ye("SvelteRegisterBlock",{block:l,id:Rl.name,type:"if",source:"(70:28) ",ctx:e}),l}function $l(e){let t;const n={c:function(){t=S("li"),t.textContent="...",ke(t,"class","right-align"),a(t,Ol,68,2,1159)},m:function(e,n){we(e,t,n)},p:r,d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:n,id:$l.name,type:"if",source:"(68:0) {#if $isLoading}",ctx:e}),n}function Al(e){let t,n,i,r;const o={c:function(){t=S("img"),i=x(),r=S("i"),r.textContent="arrow_drop_down",t.src!==(n=e[2].picture)&&ke(t,"src",n),ke(t,"alt",""),ke(t,"class","circle img  svelte-1ujdy1x"),a(t,Ol,85,8,1622),ke(r,"class","material-icons left"),a(r,Ol,86,8,1691)},m:function(e,n){we(e,t,n),we(e,i,n),we(e,r,n)},p:function(e,i){4&i&&t.src!==(n=e[2].picture)&&ke(t,"src",n)},d:function(e){e&&Ce(t),e&&Ce(i),e&&Ce(r)}};return ye("SvelteRegisterBlock",{block:o,id:Al.name,type:"if",source:"(85:6) {#if $isAuthenticated}",ctx:e}),o}function Dl(e){let t,n,i,o,s,c,l,u,h,d,f,p;function v(e,t){return e[1]?$l:e[0]?void 0:Rl}let m=v(e),_=m&&m(e),g=e[0]&&Al(e);const y={c:function(){t=S("ul"),n=S("li"),i=S("a"),i.textContent="logout",o=x(),s=S("li"),c=S("a"),c.textContent="profile",l=x(),_&&_.c(),u=x(),h=S("li"),d=S("a"),f=S("span"),g&&g.c(),ke(i,"href","#!"),a(i,Ol,60,4,1024),a(n,Ol,59,2,1015),ke(c,"href","account"),a(c,Ol,63,4,1095),a(s,Ol,62,2,1086),ke(t,"id","dropdown1"),ke(t,"class","dropdown-content"),a(t,Ol,58,0,968),ke(f,"class","valign-wrapper"),a(f,Ol,82,4,1554),ke(d,"class","dropdown-trigger"),ke(d,"href","#"),ke(d,"data-target","dropdown1"),a(d,Ol,81,2,1488),a(h,Ol,79,0,1480)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(r,a,v){we(r,t,a),be(t,n),be(n,i),be(t,o),be(t,s),be(s,c),we(r,l,a),_&&_.m(r,a),we(r,u,a),we(r,h,a),be(h,d),be(d,f),g&&g.m(f,null),v&&p(),p=Se(i,"click",e[13],!1,!1,!1)},p:function(e,[t]){m===(m=v(e))&&_?_.p(e,t):(_&&_.d(1),_=m&&m(e),_&&(_.c(),_.m(u.parentNode,u))),e[0]?g?g.p(e,t):(g=Al(e),g.c(),g.m(f,null)):g&&(g.d(1),g=null)},i:r,o:r,d:function(e){e&&Ce(t),e&&Ce(l),_&&_.d(e),e&&Ce(u),e&&Ce(h),g&&g.d(),p()}};return ye("SvelteRegisterBlock",{block:y,id:Dl.name,type:"component",source:"",ctx:e}),y}function Il(e,t,n){let i,r,o,s;const{isLoading:a,isAuthenticated:c,login:l,logout:u,authToken:h,authError:d,userInfo:p}=Da();async function m(){Tl(i,e=>{user.set(e)},e=>console.log(e))}async function _(){await l(),r&&await m()}f(a,"isLoading"),v(e,a,e=>n(1,o=e)),f(c,"isAuthenticated"),v(e,c,e=>n(0,r=e)),f(h,"authToken"),v(e,h,e=>n(10,i=e)),f(p,"userInfo"),v(e,p,e=>n(2,s=e)),F(()=>{document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".dropdown-trigger");M.Dropdown.init(e)}))});const g=[];Object.keys(t).forEach(e=>{~g.indexOf(e)||"$$"===e.slice(0,2)||Ml.warn(`<UserMenu> was created with unknown prop '${e}'`)});let{$$slots:y={},$$scope:b}=t;Le("UserMenu",y,[]);return e.$capture_state=()=>({onMount:F,UserIcon:Cl,getAuth:Da,getUser:Tl,updateUser:Ll,isLoading:a,isAuthenticated:c,login:l,logout:u,authToken:h,authError:d,userInfo:p,loadUserData:m,signup:_,$authToken:i,$isAuthenticated:r,$isLoading:o,$userInfo:s}),[r,o,s,a,c,l,u,h,p,_,i,d,m,()=>u(),()=>_(),()=>l()]}class Pl extends Me{constructor(e){super(e),ge(this,e,Il,Dl,d,{}),ye("SvelteRegisterComponent",{component:this,tagName:"UserMenu",options:e,id:Dl.name})}}const{console:Bl}=he,jl="src/game/Game.svelte";function Hl(e){let t,n,i,r,o,s,c,l;const u=new Ac({$$inline:!0}),h=new an({props:{store:e[2],term:e[1],sendMessage:e[15]},$$inline:!0}),d={c:function(){pe(u.$$.fragment),t=x(),n=S("div"),i=S("img"),r=x(),o=S("div"),s=S("div"),c=x(),pe(h.$$.fragment),ke(i,"class","roomImageInner center-align svelte-1w0tfof"),a(i,jl,198,2,4612),ke(s,"id","terminal"),ke(s,"class","svelte-1w0tfof"),a(s,jl,201,4,4689),ke(o,"id","terminalWindow"),ke(o,"class","svelte-1w0tfof"),a(o,jl,200,2,4659),ke(n,"class","roomImage center-align svelte-1w0tfof"),a(n,jl,197,0,4573)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,a){ve(u,e,a),we(e,t,a),we(e,n,a),be(n,i),be(n,r),be(n,o),be(o,s),we(e,c,a),ve(h,e,a),l=!0},p:function(e,[t]){const n={};2&t&&(n.term=e[1]),1&t&&(n.sendMessage=e[15]),h.$set(n)},i:function(e){l||(le(u.$$.fragment,e),le(h.$$.fragment,e),l=!0)},o:function(e){ue(u.$$.fragment,e),ue(h.$$.fragment,e),l=!1},d:function(e){me(u,e),e&&Ce(t),e&&Ce(n),e&&Ce(c),me(h,e)}};return ye("SvelteRegisterBlock",{block:d,id:Hl.name,type:"component",source:"",ctx:e}),d}function Wl(e){return new Promise(t=>setTimeout(t,e))}function Fl(e,t){return 0==e?["north","east","south","west","say"]:[]}function Nl(e,t,n){let i,r,o,s,a;const c=cn(),l=Ve({});let u=!0;const{isAuthenticated:h,authToken:d}=Da();function p(e,t){e.read("~$ ").then(t=>{o.onInput(t),p(e)}).catch(e=>console.log("Error reading: "+e))}f(h,"isAuthenticated"),v(e,h,e=>n(7,i=e)),f(d,"authToken"),v(e,d,e=>n(8,r=e));const m=(e,t)=>n=>{t.clearInput(),e.writeln(n)},_=()=>{console.log("CREATE CHARACTER");var e=document.querySelector(".modal");M.Modal.init(e).open()};async function g(){n(1,s=new Dc.Terminal);var e=new Kc.FitAddon;s.loadAddon(e),s.setOption("cursorBlink",!0),s.setOption("convertEol",!0),s.open(document.getElementById("terminal")),e.fit();const t=new Yc(s);t.addAutocompleteHandler(Fl),n(0,o=Kt(m(s,t),_,c)),l.set(o),p(t)}F(async()=>{document.body.style.backgroundImage="url('/img/bg/oldtown-griphon.png')",document.body.style.backdropFilter="blur(10px) saturate(30%) brightness(50%)";var e=document.querySelector("nav");e&&(e.style.backgroundColor="#00000000",g())}),U(async()=>{document.body.style.backgroundImage="",document.body.style.backdropFilter="";var e=document.querySelector("nav");e&&(e.style.backgroundColor="#00000055",g())});const y=[];Object.keys(t).forEach(e=>{~y.indexOf(e)||"$$"===e.slice(0,2)||Bl.warn(`<Game> was created with unknown prop '${e}'`)});let{$$slots:b={},$$scope:w}=t;Le("Game",b,[]);let C;return e.$capture_state=()=>({writable:Ve,MUDXPlus:an,createStore:cn,MediaQuery:fn,CharacterCreator:Ac,onMount:F,onDestroy:U,createAuth:Aa,getAuth:Da,axios:yc,xterm:Dc,LocalEchoController:Yc,fit:Kc,createClient:Kt,getClient:Gt,wsbackend:"wss://talesofapirate.com/ws",UserMenu:Pl,client:o,term:s,ws:a,muxStore:c,muxClient:l,muxplus:u,isAuthenticated:h,authToken:d,sleep:Wl,readLine:p,createRenderer:m,characterCreator:_,setupTerminal:g,autocompleteCommonCommands:Fl,state:C,$isAuthenticated:i,$authToken:r}),e.$inject_state=e=>{"client"in e&&n(0,o=e.client),"term"in e&&n(1,s=e.term),"ws"in e&&n(5,a=e.ws),"muxplus"in e&&(u=e.muxplus),"state"in e&&(C=e.state)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{if(384&e.$$.dirty&&(C={isAuthenticated:i,authToken:r.slice(0,20)}),289&e.$$.dirty&&o&&!a){n(5,a=new WebSocket("wss://talesofapirate.com/ws?access_token="+r)),o.setWSClient(a)}},[o,s,c,h,d,a,C,i,r,l,u,p,m,_,g,e=>{o.sendMessage(e)}]}class Ul extends Me{constructor(e){super(e),ge(this,e,Nl,Hl,d,{}),ye("SvelteRegisterComponent",{component:this,tagName:"Game",options:e,id:Hl.name})}}const{console:ql}=he,zl="src/Welcome.svelte";function Yl(e){let t,n;const i={c:function(){t=S("div"),n=S("div"),ke(n,"class","indeterminate"),a(n,zl,72,4,1520),ke(t,"class","progress"),a(t,zl,71,2,1493)},m:function(e,i){we(e,t,i),be(t,n)},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:i,id:Yl.name,type:"if",source:"(71:0) {#if $isLoading}",ctx:e}),i}function Vl(e){let t,n,i,o,s,c,l,u;const h={c:function(){t=S("div"),n=S("h4"),n.textContent="Welcome Stranger",i=x(),o=S("p"),s=E("Please\n        "),c=S("a"),c.textContent="log",l=E("\n        in or\n        "),u=S("a"),u.textContent="signup",a(n,zl,98,6,2007),ke(c,"href","/login"),ke(c,"class","loginText svelte-8qrmfc"),a(c,zl,101,8,2066),ke(u,"href","/signup"),ke(u,"class","loginText svelte-8qrmfc"),a(u,zl,103,8,2131),a(o,zl,99,6,2039),a(t,zl,97,4,1995)},m:function(e,r){we(e,t,r),be(t,n),be(t,i),be(t,o),be(o,s),be(o,c),be(o,l),be(o,u)},p:r,i:r,o:r,d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:h,id:Vl.name,type:"if",source:"(97:30) ",ctx:e}),h}function Kl(e){let t,n,i,r,o,s,c,l,u,h,d,f;const p=new Yt({props:{href:"/play",$$slots:{default:[Gl]},$$scope:{ctx:e}},$$inline:!0}),v=new Yt({props:{href:"/creator",$$slots:{default:[Xl]},$$scope:{ctx:e}},$$inline:!0}),m={c:function(){t=S("div"),n=S("h5"),i=E("Welcome back "),r=E(e[2]),o=x(),s=S("div"),pe(p.$$.fragment),c=E("\n        or try to create some\n        "),pe(v.$$.fragment),l=x(),u=S("div"),h=S("p"),d=S("a"),d.textContent="Create a new Character",a(n,zl,80,6,1631),a(s,zl,82,6,1672),ke(d,"class","modal-trigger"),ke(d,"href","#modal1"),a(d,zl,91,10,1855),a(h,zl,90,8,1841),a(u,zl,89,6,1827),a(t,zl,78,4,1618)},m:function(e,a){we(e,t,a),be(t,n),be(n,i),be(n,r),be(t,o),be(t,s),ve(p,s,null),be(s,c),ve(v,s,null),be(t,l),be(t,u),be(u,h),be(h,d),f=!0},p:function(e,t){(!f||4&t)&&xe(r,e[2]);const n={};131072&t&&(n.$$scope={dirty:t,ctx:e}),p.$set(n);const i={};131072&t&&(i.$$scope={dirty:t,ctx:e}),v.$set(i)},i:function(e){f||(le(p.$$.fragment,e),le(v.$$.fragment,e),f=!0)},o:function(e){ue(p.$$.fragment,e),ue(v.$$.fragment,e),f=!1},d:function(e){e&&Ce(t),me(p),me(v)}};return ye("SvelteRegisterBlock",{block:m,id:Kl.name,type:"if",source:"(78:2) {#if $isAuthenticated}",ctx:e}),m}function Gl(e){let t;const n={c:function(){t=E("Start playing")},m:function(e,n){we(e,t,n)},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:n,id:Gl.name,type:"slot",source:'(85:8) <Link href=\\"/play\\">',ctx:e}),n}function Xl(e){let t;const n={c:function(){t=E("own content.")},m:function(e,n){we(e,t,n)},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:n,id:Xl.name,type:"slot",source:'(87:8) <Link href=\\"/creator\\">',ctx:e}),n}function Zl(e){let t;const n={c:function(){t=E("play")},m:function(e,n){we(e,t,n)},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:n,id:Zl.name,type:"slot",source:'(135:6) <Link href=\\"/play\\">',ctx:e}),n}function Jl(e){let t;const n={c:function(){t=E("See Credits")},m:function(e,n){we(e,t,n)},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:n,id:Jl.name,type:"slot",source:'(166:4) <Link href=\\"/credits\\">',ctx:e}),n}function Ql(e){let t,n,i,r,o,s,c,l,u,h,d,f,p,v,m,_,g,y,b,w,C,k,T,L,M,O,R,$,A,D,I,P,B,j,H,W,F,N,U,q,z,Y,V,K,G,X,Z,J,Q,ee,te,ne,ie,re,oe,se,he,de,fe=e[0]&&Yl(e);const _e=[Kl,Vl],ge=[];function Se(e,t){return e[1]?0:e[1]?-1:1}~(i=Se(e))&&(r=ge[i]=_e[i](e));const Ee=new Yt({props:{href:"/play",$$slots:{default:[Zl]},$$scope:{ctx:e}},$$inline:!0}),xe=new Yt({props:{href:"/credits",$$slots:{default:[Jl]},$$scope:{ctx:e}},$$inline:!0}),Te=new Ac({$$inline:!0}),Le={c:function(){fe&&fe.c(),t=x(),n=S("div"),r&&r.c(),o=x(),s=S("div"),c=S("h5"),c.textContent="TalesMUD",l=x(),u=S("p"),u.textContent="TalesMUD is a MUD/MUX game engine/game development platform. Using\n      TalesMud you can create your own MUD server, define your game content and\n      either use the existing web client or build a new one from scratch.",h=x(),d=S("p"),d.textContent="This is still a very early version with many more features planned. As\n      development progresses you can expect several updates to the developer\n      sandbox version running on this site.",f=E("\n    Implemented\n    "),p=S("ul"),v=S("li"),v.textContent="- Character creation",m=x(),_=S("li"),_.textContent="- Room creation, movement between rooms",g=E("\n    Planned\n    "),y=S("ul"),b=S("li"),b.textContent="- Items, Inventory Management",w=x(),C=S("li"),C.textContent="- NPCs, Enemies and Dialogs",k=x(),T=S("li"),T.textContent="- Combat System",L=x(),M=S("li"),M.textContent="- Quest System",O=x(),R=S("p"),$=E("Head over to\n      "),pe(Ee.$$.fragment),A=E("\n      create a character and try out the current set of commands by typing\n      [help]. List of all global commands:"),D=x(),I=S("ul"),P=S("li"),P.textContent="[shrug] shrug emote",B=x(),j=S("li"),j.textContent="[sc, selectcharacter] select a character, use: sc [charactername]",H=x(),W=S("li"),W.textContent="[lc, listcharacters] list all your characters",F=x(),N=S("li"),N.textContent="[h, help] are you really asking?",U=x(),q=S("li"),q.textContent="[who] list all online players",z=x(),Y=S("li"),Y.textContent="[inventory, i] Display your inventory",V=x(),K=S("li"),K.textContent="[newcharacter, nc] Createa new character",G=x(),X=S("li"),X.textContent="[scream] scream through the room",Z=x(),J=S("div"),Q=S("h5"),Q.textContent="News",ee=x(),te=S("ul"),ne=S("li"),ne.textContent="12.06.2020 - First minimalistic version live supporting room creation,\n        character creation (template picks)",ie=x(),re=S("div"),oe=S("h5"),oe.textContent="Credits",se=E("\n    The application uses several assets througout the app and the backend, here\n    is a list of free and licensed art:\n    "),pe(xe.$$.fragment),he=x(),pe(Te.$$.fragment),a(c,zl,109,4,2221),a(u,zl,110,4,2243),a(d,zl,115,4,2487),a(v,zl,122,6,2729),a(_,zl,123,6,2765),a(p,zl,121,4,2718),a(b,zl,127,6,2851),a(C,zl,128,6,2896),a(T,zl,129,6,2939),a(M,zl,130,6,2970),a(y,zl,126,4,2840),a(R,zl,132,4,3008),a(P,zl,140,6,3211),a(j,zl,141,6,3246),a(W,zl,142,6,3327),a(N,zl,143,6,3388),a(q,zl,144,6,3436),a(Y,zl,145,6,3481),a(K,zl,146,6,3534),a(X,zl,147,6,3590),a(I,zl,138,4,3199),a(s,zl,108,2,2211),a(Q,zl,153,4,3665),a(ne,zl,155,6,3694),a(te,zl,154,4,3683),a(J,zl,152,2,3655),a(oe,zl,162,4,3865),a(re,zl,161,2,3855),ke(n,"class","left"),a(n,zl,75,0,1569)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){fe&&fe.m(e,r),we(e,t,r),we(e,n,r),~i&&ge[i].m(n,null),be(n,o),be(n,s),be(s,c),be(s,l),be(s,u),be(s,h),be(s,d),be(s,f),be(s,p),be(p,v),be(p,m),be(p,_),be(s,g),be(s,y),be(y,b),be(y,w),be(y,C),be(y,k),be(y,T),be(y,L),be(y,M),be(s,O),be(s,R),be(R,$),ve(Ee,R,null),be(R,A),be(s,D),be(s,I),be(I,P),be(I,B),be(I,j),be(I,H),be(I,W),be(I,F),be(I,N),be(I,U),be(I,q),be(I,z),be(I,Y),be(I,V),be(I,K),be(I,G),be(I,X),be(n,Z),be(n,J),be(J,Q),be(J,ee),be(J,te),be(te,ne),be(n,ie),be(n,re),be(re,oe),be(re,se),ve(xe,re,null),be(n,he),ve(Te,n,null),de=!0},p:function(e,[s]){e[0]?fe||(fe=Yl(e),fe.c(),fe.m(t.parentNode,t)):fe&&(fe.d(1),fe=null);let a=i;i=Se(e),i===a?~i&&ge[i].p(e,s):(r&&(ae(),ue(ge[a],1,1,()=>{ge[a]=null}),ce()),~i?(r=ge[i],r||(r=ge[i]=_e[i](e),r.c()),le(r,1),r.m(n,o)):r=null);const c={};131072&s&&(c.$$scope={dirty:s,ctx:e}),Ee.$set(c);const l={};131072&s&&(l.$$scope={dirty:s,ctx:e}),xe.$set(l)},i:function(e){de||(le(r),le(Ee.$$.fragment,e),le(xe.$$.fragment,e),le(Te.$$.fragment,e),de=!0)},o:function(e){ue(r),ue(Ee.$$.fragment,e),ue(xe.$$.fragment,e),ue(Te.$$.fragment,e),de=!1},d:function(e){fe&&fe.d(e),e&&Ce(t),e&&Ce(n),~i&&ge[i].d(),me(Ee),me(xe),me(Te)}};return ye("SvelteRegisterBlock",{block:Le,id:Ql.name,type:"component",source:"",ctx:e}),Le}function eu(e,t,n){let i,r,o,s,a,c;const l=Ve("stranger");f(l,"nickname"),v(e,l,e=>n(2,c=e));let u=!1;const{isLoading:h,isAuthenticated:d,login:p,logout:m,authToken:_,authError:g,userInfo:y}=Da();f(h,"isLoading"),v(e,h,e=>n(0,i=e)),f(d,"isAuthenticated"),v(e,d,e=>n(1,r=e)),f(_,"authToken"),v(e,_,e=>n(13,a=e)),f(g,"authError"),v(e,g,e=>n(11,o=e)),f(y,"userInfo"),v(e,y,e=>n(12,s=e));const b=async()=>{};F(async()=>{document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".modal");M.Modal.init(e,{})})),await b()});const w=[];Object.keys(t).forEach(e=>{~w.indexOf(e)||"$$"===e.slice(0,2)||ql.warn(`<Welcome> was created with unknown prop '${e}'`)});let C,{$$slots:S={},$$scope:k}=t;return Le("Welcome",S,[]),e.$capture_state=()=>({Sprites:Ae,CharacterCreator:Ac,onMount:F,Router:Tt,Route:Wt,Link:Yt,createAuth:Aa,getAuth:Da,axios:yc,onInterval:bc,getUser:Tl,writable:Ve,nickname:l,loaded:u,isLoading:h,isAuthenticated:d,login:p,logout:m,authToken:_,authError:g,userInfo:y,loadUser:b,state:C,$isLoading:i,$isAuthenticated:r,$authError:o,$userInfo:s,$authToken:a,$nickname:c}),e.$inject_state=e=>{"loaded"in e&&n(9,u=e.loaded),"state"in e&&(C=e.state)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{14343&e.$$.dirty&&(C={isLoading:i,isAuthenticated:r,authError:o,userInfo:s?s.name:null,authToken:a.slice(0,20),nickname:c}),8707&e.$$.dirty&&(u||i||!r||(n(9,u=!0),Tl(a,e=>{l.set(e.nickname)},e=>console.log(e))))},[i,r,c,l,h,d,_,g,y]}class tu extends Me{constructor(e){super(e),ge(this,e,eu,Ql,d,{}),ye("SvelteRegisterComponent",{component:this,tagName:"Welcome",options:e,id:Ql.name})}}const{console:nu}=he,iu="src/creator/Toolbar.svelte";function ru(e,t,n){const i=e.slice();return i[4]=t[n],i}function ou(e){let t,n,i=e[4].icon+"";const r={c:function(){t=S("i"),n=E(i),ke(t,"class","material-icons center"),a(t,iu,91,12,1603)},m:function(e,i){we(e,t,i),be(t,n)},p:function(e,t){1&t&&i!==(i=e[4].icon+"")&&xe(n,i)},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:r,id:ou.name,type:"if",source:"(91:32) ",ctx:e}),r}function su(e){let t,n,i=e[4].icon+"";const r={c:function(){t=S("i"),n=E(i),ke(t,"class","material-icons left"),a(t,iu,89,12,1509)},m:function(e,i){we(e,t,i),be(t,n)},p:function(e,t){1&t&&i!==(i=e[4].icon+"")&&xe(n,i)},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:r,id:su.name,type:"if",source:"(89:10) {#if action.icon && action.name}",ctx:e}),r}function au(e){let t,n=e[4].name+"";const i={c:function(){t=E(n)},m:function(e,n){we(e,t,n)},p:function(e,i){1&i&&n!==(n=e[4].name+"")&&xe(t,n)},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:i,id:au.name,type:"if",source:"(94:10) {#if action.name}",ctx:e}),i}function cu(e){let t,n,i,r,o;function s(e,t){return e[4].icon&&e[4].name?su:e[4].icon?ou:void 0}let c=s(e),l=c&&c(e),u=e[4].name&&au(e);const d={c:function(){t=S("li"),n=S("button"),l&&l.c(),i=x(),u&&u.c(),r=x(),ke(n,"class","btn-flat svelte-v9ap3q"),a(n,iu,86,8,1401),ke(t,"class","svelte-v9ap3q"),a(t,iu,85,6,1388)},m:function(s,a,c){we(s,t,a),be(t,n),l&&l.m(n,null),be(n,i),u&&u.m(n,null),be(t,r),c&&o(),o=Se(n,"click",(function(){h(e[4].fnc())&&e[4].fnc().apply(this,arguments)}),!1,!1,!1)},p:function(t,r){c===(c=s(e=t))&&l?l.p(e,r):(l&&l.d(1),l=c&&c(e),l&&(l.c(),l.m(n,i))),e[4].name?u?u.p(e,r):(u=au(e),u.c(),u.m(n,null)):u&&(u.d(1),u=null)},d:function(e){e&&Ce(t),l&&l.d(),u&&u.d(),o()}};return ye("SvelteRegisterBlock",{block:d,id:cu.name,type:"each",source:"(85:4) {#each toolbar.actions as action}",ctx:e}),d}function lu(e){let t,n,i,o,s,c,l,u,h=e[0].title+"",d=e[0].actions;Te(d);let f=[];for(let t=0;t<d.length;t+=1)f[t]=cu(ru(e,d,t));const p={c:function(){t=S("div"),n=S("ul"),i=S("li"),o=E(h),c=x();for(let e=0;e<f.length;e+=1)f[e].c();ke(i,"class",s=b(e[1]())+" svelte-v9ap3q"),a(i,iu,83,4,1295),ke(n,"class",l=b(e[2]())+" svelte-v9ap3q"),a(n,iu,82,2,1260),ke(t,"class",u=b(e[3]())+" svelte-v9ap3q"),a(t,iu,81,0,1230)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){we(e,t,r),be(t,n),be(n,i),be(i,o),be(n,c);for(let e=0;e<f.length;e+=1)f[e].m(n,null)},p:function(e,[t]){if(1&t&&h!==(h=e[0].title+"")&&xe(o,h),1&t){let i;for(d=e[0].actions,Te(d),i=0;i<d.length;i+=1){const r=ru(e,d,i);f[i]?f[i].p(r,t):(f[i]=cu(r),f[i].c(),f[i].m(n,null))}for(;i<f.length;i+=1)f[i].d(1);f.length=d.length}},i:r,o:r,d:function(e){e&&Ce(t),C(f,e)}};return ye("SvelteRegisterBlock",{block:p,id:lu.name,type:"component",source:"",ctx:e}),p}function uu(e,t,n){let{toolbar:i={title:"TODO",small:!1,actions:[{name:"Change Me",color:"green",fnc:()=>console.log("ACTION")}]}}=t;const r=()=>i.small?"header-small":"header",o=()=>i.small?"padding-small":"padding",s=()=>i.small?"":"row",a=["toolbar"];Object.keys(t).forEach(e=>{~a.indexOf(e)||"$$"===e.slice(0,2)||nu.warn(`<Toolbar> was created with unknown prop '${e}'`)});let{$$slots:c={},$$scope:l}=t;return Le("Toolbar",c,[]),e.$set=e=>{"toolbar"in e&&n(0,i=e.toolbar)},e.$capture_state=()=>({toolbar:i,headerClass:r,headerPadding:o,headerDiv:s}),e.$inject_state=e=>{"toolbar"in e&&n(0,i=e.toolbar)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[i,r,o,s]}class hu extends Me{constructor(e){super(e),ge(this,e,uu,lu,d,{toolbar:0}),ye("SvelteRegisterComponent",{component:this,tagName:"Toolbar",options:e,id:lu.name})}get toolbar(){throw new Error("<Toolbar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set toolbar(e){throw new Error("<Toolbar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const du="src/creator/ActionEditor.svelte";function fu(e){let t,n,i,o,s,c,l,h,d,f,p,v,m,_,g,y,b,w,C,k,T,L,M,O,R,$,D,P,B,j,H,W,F,N,U,q,z,Y,V,K,G,X,Z,J,Q,te,ne,ie,re,oe,se,ae,ce,le=e[0].name+"";const ue={c:function(){t=S("li"),n=S("div"),i=S("div"),o=S("i"),o.textContent="flare",s=x(),c=E(le),l=x(),h=S("div"),d=S("button"),d.textContent="Delete Action",f=x(),p=S("div"),v=S("div"),m=S("div"),_=S("input"),y=x(),b=S("label"),w=E("Name"),k=x(),T=S("div"),L=S("input"),O=x(),R=S("label"),$=E("Description"),P=x(),B=S("div"),j=S("input"),W=x(),F=S("label"),N=E("Response"),q=x(),z=S("div"),Y=S("select"),V=S("option"),V.textContent="Respond to Player",K=S("option"),K.textContent="Respond to Room",G=S("option"),G.textContent="Run Script",Z=x(),J=S("label"),J.textContent="Type",Q=x(),te=S("div"),ne=S("input"),re=x(),oe=S("label"),se=E("Script ID(if script is selected)"),ke(o,"class","material-icons left-align"),a(o,du,35,6,546),ke(i,"class","col s9 left valign-wrapper"),a(i,du,34,4,499),ke(d,"class","btn-small red align-right"),a(d,du,39,6,667),ke(h,"class","col s3 right-align"),a(h,du,38,4,628),ke(n,"class","collapsible-header svelte-126d3r8"),a(n,du,33,2,462),ke(_,"placeholder","Placeholder"),ke(_,"id",g="name-"+e[0].name),ke(_,"type","text"),ke(_,"class","svelte-126d3r8"),a(_,du,53,8,929),ke(b,"for",C="name-"+e[0].name),ke(b,"class","svelte-126d3r8"),a(b,du,59,8,1084),ke(L,"placeholder","Placeholder"),ke(L,"id",M="desc-"+e[0].description),ke(L,"type","text"),ke(L,"class","svelte-126d3r8"),a(L,du,62,10,1174),ke(R,"for",D="desc-"+e[0].description),ke(R,"class","svelte-126d3r8"),a(R,du,68,10,1355),ke(j,"id",H="target-"+e[0].response),ke(j,"type","text"),ke(j,"class","svelte-126d3r8"),a(j,du,70,12,1462),ke(F,"for",U="target-"+e[0].response),ke(F,"class","svelte-126d3r8"),a(F,du,75,12,1611),ke(B,"class","input-field"),a(B,du,69,10,1424),V.__value="response",V.value=V.__value,a(V,du,84,14,1862),K.__value="response_room",K.value=K.__value,a(K,du,85,14,1928),G.__value="script",G.value=G.__value,a(G,du,86,14,1997),ke(Y,"id",X="autocomplete-input-"+e[0].type),void 0===e[0].type&&ee(()=>e[6].call(Y)),a(Y,du,79,12,1732),ke(J,"class","svelte-126d3r8"),a(J,du,88,12,2074),ke(z,"class","input-field"),a(z,du,78,10,1694),ke(ne,"id",ie="scriptid-"+e[0].response+"-1"),ke(ne,"type","text"),ke(ne,"class","svelte-126d3r8"),a(ne,du,91,12,2159),ke(oe,"for",ae="target-"+e[0].response+"-1"),ke(oe,"class","svelte-126d3r8"),a(oe,du,95,12,2267),ke(te,"class","input-field"),a(te,du,90,10,2121),ke(T,"class","input-field"),a(T,du,61,8,1138),ke(m,"class","input-field"),a(m,du,52,6,895),ke(v,"class","row"),a(v,du,50,4,870),ke(p,"class","collapsible-body svelte-126d3r8"),a(p,du,49,2,835),a(t,du,32,0,455)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(r,a,g){we(r,t,a),be(t,n),be(n,i),be(i,o),be(i,s),be(i,c),be(n,l),be(n,h),be(h,d),be(t,f),be(t,p),be(p,v),be(v,m),be(m,_),A(_,e[0].name),be(m,y),be(m,b),be(b,w),be(m,k),be(m,T),be(T,L),A(L,e[0].description),be(T,O),be(T,R),be(R,$),be(T,P),be(T,B),be(B,j),A(j,e[0].response),be(B,W),be(B,F),be(F,N),be(T,q),be(T,z),be(z,Y),be(Y,V),be(Y,K),be(Y,G),I(Y,e[0].type),be(z,Z),be(z,J),be(T,Q),be(T,te),be(te,ne),be(te,re),be(te,oe),be(oe,se),g&&u(ce),ce=[Se(d,"click",e[2],!1,!1,!1),Se(_,"input",e[3]),Se(L,"input",e[4]),Se(j,"input",e[5]),Se(Y,"change",e[6])]},p:function(e,[t]){1&t&&le!==(le=e[0].name+"")&&xe(c,le),1&t&&g!==(g="name-"+e[0].name)&&ke(_,"id",g),1&t&&_.value!==e[0].name&&A(_,e[0].name),1&t&&C!==(C="name-"+e[0].name)&&ke(b,"for",C),1&t&&M!==(M="desc-"+e[0].description)&&ke(L,"id",M),1&t&&L.value!==e[0].description&&A(L,e[0].description),1&t&&D!==(D="desc-"+e[0].description)&&ke(R,"for",D),1&t&&H!==(H="target-"+e[0].response)&&ke(j,"id",H),1&t&&j.value!==e[0].response&&A(j,e[0].response),1&t&&U!==(U="target-"+e[0].response)&&ke(F,"for",U),1&t&&X!==(X="autocomplete-input-"+e[0].type)&&ke(Y,"id",X),1&t&&I(Y,e[0].type),1&t&&ie!==(ie="scriptid-"+e[0].response+"-1")&&ke(ne,"id",ie),1&t&&ae!==(ae="target-"+e[0].response+"-1")&&ke(oe,"for",ae)},i:r,o:r,d:function(e){e&&Ce(t),u(ce)}};return ye("SvelteRegisterBlock",{block:ue,id:fu.name,type:"component",source:"",ctx:e}),ue}function pu(e,t,n){let{action:i}=t,{deleteAction:r}=t;F(async()=>{null===i.params&&n(0,i.params=new Map,i)});const o=["action","deleteAction"];Object.keys(t).forEach(e=>{~o.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<ActionEditor> was created with unknown prop '${e}'`)});let{$$slots:s={},$$scope:a}=t;Le("ActionEditor",s,[]);return e.$set=e=>{"action"in e&&n(0,i=e.action),"deleteAction"in e&&n(1,r=e.deleteAction)},e.$capture_state=()=>({onMount:F,action:i,deleteAction:r}),e.$inject_state=e=>{"action"in e&&n(0,i=e.action),"deleteAction"in e&&n(1,r=e.deleteAction)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[i,r,()=>r(i),function(){i.name=this.value,n(0,i)},function(){i.description=this.value,n(0,i)},function(){i.response=this.value,n(0,i)},function(){i.type=P(this),n(0,i)}]}class vu extends Me{constructor(e){super(e),ge(this,e,pu,fu,d,{action:0,deleteAction:1}),ye("SvelteRegisterComponent",{component:this,tagName:"ActionEditor",options:e,id:fu.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"action"in n||console.warn("<ActionEditor> was created without expected prop 'action'"),void 0!==t[1]||"deleteAction"in n||console.warn("<ActionEditor> was created without expected prop 'deleteAction'")}get action(){throw new Error("<ActionEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set action(e){throw new Error("<ActionEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get deleteAction(){throw new Error("<ActionEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set deleteAction(e){throw new Error("<ActionEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function mu(){const{subscribe:e,set:t,update:n}=Ve({elements:[],selectedElement:null,filters:[],filterActive:!1});return{subscribe:e,update:n,set:t,addFilter:(e,t)=>{n(n=>{let i=n.filters;for(var r=0;r<i.length;r++)i[r].key===e&&i.splice(r,1);return i.push({key:e,val:t}),console.log("Added filter "+e+" "+t),n.filters=i,n})},removeFilter:e=>{n(t=>{let n=t.filters;for(var i=0;i<n.length;i++)n[i].key===e&&n.splice(i,1);return console.log("Removed filter "+e),t.filters=n,t})},toggleFilter:()=>{n(e=>(e.filterActive=!e.filterActive,e))},setSelectedElement:(e,t)=>{n(t=>(t.selectedElement=e,t)),t&&t()},setElements:e=>{n(t=>(t.elements=e,t))}}}const{console:_u}=he,gu="src/creator/CRUDEditor.svelte",yu=e=>({}),bu=e=>({}),wu=e=>({}),Cu=e=>({}),Su=e=>({}),ku=e=>({});function Eu(e,t,n){const i=e.slice();return i[28]=t[n],i}function xu(e){let t,n,i=e[0].badge(e[28])+"";const r={c:function(){t=S("span"),n=E(i),ke(t,"class","new badge"),ke(t,"data-badge-caption",""),a(t,gu,272,12,5459)},m:function(e,i){we(e,t,i),be(t,n)},p:function(e,t){5&t&&i!==(i=e[0].badge(e[28])+"")&&xe(n,i)},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:r,id:xu.name,type:"if",source:"(272:10) {#if element && config.badge}",ctx:e}),r}function Tu(e){let t,n,i,r,o,s=e[28].name+"",c=e[28]&&e[0].badge&&xu(e);const l={c:function(){t=S("a"),c&&c.c(),n=x(),i=E(s),r=x(),ke(t,"href","javascript:void(0)"),ke(t,"class","collection-item blue-grey lighten-5 svelte-gv0syu"),a(t,gu,265,8,5257)},m:function(s,a,l){we(s,t,a),c&&c.m(t,null),be(t,n),be(t,i),be(t,r),l&&o(),o=Se(t,"click",(function(){h(e[8](e[28]))&&e[8](e[28]).apply(this,arguments)}),!1,!1,!1)},p:function(r,o){(e=r)[28]&&e[0].badge?c?c.p(e,o):(c=xu(e),c.c(),c.m(t,n)):c&&(c.d(1),c=null),4&o&&s!==(s=e[28].name+"")&&xe(i,s)},d:function(e){e&&Ce(t),c&&c.d(),o()}};return ye("SvelteRegisterBlock",{block:l,id:Tu.name,type:"each",source:"(265:6) {#each $store.elements as element}",ctx:e}),l}function Lu(e){let t,n;const i={c:function(){t=S("div"),n=S("div"),ke(n,"class","chips chips-placeholder search svelte-gv0syu"),a(n,gu,287,8,5817),ke(t,"class","card-panel blue-grey lighten-5 svelte-gv0syu"),D(t,"padding","15px"),a(t,gu,286,6,5742)},m:function(e,i){we(e,t,i),be(t,n)},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:i,id:Lu.name,type:"if",source:"(286:4) {#if $store.filterActive}",ctx:e}),i}function Mu(e){let t,n,i,r,o,s,c,l,h,d,f,p,v,y,b,w,C,k,T,L,M,O,R,$,D,I,P=e[2].selectedElement.name+"",B=e[2].selectedElement.isNew&&Ou(e);const j=e[19].hero,H=m(j,e,e[18],ku);function W(e,t){return e[2].selectedElement.isNew?$u:Ru}let F=W(e),N=F(e);function U(e,t){return e[2].selectedElement.isNew?Du:Au}let q=U(e),z=q(e),Y=(null==e[0].hideDetails||!e[0].hideDetails)&&Iu(e);const V=e[19].content,K=m(V,e,e[18],Cu),G=e[19].extensions,X=m(G,e,e[18],bu),Z={c:function(){t=S("div"),B&&B.c(),n=x(),i=S("div"),H&&H.c(),r=x(),o=S("span"),s=E(P),c=x(),N.c(),l=x(),h=S("div"),d=S("div"),f=S("input"),p=x(),v=S("label"),v.textContent="Name",y=x(),z.c(),b=x(),w=S("div"),C=S("div"),k=S("textarea"),T=x(),L=S("label"),L.textContent="Description",M=x(),Y&&Y.c(),O=x(),K&&K.c(),$=x(),X&&X.c(),ke(o,"class","header svelte-gv0syu"),a(o,gu,310,10,6502),ke(i,"class","row"),a(i,gu,308,8,6443),ke(f,"placeholder","Name"),ke(f,"id","itemTemplate_name"),ke(f,"type","text"),ke(f,"class","svelte-gv0syu"),a(f,gu,337,12,7317),ke(v,"class","first_label svelte-gv0syu"),ke(v,"for","itemTemplate_name"),a(v,gu,343,12,7504),ke(d,"class","no-padding input-field col s6 svelte-gv0syu"),a(d,gu,336,10,7261),ke(h,"class","row"),a(h,gu,335,8,7233),ke(k,"placeholder","Description"),ke(k,"id","itemTemplate_description"),ke(k,"type","text"),ke(k,"class","materialize-textarea svelte-gv0syu"),a(k,gu,373,12,8433),ke(L,"class","active svelte-gv0syu"),ke(L,"for","itemTemplate_description"),a(L,gu,380,12,8697),ke(C,"class","input-field"),a(C,gu,372,10,8395),ke(w,"class","row"),a(w,gu,371,8,8367),ke(t,"class",R="card-panel blue-grey darken-3 "+e[5](e[2].selectedElement.isNew)+" svelte-gv0syu"),a(t,gu,293,6,5971)},m:function(a,m,_){we(a,t,m),B&&B.m(t,null),be(t,n),be(t,i),H&&H.m(i,null),be(i,r),be(i,o),be(o,s),be(i,c),N.m(i,null),be(t,l),be(t,h),be(h,d),be(d,f),A(f,e[2].selectedElement.name),be(d,p),be(d,v),be(h,y),z.m(h,null),be(t,b),be(t,w),be(w,C),be(C,k),A(k,e[2].selectedElement.description),be(C,T),be(C,L),be(t,M),Y&&Y.m(t,null),be(t,O),K&&K.m(t,null),we(a,$,m),X&&X.m(a,m),D=!0,_&&u(I),I=[Se(f,"input",e[23]),Se(k,"input",e[26])]},p:function(e,r){e[2].selectedElement.isNew?B||(B=Ou(e),B.c(),B.m(t,n)):B&&(B.d(1),B=null),H&&H.p&&262144&r&&H.p(_(j,e,e[18],ku),g(j,e[18],r,Su)),(!D||4&r)&&P!==(P=e[2].selectedElement.name+"")&&xe(s,P),F===(F=W(e))&&N?N.p(e,r):(N.d(1),N=F(e),N&&(N.c(),N.m(i,null))),4&r&&f.value!==e[2].selectedElement.name&&A(f,e[2].selectedElement.name),q===(q=U(e))&&z?z.p(e,r):(z.d(1),z=q(e),z&&(z.c(),z.m(h,null))),4&r&&A(k,e[2].selectedElement.description),null!=e[0].hideDetails&&e[0].hideDetails?Y&&(Y.d(1),Y=null):Y?Y.p(e,r):(Y=Iu(e),Y.c(),Y.m(t,O)),K&&K.p&&262144&r&&K.p(_(V,e,e[18],Cu),g(V,e[18],r,wu)),(!D||4&r&&R!==(R="card-panel blue-grey darken-3 "+e[5](e[2].selectedElement.isNew)+" svelte-gv0syu"))&&ke(t,"class",R),X&&X.p&&262144&r&&X.p(_(G,e,e[18],bu),g(G,e[18],r,yu))},i:function(e){D||(le(H,e),le(K,e),le(X,e),D=!0)},o:function(e){ue(H,e),ue(K,e),ue(X,e),D=!1},d:function(e){e&&Ce(t),B&&B.d(),H&&H.d(e),N.d(),z.d(),Y&&Y.d(),K&&K.d(e),e&&Ce($),X&&X.d(e),u(I)}};return ye("SvelteRegisterBlock",{block:Z,id:Mu.name,type:"if",source:"(293:4) {#if $store.selectedElement}",ctx:e}),Z}function Ou(e){let t,n;const i={c:function(){t=S("div"),n=S("div"),n.textContent="Not Stored",ke(n,"class","chip"),D(n,"color","#121212"),D(n,"margin","0"),D(n,"background-color","orange"),D(n,"text-align","center"),a(n,gu,298,12,6205),ke(t,"class","row center-align"),D(t,"padding","0"),D(t,"margin-top","-2.6em"),a(t,gu,297,10,6123)},m:function(e,i){we(e,t,i),be(t,n)},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:i,id:Ou.name,type:"if",source:"(297:8) {#if $store.selectedElement.isNew}",ctx:e}),i}function Ru(e){let t,n,i,o;const s={c:function(){t=S("button"),t.textContent="Update",n=x(),i=S("button"),i.textContent="Delete",ke(t,"class","waves-effect waves-light btn-small green right svelte-gv0syu"),a(t,gu,320,12,6824),ke(i,"class","waves-effect waves-light btn-small red right svelte-gv0syu"),a(i,gu,326,12,7012)},m:function(r,s,a){we(r,t,s),we(r,n,s),we(r,i,s),a&&u(o),o=[Se(t,"click",e[21],!1,!1,!1),Se(i,"click",e[22],!1,!1,!1)]},p:r,d:function(e){e&&Ce(t),e&&Ce(n),e&&Ce(i),u(o)}};return ye("SvelteRegisterBlock",{block:s,id:Ru.name,type:"else",source:"(320:10) {:else}",ctx:e}),s}function $u(e){let t,n;const i={c:function(){t=S("button"),t.textContent="Create",ke(t,"class","waves-effect waves-light btn-small green right svelte-gv0syu"),a(t,gu,313,12,6618)},m:function(i,r,o){we(i,t,r),o&&n(),n=Se(t,"click",e[20],!1,!1,!1)},p:r,d:function(e){e&&Ce(t),n()}};return ye("SvelteRegisterBlock",{block:i,id:$u.name,type:"if",source:"(313:10) {#if $store.selectedElement.isNew}",ctx:e}),i}function Au(e){let t,n,i,r,o;const s={c:function(){t=S("div"),n=S("input"),i=x(),r=S("label"),r.textContent="ID",ke(n,"placeholder","ID"),ke(n,"id","itemTemplate_id"),ke(n,"type","text"),n.disabled=!0,ke(n,"class","svelte-gv0syu"),a(n,gu,358,14,8034),ke(r,"class","active svelte-gv0syu"),ke(r,"for","itemTemplate_id"),a(r,gu,365,14,8252),ke(t,"class","input-field col s4"),a(t,gu,357,12,7987)},m:function(s,a,c){we(s,t,a),be(t,n),A(n,e[2].selectedElement.id),be(t,i),be(t,r),c&&o(),o=Se(n,"input",e[25])},p:function(e,t){4&t&&n.value!==e[2].selectedElement.id&&A(n,e[2].selectedElement.id)},d:function(e){e&&Ce(t),o()}};return ye("SvelteRegisterBlock",{block:s,id:Au.name,type:"else",source:"(357:10) {:else}",ctx:e}),s}function Du(e){let t,n,i,r,o;const s={c:function(){t=S("div"),n=S("input"),i=x(),r=S("label"),r.textContent="ID",ke(n,"placeholder","ID"),ke(n,"id","itemTemplate_id"),ke(n,"type","text"),ke(n,"class","svelte-gv0syu"),a(n,gu,348,14,7690),ke(r,"class","active svelte-gv0syu"),ke(r,"for","itemTemplate_id"),a(r,gu,354,14,7883),ke(t,"class","input-field col s4"),a(t,gu,347,12,7643)},m:function(s,a,c){we(s,t,a),be(t,n),A(n,e[2].selectedElement.id),be(t,i),be(t,r),c&&o(),o=Se(n,"input",e[24])},p:function(e,t){4&t&&n.value!==e[2].selectedElement.id&&A(n,e[2].selectedElement.id)},d:function(e){e&&Ce(t),o()}};return ye("SvelteRegisterBlock",{block:s,id:Du.name,type:"if",source:"(347:10) {#if $store.selectedElement.isNew}",ctx:e}),s}function Iu(e){let t,n,i,r,o,s;const c={c:function(){t=S("div"),n=S("div"),i=S("textarea"),r=x(),o=S("label"),o.textContent="Detail (look)",ke(i,"placeholder","Details"),ke(i,"id","itemTemplate_detail"),ke(i,"type","text"),ke(i,"class","materialize-textarea svelte-gv0syu"),a(i,gu,389,14,8980),ke(o,"class","active svelte-gv0syu"),ke(o,"for","itemTemplate_detail"),a(o,gu,396,14,9244),ke(n,"class","input-field"),a(n,gu,388,12,8940),ke(t,"class","row"),a(t,gu,387,10,8910)},m:function(a,c,l){we(a,t,c),be(t,n),be(n,i),A(i,e[2].selectedElement.detail),be(n,r),be(n,o),l&&s(),s=Se(i,"input",e[27])},p:function(e,t){4&t&&A(i,e[2].selectedElement.detail)},d:function(e){e&&Ce(t),s()}};return ye("SvelteRegisterBlock",{block:c,id:Iu.name,type:"if",source:"(387:8) {#if config.hideDetails == undefined || !config.hideDetails}",ctx:e}),c}function Pu(e){let t,n,i,r,o,s,c,l;const u=new hu({props:{toolbar:e[10]},$$inline:!0});let h=e[2].elements;Te(h);let d=[];for(let t=0;t<h.length;t+=1)d[t]=Tu(Eu(e,h,t));let f=e[2].filterActive&&Lu(e),p=e[2].selectedElement&&Mu(e);const v={c:function(){pe(u.$$.fragment),t=x(),n=S("div"),i=S("div"),r=S("div");for(let e=0;e<d.length;e+=1)d[e].c();o=x(),s=S("div"),f&&f.c(),c=x(),p&&p.c(),ke(r,"class","collection svelte-gv0syu"),a(r,gu,263,4,5183),ke(i,"class","col s3"),a(i,gu,262,2,5158),ke(s,"class","col s9"),a(s,gu,283,2,5684),ke(n,"class","row"),a(n,gu,259,0,5098)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,a){ve(u,e,a),we(e,t,a),we(e,n,a),be(n,i),be(i,r);for(let e=0;e<d.length;e+=1)d[e].m(r,null);be(n,o),be(n,s),f&&f.m(s,null),be(s,c),p&&p.m(s,null),l=!0},p:function(e,[t]){if(261&t){let n;for(h=e[2].elements,Te(h),n=0;n<h.length;n+=1){const i=Eu(e,h,n);d[n]?d[n].p(i,t):(d[n]=Tu(i),d[n].c(),d[n].m(r,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=h.length}e[2].filterActive?f||(f=Lu(e),f.c(),f.m(s,c)):f&&(f.d(1),f=null),e[2].selectedElement?p?(p.p(e,t),4&t&&le(p,1)):(p=Mu(e),p.c(),le(p,1),p.m(s,null)):p&&(ae(),ue(p,1,1,()=>{p=null}),ce())},i:function(e){l||(le(u.$$.fragment,e),le(p),l=!0)},o:function(e){ue(u.$$.fragment,e),ue(p),l=!1},d:function(e){me(u,e),e&&Ce(t),e&&Ce(n),C(d,e),f&&f.d(),p&&p.d()}};return ye("SvelteRegisterBlock",{block:v,id:Pu.name,type:"component",source:"",ctx:e}),v}function Bu(e,t,n){let i,o,s,a=r,c=()=>(a(),a=p(u,e=>n(2,s=e)),u);e.$$.on_destroy.push(()=>a());let{config:l}=t,{store:u}=t;f(u,"store"),c();const{isAuthenticated:h,authToken:d}=Da();f(h,"isAuthenticated"),v(e,h,e=>n(12,i=e)),f(d,"authToken"),v(e,d,e=>n(13,o=e));const m=async e=>{i&&l.get(o,s.filters,t=>{u.setElements(t),e&&e()},e=>console.log(e))};F(async()=>{m(()=>{b(s.elements[0])})});const _=e=>(console.log("re.selectedElement.isNew"+e),!0===e?"not_stored":""),g=async()=>{l.delete(o,s.selectedElement.id,()=>{m(()=>{s.elements&&u.setSelectedElement(s.elements[0])})},()=>{console.log("create error.")})},y=async()=>{l.create(o,s.selectedElement,e=>{m(),b(e)},()=>{console.log("create error.")})},b=e=>{u.setSelectedElement(e,()=>{S()})},w=e=>{if(e.includes(":")){let t=e.split(":");u.addFilter(t[0],t[1]),m(()=>{b(s.elements[0])})}},C=e=>{if(e.includes(":")){let t=e.split(":");u.removeFilter(t[0]),m(()=>{b(s.elements[0])})}},S=()=>{setTimeout((function(){let e=document.querySelectorAll(".chips"),t=[];s.filters.forEach(e=>{t.push({tag:e.key+":"+e.val})}),M.Chips.init(e,{data:t,onChipAdd:(e,t)=>w(t.firstChild.nodeValue),onChipDelete:(e,t)=>C(t.firstChild.nodeValue)});var n=document.querySelectorAll("select");M.FormSelect.init(n,{}),M.updateTextFields();var i=document.querySelectorAll(".collapsible");if(null!=i)M.Collapsible.init(i,{});document.querySelectorAll(".materialize-textarea").forEach(e=>{M.textareaAutoResize(e)}),l.refreshUI&&l.refreshUI()}),50)},k=()=>{l.update(o,s.selectedElement.id,s.selectedElement,()=>{console.log("update successful."),m()},()=>{console.log("update error.")})},E={title:l.title,actions:[{name:null,color:"",icon:"filter_alt",fnc:()=>{u.toggleFilter(),S()}},{name:null,icon:"add",color:"",fnc:()=>l.new(b)},...l.actions]},x=["config","store"];Object.keys(t).forEach(e=>{~x.indexOf(e)||"$$"===e.slice(0,2)||_u.warn(`<CRUDEditor> was created with unknown prop '${e}'`)});let{$$slots:T={},$$scope:L}=t;Le("CRUDEditor",T,["hero","content","extensions"]);let O;return e.$set=e=>{"config"in e&&n(0,l=e.config),"store"in e&&c(n(1,u=e.store)),"$$scope"in e&&n(18,L=e.$$scope)},e.$capture_state=()=>({ActionEditor:vu,Toolbar:hu,createStore:mu,PlusIcon:pl,writable:Ve,onMount:F,createAuth:Aa,getAuth:Da,config:l,store:u,isAuthenticated:h,authToken:d,loadData:m,isDraft:_,deleteElement:g,create:y,selectElement:b,addFilter:w,removeFilter:C,refreshUI:S,update:k,toolbarConfig:E,state:O,$isAuthenticated:i,$authToken:o,$store:s}),e.$inject_state=e=>{"config"in e&&n(0,l=e.config),"store"in e&&c(n(1,u=e.store)),"state"in e&&(O=e.state)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{12288&e.$$.dirty&&(O={isAuthenticated:i,authToken:o.slice(0,20)})},[l,u,s,h,d,_,g,y,b,k,E,O,i,o,m,w,C,S,L,T,()=>y(),()=>k(),()=>g(),function(){s.selectedElement.name=this.value,u.set(s)},function(){s.selectedElement.id=this.value,u.set(s)},function(){s.selectedElement.id=this.value,u.set(s)},function(){s.selectedElement.description=this.value,u.set(s)},function(){s.selectedElement.detail=this.value,u.set(s)}]}class ju extends Me{constructor(e){super(e),ge(this,e,Bu,Pu,d,{config:0,store:1}),ye("SvelteRegisterComponent",{component:this,tagName:"CRUDEditor",options:e,id:Pu.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"config"in n||_u.warn("<CRUDEditor> was created without expected prop 'config'"),void 0!==t[1]||"store"in n||_u.warn("<CRUDEditor> was created without expected prop 'store'")}get config(){throw new Error("<CRUDEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set config(e){throw new Error("<CRUDEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get store(){throw new Error("<CRUDEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set store(e){throw new Error("<CRUDEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var Hu="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),Wu=new Uint8Array(16);function Fu(){if(!Hu)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hu(Wu)}for(var Nu=[],Uu=0;Uu<256;++Uu)Nu.push((Uu+256).toString(16).substr(1));function qu(e,t,n){"string"==typeof e&&(t="binary"===e?new Uint8Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||Fu)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){for(var r=n||0,o=0;o<16;++o)t[r+o]=i[o];return t}return function(e,t){var n=t||0,i=Nu;return(i[e[n+0]]+i[e[n+1]]+i[e[n+2]]+i[e[n+3]]+"-"+i[e[n+4]]+i[e[n+5]]+"-"+i[e[n+6]]+i[e[n+7]]+"-"+i[e[n+8]]+i[e[n+9]]+"-"+i[e[n+10]]+i[e[n+11]]+i[e[n+12]]+i[e[n+13]]+i[e[n+14]]+i[e[n+15]]).toLowerCase()}(i)}function zu(e,t,n={}){const i=Object.assign({tab:"\t"},n);let r,o,s=[],a=[],c=-1,l=!1,u=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;e.setAttribute("contentEditable",u?"true":"plaintext-only"),e.setAttribute("spellcheck","false"),e.style.outline="none",e.style.overflowWrap="break-word",e.style.overflowY="auto",e.style.resize="vertical",e.style.whiteSpace="pre-wrap",t(e);const h=x(()=>{const n=m();t(e),_(n)},30);let d=!1;const f=e=>!S(e)&&!k(e)&&"Meta"!==e.key&&"Control"!==e.key&&"Alt"!==e.key&&!e.key.startsWith("Arrow"),p=x(e=>{f(e)&&(b(),d=!1)},300),v=(t,n)=>{s.push([t,n]),e.addEventListener(t,n)};function m(){const t=window.getSelection(),n={start:0,end:0,dir:void 0};return w(e,e=>{if(e===t.anchorNode&&e===t.focusNode)return n.start+=t.anchorOffset,n.end+=t.focusOffset,n.dir=t.anchorOffset<=t.focusOffset?"->":"<-","stop";if(e===t.anchorNode){if(n.start+=t.anchorOffset,n.dir)return"stop";n.dir="->"}else if(e===t.focusNode){if(n.end+=t.focusOffset,n.dir)return"stop";n.dir="<-"}e.nodeType===Node.TEXT_NODE&&("->"!=n.dir&&(n.start+=e.nodeValue.length),"<-"!=n.dir&&(n.end+=e.nodeValue.length))}),n}function _(t){const n=window.getSelection();let i,r,o=0,s=0;if(t.dir||(t.dir="->"),t.start<0&&(t.start=0),t.end<0&&(t.end=0),"<-"==t.dir){const{start:e,end:n}=t;t.start=n,t.end=e}let a=0;w(e,e=>{if(e.nodeType!==Node.TEXT_NODE)return;const n=(e.nodeValue||"").length;if(a+n>=t.start&&(i||(i=e,o=t.start-a),a+n>=t.end))return r=e,s=t.end-a,"stop";a+=n}),i||(i=e),r||(r=e),"<-"==t.dir&&([i,o,r,s]=[r,s,i,o]),n.setBaseAndExtent(i,o,r,s)}function g(){const t=window.getSelection().getRangeAt(0),n=document.createRange();return n.selectNodeContents(e),n.setEnd(t.startContainer,t.startOffset),n.toString()}function y(){const t=window.getSelection().getRangeAt(0),n=document.createRange();return n.selectNodeContents(e),n.setStart(t.endContainer,t.endOffset),n.toString()}function b(){if(!l)return;const t=e.innerHTML,n=m(),i=a[c];if(i&&i.html===t&&i.pos.start===n.start&&i.pos.end===n.end)return;c++,a[c]={html:t,pos:n},a.splice(c+1);c>300&&(c=300,a.splice(0,1))}function w(e,t){const n=[];e.firstChild&&n.push(e.firstChild);let i=n.pop();for(;i&&"stop"!==t(i);)i.nextSibling&&n.push(i.nextSibling),i.firstChild&&n.push(i.firstChild),i=n.pop()}function C(e){return e.metaKey||e.ctrlKey}function S(e){return C(e)&&!e.shiftKey&&"KeyZ"===e.code}function k(e){return C(e)&&e.shiftKey&&"KeyZ"===e.code}function E(e){e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),document.execCommand("insertHTML",!1,e)}function x(e,t){let n=0;return(...i)=>{clearTimeout(n),n=window.setTimeout(()=>e(...i),t)}}function T(e){let t=e.length-1;for(;t>=0&&"\n"!==e[t];)t--;t++;let n=t;for(;n<e.length&&/[ \t]/.test(e[n]);)n++;return[e.substring(t,n)||"",t,n]}function L(){return e.textContent||""}function M(e){e.preventDefault()}return v("keydown",t=>{t.defaultPrevented||(o=L(),function(e){if("Enter"===e.key){const t=g(),n=y();let[r]=T(t),o=r;if("{"===t[t.length-1]&&(o+=i.tab),(u||o.length>0)&&(M(e),E("\n"+o)),o!==r&&"}"===n[0]){const e=m();E("\n"+r),_(e)}}}(t),function(e){if("Tab"===e.key)if(M(e),e.shiftKey){const e=g();let[t,n]=T(e);if(t.length>0){const e=m(),r=Math.min(i.tab.length,t.length);_({start:n,end:n+r}),document.execCommand("delete"),e.start-=r,e.end-=r,_(e)}}else E(i.tab)}(t),function(e){if("ArrowLeft"===e.key&&e.metaKey){M(e);const t=g();let[n,i,r]=T(t);if(t.endsWith(n))if(e.shiftKey){const e=m();_({start:i,end:e.end})}else _({start:i,end:i});else if(e.shiftKey){const e=m();_({start:r,end:e.end})}else _({start:r,end:r})}}(t),function(e){const t="([{'\"",n=")]}'\"",i=y();if(n.includes(e.key)&&i.substr(0,1)===e.key){const t=m();M(e),t.start=++t.end,_(t)}else if(t.includes(e.key)){const i=m();M(e);E(e.key+n[t.indexOf(e.key)]),i.start=++i.end,_(i)}}(t),function(t){if(S(t)){M(t),c--;const n=a[c];n&&(e.innerHTML=n.html,_(n.pos)),c<0&&(c=0)}if(k(t)){M(t),c++;const n=a[c];n&&(e.innerHTML=n.html,_(n.pos)),c>=a.length&&c--}}(t),f(t)&&!d&&(b(),d=!0))}),v("keyup",e=>{e.defaultPrevented||e.isComposing||(o!==L()&&h(),p(e),r&&r(L()))}),v("focus",e=>{l=!0}),v("blur",e=>{l=!1}),v("paste",n=>{b(),function(n){M(n);const i=(n.originalEvent||n).clipboardData.getData("text/plain"),r=m();E(i),t(e),_({start:r.end+i.length,end:r.end+i.length})}(n),b(),r&&r(L())}),{updateOptions(e){e=Object.assign(Object.assign({},e),e)},updateCode(n){e.textContent=n,t(e)},onUpdate(e){r=e},toString:L,destroy(){for(let[t,n]of s)e.removeEventListener(t,n)}}}function Yu(e,t={}){const n=Object.assign({class:"codejar-linenumbers",wrapClass:"codejar-wrap",width:"35px"},t);let i;return function(t){e(t),i||(i=function(e,t){const n=getComputedStyle(e),i=document.createElement("div");i.className=t.wrapClass,i.style.position="relative";const r=document.createElement("div");return r.className=t.class,i.appendChild(r),r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.style.bottom="0px",r.style.width=t.width,r.style.overflow="hidden",r.style.backgroundColor="rgba(255, 255, 255, 0.05)",r.style.color="#fff",r.style.setProperty("mix-blend-mode","difference"),r.style.fontFamily=n.fontFamily,r.style.fontSize=n.fontSize,r.style.lineHeight=n.lineHeight,r.style.paddingTop=n.paddingTop,r.style.paddingLeft=n.paddingLeft,r.style.borderTopLeftRadius=n.borderTopLeftRadius,r.style.borderBottomLeftRadius=n.borderBottomLeftRadius,e.style.paddingLeft=`calc(${t.width} + ${r.style.paddingLeft})`,e.style.whiteSpace="pre",e.parentNode.insertBefore(i,e),i.appendChild(e),r}(t,n));const r=(t.textContent||"").replace(/\n+$/,"\n").split("\n").length+1;let o="";for(let e=1;e<r;e++)o+=e+"\n";i.innerText=o}}function Vu(e,t){yc.get(wc+"/script-types").then(t=>e(t.data)).catch(e=>t(e))}function Ku(e,t,n,i){yc.get(`${wc}/scripts/${t}`,{mode:"no-cors",credentials:"same-origin",headers:{Authorization:"Bearer "+e}}).then(e=>n(e.data)).catch(e=>i(e))}function Gu(e,t,n,i){yc.delete(`${wc}/scripts/${t}`,{mode:"no-cors",credentials:"same-origin",headers:{Authorization:"Bearer "+e}}).then(e=>n(e.data)).catch(e=>i(e))}function Xu(e,t,n,i){let r="https://talesofapirate.com/api/scripts";t&&(r+="?",t.forEach(e=>{r+=e.key+"="+e.val})),yc.get(r,{mode:"no-cors",credentials:"same-origin",headers:{Authorization:"Bearer "+e}}).then(e=>n(e.data)).catch(e=>i(e))}function Zu(e,t,n,i,r){yc.put(`${wc}/scripts/${t}`,n,{mode:"no-cors",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}).then(e=>i(e.data)).catch(e=>r(e))}function Ju(e,t,n,i,r){yc.post(`${wc}/run-script/${t}`,n,{mode:"no-cors",credentials:"same-origin",headers:{"Content-Type":"text/plain",Authorization:"Bearer "+e}}).then(e=>i(e.data)).catch(e=>r(e))}function Qu(e,t,n,i){yc.post(wc+"/scripts",t,{mode:"no-cors",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}).then(e=>n(e.data)).catch(e=>i(e))}const{console:eh}=he,th="src/creator/ScriptsEditor.svelte";function nh(e,t,n){const i=e.slice();return i[20]=t[n],i}function ih(e){let t,n,i,r=e[20].capitalize()+"";const o={c:function(){t=S("option"),n=E(r),t.__value=i=e[20],t.value=t.__value,a(t,th,170,12,3993)},m:function(e,i){we(e,t,i),be(t,n)},p:function(e,o){1&o&&r!==(r=e[20].capitalize()+"")&&xe(n,r),1&o&&i!==(i=e[20])&&Ee(t,"__value",i),t.value=t.__value},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:o,id:ih.name,type:"each",source:"(170:10) {#each scriptTypes as type}",ctx:e}),o}function rh(e){let t,n,i,r,o,s,c,l,h=e[0];Te(h);let d=[];for(let t=0;t<h.length;t+=1)d[t]=ih(nh(e,h,t));const f={c:function(){t=S("div"),n=S("div"),i=S("div"),r=S("select"),o=S("option"),o.textContent="Script Type";for(let e=0;e<d.length;e+=1)d[e].c();s=x(),c=S("label"),c.textContent="Select Script Type",o.__value="",o.value=o.__value,o.disabled=!0,o.selected=!0,a(o,th,168,10,3887),void 0===e[1].selectedElement.type&&ee(()=>e[18].call(r)),a(r,th,167,8,3815),a(c,th,173,8,4089),ke(i,"class","margininput input-field col s5"),a(i,th,166,6,3762),ke(n,"class","row"),a(n,th,164,4,3737),ke(t,"slot","content"),a(t,th,163,2,3712)},m:function(a,h,f){we(a,t,h),be(t,n),be(n,i),be(i,r),be(r,o);for(let e=0;e<d.length;e+=1)d[e].m(r,null);I(r,e[1].selectedElement.type),be(i,s),be(i,c),f&&u(l),l=[Se(r,"change",e[18]),Se(r,"change",e[17],!1,!1,!1)]},p:function(e,t){if(1&t){let n;for(h=e[0],Te(h),n=0;n<h.length;n+=1){const i=nh(e,h,n);d[n]?d[n].p(i,t):(d[n]=ih(i),d[n].c(),d[n].m(r,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=h.length}2&t&&I(r,e[1].selectedElement.type)},d:function(e){e&&Ce(t),C(d,e),u(l)}};return ye("SvelteRegisterBlock",{block:f,id:rh.name,type:"slot",source:'(164:2) <div slot=\\"content\\">',ctx:e}),f}function oh(e){let t,n,i,r,o,s,c,l,u,h;const d=new hu({props:{toolbar:{title:"Testrunner",small:!0,actions:[{icon:"play_arrow",fnc:e[19]}]}},$$inline:!0}),f={c:function(){t=S("div"),n=S("div"),i=x(),pe(d.$$.fragment),r=x(),o=S("div"),s=S("div"),c=E(e[2]),l=x(),u=S("div"),ke(n,"class","card-panel editor language-javascript svelte-1f4ux7q"),a(n,th,179,4,4187),ke(s,"class","card-content language-javascript body col s6 svelte-1f4ux7q"),a(s,th,186,6,4453),ke(u,"class","card-content language-javascript result col s6 svelte-1f4ux7q"),a(u,th,189,6,4551),ke(o,"class","card z-depth-3"),D(o,"background-color","#121212"),a(o,th,185,4,4383),ke(t,"slot","extensions"),a(t,th,178,2,4159)},m:function(e,a){we(e,t,a),be(t,n),be(t,i),ve(d,t,null),be(t,r),be(t,o),be(o,s),be(s,c),be(o,l),be(o,u),h=!0},p:function(e,t){(!h||4&t)&&xe(c,e[2])},i:function(e){h||(le(d.$$.fragment,e),h=!0)},o:function(e){ue(d.$$.fragment,e),h=!1},d:function(e){e&&Ce(t),me(d)}};return ye("SvelteRegisterBlock",{block:f,id:oh.name,type:"slot",source:'(179:2) <div slot=\\"extensions\\">',ctx:e}),f}function sh(e){let t;const n={c:function(){t=x()},m:function(e,n){we(e,t,n)},p:r,i:r,o:r,d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:n,id:sh.name,type:"slot",source:'(162:0) <CRUDEditor store=\\"{store}\\" config=\\"{config}\\">',ctx:e}),n}function ah(e){let t;const n=new ju({props:{store:e[7],config:e[6],$$slots:{default:[sh],extensions:[oh],content:[rh]},$$scope:{ctx:e}},$$inline:!0}),i={c:function(){pe(n.$$.fragment)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,i){ve(n,e,i),t=!0},p:function(e,[t]){const i={};8388615&t&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i:function(e){t||(le(n.$$.fragment,e),t=!0)},o:function(e){ue(n.$$.fragment,e),t=!1},d:function(e){me(n,e)}};return ye("SvelteRegisterBlock",{block:i,id:ah.name,type:"component",source:"",ctx:e}),i}function ch(e,t,n){let i,r,o,s;const{isAuthenticated:a,authToken:c}=Da();let l,u,h;f(a,"isAuthenticated"),v(e,a,e=>n(13,i=e)),f(c,"authToken"),v(e,c,e=>n(14,r=e));const d=Ve("{}");f(d,"testBody"),v(e,d,e=>n(2,s=e));let p=[];F(async()=>{Vu(e=>n(0,p=e))});const m=e=>{e.textContent=e.textContent,hljs.highlightBlock(e)},_={title:"Manage Scripts",actions:[],get:Xu,getElement:Ku,create:Qu,update:Zu,delete:Gu,refreshUI:()=>{o.selectedElement&&(void 0===l&&(l=zu(document.querySelector(".editor"),Yu(m)),l.onUpdate(e=>{b(e)}),u=zu(document.querySelector(".body"),Yu(m)),u.onUpdate(e=>{d.set(e)}),h=zu(document.querySelector(".result"),Yu(m))),l.updateCode(o.selectedElement.code))},hideDetails:!0,new:e=>{e({id:qu(),name:"New Script",description:"something",code:"console.log('Hello World from Script');",isNew:!0})}},g=mu();f(g,"store"),v(e,g,e=>n(1,o=e));const y=()=>{Ju(r,o.selectedElement.id,s,e=>{let t=e.result;h.updateCode(JSON.stringify(t,null,2))},()=>{console.log("update error.")})},b=e=>{g.update(t=>(t.selectedElement.code=e,t))};F(async()=>{});const w=[];Object.keys(t).forEach(e=>{~w.indexOf(e)||"$$"===e.slice(0,2)||eh.warn(`<ScriptsEditor> was created with unknown prop '${e}'`)});let{$$slots:C={},$$scope:S}=t;Le("ScriptsEditor",C,[]);let k;return e.$capture_state=()=>({Router:Tt,Route:Wt,Link:Yt,writable:Ve,Toolbar:hu,Sprites:Ae,onMount:F,CRUDEditor:ju,createStore:mu,uuidv4:qu,CodeJar:zu,withLineNumbers:Yu,createAuth:Aa,getAuth:Da,isAuthenticated:a,authToken:c,getScript:Ku,deleteScript:Gu,runScript:Ju,getScripts:Xu,updateScript:Zu,createScript:Qu,getScriptTypes:Vu,jar:l,test:u,result:h,testBody:d,scriptTypes:p,highlight:m,config:_,store:g,runCode:y,updateCode:b,state:k,$isAuthenticated:i,$authToken:r,$store:o,$testBody:s}),e.$inject_state=e=>{"jar"in e&&(l=e.jar),"test"in e&&(u=e.test),"result"in e&&(h=e.result),"scriptTypes"in e&&n(0,p=e.scriptTypes),"state"in e&&(k=e.state)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{24576&e.$$.dirty&&(k={isAuthenticated:i,authToken:r.slice(0,20)})},[p,o,s,a,c,d,_,g,y,l,u,h,k,i,r,m,b,function(t){V(e,t)},function(){o.selectedElement.type=P(this),g.set(o),n(0,p)},()=>y()]}class lh extends Me{constructor(e){super(e),ge(this,e,ch,ah,d,{}),ye("SvelteRegisterComponent",{component:this,tagName:"ScriptsEditor",options:e,id:ah.name})}}const{console:uh}=he,hh="src/creator/ExitEditor.svelte";function dh(e){let t,n,i,o,s,c,l,h,d,f,p,v,m,_,g,y,b,w;const C={c:function(){t=S("tr"),n=S("td"),i=S("input"),s=x(),c=S("td"),l=S("input"),d=x(),f=S("td"),p=S("div"),v=S("input"),_=x(),g=S("td"),y=S("button"),b=S("i"),b.textContent="remove",ke(i,"placeholder","Name"),ke(i,"id",o="name-"+e[0].name),ke(i,"type","text"),D(i,"margin","0"),D(i,"height","2em"),D(i,"font-size","14px"),D(i,"border-color","#ffffff33"),ke(i,"class","svelte-q7ubah"),a(i,hh,83,4,1497),D(n,"width","2em"),ke(n,"class","svelte-q7ubah"),a(n,hh,82,2,1469),ke(l,"placeholder","Name"),ke(l,"id",h="name-"+e[0].description),ke(l,"type","text"),D(l,"margin","0"),D(l,"height","2em"),D(l,"font-size","14px"),D(l,"border-color","#ffffff33"),ke(l,"class","svelte-q7ubah"),a(l,hh,92,4,1708),ke(c,"class","svelte-q7ubah"),a(c,hh,91,2,1699),ke(v,"type","text"),ke(v,"id",m="autocomplete-input-"+e[0].name.replace(" ","_")),ke(v,"class","autocomplete targets svelte-q7ubah"),D(v,"margin","0"),D(v,"height","2em"),D(v,"font-size","14px"),D(v,"border-color","#ffffff33"),a(v,hh,102,6,1965),ke(p,"class","input-field"),a(p,hh,101,4,1933),ke(f,"class","svelte-q7ubah"),a(f,hh,100,2,1924),ke(b,"class","material-icons"),D(b,"color","red"),a(b,hh,115,6,2324),ke(y,"class","btn-flat waves-effect waves-light right"),a(y,hh,111,4,2208),ke(g,"class","svelte-q7ubah"),a(g,hh,110,2,2199),a(t,hh,81,0,1462)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(r,o,a){we(r,t,o),be(t,n),be(n,i),A(i,e[0].name),be(t,s),be(t,c),be(c,l),A(l,e[0].description),be(t,d),be(t,f),be(f,p),be(p,v),be(t,_),be(t,g),be(g,y),be(y,b),a&&u(w),w=[Se(i,"input",e[7]),Se(l,"input",e[8]),Se(y,"click",e[9],!1,!1,!1)]},p:function(e,[t]){1&t&&o!==(o="name-"+e[0].name)&&ke(i,"id",o),1&t&&i.value!==e[0].name&&A(i,e[0].name),1&t&&h!==(h="name-"+e[0].description)&&ke(l,"id",h),1&t&&l.value!==e[0].description&&A(l,e[0].description),1&t&&m!==(m="autocomplete-input-"+e[0].name.replace(" ","_"))&&ke(v,"id",m)},i:r,o:r,d:function(e){e&&Ce(t),u(w)}};return ye("SvelteRegisterBlock",{block:C,id:dh.name,type:"component",source:"",ctx:e}),C}function fh(e,t,n){let i,o=r,s=()=>(o(),o=p(l,e=>n(4,i=e)),l);e.$$.on_destroy.push(()=>o());let{exit:a}=t,{store:c}=t,{valueHelp:l}=t;f(l,"valueHelp"),s();let{deleteExit:u}=t;const h=()=>{let e={data:{},onAutocomplete:e=>{const t=e.substring(e.lastIndexOf("(")+1,e.lastIndexOf(")"));console.log("ON AUTO "+t),n(0,a.target=t,a)}},t="";i.forEach(n=>{const i=n.name+" ("+n.id+")";n.id===a.target&&(t=i),e.data[i]=null});const r="#autocomplete-input-"+a.name.replace(" ","_");var o=document.querySelectorAll(r);o.length>0&&(o[0].value=t);M.Autocomplete.init(o,e)},d=()=>{a.target};F(async()=>{});const v=["exit","store","valueHelp","deleteExit"];Object.keys(t).forEach(e=>{~v.indexOf(e)||"$$"===e.slice(0,2)||uh.warn(`<ExitEditor> was created with unknown prop '${e}'`)});let{$$slots:m={},$$scope:_}=t;Le("ExitEditor",m,[]);return e.$set=e=>{"exit"in e&&n(0,a=e.exit),"store"in e&&n(3,c=e.store),"valueHelp"in e&&s(n(1,l=e.valueHelp)),"deleteExit"in e&&n(2,u=e.deleteExit)},e.$capture_state=()=>({onMount:F,exit:a,store:c,valueHelp:l,deleteExit:u,updateUI:h,initial:d,$valueHelp:i}),e.$inject_state=e=>{"exit"in e&&n(0,a=e.exit),"store"in e&&n(3,c=e.store),"valueHelp"in e&&s(n(1,l=e.valueHelp)),"deleteExit"in e&&n(2,u=e.deleteExit)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{16&e.$$.dirty&&i&&h()},[a,l,u,c,i,h,d,function(){a.name=this.value,n(0,a)},function(){a.description=this.value,n(0,a)},()=>u(a)]}class ph extends Me{constructor(e){super(e),ge(this,e,fh,dh,d,{exit:0,store:3,valueHelp:1,deleteExit:2}),ye("SvelteRegisterComponent",{component:this,tagName:"ExitEditor",options:e,id:dh.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"exit"in n||uh.warn("<ExitEditor> was created without expected prop 'exit'"),void 0!==t[3]||"store"in n||uh.warn("<ExitEditor> was created without expected prop 'store'"),void 0!==t[1]||"valueHelp"in n||uh.warn("<ExitEditor> was created without expected prop 'valueHelp'"),void 0!==t[2]||"deleteExit"in n||uh.warn("<ExitEditor> was created without expected prop 'deleteExit'")}get exit(){throw new Error("<ExitEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set exit(e){throw new Error("<ExitEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get store(){throw new Error("<ExitEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set store(e){throw new Error("<ExitEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get valueHelp(){throw new Error("<ExitEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set valueHelp(e){throw new Error("<ExitEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get deleteExit(){throw new Error("<ExitEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set deleteExit(e){throw new Error("<ExitEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function vh(e,t,n,i){yc.get(`${wc}/rooms/${t}`,{mode:"no-cors",credentials:"same-origin",headers:{Authorization:"Bearer "+e}}).then(e=>n(e.data)).catch(e=>i(e))}function mh(e,t,n,i){yc.delete(`${wc}/rooms/${t}`,{mode:"no-cors",credentials:"same-origin",headers:{Authorization:"Bearer "+e}}).then(e=>n(e.data)).catch(e=>i(e))}function _h(e,t,n,i){let r=function(e,t){let n=e;if(t){n+="?";let e=0;t.forEach(t=>{e>0&&(n+="&"),n+=t.key+"="+t.val,e++})}return n}("https://talesofapirate.com/api/rooms",t);yc.get(r,{mode:"no-cors",credentials:"same-origin",headers:{Authorization:"Bearer "+e}}).then(e=>n(e.data)).catch(e=>i(e))}function gh(e,t,n){yc.get("https://talesofapirate.com/api/rooms-vh",{mode:"no-cors",credentials:"same-origin",headers:{Authorization:"Bearer "+e}}).then(e=>t(e.data)).catch(e=>n(e))}function yh(e,t,n,i,r){yc.put(`${wc}/rooms/${t}`,n,{mode:"no-cors",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}).then(e=>i(e.data)).catch(e=>r(e))}function bh(e,t,n,i){yc.post(wc+"/rooms",t,{mode:"no-cors",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}).then(e=>n(e.data)).catch(e=>i(e))}const wh="src/creator/RoomsEditor.svelte";function Ch(e,t,n){const i=e.slice();return i[22]=t[n],i}function Sh(e,t,n){const i=e.slice();return i[25]=t[n],i}function kh(e){let t,n,i,r,o,s,c,l,h,d,f,p,v,m,_,g;const y={c:function(){t=S("div"),n=S("div"),i=S("input"),r=x(),o=S("label"),o.textContent="X",s=x(),c=S("div"),l=S("input"),h=x(),d=S("label"),d.textContent="Y",f=x(),p=S("div"),v=S("input"),m=x(),_=S("label"),_.textContent="Z",ke(i,"placeholder","X"),ke(i,"id","x"),ke(i,"type","text"),a(i,wh,209,10,4758),ke(o,"class","first_label"),ke(o,"for","x"),a(o,wh,215,10,4918),ke(n,"class","no-padding input-field col s2"),a(n,wh,208,8,4704),ke(l,"placeholder","Y"),ke(l,"id","y"),ke(l,"type","text"),a(l,wh,219,10,5030),ke(d,"class","active"),ke(d,"for","y"),a(d,wh,225,10,5190),ke(c,"class","input-field col s2"),a(c,wh,218,8,4987),ke(v,"placeholder","Z"),ke(v,"id","z"),ke(v,"type","text"),a(v,wh,229,10,5297),ke(_,"class","active"),ke(_,"for","z"),a(_,wh,235,10,5457),ke(p,"class","input-field col s2"),a(p,wh,228,8,5254),ke(t,"class","row"),a(t,wh,206,6,4677)},m:function(a,y,b){we(a,t,y),be(t,n),be(n,i),A(i,e[0].selectedElement.coords.x),be(n,r),be(n,o),be(t,s),be(t,c),be(c,l),A(l,e[0].selectedElement.coords.y),be(c,h),be(c,d),be(t,f),be(t,p),be(p,v),A(v,e[0].selectedElement.coords.z),be(p,m),be(p,_),b&&u(g),g=[Se(i,"input",e[19]),Se(l,"input",e[20]),Se(v,"input",e[21])]},p:function(e,t){1&t&&i.value!==e[0].selectedElement.coords.x&&A(i,e[0].selectedElement.coords.x),1&t&&l.value!==e[0].selectedElement.coords.y&&A(l,e[0].selectedElement.coords.y),1&t&&v.value!==e[0].selectedElement.coords.z&&A(v,e[0].selectedElement.coords.z)},d:function(e){e&&Ce(t),u(g)}};return ye("SvelteRegisterBlock",{block:y,id:kh.name,type:"if",source:"(206:4) {#if $store.selectedElement.coords}",ctx:e}),y}function Eh(e){let t,n,i,r,o,s,c,l,h,d,f,p,v,m,_,g,y,b,w=e[0].selectedElement.coords&&kh(e);const C={c:function(){t=S("div"),n=S("div"),i=S("div"),r=S("input"),o=x(),s=S("label"),s.textContent="Area",c=x(),l=S("div"),h=S("input"),d=x(),f=S("label"),f.textContent="Area Type",p=x(),v=S("div"),m=S("input"),_=x(),g=S("label"),g.textContent="Room Type",y=x(),w&&w.c(),ke(r,"placeholder","Area"),ke(r,"id","area"),ke(r,"type","text"),a(r,wh,175,8,3836),ke(s,"class","active first_label"),ke(s,"for","area"),a(s,wh,181,8,3986),ke(i,"class","no-padding input-field col s4"),a(i,wh,174,6,3784),ke(h,"placeholder","Area Type"),ke(h,"id","area_type"),ke(h,"type","text"),a(h,wh,185,8,4105),ke(f,"class","active"),ke(f,"for","area_type"),a(f,wh,191,8,4269),ke(l,"class","input-field col s4"),a(l,wh,184,6,4064),ke(m,"placeholder","Room Type"),ke(m,"id","room_type"),ke(m,"type","text"),a(m,wh,195,8,4386),ke(g,"class","active"),ke(g,"for","room_type"),a(g,wh,201,8,4550),ke(v,"class","input-field col s4"),a(v,wh,194,6,4345),ke(n,"class","row"),a(n,wh,172,4,3759),ke(t,"slot","content"),a(t,wh,170,2,3733)},m:function(a,C,S){we(a,t,C),be(t,n),be(n,i),be(i,r),A(r,e[0].selectedElement.area),be(i,o),be(i,s),be(n,c),be(n,l),be(l,h),A(h,e[0].selectedElement.areaType),be(l,d),be(l,f),be(n,p),be(n,v),be(v,m),A(m,e[0].selectedElement.roomType),be(v,_),be(v,g),be(t,y),w&&w.m(t,null),S&&u(b),b=[Se(r,"input",e[16]),Se(h,"input",e[17]),Se(m,"input",e[18])]},p:function(e,n){1&n&&r.value!==e[0].selectedElement.area&&A(r,e[0].selectedElement.area),1&n&&h.value!==e[0].selectedElement.areaType&&A(h,e[0].selectedElement.areaType),1&n&&m.value!==e[0].selectedElement.roomType&&A(m,e[0].selectedElement.roomType),e[0].selectedElement.coords?w?w.p(e,n):(w=kh(e),w.c(),w.m(t,null)):w&&(w.d(1),w=null)},d:function(e){e&&Ce(t),w&&w.d(),u(b)}};return ye("SvelteRegisterBlock",{block:C,id:Eh.name,type:"slot",source:'(171:2) <div slot=\\"content\\">',ctx:e}),C}function xh(e){let t,n,i,r,o,s,c,l,u,h,d,f,p,v,m=e[0].selectedElement.exits;Te(m);let _=[];for(let t=0;t<m.length;t+=1)_[t]=Th(Sh(e,m,t));const g=e=>ue(_[e],1,1,()=>{_[e]=null}),y={c:function(){t=S("div"),n=S("table"),i=S("thead"),r=S("tr"),o=S("th"),o.textContent="Name",s=x(),c=S("th"),c.textContent="Description",l=x(),u=S("th"),u.textContent="Target",h=x(),d=S("th"),f=x(),p=S("tbody");for(let e=0;e<_.length;e+=1)_[e].c();a(o,wh,249,14,5767),a(c,wh,250,14,5795),a(u,wh,251,14,5830),a(d,wh,252,14,5860),a(r,wh,248,12,5748),a(i,wh,247,10,5728),a(p,wh,255,10,5917),a(n,wh,246,8,5710),ke(t,"class","card-panel blue-grey darken-3"),a(t,wh,245,6,5658)},m:function(e,a){we(e,t,a),be(t,n),be(n,i),be(i,r),be(r,o),be(r,s),be(r,c),be(r,l),be(r,u),be(r,h),be(r,d),be(n,f),be(n,p);for(let e=0;e<_.length;e+=1)_[e].m(p,null);v=!0},p:function(e,t){if(105&t){let n;for(m=e[0].selectedElement.exits,Te(m),n=0;n<m.length;n+=1){const i=Sh(e,m,n);_[n]?(_[n].p(i,t),le(_[n],1)):(_[n]=Th(i),_[n].c(),le(_[n],1),_[n].m(p,null))}for(ae(),n=m.length;n<_.length;n+=1)g(n);ce()}},i:function(e){if(!v){for(let e=0;e<m.length;e+=1)le(_[e]);v=!0}},o:function(e){_=_.filter(Boolean);for(let e=0;e<_.length;e+=1)ue(_[e]);v=!1},d:function(e){e&&Ce(t),C(_,e)}};return ye("SvelteRegisterBlock",{block:y,id:xh.name,type:"if",source:"(245:4) {#if $store.selectedElement.exits}",ctx:e}),y}function Th(e){let t;const n=new ph({props:{exit:e[25],valueHelp:e[3],store:e[5],deleteExit:e[6]},$$inline:!0}),i={c:function(){pe(n.$$.fragment)},m:function(e,i){ve(n,e,i),t=!0},p:function(e,t){const i={};1&t&&(i.exit=e[25]),n.$set(i)},i:function(e){t||(le(n.$$.fragment,e),t=!0)},o:function(e){ue(n.$$.fragment,e),t=!1},d:function(e){me(n,e)}};return ye("SvelteRegisterBlock",{block:i,id:Th.name,type:"each",source:"(257:12) {#each $store.selectedElement.exits as exit}",ctx:e}),i}function Lh(e){let t,n,i=e[0].selectedElement.actions;Te(i);let r=[];for(let t=0;t<i.length;t+=1)r[t]=Mh(Ch(e,i,t));const o=e=>ue(r[e],1,1,()=>{r[e]=null}),s={c:function(){t=S("ul");for(let e=0;e<r.length;e+=1)r[e].c();ke(t,"class","card-panel blue-grey darken-3 collapsible"),D(t,"padding","0"),D(t,"border","none"),a(t,wh,272,6,6345)},m:function(e,i){we(e,t,i);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p:function(e,n){if(129&n){let s;for(i=e[0].selectedElement.actions,Te(i),s=0;s<i.length;s+=1){const o=Ch(e,i,s);r[s]?(r[s].p(o,n),le(r[s],1)):(r[s]=Mh(o),r[s].c(),le(r[s],1),r[s].m(t,null))}for(ae(),s=i.length;s<r.length;s+=1)o(s);ce()}},i:function(e){if(!n){for(let e=0;e<i.length;e+=1)le(r[e]);n=!0}},o:function(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)ue(r[e]);n=!1},d:function(e){e&&Ce(t),C(r,e)}};return ye("SvelteRegisterBlock",{block:s,id:Lh.name,type:"if",source:"(272:4) {#if $store.selectedElement.actions}",ctx:e}),s}function Mh(e){let t;const n=new vu({props:{action:e[22],deleteAction:e[7]},$$inline:!0}),i={c:function(){pe(n.$$.fragment)},m:function(e,i){ve(n,e,i),t=!0},p:function(e,t){const i={};1&t&&(i.action=e[22]),n.$set(i)},i:function(e){t||(le(n.$$.fragment,e),t=!0)},o:function(e){ue(n.$$.fragment,e),t=!1},d:function(e){me(n,e)}};return ye("SvelteRegisterBlock",{block:i,id:Mh.name,type:"each",source:"(277:8) {#each $store.selectedElement.actions as action}",ctx:e}),i}function Oh(e){let t,n,i,r,o;const s=new hu({props:{toolbar:e[8]},$$inline:!0});let c=e[0].selectedElement.exits&&xh(e);const l=new hu({props:{toolbar:e[9]},$$inline:!0});let u=e[0].selectedElement.actions&&Lh(e);const h={c:function(){t=S("div"),pe(s.$$.fragment),n=x(),c&&c.c(),i=x(),pe(l.$$.fragment),r=x(),u&&u.c(),ke(t,"slot","extensions"),a(t,wh,241,2,5547)},m:function(e,a){we(e,t,a),ve(s,t,null),be(t,n),c&&c.m(t,null),be(t,i),ve(l,t,null),be(t,r),u&&u.m(t,null),o=!0},p:function(e,n){e[0].selectedElement.exits?c?(c.p(e,n),1&n&&le(c,1)):(c=xh(e),c.c(),le(c,1),c.m(t,i)):c&&(ae(),ue(c,1,1,()=>{c=null}),ce()),e[0].selectedElement.actions?u?(u.p(e,n),1&n&&le(u,1)):(u=Lh(e),u.c(),le(u,1),u.m(t,null)):u&&(ae(),ue(u,1,1,()=>{u=null}),ce())},i:function(e){o||(le(s.$$.fragment,e),le(c),le(l.$$.fragment,e),le(u),o=!0)},o:function(e){ue(s.$$.fragment,e),ue(c),ue(l.$$.fragment,e),ue(u),o=!1},d:function(e){e&&Ce(t),me(s),c&&c.d(),me(l),u&&u.d()}};return ye("SvelteRegisterBlock",{block:h,id:Oh.name,type:"slot",source:'(242:2) <div slot=\\"extensions\\">',ctx:e}),h}function Rh(e){let t;const n={c:function(){t=x()},m:function(e,n){we(e,t,n)},p:r,i:r,o:r,d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:n,id:Rh.name,type:"slot",source:'(169:0) <CRUDEditor store=\\"{store}\\" config=\\"{config}\\">',ctx:e}),n}function $h(e){let t;const n=new ju({props:{store:e[5],config:e[4],$$slots:{default:[Rh],extensions:[Oh],content:[Eh]},$$scope:{ctx:e}},$$inline:!0}),i={c:function(){pe(n.$$.fragment)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,i){ve(n,e,i),t=!0},p:function(e,[t]){const i={};268435457&t&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i:function(e){t||(le(n.$$.fragment,e),t=!0)},o:function(e){ue(n.$$.fragment,e),t=!1},d:function(e){me(n,e)}};return ye("SvelteRegisterBlock",{block:i,id:$h.name,type:"component",source:"",ctx:e}),i}function Ah(e,t,n){let i,r,o,s;const{isAuthenticated:a,authToken:c}=Da();f(a,"isAuthenticated"),v(e,a,e=>n(11,i=e)),f(c,"authToken"),v(e,c,e=>n(12,r=e));const l=Ve([]);f(l,"roomsValueHelp"),v(e,l,e=>n(13,o=e));const u={title:"Manage Rooms",actions:[],get:_h,getElement:vh,create:bh,update:yh,delete:mh,refreshUI:()=>{var e=document.querySelectorAll("select");M.FormSelect.init(e,{});M.updateTextFields();var t=document.querySelectorAll(".collapsible");if(null!=t)M.Collapsible.init(t,{});document.querySelectorAll(".materialize-textarea").forEach(e=>{M.textareaAutoResize(e)}),l.set(o)},new:e=>{e({name:"New Room",description:"",detail:"",areaType:"",area:"",id:qu(),isNew:!0,exits:[],actions:[]})},badge:e=>e.area},h=mu();f(h,"store"),v(e,h,e=>n(0,s=e));const d=e=>{h.update(t=>(t.selectedElement.exits=t.selectedElement.exits.filter(t=>t.name!=e.name),t))},p=()=>{h.update(e=>(null==e.selectedElement.exits&&(e.selectedElement.exits=[]),e.selectedElement.exits.push({name:"New Exit",description:"todo",target:"select target"}),e)),u.refreshUI()},m=e=>{h.update(t=>(t.selectedElement.actions=t.selectedElement.actions.filter(t=>t.name!=e.name),t))},_=()=>{h.update(e=>(null==e.selectedElement.actions&&(e.selectedElement.actions=[]),e.selectedElement.actions.push({name:"New Action",description:"A Description",response:"Response",type:"room_response",params:new Map}),e)),u.refreshUI()};F(async()=>{gh(r,e=>{l.set(e)},()=>{})});const g={title:"Exits",small:!0,actions:[{icon:"add",fnc:()=>{p()}}]},y={title:"Actions",small:!0,actions:[{icon:"add",fnc:()=>{_()}}]},b=[];Object.keys(t).forEach(e=>{~b.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<RoomsEditor> was created with unknown prop '${e}'`)});let w,{$$slots:C={},$$scope:S}=t;return Le("RoomsEditor",C,[]),e.$capture_state=()=>({writable:Ve,ExitEditor:ph,Toolbar:hu,onMount:F,CRUDEditor:ju,createStore:mu,uuidv4:qu,ActionEditor:vu,getAuth:Da,isAuthenticated:a,authToken:c,getRoom:vh,deleteRoom:mh,getRoomsValueHelp:gh,getRooms:_h,updateRoom:yh,createRoom:bh,roomsValueHelp:l,config:u,store:h,deleteExit:d,createExit:p,deleteAction:m,createAction:_,exitsToolbar:g,actionsToolbar:y,state:w,$isAuthenticated:i,$authToken:r,$roomsValueHelp:o,$store:s}),e.$inject_state=e=>{"state"in e&&(w=e.state)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{6144&e.$$.dirty&&(w={isAuthenticated:i,authToken:r.slice(0,20)})},[s,a,c,l,u,h,d,m,g,y,w,i,r,o,p,_,function(){s.selectedElement.area=this.value,h.set(s)},function(){s.selectedElement.areaType=this.value,h.set(s)},function(){s.selectedElement.roomType=this.value,h.set(s)},function(){s.selectedElement.coords.x=this.value,h.set(s)},function(){s.selectedElement.coords.y=this.value,h.set(s)},function(){s.selectedElement.coords.z=this.value,h.set(s)}]}class Dh extends Me{constructor(e){super(e),ge(this,e,Ah,$h,d,{}),ye("SvelteRegisterComponent",{component:this,tagName:"RoomsEditor",options:e,id:$h.name})}}function Ih(e,t,n,i){yc.get(`${wc}/items/${t}`,{mode:"no-cors",credentials:"same-origin",headers:{Authorization:"Bearer "+e}}).then(e=>n(e.data)).catch(e=>i(e))}function Ph(e,t,n,i){yc.delete(`${wc}/items/${t}`,{mode:"no-cors",credentials:"same-origin",headers:{Authorization:"Bearer "+e}}).then(e=>n(e.data)).catch(e=>i(e))}function Bh(e,t,n,i){let r="https://talesofapirate.com/api/items";t&&(r+="?",t.forEach(e=>{r+=e.key+"="+e.val})),yc.get(r,{mode:"no-cors",credentials:"same-origin",headers:{Authorization:"Bearer "+e}}).then(e=>n(e.data)).catch(e=>i(e))}function jh(e,t,n,i,r){yc.put(`${wc}/items/${t}`,n,{mode:"no-cors",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}).then(e=>i(e.data)).catch(e=>r(e))}function Hh(e,t,n,i){yc.post(wc+"/items",t,{mode:"no-cors",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}).then(e=>n(e.data)).catch(e=>i(e))}function Wh(e,t){yc.get(wc+"/item-slots").then(t=>e(t.data)).catch(e=>t(e))}function Fh(e,t){yc.get(wc+"/item-qualities").then(t=>e(t.data)).catch(e=>t(e))}function Nh(e,t){yc.get(wc+"/item-types").then(t=>e(t.data)).catch(e=>t(e))}function Uh(e,t){yc.get(wc+"/item-subtypes").then(t=>e(t.data)).catch(e=>t(e))}function qh(e,t,n,i){yc.get(`${wc}/item-templates/${t}`,{mode:"no-cors",credentials:"same-origin",headers:{Authorization:"Bearer "+e}}).then(e=>n(e.data)).catch(e=>i(e))}function zh(e,t,n,i){yc.delete(`${wc}/item-templates/${t}`,{mode:"no-cors",credentials:"same-origin",headers:{Authorization:"Bearer "+e}}).then(e=>n(e.data)).catch(e=>i(e))}function Yh(e,t,n,i){let r=function(e,t){let n=e;if(t){n+="?";let e=0;t.forEach(t=>{e>0&&(n+="&"),n+=t.key+"="+t.val,e++})}return n}("https://talesofapirate.com/api/item-templates",t);yc.get(r,{mode:"no-cors",credentials:"same-origin",headers:{Authorization:"Bearer "+e}}).then(e=>n(e.data)).catch(e=>i(e))}function Vh(e,t,n,i,r){yc.put(`${wc}/item-templates/${t}`,n,{mode:"no-cors",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}).then(e=>i(e.data)).catch(e=>r(e))}function Kh(e,t,n,i){yc.post(wc+"/item-templates",t,{mode:"no-cors",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}).then(e=>n(e.data)).catch(e=>i(e))}const Gh="src/creator/ItemsEditor.svelte";function Xh(e,t,n){const i=e.slice();return i[19]=t[n],i}function Zh(e,t,n){const i=e.slice();return i[22]=t[n],i}function Jh(e,t,n){const i=e.slice();return i[25]=t[n],i}function Qh(e,t,n){const i=e.slice();return i[28]=t[n],i}function ed(e,t,n){const i=e.slice();return i[31]=t[n],i}function td(e){let t,n;const i=new Ae({props:{item:"weapon"},$$inline:!0}),o={c:function(){t=S("span"),pe(i.$$.fragment),ke(t,"slot","hero"),ke(t,"class","col s1 valign-wrapper"),a(t,Gh,93,2,2106)},m:function(e,r){we(e,t,r),ve(i,t,null),n=!0},p:r,i:function(e){n||(le(i.$$.fragment,e),n=!0)},o:function(e){ue(i.$$.fragment,e),n=!1},d:function(e){e&&Ce(t),me(i)}};return ye("SvelteRegisterBlock",{block:o,id:td.name,type:"slot",source:'(94:2) <span slot=\\"hero\\" class=\\"col s1 valign-wrapper\\">',ctx:e}),o}function nd(e){let t,n,i,o=e[31]+"";const s={c:function(){t=S("option"),n=E(o),t.__value=i=e[31],t.value=t.__value,a(t,Gh,103,12,2408)},m:function(e,i){we(e,t,i),be(t,n)},p:r,d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:s,id:nd.name,type:"each",source:"(103:10) {#each levels as lvl}",ctx:e}),s}function id(e){let t,n,i,r=e[28].capitalize()+"";const o={c:function(){t=S("option"),n=E(r),t.__value=i=e[28],t.value=t.__value,a(t,Gh,113,12,2757)},m:function(e,i){we(e,t,i),be(t,n)},p:function(e,o){2&o[0]&&r!==(r=e[28].capitalize()+"")&&xe(n,r),2&o[0]&&i!==(i=e[28])&&Ee(t,"__value",i),t.value=t.__value},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:o,id:id.name,type:"each",source:"(113:10) {#each itemTypes as type}",ctx:e}),o}function rd(e){let t,n,i,r=e[25].capitalize()+"";const o={c:function(){t=S("option"),n=E(r),t.__value=i=e[25],t.value=t.__value,a(t,Gh,123,12,3135)},m:function(e,i){we(e,t,i),be(t,n)},p:function(e,o){4&o[0]&&r!==(r=e[25].capitalize()+"")&&xe(n,r),4&o[0]&&i!==(i=e[25])&&Ee(t,"__value",i),t.value=t.__value},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:o,id:rd.name,type:"each",source:"(123:10) {#each itemSubTypes as subType}",ctx:e}),o}function od(e){let t,n,i,r=e[22].capitalize()+"";const o={c:function(){t=S("option"),n=E(r),t.__value=i=e[22],t.value=t.__value,a(t,Gh,136,12,3567)},m:function(e,i){we(e,t,i),be(t,n)},p:function(e,o){1&o[0]&&r!==(r=e[22].capitalize()+"")&&xe(n,r),1&o[0]&&i!==(i=e[22])&&Ee(t,"__value",i),t.value=t.__value},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:o,id:od.name,type:"each",source:"(136:10) {#each itemQualities as quality}",ctx:e}),o}function sd(e){let t,n,i,r=e[19].capitalize()+"";const o={c:function(){t=S("option"),n=E(r),ke(t,"class","select"),t.__value=i=e[19],t.value=t.__value,a(t,Gh,151,12,4002)},m:function(e,i){we(e,t,i),be(t,n)},p:function(e,o){8&o[0]&&r!==(r=e[19].capitalize()+"")&&xe(n,r),8&o[0]&&i!==(i=e[19])&&Ee(t,"__value",i),t.value=t.__value},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:o,id:sd.name,type:"each",source:"(151:10) {#each itemSlots as slot}",ctx:e}),o}function ad(e){let t,n,i,r,o,s,c,l,h,d,f,p,v,m,_,g,y,b,w,k,E,T,L,M,O,R,$,A,D,P,B,j,H=e[7];Te(H);let W=[];for(let t=0;t<H.length;t+=1)W[t]=nd(ed(e,H,t));let F=e[1];Te(F);let N=[];for(let t=0;t<F.length;t+=1)N[t]=id(Qh(e,F,t));let U=e[2];Te(U);let q=[];for(let t=0;t<U.length;t+=1)q[t]=rd(Jh(e,U,t));let z=e[0];Te(z);let Y=[];for(let t=0;t<z.length;t+=1)Y[t]=od(Zh(e,z,t));let V=e[3];Te(V);let K=[];for(let t=0;t<V.length;t+=1)K[t]=sd(Xh(e,V,t));const G={c:function(){t=S("div"),n=S("div"),i=S("div"),r=S("select");for(let e=0;e<W.length;e+=1)W[e].c();o=x(),s=S("label"),s.textContent="Level",c=x(),l=S("div"),h=S("select"),d=S("option"),d.textContent="Item Type";for(let e=0;e<N.length;e+=1)N[e].c();f=x(),p=S("label"),p.textContent="Select Item Type",v=x(),m=S("div"),_=S("select"),g=S("option"),g.textContent="Item Subtype";for(let e=0;e<q.length;e+=1)q[e].c();y=x(),b=S("label"),b.textContent="Select Item Sub Type",w=x(),k=S("div"),E=S("div"),T=S("select"),L=S("option"),L.textContent="Item Quality";for(let e=0;e<Y.length;e+=1)Y[e].c();M=x(),O=S("label"),O.textContent="Select Item Quality",R=x(),$=S("div"),A=S("select"),D=S("option"),D.textContent="Item Slot";for(let e=0;e<K.length;e+=1)K[e].c();P=x(),B=S("label"),B.textContent="Select Item Slot",void 0===e[4].selectedElement.level&&ee(()=>e[14].call(r)),a(r,Gh,101,8,2301),a(s,Gh,106,8,2489),ke(i,"class","margininput input-field col s1"),a(i,Gh,100,6,2248),d.__value="",d.value=d.__value,d.disabled=!0,d.selected=!0,a(d,Gh,111,10,2655),void 0===e[4].selectedElement.type&&ee(()=>e[15].call(h)),a(h,Gh,110,8,2583),a(p,Gh,116,8,2853),ke(l,"class","margininput input-field col s5"),a(l,Gh,109,6,2530),g.__value="",g.value=g.__value,g.selected=!0,a(g,Gh,121,10,3033),void 0===e[4].selectedElement.subType&&ee(()=>e[16].call(_)),a(_,Gh,120,8,2958),a(b,Gh,126,8,3237),ke(m,"class","margininput input-field col s5"),a(m,Gh,119,6,2905),ke(n,"class","row"),a(n,Gh,98,4,2223),L.__value="",L.value=L.__value,L.disabled=!0,L.selected=!0,a(L,Gh,134,10,3455),void 0===e[4].selectedElement.quality&&ee(()=>e[17].call(T)),a(T,Gh,133,8,3380),a(O,Gh,140,8,3670),ke(E,"class","margininput input-field col s5"),a(E,Gh,132,6,3327),D.__value="",D.value=D.__value,D.selected=!0,a(D,Gh,149,10,3909),ke(A,"class","margininput"),void 0===e[4].selectedElement.slot&&ee(()=>e[18].call(A)),a(A,Gh,144,8,3778),a(B,Gh,154,8,4113),ke($,"class","margininput input-field col s5"),a($,Gh,143,6,3725),ke(k,"class","row"),a(k,Gh,130,4,3302),ke(t,"slot","content"),a(t,Gh,97,2,2198)},m:function(a,C,S){we(a,t,C),be(t,n),be(n,i),be(i,r);for(let e=0;e<W.length;e+=1)W[e].m(r,null);I(r,e[4].selectedElement.level),be(i,o),be(i,s),be(n,c),be(n,l),be(l,h),be(h,d);for(let e=0;e<N.length;e+=1)N[e].m(h,null);I(h,e[4].selectedElement.type),be(l,f),be(l,p),be(n,v),be(n,m),be(m,_),be(_,g);for(let e=0;e<q.length;e+=1)q[e].m(_,null);I(_,e[4].selectedElement.subType),be(m,y),be(m,b),be(t,w),be(t,k),be(k,E),be(E,T),be(T,L);for(let e=0;e<Y.length;e+=1)Y[e].m(T,null);I(T,e[4].selectedElement.quality),be(E,M),be(E,O),be(k,R),be(k,$),be($,A),be(A,D);for(let e=0;e<K.length;e+=1)K[e].m(A,null);I(A,e[4].selectedElement.slot),be($,P),be($,B),S&&u(j),j=[Se(r,"change",e[14]),Se(r,"change",e[13],!1,!1,!1),Se(h,"change",e[15]),Se(h,"change",e[12],!1,!1,!1),Se(_,"change",e[16]),Se(_,"change",e[11],!1,!1,!1),Se(T,"change",e[17]),Se(T,"change",e[10],!1,!1,!1),Se(A,"change",e[18]),Se(A,"change",e[9],!1,!1,!1)]},p:function(e,t){if(128&t[0]){let n;for(H=e[7],Te(H),n=0;n<H.length;n+=1){const i=ed(e,H,n);W[n]?W[n].p(i,t):(W[n]=nd(i),W[n].c(),W[n].m(r,null))}for(;n<W.length;n+=1)W[n].d(1);W.length=H.length}if(16&t[0]&&I(r,e[4].selectedElement.level),2&t[0]){let n;for(F=e[1],Te(F),n=0;n<F.length;n+=1){const i=Qh(e,F,n);N[n]?N[n].p(i,t):(N[n]=id(i),N[n].c(),N[n].m(h,null))}for(;n<N.length;n+=1)N[n].d(1);N.length=F.length}if(16&t[0]&&I(h,e[4].selectedElement.type),4&t[0]){let n;for(U=e[2],Te(U),n=0;n<U.length;n+=1){const i=Jh(e,U,n);q[n]?q[n].p(i,t):(q[n]=rd(i),q[n].c(),q[n].m(_,null))}for(;n<q.length;n+=1)q[n].d(1);q.length=U.length}if(16&t[0]&&I(_,e[4].selectedElement.subType),1&t[0]){let n;for(z=e[0],Te(z),n=0;n<z.length;n+=1){const i=Zh(e,z,n);Y[n]?Y[n].p(i,t):(Y[n]=od(i),Y[n].c(),Y[n].m(T,null))}for(;n<Y.length;n+=1)Y[n].d(1);Y.length=z.length}if(16&t[0]&&I(T,e[4].selectedElement.quality),8&t[0]){let n;for(V=e[3],Te(V),n=0;n<V.length;n+=1){const i=Xh(e,V,n);K[n]?K[n].p(i,t):(K[n]=sd(i),K[n].c(),K[n].m(A,null))}for(;n<K.length;n+=1)K[n].d(1);K.length=V.length}16&t[0]&&I(A,e[4].selectedElement.slot)},d:function(e){e&&Ce(t),C(W,e),C(N,e),C(q,e),C(Y,e),C(K,e),u(j)}};return ye("SvelteRegisterBlock",{block:G,id:ad.name,type:"slot",source:'(98:2) <div slot=\\"content\\">',ctx:e}),G}function cd(e){let t;const n={c:function(){t=x()},m:function(e,n){we(e,t,n)},p:r,i:r,o:r,d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:n,id:cd.name,type:"slot",source:'(92:0) <CRUDEditor store=\\"{store}\\" config=\\"{config}\\">',ctx:e}),n}function ld(e){let t;const n=new ju({props:{store:e[6],config:e[5],$$slots:{default:[cd],content:[ad],hero:[td]},$$scope:{ctx:e}},$$inline:!0}),i={c:function(){pe(n.$$.fragment)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,i){ve(n,e,i),t=!0},p:function(e,t){const i={};31&t[0]|8&t[1]&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i:function(e){t||(le(n.$$.fragment,e),t=!0)},o:function(e){ue(n.$$.fragment,e),t=!1},d:function(e){me(n,e)}};return ye("SvelteRegisterBlock",{block:i,id:ld.name,type:"component",source:"",ctx:e}),i}function ud(e,t,n){let i;const r={title:"Manage Items",actions:[],get:Bh,getElement:Ih,create:Hh,update:jh,delete:Ph,refreshUI:()=>{var e=document.querySelectorAll("select");M.FormSelect.init(e,{});setTimeout((function(){var e=document.querySelectorAll("select");M.FormSelect.init(e,{})}),50)},new:e=>{e({id:qu(),name:"Unnamed Item",description:"",detail:"",type:"",slot:"inventory",quality:"normal",level:1,properties:new Map,attributes:new Map,noPickup:!1,tags:[],isNew:!0})},badge:e=>e.quality+" "+e.subType},o=mu();f(o,"store"),v(e,o,e=>n(4,i=e));let s=[],a=[],c=[],l=[];for(var u=[],h=1;h<=50;h++)u.push(h);F(async()=>{Fh(e=>n(0,s=e)),Nh(e=>n(1,a=e)),Uh(e=>n(2,c=e)),Wh(e=>n(3,l=e))});const d=[];Object.keys(t).forEach(e=>{~d.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<ItemsEditor> was created with unknown prop '${e}'`)});let{$$slots:p={},$$scope:m}=t;return Le("ItemsEditor",p,[]),e.$capture_state=()=>({Sprites:Ae,onMount:F,CRUDEditor:ju,createStore:mu,uuidv4:qu,getItem:Ih,getItems:Bh,createItem:Hh,updateItem:jh,deleteItem:Ph,getItemQualities:Fh,getItemTypes:Nh,getItemSubTypes:Uh,getItemSlots:Wh,config:r,store:o,itemQualities:s,itemTypes:a,itemSubTypes:c,itemSlots:l,levels:u,i:h,$store:i}),e.$inject_state=e=>{"itemQualities"in e&&n(0,s=e.itemQualities),"itemTypes"in e&&n(1,a=e.itemTypes),"itemSubTypes"in e&&n(2,c=e.itemSubTypes),"itemSlots"in e&&n(3,l=e.itemSlots),"levels"in e&&n(7,u=e.levels),"i"in e&&(h=e.i)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[s,a,c,l,i,r,o,u,h,function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(){i.selectedElement.level=P(this),o.set(i),n(7,u)},function(){i.selectedElement.type=P(this),o.set(i),n(7,u)},function(){i.selectedElement.subType=P(this),o.set(i),n(7,u)},function(){i.selectedElement.quality=P(this),o.set(i),n(7,u)},function(){i.selectedElement.slot=P(this),o.set(i),n(7,u)}]}class hd extends Me{constructor(e){super(e),ge(this,e,ud,ld,d,{},[-1,-1]),ye("SvelteRegisterComponent",{component:this,tagName:"ItemsEditor",options:e,id:ld.name})}}const{Object:dd,console:fd}=he,pd="src/creator/ItemTemplatesEditor.svelte";function vd(e,t,n){const i=e.slice();return i[32]=t[n][0],i[33]=t[n][1],i}function md(e,t,n){const i=e.slice();return i[32]=t[n][0],i[33]=t[n][1],i}function _d(e,t,n){const i=e.slice();return i[38]=t[n],i}function gd(e,t,n){const i=e.slice();return i[41]=t[n],i}function yd(e,t,n){const i=e.slice();return i[44]=t[n],i}function bd(e,t,n){const i=e.slice();return i[47]=t[n],i}function wd(e,t,n){const i=e.slice();return i[50]=t[n],i}function Cd(e){let t,n;const i=new Ae({props:{item:"weapon"},$$inline:!0}),o={c:function(){t=S("span"),pe(i.$$.fragment),ke(t,"slot","hero"),ke(t,"class","col s1 valign-wrapper"),a(t,pd,207,2,4795)},m:function(e,r){we(e,t,r),ve(i,t,null),n=!0},p:r,i:function(e){n||(le(i.$$.fragment,e),n=!0)},o:function(e){ue(i.$$.fragment,e),n=!1},d:function(e){e&&Ce(t),me(i)}};return ye("SvelteRegisterBlock",{block:o,id:Cd.name,type:"slot",source:'(208:2) <span slot=\\"hero\\" class=\\"col s1 valign-wrapper\\">',ctx:e}),o}function Sd(e){let t,n,i,o=e[50]+"";const s={c:function(){t=S("option"),n=E(o),t.__value=i=e[50],t.value=t.__value,a(t,pd,217,12,5097)},m:function(e,i){we(e,t,i),be(t,n)},p:r,d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:s,id:Sd.name,type:"each",source:"(217:10) {#each levels as lvl}",ctx:e}),s}function kd(e){let t,n,i,r=e[47].capitalize()+"";const o={c:function(){t=S("option"),n=E(r),t.__value=i=e[47],t.value=t.__value,a(t,pd,227,12,5446)},m:function(e,i){we(e,t,i),be(t,n)},p:function(e,o){8&o[0]&&r!==(r=e[47].capitalize()+"")&&xe(n,r),8&o[0]&&i!==(i=e[47])&&Ee(t,"__value",i),t.value=t.__value},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:o,id:kd.name,type:"each",source:"(227:10) {#each itemTypes as type}",ctx:e}),o}function Ed(e){let t,n,i,r=e[44].capitalize()+"";const o={c:function(){t=S("option"),n=E(r),t.__value=i=e[44],t.value=t.__value,a(t,pd,237,12,5824)},m:function(e,i){we(e,t,i),be(t,n)},p:function(e,o){16&o[0]&&r!==(r=e[44].capitalize()+"")&&xe(n,r),16&o[0]&&i!==(i=e[44])&&Ee(t,"__value",i),t.value=t.__value},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:o,id:Ed.name,type:"each",source:"(237:10) {#each itemSubTypes as subType}",ctx:e}),o}function xd(e){let t,n,i,r=e[41].capitalize()+"";const o={c:function(){t=S("option"),n=E(r),t.__value=i=e[41],t.value=t.__value,a(t,pd,249,12,6255)},m:function(e,i){we(e,t,i),be(t,n)},p:function(e,o){4&o[0]&&r!==(r=e[41].capitalize()+"")&&xe(n,r),4&o[0]&&i!==(i=e[41])&&Ee(t,"__value",i),t.value=t.__value},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:o,id:xd.name,type:"each",source:"(249:10) {#each itemQualities as quality}",ctx:e}),o}function Td(e){let t,n,i,r=e[38].capitalize()+"";const o={c:function(){t=S("option"),n=E(r),ke(t,"class","select"),t.__value=i=e[38],t.value=t.__value,a(t,pd,264,12,6690)},m:function(e,i){we(e,t,i),be(t,n)},p:function(e,o){32&o[0]&&r!==(r=e[38].capitalize()+"")&&xe(n,r),32&o[0]&&i!==(i=e[38])&&Ee(t,"__value",i),t.value=t.__value},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:o,id:Td.name,type:"each",source:"(264:10) {#each itemSlots as slot}",ctx:e}),o}function Ld(e){let t,n,i,r,o,s,c,l,h,d,f,p,v,m,_,g,y,b,w,k,E,T,L,M,O,R,$,D,P,B,j,H,W,F,N,U,q,z,Y=e[9];Te(Y);let V=[];for(let t=0;t<Y.length;t+=1)V[t]=Sd(wd(e,Y,t));let K=e[3];Te(K);let G=[];for(let t=0;t<K.length;t+=1)G[t]=kd(bd(e,K,t));let X=e[4];Te(X);let Z=[];for(let t=0;t<X.length;t+=1)Z[t]=Ed(yd(e,X,t));let J=e[2];Te(J);let Q=[];for(let t=0;t<J.length;t+=1)Q[t]=xd(gd(e,J,t));let te=e[5];Te(te);let ne=[];for(let t=0;t<te.length;t+=1)ne[t]=Td(_d(e,te,t));const ie={c:function(){t=S("div"),n=S("div"),i=S("div"),r=S("select");for(let e=0;e<V.length;e+=1)V[e].c();o=x(),s=S("label"),s.textContent="Level",c=x(),l=S("div"),h=S("select"),d=S("option"),d.textContent="Item Type";for(let e=0;e<G.length;e+=1)G[e].c();f=x(),p=S("label"),p.textContent="Select Item Type",v=x(),m=S("div"),_=S("select"),g=S("option"),g.textContent="Item Subtype";for(let e=0;e<Z.length;e+=1)Z[e].c();y=x(),b=S("label"),b.textContent="Select Item Sub Type",w=x(),k=S("div"),E=S("div"),T=S("select"),L=S("option"),L.textContent="Item Quality";for(let e=0;e<Q.length;e+=1)Q[e].c();M=x(),O=S("label"),O.textContent="Select Item Quality",R=x(),$=S("div"),D=S("select"),P=S("option"),P.textContent="Item Slot";for(let e=0;e<ne.length;e+=1)ne[e].c();B=x(),j=S("label"),j.textContent="Select Item Slot",H=x(),W=S("div"),F=S("div"),N=S("textarea"),U=x(),q=S("label"),q.textContent="Script",void 0===e[6].selectedElement.level&&ee(()=>e[24].call(r)),a(r,pd,215,8,4990),a(s,pd,220,8,5178),ke(i,"class","margininput input-field col s1"),a(i,pd,214,6,4937),d.__value="",d.value=d.__value,d.disabled=!0,d.selected=!0,a(d,pd,225,10,5344),void 0===e[6].selectedElement.type&&ee(()=>e[25].call(h)),a(h,pd,224,8,5272),a(p,pd,230,8,5542),ke(l,"class","margininput input-field col s5"),a(l,pd,223,6,5219),g.__value="",g.value=g.__value,g.selected=!0,a(g,pd,235,10,5722),void 0===e[6].selectedElement.subType&&ee(()=>e[26].call(_)),a(_,pd,234,8,5647),a(b,pd,240,8,5926),ke(m,"class","margininput input-field col s5"),a(m,pd,233,6,5594),ke(n,"class","row"),a(n,pd,212,4,4912),L.__value="",L.value=L.__value,L.disabled=!0,L.selected=!0,a(L,pd,247,10,6143),void 0===e[6].selectedElement.quality&&ee(()=>e[27].call(T)),a(T,pd,246,8,6068),a(O,pd,253,8,6358),ke(E,"class","margininput input-field col s5"),a(E,pd,245,6,6015),P.__value="",P.value=P.__value,P.selected=!0,a(P,pd,262,10,6597),ke(D,"class","margininput"),void 0===e[6].selectedElement.slot&&ee(()=>e[28].call(D)),a(D,pd,257,8,6466),a(j,pd,267,8,6801),ke($,"class","margininput input-field col s5"),a($,pd,256,6,6413),ke(k,"class","row"),a(k,pd,244,4,5991),ke(N,"placeholder","Script ID"),ke(N,"id","itemTemplate_script"),ke(N,"type","text"),ke(N,"class","materialize-textarea"),a(N,pd,273,8,6920),ke(q,"class","active"),ke(q,"for","itemTemplate_script"),a(q,pd,280,8,7144),ke(F,"class","input-field"),a(F,pd,272,6,6886),ke(W,"class","row"),a(W,pd,271,4,6862),ke(t,"slot","content"),a(t,pd,211,2,4887)},m:function(a,C,S){we(a,t,C),be(t,n),be(n,i),be(i,r);for(let e=0;e<V.length;e+=1)V[e].m(r,null);I(r,e[6].selectedElement.level),be(i,o),be(i,s),be(n,c),be(n,l),be(l,h),be(h,d);for(let e=0;e<G.length;e+=1)G[e].m(h,null);I(h,e[6].selectedElement.type),be(l,f),be(l,p),be(n,v),be(n,m),be(m,_),be(_,g);for(let e=0;e<Z.length;e+=1)Z[e].m(_,null);I(_,e[6].selectedElement.subType),be(m,y),be(m,b),be(t,w),be(t,k),be(k,E),be(E,T),be(T,L);for(let e=0;e<Q.length;e+=1)Q[e].m(T,null);I(T,e[6].selectedElement.quality),be(E,M),be(E,O),be(k,R),be(k,$),be($,D),be(D,P);for(let e=0;e<ne.length;e+=1)ne[e].m(D,null);I(D,e[6].selectedElement.slot),be($,B),be($,j),be(t,H),be(t,W),be(W,F),be(F,N),A(N,e[6].selectedElement.script),be(F,U),be(F,q),S&&u(z),z=[Se(r,"change",e[24]),Se(r,"change",e[21],!1,!1,!1),Se(h,"change",e[25]),Se(h,"change",e[20],!1,!1,!1),Se(_,"change",e[26]),Se(_,"change",e[19],!1,!1,!1),Se(T,"change",e[27]),Se(T,"change",e[18],!1,!1,!1),Se(D,"change",e[28]),Se(D,"change",e[17],!1,!1,!1),Se(N,"input",e[29])]},p:function(e,t){if(512&t[0]){let n;for(Y=e[9],Te(Y),n=0;n<Y.length;n+=1){const i=wd(e,Y,n);V[n]?V[n].p(i,t):(V[n]=Sd(i),V[n].c(),V[n].m(r,null))}for(;n<V.length;n+=1)V[n].d(1);V.length=Y.length}if(64&t[0]&&I(r,e[6].selectedElement.level),8&t[0]){let n;for(K=e[3],Te(K),n=0;n<K.length;n+=1){const i=bd(e,K,n);G[n]?G[n].p(i,t):(G[n]=kd(i),G[n].c(),G[n].m(h,null))}for(;n<G.length;n+=1)G[n].d(1);G.length=K.length}if(64&t[0]&&I(h,e[6].selectedElement.type),16&t[0]){let n;for(X=e[4],Te(X),n=0;n<X.length;n+=1){const i=yd(e,X,n);Z[n]?Z[n].p(i,t):(Z[n]=Ed(i),Z[n].c(),Z[n].m(_,null))}for(;n<Z.length;n+=1)Z[n].d(1);Z.length=X.length}if(64&t[0]&&I(_,e[6].selectedElement.subType),4&t[0]){let n;for(J=e[2],Te(J),n=0;n<J.length;n+=1){const i=gd(e,J,n);Q[n]?Q[n].p(i,t):(Q[n]=xd(i),Q[n].c(),Q[n].m(T,null))}for(;n<Q.length;n+=1)Q[n].d(1);Q.length=J.length}if(64&t[0]&&I(T,e[6].selectedElement.quality),32&t[0]){let n;for(te=e[5],Te(te),n=0;n<te.length;n+=1){const i=_d(e,te,n);ne[n]?ne[n].p(i,t):(ne[n]=Td(i),ne[n].c(),ne[n].m(D,null))}for(;n<ne.length;n+=1)ne[n].d(1);ne.length=te.length}64&t[0]&&I(D,e[6].selectedElement.slot),64&t[0]&&A(N,e[6].selectedElement.script)},d:function(e){e&&Ce(t),C(V,e),C(G,e),C(Z,e),C(Q,e),C(ne,e),u(z)}};return ye("SvelteRegisterBlock",{block:ie,id:Ld.name,type:"slot",source:'(212:2) <div slot=\\"content\\">',ctx:e}),ie}function Md(e){let t,n,i,r,o,s,c,l,u,h=Object.entries(e[6].selectedElement.attributes);Te(h);let d=[];for(let t=0;t<h.length;t+=1)d[t]=$d(md(e,h,t));const f={c:function(){t=S("div"),n=S("table"),i=S("thead"),r=S("tr"),o=S("th"),o.textContent="Attribute",s=x(),c=S("th"),c.textContent="Value",l=x(),u=S("tbody");for(let e=0;e<d.length;e+=1)d[e].c();a(o,pd,295,14,7475),a(c,pd,296,14,7508),a(r,pd,294,12,7456),a(i,pd,293,10,7436),a(u,pd,299,10,7570),a(n,pd,292,8,7418),ke(t,"class","card-panel blue-grey darken-3"),a(t,pd,291,6,7366)},m:function(e,a){we(e,t,a),be(t,n),be(n,i),be(i,r),be(r,o),be(r,s),be(r,c),be(n,l),be(n,u);for(let e=0;e<d.length;e+=1)d[e].m(u,null)},p:function(e,t){if(64&t[0]){let n;for(h=Object.entries(e[6].selectedElement.attributes),Te(h),n=0;n<h.length;n+=1){const i=md(e,h,n);d[n]?d[n].p(i,t):(d[n]=$d(i),d[n].c(),d[n].m(u,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=h.length}},d:function(e){e&&Ce(t),C(d,e)}};return ye("SvelteRegisterBlock",{block:f,id:Md.name,type:"if",source:"(291:4) {#if $store.selectedElement.attributes}",ctx:e}),f}function Od(e){let t,n,i=e[32]+"";const r={c:function(){t=S("td"),n=E(i),a(t,pd,311,18,7992)},m:function(e,i){we(e,t,i),be(t,n)},p:function(e,t){64&t[0]&&i!==(i=e[32]+"")&&xe(n,i)},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:r,id:Od.name,type:"else",source:"(311:16) {:else}",ctx:e}),r}function Rd(e){let t,n,i,r;function o(){e[30].call(t,e[32])}const s={c:function(){t=S("input"),ke(t,"placeholder",n=e[32]),ke(t,"id",i=e[32]+"-input-"),ke(t,"type","text"),a(t,pd,304,18,7738)},m:function(n,i,s){we(n,t,i),A(t,e[6].selectedElement.attributes[e[32]]),s&&r(),r=Se(t,"input",o)},p:function(r,o){e=r,64&o[0]&&n!==(n=e[32])&&ke(t,"placeholder",n),64&o[0]&&i!==(i=e[32]+"-input-")&&ke(t,"id",i),64&o[0]&&t.value!==e[6].selectedElement.attributes[e[32]]&&A(t,e[6].selectedElement.attributes[e[32]])},d:function(e){e&&Ce(t),r()}};return ye("SvelteRegisterBlock",{block:s,id:Rd.name,type:"if",source:"(304:16) {#if key === 'new'}",ctx:e}),s}function $d(e){let t,n,i,r,o,s,c,l;function u(e,t){return"new"===e[32]?Rd:Od}let h=u(e),d=h(e);function f(){e[31].call(r,e[32])}const p={c:function(){t=S("tr"),d.c(),n=x(),i=S("td"),r=S("input"),c=x(),ke(r,"placeholder",o=e[32]),ke(r,"id",s=e[32]+"-input"),ke(r,"type","text"),a(r,pd,315,18,8069),a(i,pd,314,16,8046),a(t,pd,301,14,7678)},m:function(o,s,a){we(o,t,s),d.m(t,null),be(t,n),be(t,i),be(i,r),A(r,e[6].selectedElement.attributes[e[32]]),be(t,c),a&&l(),l=Se(r,"input",f)},p:function(i,a){h===(h=u(e=i))&&d?d.p(e,a):(d.d(1),d=h(e),d&&(d.c(),d.m(t,n))),64&a[0]&&o!==(o=e[32])&&ke(r,"placeholder",o),64&a[0]&&s!==(s=e[32]+"-input")&&ke(r,"id",s),64&a[0]&&r.value!==e[6].selectedElement.attributes[e[32]]&&A(r,e[6].selectedElement.attributes[e[32]])},d:function(e){e&&Ce(t),d.d(),l()}};return ye("SvelteRegisterBlock",{block:p,id:$d.name,type:"each",source:"(301:12) {#each Object.entries($store.selectedElement.attributes) as [key, value]}",ctx:e}),p}function Ad(e){let t,n,i,r,o,s,c,l,u,h=Object.entries(e[6].selectedElement.properties);Te(h);let d=[];for(let t=0;t<h.length;t+=1)d[t]=Dd(vd(e,h,t));const f={c:function(){t=S("div"),n=S("table"),i=S("thead"),r=S("tr"),o=S("th"),o.textContent="Property",s=x(),c=S("th"),c.textContent="Value",l=x(),u=S("tbody");for(let e=0;e<d.length;e+=1)d[e].c();a(o,pd,335,14,8607),a(c,pd,336,14,8639),a(r,pd,334,12,8588),a(i,pd,333,10,8568),a(u,pd,339,10,8701),a(n,pd,332,8,8550),ke(t,"class","card-panel blue-grey darken-3"),a(t,pd,331,6,8498)},m:function(e,a){we(e,t,a),be(t,n),be(n,i),be(i,r),be(r,o),be(r,s),be(r,c),be(n,l),be(n,u);for(let e=0;e<d.length;e+=1)d[e].m(u,null)},p:function(e,t){if(64&t[0]){let n;for(h=Object.entries(e[6].selectedElement.properties),Te(h),n=0;n<h.length;n+=1){const i=vd(e,h,n);d[n]?d[n].p(i,t):(d[n]=Dd(i),d[n].c(),d[n].m(u,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=h.length}},d:function(e){e&&Ce(t),C(d,e)}};return ye("SvelteRegisterBlock",{block:f,id:Ad.name,type:"if",source:"(331:4) {#if $store.selectedElement.properties}",ctx:e}),f}function Dd(e){let t,n,i,r,o,s,c,l=e[32]+"",u=e[33]+"";const h={c:function(){t=S("tr"),n=S("td"),i=E(l),r=x(),o=S("td"),s=E(u),c=x(),a(n,pd,342,16,8830),a(o,pd,343,16,8861),a(t,pd,341,14,8809)},m:function(e,a){we(e,t,a),be(t,n),be(n,i),be(t,r),be(t,o),be(o,s),be(t,c)},p:function(e,t){64&t[0]&&l!==(l=e[32]+"")&&xe(i,l),64&t[0]&&u!==(u=e[33]+"")&&xe(s,u)},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:h,id:Dd.name,type:"each",source:"(341:12) {#each Object.entries($store.selectedElement.properties) as [key, value]}",ctx:e}),h}function Id(e){let t,n,i,r,o;const s=new hu({props:{toolbar:e[12]},$$inline:!0});let c=e[6].selectedElement.attributes&&Md(e);const l=new hu({props:{toolbar:e[13]},$$inline:!0});let u=e[6].selectedElement.properties&&Ad(e);const h={c:function(){t=S("div"),pe(s.$$.fragment),n=x(),c&&c.c(),i=x(),pe(l.$$.fragment),r=x(),u&&u.c(),ke(t,"slot","extensions"),a(t,pd,286,2,7244)},m:function(e,a){we(e,t,a),ve(s,t,null),be(t,n),c&&c.m(t,null),be(t,i),ve(l,t,null),be(t,r),u&&u.m(t,null),o=!0},p:function(e,n){e[6].selectedElement.attributes?c?c.p(e,n):(c=Md(e),c.c(),c.m(t,i)):c&&(c.d(1),c=null),e[6].selectedElement.properties?u?u.p(e,n):(u=Ad(e),u.c(),u.m(t,null)):u&&(u.d(1),u=null)},i:function(e){o||(le(s.$$.fragment,e),le(l.$$.fragment,e),o=!0)},o:function(e){ue(s.$$.fragment,e),ue(l.$$.fragment,e),o=!1},d:function(e){e&&Ce(t),me(s),c&&c.d(),me(l),u&&u.d()}};return ye("SvelteRegisterBlock",{block:h,id:Id.name,type:"slot",source:'(287:2) <div slot=\\"extensions\\">',ctx:e}),h}function Pd(e){let t,n;const i={c:function(){t=x(),n=x()},m:function(e,i){we(e,t,i),we(e,n,i)},p:r,i:r,o:r,d:function(e){e&&Ce(t),e&&Ce(n)}};return ye("SvelteRegisterBlock",{block:i,id:Pd.name,type:"slot",source:'(206:0) <CRUDEditor store=\\"{store}\\" config=\\"{config}\\">',ctx:e}),i}function Bd(e){let t,n,i,r,o,s,c,l,h,d,f,p,v,m,_,g,y,b,w,C;const k=new ju({props:{store:e[8],config:e[7],$$slots:{default:[Pd],extensions:[Id],content:[Ld],hero:[Cd]},$$scope:{ctx:e}},$$inline:!0}),E={c:function(){t=S("div"),n=S("div"),i=S("h5"),i.textContent="New Attribute",r=x(),o=S("input"),s=x(),c=S("div"),l=S("a"),l.textContent="Create Attribute",h=x(),d=S("div"),f=S("div"),p=S("h5"),p.textContent="New Property",v=x(),m=S("input"),_=x(),g=S("div"),y=S("a"),y.textContent="Create Property",b=x(),pe(k.$$.fragment),D(i,"color","#333"),a(i,pd,165,4,3901),D(o,"color","#333"),ke(o,"placeholder","Attribute Name"),ke(o,"type","text"),a(o,pd,166,4,3949),ke(n,"class","modal-content"),a(n,pd,164,2,3869),ke(l,"href","#!"),ke(l,"class","modal-close waves-effect waves-green btn-flat"),a(l,pd,174,4,4123),ke(c,"class","modal-footer"),a(c,pd,173,2,4092),ke(t,"id","attributeModal"),ke(t,"class","modal"),a(t,pd,163,0,3827),D(p,"color","#333"),a(p,pd,186,4,4362),D(m,"color","#333"),ke(m,"placeholder","Property Name"),ke(m,"type","text"),a(m,pd,187,4,4409),ke(f,"class","modal-content"),a(f,pd,185,2,4330),ke(y,"href","#!"),ke(y,"class","modal-close waves-effect waves-green btn-flat"),a(y,pd,195,4,4581),ke(g,"class","modal-footer"),a(g,pd,194,2,4550),ke(d,"id","propertyModal"),ke(d,"class","modal"),a(d,pd,184,0,4289)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(a,S,E){we(a,t,S),be(t,n),be(n,i),be(n,r),be(n,o),A(o,e[1]),be(t,s),be(t,c),be(c,l),we(a,h,S),we(a,d,S),be(d,f),be(f,p),be(f,v),be(f,m),A(m,e[0]),be(d,_),be(d,g),be(g,y),we(a,b,S),ve(k,a,S),w=!0,E&&u(C),C=[Se(o,"input",e[22]),Se(l,"click",e[10],!1,!1,!1),Se(m,"input",e[23]),Se(y,"click",e[11],!1,!1,!1)]},p:function(e,t){2&t[0]&&o.value!==e[1]&&A(o,e[1]),1&t[0]&&m.value!==e[0]&&A(m,e[0]);const n={};124&t[0]|4194304&t[1]&&(n.$$scope={dirty:t,ctx:e}),k.$set(n)},i:function(e){w||(le(k.$$.fragment,e),w=!0)},o:function(e){ue(k.$$.fragment,e),w=!1},d:function(e){e&&Ce(t),e&&Ce(h),e&&Ce(d),e&&Ce(b),me(k,e),u(C)}};return ye("SvelteRegisterBlock",{block:E,id:Bd.name,type:"component",source:"",ctx:e}),E}function jd(e,t,n){let i,r="",o="";const s={title:"Manage Item Templates",actions:[{icon:"add",name:"Item from Template",color:"",fnc:()=>{console.log("Create new template for id "+i.selectedElement.id)}}],get:Yh,getElement:qh,create:Kh,update:Vh,delete:zh,refreshUI:()=>{var e=document.querySelectorAll("select");M.FormSelect.init(e,{});setTimeout((function(){M.AutoInit();var e=document.querySelectorAll("select");M.FormSelect.init(e,{})}),50)},new:e=>{e({id:qu(),name:"Unnamed Item",description:"",detail:"",type:"",slot:"inventory",quality:"normal",level:1,properties:new Map,attributes:new Map,noPickup:!1,tags:[],isNew:!0})},badge:e=>e.quality+" "+e.subType},a=mu();f(a,"store"),v(e,a,e=>n(6,i=e));let c=[],l=[],u=[],h=[];for(var d=[],p=1;p<=50;p++)d.push(p);F(async()=>{Fh(e=>n(2,c=e)),Nh(e=>n(3,l=e)),Uh(e=>n(4,u=e)),Wh(e=>n(5,h=e))});const m=()=>{var e=document.getElementById("attributeModal");M.Modal.init(e,{}).open()},_=()=>{var e=document.getElementById("propertyModal");M.Modal.init(e,{}).open()},g=()=>{a.update(e=>(null==e.selectedElement.attributes&&(e.selectedElement.attributes={}),e.selectedElement.attributes[o]="value",e)),s.refreshUI()},y=()=>{a.update(e=>(null==e.selectedElement.properties&&(e.selectedElement.properties={}),e.selectedElement.properties[r]="value",e)),s.refreshUI()},b={title:"Attributes",small:!0,actions:[{icon:"add",fnc:()=>{m()}}]},w={title:"Properties",small:!0,actions:[{icon:"add",fnc:()=>{_()}}]},C=[];dd.keys(t).forEach(e=>{~C.indexOf(e)||"$$"===e.slice(0,2)||fd.warn(`<ItemTemplatesEditor> was created with unknown prop '${e}'`)});let{$$slots:S={},$$scope:k}=t;return Le("ItemTemplatesEditor",S,[]),e.$capture_state=()=>({Toolbar:hu,Sprites:Ae,onMount:F,CRUDEditor:ju,createStore:mu,uuidv4:qu,getItemTemplate:qh,getItemTemplates:Yh,createItemTemplate:Kh,updateItemTemplate:Vh,deleteItemTemplate:zh,getItemTypes:Nh,getItemSubTypes:Uh,getItemSlots:Wh,getItemQualities:Fh,newPropertyName:r,newAttributeName:o,config:s,store:a,itemQualities:c,itemTypes:l,itemSubTypes:u,itemSlots:h,levels:d,i:p,openNewAttributeModal:m,openNewPropertyModal:_,addAttribute:g,addProperty:y,attributesToolbar:b,propertiesToolbar:w,$store:i}),e.$inject_state=e=>{"newPropertyName"in e&&n(0,r=e.newPropertyName),"newAttributeName"in e&&n(1,o=e.newAttributeName),"itemQualities"in e&&n(2,c=e.itemQualities),"itemTypes"in e&&n(3,l=e.itemTypes),"itemSubTypes"in e&&n(4,u=e.itemSubTypes),"itemSlots"in e&&n(5,h=e.itemSlots),"levels"in e&&n(9,d=e.levels),"i"in e&&(p=e.i)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[r,o,c,l,u,h,i,s,a,d,g,y,b,w,p,m,_,function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(){o=this.value,n(1,o)},function(){r=this.value,n(0,r)},function(){i.selectedElement.level=P(this),a.set(i),n(9,d)},function(){i.selectedElement.type=P(this),a.set(i),n(9,d)},function(){i.selectedElement.subType=P(this),a.set(i),n(9,d)},function(){i.selectedElement.quality=P(this),a.set(i),n(9,d)},function(){i.selectedElement.slot=P(this),a.set(i),n(9,d)},function(){i.selectedElement.script=this.value,a.set(i),n(9,d)},function(e){i.selectedElement.attributes[e]=this.value,a.set(i),n(9,d)},function(e){i.selectedElement.attributes[e]=this.value,a.set(i),n(9,d)}]}class Hd extends Me{constructor(e){super(e),ge(this,e,jd,Bd,d,{},[-1,-1]),ye("SvelteRegisterComponent",{component:this,tagName:"ItemTemplatesEditor",options:e,id:Bd.name})}}function Wd(e,t,n){yc.get(wc+"/world/map",{mode:"no-cors",credentials:"same-origin",headers:{Authorization:"Bearer "+e}}).then(e=>t(e.data)).catch(e=>n(e))}const{console:Fd}=he,Nd="src/creator/WorldEditor.svelte";function Ud(e){let t,n;const i={c:function(){t=S("img"),ke(t,"class","responsive-img z-depth-3"),t.src!==(n=e[0])&&ke(t,"src",n),ke(t,"alt","world map"),a(t,Nd,52,4,940)},m:function(e,n){we(e,t,n)},p:function(e,i){1&i&&t.src!==(n=e[0])&&ke(t,"src",n)},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:i,id:Ud.name,type:"if",source:"(52:2) {#if $isAuthenticated}",ctx:e}),i}function qd(e){let t,n,i,o=e[1]&&Ud(e);const s={c:function(){t=S("div"),n=S("h4"),n.textContent="Map of Rooms",i=x(),o&&o.c(),a(n,Nd,50,2,889),ke(t,"class","row"),a(t,Nd,49,0,869)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){we(e,t,r),be(t,n),be(t,i),o&&o.m(t,null)},p:function(e,[n]){e[1]?o?o.p(e,n):(o=Ud(e),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},i:r,o:r,d:function(e){e&&Ce(t),o&&o.d()}};return ye("SvelteRegisterBlock",{block:s,id:qd.name,type:"component",source:"",ctx:e}),s}function zd(e,t,n){let i,r,o,s,a,c,{location:l}=t;const{isLoading:u,isAuthenticated:h,login:d,logout:p,authToken:m,authError:_,userInfo:g}=Da();f(u,"isLoading"),v(e,u,e=>n(9,i=e)),f(h,"isAuthenticated"),v(e,h,e=>n(1,r=e)),f(m,"authToken"),v(e,m,e=>n(12,a=e)),f(_,"authError"),v(e,_,e=>n(10,o=e)),f(g,"userInfo"),v(e,g,e=>n(11,s=e)),F(async()=>{});const y=["location"];Object.keys(t).forEach(e=>{~y.indexOf(e)||"$$"===e.slice(0,2)||Fd.warn(`<WorldEditor> was created with unknown prop '${e}'`)});let b,{$$slots:w={},$$scope:C}=t;return Le("WorldEditor",w,[]),e.$set=e=>{"location"in e&&n(7,l=e.location)},e.$capture_state=()=>({writable:Ve,onMount:F,createAuth:Aa,getAuth:Da,getWorldMap:Wd,axios:yc,location:l,img:c,isLoading:u,isAuthenticated:h,login:d,logout:p,authToken:m,authError:_,userInfo:g,state:b,$isLoading:i,$isAuthenticated:r,$authError:o,$userInfo:s,$authToken:a}),e.$inject_state=e=>{"location"in e&&n(7,l=e.location),"img"in e&&n(0,c=e.img),"state"in e&&(b=e.state)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{7682&e.$$.dirty&&(b={isLoading:i,isAuthenticated:r,authError:o,userInfo:s?s.name:null,authToken:a.slice(0,20)}),4610&e.$$.dirty&&!i&&r&&m&&Wd(a,e=>{n(0,c=e)},e=>console.log(e))},[c,r,u,h,m,_,g,l]}class Yd extends Me{constructor(e){super(e),ge(this,e,zd,qd,d,{location:7}),ye("SvelteRegisterComponent",{component:this,tagName:"WorldEditor",options:e,id:qd.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[7]||"location"in n||Fd.warn("<WorldEditor> was created without expected prop 'location'")}get location(){throw new Error("<WorldEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set location(e){throw new Error("<WorldEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Vd=function(){const{subscribe:e,set:t,update:n}=Ve({name:"marcus",loggedIn:!1});return{subscribe:e,logIn:()=>n(e=>(e.loggedIn=!0,e)),logOut:()=>n(e=>(e.loggedIn=!1,e))}}(),Kd=function(){const{subscribe:e,set:t,update:n}=Ve({active:!1,entries:[{name:"Item1"}]});return{subscribe:e,show:()=>n(e=>(e.active=!0,e)),hide:()=>n(e=>(e.active=!1,e)),setItems:e=>{n(t=>(t.entries=e,t))}}}();function Gd(e){let t,n,i,o,s,c;const l=new Wt({props:{path:"/rooms",component:Dh},$$inline:!0}),u=new Wt({props:{path:"/items",component:hd},$$inline:!0}),h=new Wt({props:{path:"/world",component:Yd},$$inline:!0}),d=new Wt({props:{path:"/item-templates",component:Hd},$$inline:!0}),f=new Wt({props:{path:"/scripts",component:lh},$$inline:!0}),p={c:function(){t=S("row"),pe(l.$$.fragment),n=x(),pe(u.$$.fragment),i=x(),pe(h.$$.fragment),o=x(),pe(d.$$.fragment),s=x(),pe(f.$$.fragment),a(t,"src/creator/Creator.svelte",59,2,1268)},m:function(e,r){we(e,t,r),ve(l,t,null),be(t,n),ve(u,t,null),be(t,i),ve(h,t,null),be(t,o),ve(d,t,null),be(t,s),ve(f,t,null),c=!0},p:r,i:function(e){c||(le(l.$$.fragment,e),le(u.$$.fragment,e),le(h.$$.fragment,e),le(d.$$.fragment,e),le(f.$$.fragment,e),c=!0)},o:function(e){ue(l.$$.fragment,e),ue(u.$$.fragment,e),ue(h.$$.fragment,e),ue(d.$$.fragment,e),ue(f.$$.fragment,e),c=!1},d:function(e){e&&Ce(t),me(l),me(u),me(h),me(d),me(f)}};return ye("SvelteRegisterBlock",{block:p,id:Gd.name,type:"slot",source:"(59:0) <Router>",ctx:e}),p}function Xd(e){let t;const n=new Tt({props:{$$slots:{default:[Gd]},$$scope:{ctx:e}},$$inline:!0}),i={c:function(){pe(n.$$.fragment)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,i){ve(n,e,i),t=!0},p:function(e,[t]){const i={};1&t&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i:function(e){t||(le(n.$$.fragment,e),t=!0)},o:function(e){ue(n.$$.fragment,e),t=!1},d:function(e){me(n,e)}};return ye("SvelteRegisterBlock",{block:i,id:Xd.name,type:"component",source:"",ctx:e}),i}function Zd(e,t,n){F(async()=>{var e=document.querySelectorAll(".tabs");M.Tabs.init(e);document.body.style.backgroundImage="",Kd.setItems([{name:"ROOMS",nav:"/creator/rooms"},{name:"ITEMS",nav:"/creator/items"},{name:"ITEM TEMPLATES",nav:"/creator/item-templates"},{name:"SCRIPTS",nav:"/creator/scripts"},{name:"WORLD",nav:"/creator/world"}]),Kd.show()}),U(async()=>{Kd.hide()});const i=[];Object.keys(t).forEach(e=>{~i.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<Creator> was created with unknown prop '${e}'`)});let{$$slots:r={},$$scope:o}=t;return Le("Creator",r,[]),e.$capture_state=()=>({ScriptsEditor:lh,RoomsEditor:Dh,ItemsEditor:hd,ItemTemplatesEditor:Hd,WorldEditor:Yd,Router:Tt,Route:Wt,Link:Yt,writable:Ve,onMount:F,onDestroy:U,subMenu:Kd,axios:yc}),[]}class Jd extends Me{constructor(e){super(e),ge(this,e,Zd,Xd,d,{}),ye("SvelteRegisterComponent",{component:this,tagName:"Creator",options:e,id:Xd.name})}}const Qd="src/characters/CharacterScore.svelte";function ef(e){let t,n,i,o,s,c,l,u,h,d,f,p,v,m,_,g,y,b,w=e[2].name+"";const C={c:function(){t=S("div"),n=S("div"),i=S("img"),s=x(),c=S("span"),l=E(e[0]),u=x(),h=S("span"),d=E("LVL "),f=E(e[1]),p=E(" - "),v=E(w),m=S("br"),_=x(),g=S("span"),y=E(e[3]),b=E(" XP"),i.src!==(o=e[4]())&&ke(i,"src",o),ke(i,"alt",""),D(i,"margin-top","-70px"),ke(i,"class","circle img z-depth-2 svelte-1u9ghya"),a(i,Qd,40,4,814),ke(c,"class","card-title svelte-1u9ghya"),a(c,Qd,42,4,906),ke(h,"class","card-content"),a(h,Qd,43,4,949),a(m,Qd,43,65,1010),ke(g,"class","card-content"),a(g,Qd,44,4,1019),ke(n,"class","card-content white-text"),a(n,Qd,38,2,771),ke(t,"class","card blue-grey darken-2 hoverable characterCard center-align svelte-1u9ghya"),D(t,"margin-top","50px"),a(t,Qd,37,0,669)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){we(e,t,r),be(t,n),be(n,i),be(n,s),be(n,c),be(c,l),be(n,u),be(n,h),be(h,d),be(h,f),be(h,p),be(h,v),be(n,m),be(n,_),be(n,g),be(g,y),be(g,b)},p:function(e,[t]){1&t&&xe(l,e[0]),2&t&&xe(f,e[1]),4&t&&w!==(w=e[2].name+"")&&xe(v,w),8&t&&xe(y,e[3])},i:r,o:r,d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:C,id:ef.name,type:"component",source:"",ctx:e}),C}function tf(e,t,n){let{name:i}=t,{level:r}=t,{cclass:o}=t,{xp:s}=t;function a(){return bn(created).format("MMMM Do YYYY, h:mm:ss a")}function c(){return"img/avatars/"+(1+Math.abs(i.hashCode()%12))+"p.png"}const l=["name","level","cclass","xp"];Object.keys(t).forEach(e=>{~l.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<CharacterScore> was created with unknown prop '${e}'`)});let{$$slots:u={},$$scope:h}=t;return Le("CharacterScore",u,[]),e.$set=e=>{"name"in e&&n(0,i=e.name),"level"in e&&n(1,r=e.level),"cclass"in e&&n(2,o=e.cclass),"xp"in e&&n(3,s=e.xp)},e.$capture_state=()=>({MediaQuery:gn,fade:yn,moment:bn,name:i,level:r,cclass:o,xp:s,formattedDate:a,avatar:c}),e.$inject_state=e=>{"name"in e&&n(0,i=e.name),"level"in e&&n(1,r=e.level),"cclass"in e&&n(2,o=e.cclass),"xp"in e&&n(3,s=e.xp)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[i,r,o,s,c]}class nf extends Me{constructor(e){super(e),ge(this,e,tf,ef,d,{name:0,level:1,cclass:2,xp:3}),ye("SvelteRegisterComponent",{component:this,tagName:"CharacterScore",options:e,id:ef.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"name"in n||console.warn("<CharacterScore> was created without expected prop 'name'"),void 0!==t[1]||"level"in n||console.warn("<CharacterScore> was created without expected prop 'level'"),void 0!==t[2]||"cclass"in n||console.warn("<CharacterScore> was created without expected prop 'cclass'"),void 0!==t[3]||"xp"in n||console.warn("<CharacterScore> was created without expected prop 'xp'")}get name(){throw new Error("<CharacterScore>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set name(e){throw new Error("<CharacterScore>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get level(){throw new Error("<CharacterScore>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set level(e){throw new Error("<CharacterScore>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get cclass(){throw new Error("<CharacterScore>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set cclass(e){throw new Error("<CharacterScore>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get xp(){throw new Error("<CharacterScore>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set xp(e){throw new Error("<CharacterScore>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:rf}=he,of="src/characters/Characters.svelte";function sf(e,t,n){const i=e.slice();return i[16]=t[n],i}function af(e,t,n){const i=e.slice();return i[16]=t[n],i}function cf(e){let t,n,i;const r=new nf({props:{name:e[16].name,level:e[16].level,xp:e[16].xp,cclass:e[16].class},$$inline:!0}),o={c:function(){t=S("div"),pe(r.$$.fragment),n=x(),ke(t,"class","col s3"),a(t,of,57,6,1127)},m:function(e,o){we(e,t,o),ve(r,t,null),be(t,n),i=!0},p:function(e,t){const n={};2&t&&(n.name=e[16].name),2&t&&(n.level=e[16].level),2&t&&(n.xp=e[16].xp),2&t&&(n.cclass=e[16].class),r.$set(n)},i:function(e){i||(le(r.$$.fragment,e),i=!0)},o:function(e){ue(r.$$.fragment,e),i=!1},d:function(e){e&&Ce(t),me(r)}};return ye("SvelteRegisterBlock",{block:o,id:cf.name,type:"each",source:"(57:4) {#each topTen as character}",ctx:e}),o}function lf(e){let t,n,i,r,o,s,c,l,u,h,d,f,p,v,m,_,g=e[16].level+"",y=e[16].name+"",b=e[16].class.name+"",w=e[16].description+"",C=e[16].xp+"";const k={c:function(){t=S("tr"),n=S("td"),i=E(g),r=x(),o=S("td"),s=E(y),c=x(),l=S("td"),u=E(b),h=x(),d=S("td"),f=E(w),p=x(),v=S("td"),m=E(C),_=x(),a(n,of,84,12,1635),a(o,of,85,12,1674),a(l,of,86,12,1712),a(d,of,87,12,1756),a(v,of,88,12,1801),a(t,of,83,10,1618)},m:function(e,a){we(e,t,a),be(t,n),be(n,i),be(t,r),be(t,o),be(o,s),be(t,c),be(t,l),be(l,u),be(t,h),be(t,d),be(d,f),be(t,p),be(t,v),be(v,m),be(t,_)},p:function(e,t){1&t&&g!==(g=e[16].level+"")&&xe(i,g),1&t&&y!==(y=e[16].name+"")&&xe(s,y),1&t&&b!==(b=e[16].class.name+"")&&xe(u,b),1&t&&w!==(w=e[16].description+"")&&xe(f,w),1&t&&C!==(C=e[16].xp+"")&&xe(m,C)},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:k,id:lf.name,type:"each",source:"(83:8) {#each data as character}",ctx:e}),k}function uf(e){let t,n,i,r,o,s,c,l,u,h,d,f,p,v,m,_,g,y,b,w=e[1];Te(w);let k=[];for(let t=0;t<w.length;t+=1)k[t]=cf(af(e,w,t));const E=e=>ue(k[e],1,1,()=>{k[e]=null});let T=e[0];Te(T);let L=[];for(let t=0;t<T.length;t+=1)L[t]=lf(sf(e,T,t));const M={c:function(){t=S("div"),n=S("div");for(let e=0;e<k.length;e+=1)k[e].c();i=x(),r=S("div"),o=S("table"),s=S("thead"),c=S("tr"),l=S("th"),l.textContent="Level",u=x(),h=S("th"),h.textContent="Name",d=x(),f=S("th"),f.textContent="Class",p=x(),v=S("th"),v.textContent="Description",m=x(),_=S("th"),_.textContent="XP",g=x(),y=S("tbody");for(let e=0;e<L.length;e+=1)L[e].c();ke(n,"class","row"),a(n,of,54,2,1070),a(l,of,73,10,1413),a(h,of,74,10,1438),a(f,of,75,10,1462),a(v,of,76,10,1487),a(_,of,77,10,1518),a(c,of,72,8,1398),a(s,of,71,6,1382),a(y,of,81,6,1566),a(o,of,70,4,1368),a(r,of,68,2,1357),a(t,of,52,0,1061)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,a){we(e,t,a),be(t,n);for(let e=0;e<k.length;e+=1)k[e].m(n,null);be(t,i),be(t,r),be(r,o),be(o,s),be(s,c),be(c,l),be(c,u),be(c,h),be(c,d),be(c,f),be(c,p),be(c,v),be(c,m),be(c,_),be(o,g),be(o,y);for(let e=0;e<L.length;e+=1)L[e].m(y,null);b=!0},p:function(e,[t]){if(2&t){let i;for(w=e[1],Te(w),i=0;i<w.length;i+=1){const r=af(e,w,i);k[i]?(k[i].p(r,t),le(k[i],1)):(k[i]=cf(r),k[i].c(),le(k[i],1),k[i].m(n,null))}for(ae(),i=w.length;i<k.length;i+=1)E(i);ce()}if(1&t){let n;for(T=e[0],Te(T),n=0;n<T.length;n+=1){const i=sf(e,T,n);L[n]?L[n].p(i,t):(L[n]=lf(i),L[n].c(),L[n].m(y,null))}for(;n<L.length;n+=1)L[n].d(1);L.length=T.length}},i:function(e){if(!b){for(let e=0;e<w.length;e+=1)le(k[e]);b=!0}},o:function(e){k=k.filter(Boolean);for(let e=0;e<k.length;e+=1)ue(k[e]);b=!1},d:function(e){e&&Ce(t),C(k,e),C(L,e)}};return ye("SvelteRegisterBlock",{block:M,id:uf.name,type:"component",source:"",ctx:e}),M}function hf(e,t,n){let i,r,o,s,a,c=[],l=[];const{isLoading:u,isAuthenticated:h,login:d,logout:p,authToken:m,authError:_,userInfo:g}=Da();f(u,"isLoading"),v(e,u,e=>n(8,i=e)),f(h,"isAuthenticated"),v(e,h,e=>n(9,r=e)),f(m,"authToken"),v(e,m,e=>n(12,a=e)),f(_,"authError"),v(e,_,e=>n(10,o=e)),f(g,"userInfo"),v(e,g,e=>n(11,s=e));const y=async()=>{i&&!r||Sc(a,e=>{n(0,c=e.slice(0,100)),n(1,l=e.slice(0,8))},e=>console.log(e))};F(async()=>{await y(),console.log("Finished loading characters")});const b=[];Object.keys(t).forEach(e=>{~b.indexOf(e)||"$$"===e.slice(0,2)||rf.warn(`<Characters> was created with unknown prop '${e}'`)});let w,{$$slots:C={},$$scope:S}=t;return Le("Characters",C,[]),e.$capture_state=()=>({CharacterScore:nf,onMount:F,createAuth:Aa,getAuth:Da,axios:yc,onInterval:bc,getCharacters:Sc,data:c,topTen:l,isLoading:u,isAuthenticated:h,login:d,logout:p,authToken:m,authError:_,userInfo:g,loadData:y,state:w,$isLoading:i,$isAuthenticated:r,$authError:o,$userInfo:s,$authToken:a}),e.$inject_state=e=>{"data"in e&&n(0,c=e.data),"topTen"in e&&n(1,l=e.topTen),"state"in e&&(w=e.state)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{7936&e.$$.dirty&&(w={isLoading:i,isAuthenticated:r,authError:o,userInfo:s?s.name:null,authToken:a.slice(0,20)})},[c,l,u,h,m,_,g]}class df extends Me{constructor(e){super(e),ge(this,e,hf,uf,d,{}),ye("SvelteRegisterComponent",{component:this,tagName:"Characters",options:e,id:uf.name})}}const{console:ff}=he,pf="src/UserForm.svelte";function vf(e){let t,n,i,o,s,c,l,h,d,f,p,v,m,_,g,y,b,w,C,k,T,L,M,O,R,$,D,I,P,B,j,H,W,F;const N={c:function(){t=S("div"),n=S("h3"),n.textContent="Your Account data",i=x(),o=S("form"),s=S("div"),c=S("div"),l=S("input"),h=x(),d=S("label"),d.textContent="Reference ID",f=x(),p=S("div"),v=S("div"),m=S("input"),_=x(),g=S("label"),g.textContent="Name",y=x(),b=S("div"),w=S("div"),C=S("input"),k=x(),T=S("label"),T.textContent="Nickname",L=x(),M=S("div"),O=S("div"),R=S("input"),$=x(),D=S("label"),D.textContent="E-Mail",I=x(),P=S("div"),B=S("div"),j=S("button"),H=E("Submit\n        "),W=S("i"),W.textContent="send",a(n,pf,69,2,1186),ke(l,"id","refid"),ke(l,"type","text"),l.disabled=!0,ke(l,"class","svelte-10o4r89"),a(l,pf,74,8,1309),ke(d,"id","refidlabel"),ke(d,"for","refid"),ke(d,"class","active svelte-10o4r89"),a(d,pf,75,8,1386),ke(c,"class","input-field col s12"),a(c,pf,73,6,1267),ke(s,"class","row"),a(s,pf,72,4,1243),ke(m,"id","username"),ke(m,"type","text"),ke(m,"class","validate svelte-10o4r89"),a(m,pf,81,8,1552),ke(g,"for","username"),ke(g,"class","active"),a(g,pf,87,8,1687),ke(v,"class","input-field col s12"),a(v,pf,80,6,1510),ke(p,"class","row"),a(p,pf,79,4,1486),ke(C,"id","usernickname"),ke(C,"type","text"),ke(C,"class","validate svelte-10o4r89"),a(C,pf,92,8,1831),ke(T,"for","usernickname"),ke(T,"class","active"),a(T,pf,98,8,1974),ke(w,"class","input-field col s12"),a(w,pf,91,6,1789),ke(b,"class","row"),a(b,pf,90,4,1765),ke(R,"id","useremail"),ke(R,"type","text"),ke(R,"class","validate svelte-10o4r89"),a(R,pf,103,8,2126),ke(D,"for","useremail"),ke(D,"class","active"),a(D,pf,109,8,2263),ke(O,"class","input-field col s12"),a(O,pf,102,6,2084),ke(M,"class","row"),a(M,pf,101,4,2060),ke(o,"class","col s12"),a(o,pf,70,2,1215),ke(W,"class","material-icons right"),a(W,pf,121,8,2541),ke(j,"class","btn waves-effect waves-light"),a(j,pf,116,6,2415),ke(B,"class","input-field col s12"),a(B,pf,115,4,2375),ke(P,"class","row"),a(P,pf,114,2,2353),ke(t,"class","row"),a(t,pf,68,0,1166)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(r,a,S){we(r,t,a),be(t,n),be(t,i),be(t,o),be(o,s),be(s,c),be(c,l),A(l,e[0].refid),be(c,h),be(c,d),be(o,f),be(o,p),be(p,v),be(v,m),A(m,e[0].name),be(v,_),be(v,g),be(o,y),be(o,b),be(b,w),be(w,C),A(C,e[0].nickname),be(w,k),be(w,T),be(o,L),be(o,M),be(M,O),be(O,R),A(R,e[0].email),be(O,$),be(O,D),be(t,I),be(t,P),be(P,B),be(B,j),be(j,H),be(j,W),S&&u(F),F=[Se(l,"input",e[16]),Se(m,"input",e[17]),Se(C,"input",e[18]),Se(R,"input",e[19]),Se(j,"click",e[20],!1,!1,!1)]},p:function(e,[t]){1&t&&l.value!==e[0].refid&&A(l,e[0].refid),1&t&&m.value!==e[0].name&&A(m,e[0].name),1&t&&C.value!==e[0].nickname&&A(C,e[0].nickname),1&t&&R.value!==e[0].email&&A(R,e[0].email)},i:r,o:r,d:function(e){e&&Ce(t),u(F)}};return ye("SvelteRegisterBlock",{block:N,id:vf.name,type:"component",source:"",ctx:e}),N}function mf(e,t,n){let i,r,o,s,a,c,l=Ve({});f(l,"user"),v(e,l,e=>n(0,c=e));const{isLoading:u,isAuthenticated:h,login:d,logout:p,authToken:m,authError:_,userInfo:g}=Da();async function y(e){r&&Ll(a,c,()=>{console.log("user updated ")})}f(u,"isLoading"),v(e,u,e=>n(9,i=e)),f(h,"isAuthenticated"),v(e,h,e=>n(10,r=e)),f(m,"authToken"),v(e,m,e=>n(13,a=e)),f(_,"authError"),v(e,_,e=>n(11,o=e)),f(g,"userInfo"),v(e,g,e=>n(12,s=e));const b=[];Object.keys(t).forEach(e=>{~b.indexOf(e)||"$$"===e.slice(0,2)||ff.warn(`<UserForm> was created with unknown prop '${e}'`)});let{$$slots:w={},$$scope:C}=t;Le("UserForm",w,[]);let S;return e.$capture_state=()=>({writable:Ve,onMount:F,createAuth:Aa,getAuth:Da,axios:yc,onInterval:bc,getUser:Tl,updateUser:Ll,user:l,isLoading:u,isAuthenticated:h,login:d,logout:p,authToken:m,authError:_,userInfo:g,handleSubmit:y,state:S,$isLoading:i,$isAuthenticated:r,$authError:o,$userInfo:s,$authToken:a,$user:c}),e.$inject_state=e=>{"user"in e&&n(1,l=e.user),"state"in e&&(S=e.state)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{15872&e.$$.dirty&&(S={isLoading:i,isAuthenticated:r,authError:o,userInfo:s?s.name:null,authToken:a.slice(0,20),user:l}),8192&e.$$.dirty&&Tl(a,e=>{l.set(e)},e=>console.log(e))},[c,l,u,h,m,_,g,y,S,i,r,o,s,a,d,p,function(){c.refid=this.value,l.set(c)},function(){c.name=this.value,l.set(c)},function(){c.nickname=this.value,l.set(c)},function(){c.email=this.value,l.set(c)},()=>y()]}class _f extends Me{constructor(e){super(e),ge(this,e,mf,vf,d,{}),ye("SvelteRegisterComponent",{component:this,tagName:"UserForm",options:e,id:vf.name})}}function gf(e){let t;const n=new Ul({$$inline:!0}),i={c:function(){pe(n.$$.fragment)},m:function(e,i){ve(n,e,i),t=!0},i:function(e){t||(le(n.$$.fragment,e),t=!0)},o:function(e){ue(n.$$.fragment,e),t=!1},d:function(e){me(n,e)}};return ye("SvelteRegisterBlock",{block:i,id:gf.name,type:"slot",source:'(23:0) <Route exact path=\\"/play\\" component=\\"{Game}\\">',ctx:e}),i}function yf(e){let t;const n=new tu({$$inline:!0}),i={c:function(){pe(n.$$.fragment)},m:function(e,i){ve(n,e,i),t=!0},i:function(e){t||(le(n.$$.fragment,e),t=!0)},o:function(e){ue(n.$$.fragment,e),t=!1},d:function(e){me(n,e)}};return ye("SvelteRegisterBlock",{block:i,id:yf.name,type:"slot",source:"(26:0) <Route>",ctx:e}),i}function bf(e){let t,n,i,r,o,s;const a=new Wt({props:{exact:!0,path:"/account",component:_f},$$inline:!0}),c=new Wt({props:{path:"/creator",component:Jd},$$inline:!0}),l=new Wt({props:{exact:!0,path:"/list",component:df},$$inline:!0}),u=new Wt({props:{exact:!0,path:"/credits",component:Be},$$inline:!0}),h=new Wt({props:{exact:!0,path:"/play",component:Ul,$$slots:{default:[gf]},$$scope:{ctx:e}},$$inline:!0}),d=new Wt({props:{$$slots:{default:[yf]},$$scope:{ctx:e}},$$inline:!0}),f={c:function(){pe(a.$$.fragment),t=x(),pe(c.$$.fragment),n=x(),pe(l.$$.fragment),i=x(),pe(u.$$.fragment),r=x(),pe(h.$$.fragment),o=x(),pe(d.$$.fragment)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,f){ve(a,e,f),we(e,t,f),ve(c,e,f),we(e,n,f),ve(l,e,f),we(e,i,f),ve(u,e,f),we(e,r,f),ve(h,e,f),we(e,o,f),ve(d,e,f),s=!0},p:function(e,[t]){const n={};1&t&&(n.$$scope={dirty:t,ctx:e}),h.$set(n);const i={};1&t&&(i.$$scope={dirty:t,ctx:e}),d.$set(i)},i:function(e){s||(le(a.$$.fragment,e),le(c.$$.fragment,e),le(l.$$.fragment,e),le(u.$$.fragment,e),le(h.$$.fragment,e),le(d.$$.fragment,e),s=!0)},o:function(e){ue(a.$$.fragment,e),ue(c.$$.fragment,e),ue(l.$$.fragment,e),ue(u.$$.fragment,e),ue(h.$$.fragment,e),ue(d.$$.fragment,e),s=!1},d:function(e){me(a,e),e&&Ce(t),me(c,e),e&&Ce(n),me(l,e),e&&Ce(i),me(u,e),e&&Ce(r),me(h,e),e&&Ce(o),me(d,e)}};return ye("SvelteRegisterBlock",{block:f,id:bf.name,type:"component",source:"",ctx:e}),f}function wf(e,t,n){const i=[];Object.keys(t).forEach(e=>{~i.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<AppContent> was created with unknown prop '${e}'`)});let{$$slots:r={},$$scope:o}=t;return Le("AppContent",r,[]),e.$capture_state=()=>({Credits:Be,Router:Tt,Route:Wt,Link:Yt,Game:Ul,Welcome:tu,Creator:Jd,Characters:df,UserForm:_f}),[]}class Cf extends Me{constructor(e){super(e),ge(this,e,wf,bf,d,{}),ye("SvelteRegisterComponent",{component:this,tagName:"AppContent",options:e,id:bf.name})}}const Sf="src/App.svelte";function kf(e,t,n){const i=e.slice();return i[11]=t[n],i}function Ef(e,t,n){const i=e.slice();return i[11]=t[n],i}function xf(e){let t;const n={c:function(){t=E("Tales")},m:function(e,n){we(e,t,n)},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:n,id:xf.name,type:"slot",source:'(158:12) <Link href=\\"/\\">',ctx:e}),n}function Tf(e){let t,n,i,o;const s=new ul({props:{size:"18"},$$inline:!0}),c={c:function(){t=S("span"),n=S("span"),pe(s.$$.fragment),i=E("\n                Play"),ke(n,"class","iconspacing valign-wrapper svelte-9qmykt"),a(n,Sf,166,16,3990),ke(t,"class","valign-wrapper"),a(t,Sf,165,14,3944)},m:function(e,r){we(e,t,r),be(t,n),ve(s,n,null),be(t,i),o=!0},p:r,i:function(e){o||(le(s.$$.fragment,e),o=!0)},o:function(e){ue(s.$$.fragment,e),o=!1},d:function(e){e&&Ce(t),me(s)}};return ye("SvelteRegisterBlock",{block:c,id:Tf.name,type:"slot",source:'(165:12) <Link href=\\"/play\\">',ctx:e}),c}function Lf(e){let t,n,i,r;const o=new Yt({props:{href:"/list",$$slots:{default:[Mf]},$$scope:{ctx:e}},$$inline:!0}),s=new Yt({props:{href:"/creator/rooms",$$slots:{default:[Of]},$$scope:{ctx:e}},$$inline:!0}),c={c:function(){t=S("li"),pe(o.$$.fragment),n=x(),i=S("li"),pe(s.$$.fragment),a(t,Sf,175,12,4222),a(i,Sf,185,12,4546)},m:function(e,a){we(e,t,a),ve(o,t,null),we(e,n,a),we(e,i,a),ve(s,i,null),r=!0},i:function(e){r||(le(o.$$.fragment,e),le(s.$$.fragment,e),r=!0)},o:function(e){ue(o.$$.fragment,e),ue(s.$$.fragment,e),r=!1},d:function(e){e&&Ce(t),me(o),e&&Ce(n),e&&Ce(i),me(s)}};return ye("SvelteRegisterBlock",{block:c,id:Lf.name,type:"if",source:"(175:10) {#if $isAuthenticated}",ctx:e}),c}function Mf(e){let t,n,i,o;const s=new xl({props:{size:"18"},$$inline:!0}),c={c:function(){t=S("span"),n=S("span"),pe(s.$$.fragment),i=E("\n                  Top Characters"),ke(n,"class","iconspacing valign-wrapper svelte-9qmykt"),a(n,Sf,178,18,4325),ke(t,"class","valign-wrapper"),a(t,Sf,177,16,4277)},m:function(e,r){we(e,t,r),be(t,n),ve(s,n,null),be(t,i),o=!0},p:r,i:function(e){o||(le(s.$$.fragment,e),o=!0)},o:function(e){ue(s.$$.fragment,e),o=!1},d:function(e){e&&Ce(t),me(s)}};return ye("SvelteRegisterBlock",{block:c,id:Mf.name,type:"slot",source:'(177:14) <Link href=\\"/list\\">',ctx:e}),c}function Of(e){let t,n,i,o;const s=new nl({props:{size:"18"},$$inline:!0}),c={c:function(){t=S("span"),n=S("span"),pe(s.$$.fragment),i=E("\n                  Creator"),ke(n,"class","iconspacing valign-wrapper svelte-9qmykt"),a(n,Sf,188,18,4658),ke(t,"class","valign-wrapper"),a(t,Sf,187,16,4610)},m:function(e,r){we(e,t,r),be(t,n),ve(s,n,null),be(t,i),o=!0},p:r,i:function(e){o||(le(s.$$.fragment,e),o=!0)},o:function(e){ue(s.$$.fragment,e),o=!1},d:function(e){e&&Ce(t),me(s)}};return ye("SvelteRegisterBlock",{block:c,id:Of.name,type:"slot",source:'(187:14) <Link href=\\"/creator/rooms\\">',ctx:e}),c}function Rf(e){let t;const n={c:function(){t=E("News")},m:function(e,n){we(e,t,n)},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:n,id:Rf.name,type:"slot",source:'(198:12) <Link href=\\"/signup\\">',ctx:e}),n}function $f(e){let t;const n=new fn({props:{query:"(max-width: 1280px)",$$slots:{default:[Hf,({matches:e})=>({10:e}),({matches:e})=>e?1024:0]},$$scope:{ctx:e}},$$inline:!0}),i={c:function(){pe(n.$$.fragment)},m:function(e,i){ve(n,e,i),t=!0},p:function(e,t){const i={};66562&t&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i:function(e){t||(le(n.$$.fragment,e),t=!0)},o:function(e){ue(n.$$.fragment,e),t=!1},d:function(e){me(n,e)}};return ye("SvelteRegisterBlock",{block:i,id:$f.name,type:"if",source:"(204:6) {#if $subMenu.active}",ctx:e}),i}function Af(e){let t,n,i,r=e[1].entries;Te(r);let o=[];for(let t=0;t<r.length;t+=1)o[t]=Pf(kf(e,r,t));const s=e=>ue(o[e],1,1,()=>{o[e]=null}),c={c:function(){t=S("div"),n=S("ul");for(let e=0;e<o.length;e+=1)o[e].c();ke(n,"class","tabs tabs-transparent"),a(n,Sf,217,14,5519),ke(t,"class","nav-content container"),a(t,Sf,216,12,5469)},m:function(e,r){we(e,t,r),be(t,n);for(let e=0;e<o.length;e+=1)o[e].m(n,null);i=!0},p:function(e,t){if(2&t){let i;for(r=e[1].entries,Te(r),i=0;i<r.length;i+=1){const s=kf(e,r,i);o[i]?(o[i].p(s,t),le(o[i],1)):(o[i]=Pf(s),o[i].c(),le(o[i],1),o[i].m(n,null))}for(ae(),i=r.length;i<o.length;i+=1)s(i);ce()}},i:function(e){if(!i){for(let e=0;e<r.length;e+=1)le(o[e]);i=!0}},o:function(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)ue(o[e]);i=!1},d:function(e){e&&Ce(t),C(o,e)}};return ye("SvelteRegisterBlock",{block:c,id:Af.name,type:"else",source:"(216:10) {:else}",ctx:e}),c}function Df(e){let t,n,i,r=e[1].entries;Te(r);let o=[];for(let t=0;t<r.length;t+=1)o[t]=jf(Ef(e,r,t));const s=e=>ue(o[e],1,1,()=>{o[e]=null}),c={c:function(){t=S("div"),n=S("ul");for(let e=0;e<o.length;e+=1)o[e].c();ke(n,"class","tabs tabs-transparent"),a(n,Sf,207,14,5167),ke(t,"class","nav-content"),a(t,Sf,206,12,5127)},m:function(e,r){we(e,t,r),be(t,n);for(let e=0;e<o.length;e+=1)o[e].m(n,null);i=!0},p:function(e,t){if(2&t){let i;for(r=e[1].entries,Te(r),i=0;i<r.length;i+=1){const s=Ef(e,r,i);o[i]?(o[i].p(s,t),le(o[i],1)):(o[i]=jf(s),o[i].c(),le(o[i],1),o[i].m(n,null))}for(ae(),i=r.length;i<o.length;i+=1)s(i);ce()}},i:function(e){if(!i){for(let e=0;e<r.length;e+=1)le(o[e]);i=!0}},o:function(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)ue(o[e]);i=!1},d:function(e){e&&Ce(t),C(o,e)}};return ye("SvelteRegisterBlock",{block:c,id:Df.name,type:"if",source:"(206:10) {#if matches}",ctx:e}),c}function If(e){let t,n=e[11].name+"";const i={c:function(){t=E(n)},m:function(e,n){we(e,t,n)},p:function(e,i){2&i&&n!==(n=e[11].name+"")&&xe(t,n)},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:i,id:If.name,type:"slot",source:'(221:20) <Link href=\\"{entry.nav}\\">',ctx:e}),i}function Pf(e){let t,n,i;const r=new Yt({props:{href:e[11].nav,$$slots:{default:[If]},$$scope:{ctx:e}},$$inline:!0}),o={c:function(){t=S("li"),pe(r.$$.fragment),n=x(),ke(t,"class","tab"),a(t,Sf,219,18,5622)},m:function(e,o){we(e,t,o),ve(r,t,null),be(t,n),i=!0},p:function(e,t){const n={};2&t&&(n.href=e[11].nav),65538&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i:function(e){i||(le(r.$$.fragment,e),i=!0)},o:function(e){ue(r.$$.fragment,e),i=!1},d:function(e){e&&Ce(t),me(r)}};return ye("SvelteRegisterBlock",{block:o,id:Pf.name,type:"each",source:"(219:16) {#each $subMenu.entries as entry}",ctx:e}),o}function Bf(e){let t,n=e[11].name+"";const i={c:function(){t=E(n)},m:function(e,n){we(e,t,n)},p:function(e,i){2&i&&n!==(n=e[11].name+"")&&xe(t,n)},d:function(e){e&&Ce(t)}};return ye("SvelteRegisterBlock",{block:i,id:Bf.name,type:"slot",source:'(211:20) <Link href=\\"{entry.nav}\\">',ctx:e}),i}function jf(e){let t,n,i;const r=new Yt({props:{href:e[11].nav,$$slots:{default:[Bf]},$$scope:{ctx:e}},$$inline:!0}),o={c:function(){t=S("li"),pe(r.$$.fragment),n=x(),ke(t,"class","tab"),a(t,Sf,209,18,5270)},m:function(e,o){we(e,t,o),ve(r,t,null),be(t,n),i=!0},p:function(e,t){const n={};2&t&&(n.href=e[11].nav),65538&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i:function(e){i||(le(r.$$.fragment,e),i=!0)},o:function(e){ue(r.$$.fragment,e),i=!1},d:function(e){e&&Ce(t),me(r)}};return ye("SvelteRegisterBlock",{block:o,id:jf.name,type:"each",source:"(209:16) {#each $subMenu.entries as entry}",ctx:e}),o}function Hf(e){let t,n,i,r;const o=[Df,Af],s=[];function a(e,t){return e[10]?0:1}t=a(e),n=s[t]=o[t](e);const c={c:function(){n.c(),i=T()},m:function(e,n){s[t].m(e,n),we(e,i,n),r=!0},p:function(e,r){let c=t;t=a(e),t===c?s[t].p(e,r):(ae(),ue(s[c],1,1,()=>{s[c]=null}),ce(),n=s[t],n||(n=s[t]=o[t](e),n.c()),le(n,1),n.m(i.parentNode,i))},i:function(e){r||(le(n),r=!0)},o:function(e){ue(n),r=!1},d:function(e){s[t].d(e),e&&Ce(i)}};return ye("SvelteRegisterBlock",{block:c,id:Hf.name,type:"slot",source:'(205:8) <MediaQuery query=\\"(max-width: 1280px)\\" let:matches>',ctx:e}),c}function Wf(e){let t,n;const i=new Cf({$$inline:!0}),r={c:function(){t=S("main"),pe(i.$$.fragment),a(t,Sf,238,8,6028)},m:function(e,r){we(e,t,r),ve(i,t,null),n=!0},i:function(e){n||(le(i.$$.fragment,e),n=!0)},o:function(e){ue(i.$$.fragment,e),n=!1},d:function(e){e&&Ce(t),me(i)}};return ye("SvelteRegisterBlock",{block:r,id:Wf.name,type:"else",source:"(238:6) {:else}",ctx:e}),r}function Ff(e){let t,n;const i=new Cf({$$inline:!0}),r={c:function(){t=S("main"),pe(i.$$.fragment),ke(t,"class","container"),a(t,Sf,233,8,5939)},m:function(e,r){we(e,t,r),ve(i,t,null),n=!0},i:function(e){n||(le(i.$$.fragment,e),n=!0)},o:function(e){ue(i.$$.fragment,e),n=!1},d:function(e){e&&Ce(t),me(i)}};return ye("SvelteRegisterBlock",{block:r,id:Ff.name,type:"if",source:"(233:6) {#if matches}",ctx:e}),r}function Nf(e){let t,n,i,r;const o=[Ff,Wf],s=[];function a(e,t){return e[10]?0:1}t=a(e),n=s[t]=o[t](e);const c={c:function(){n.c(),i=T()},m:function(e,n){s[t].m(e,n),we(e,i,n),r=!0},p:function(e,r){let c=t;t=a(e),t!==c&&(ae(),ue(s[c],1,1,()=>{s[c]=null}),ce(),n=s[t],n||(n=s[t]=o[t](e),n.c()),le(n,1),n.m(i.parentNode,i))},i:function(e){r||(le(n),r=!0)},o:function(e){ue(n),r=!1},d:function(e){s[t].d(e),e&&Ce(i)}};return ye("SvelteRegisterBlock",{block:c,id:Nf.name,type:"slot",source:'(232:4) <MediaQuery query=\\"(min-width: 1281px)\\" let:matches>',ctx:e}),c}function Uf(e){let t,n,i,r,o,s,c,l,u,h,d,f,p,v,m,_;const g=new Jc({props:{size:"24"},$$inline:!0}),y=new Yt({props:{href:"/",$$slots:{default:[xf]},$$scope:{ctx:e}},$$inline:!0}),b=new Yt({props:{href:"/play",$$slots:{default:[Tf]},$$scope:{ctx:e}},$$inline:!0});let w=e[0]&&Lf(e);const C=new Yt({props:{href:"/signup",$$slots:{default:[Rf]},$$scope:{ctx:e}},$$inline:!0}),k=new Pl({$$inline:!0});let E=e[1].active&&$f(e);const T=new fn({props:{query:"(min-width: 1281px)",$$slots:{default:[Nf,({matches:e})=>({10:e}),({matches:e})=>e?1024:0]},$$scope:{ctx:e}},$$inline:!0}),L={c:function(){t=S("nav"),n=S("div"),i=S("a"),r=S("span"),o=S("span"),pe(g.$$.fragment),s=x(),pe(y.$$.fragment),c=x(),l=S("ul"),u=S("li"),pe(b.$$.fragment),h=x(),w&&w.c(),d=x(),f=S("li"),pe(C.$$.fragment),p=x(),pe(k.$$.fragment),v=x(),E&&E.c(),m=x(),pe(T.$$.fragment),ke(o,"class","iconspacing svelte-9qmykt"),a(o,Sf,153,12,3675),ke(r,"class","valign-wrapper italic"),a(r,Sf,152,10,3626),ke(i,"href","#"),ke(i,"class","brand-logo svelte-9qmykt"),a(i,Sf,151,8,3584),a(u,Sf,163,10,3893),a(f,Sf,196,10,4885),ke(l,"class","right hide-on-small-only"),a(l,Sf,161,8,3844),ke(n,"class","nav-wrapper container"),a(n,Sf,150,6,3540),ke(t,"class","nav-extended svelte-9qmykt"),a(t,Sf,149,4,3507)},m:function(e,a){we(e,t,a),be(t,n),be(n,i),be(i,r),be(r,o),ve(g,o,null),be(r,s),ve(y,r,null),be(n,c),be(n,l),be(l,u),ve(b,u,null),be(l,h),w&&w.m(l,null),be(l,d),be(l,f),ve(C,f,null),be(l,p),ve(k,l,null),be(t,v),E&&E.m(t,null),we(e,m,a),ve(T,e,a),_=!0},p:function(e,n){const i={};65536&n&&(i.$$scope={dirty:n,ctx:e}),y.$set(i);const r={};65536&n&&(r.$$scope={dirty:n,ctx:e}),b.$set(r),e[0]?w?1&n&&le(w,1):(w=Lf(e),w.c(),le(w,1),w.m(l,d)):w&&(ae(),ue(w,1,1,()=>{w=null}),ce());const o={};65536&n&&(o.$$scope={dirty:n,ctx:e}),C.$set(o),e[1].active?E?(E.p(e,n),2&n&&le(E,1)):(E=$f(e),E.c(),le(E,1),E.m(t,null)):E&&(ae(),ue(E,1,1,()=>{E=null}),ce());const s={};66560&n&&(s.$$scope={dirty:n,ctx:e}),T.$set(s)},i:function(e){_||(le(g.$$.fragment,e),le(y.$$.fragment,e),le(b.$$.fragment,e),le(w),le(C.$$.fragment,e),le(k.$$.fragment,e),le(E),le(T.$$.fragment,e),_=!0)},o:function(e){ue(g.$$.fragment,e),ue(y.$$.fragment,e),ue(b.$$.fragment,e),ue(w),ue(C.$$.fragment,e),ue(k.$$.fragment,e),ue(E),ue(T.$$.fragment,e),_=!1},d:function(e){e&&Ce(t),me(g),me(y),me(b),w&&w.d(),me(C),me(k),E&&E.d(),e&&Ce(m),me(T,e)}};return ye("SvelteRegisterBlock",{block:L,id:Uf.name,type:"slot",source:"(149:2) <Router>",ctx:e}),L}function qf(e){let t,n,i,r,o,s,c,l,u,h,d,f,p,v,m;const _=new Tt({props:{$$slots:{default:[Uf]},$$scope:{ctx:e}},$$inline:!0}),g={c:function(){t=S("script"),i=S("link"),r=S("script"),s=S("link"),c=S("link"),l=S("script"),h=S("script"),f=x(),p=S("div"),pe(_.$$.fragment),t.src!==(n="https://cdn.auth0.com/js/auth0/9.0/auth0.min.js")&&ke(t,"src","https://cdn.auth0.com/js/auth0/9.0/auth0.min.js"),a(t,Sf,117,2,2617),ke(i,"rel","stylesheet"),ke(i,"href","https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"),a(i,Sf,120,2,2695),r.src!==(o="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js")&&ke(r,"src","https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js"),a(r,Sf,124,2,2821),ke(s,"rel","stylesheet"),ke(s,"href","https://fonts.googleapis.com/icon?family=Material+Icons"),a(s,Sf,128,2,2939),ke(c,"rel","stylesheet"),ke(c,"href","https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.1/build/styles/atom-one-dark.min.css"),a(c,Sf,132,2,3040),l.src!==(u="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.1/build/highlight.min.js")&&ke(l,"src","https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.1/build/highlight.min.js"),a(l,Sf,136,2,3179),h.src!==(d="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.1/build/languages/javascript.min.js")&&ke(h,"src","https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.1/build/languages/javascript.min.js"),a(h,Sf,141,2,3324),ke(p,"class","root default"),a(p,Sf,146,0,3464)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(n,o,a){be(document.head,t),be(document.head,i),be(document.head,r),be(document.head,s),be(document.head,c),be(document.head,l),be(document.head,h),we(n,f,o),we(n,p,o),ve(_,p,null),v=!0,a&&m(),m=Se(l,"load",e[4],!1,!1,!1)},p:function(e,[t]){const n={};65539&t&&(n.$$scope={dirty:t,ctx:e}),_.$set(n)},i:function(e){v||(le(_.$$.fragment,e),v=!0)},o:function(e){ue(_.$$.fragment,e),v=!1},d:function(e){Ce(t),Ce(i),Ce(r),Ce(s),Ce(c),Ce(l),Ce(h),e&&Ce(f),e&&Ce(p),me(_),m()}};return ye("SvelteRegisterBlock",{block:g,id:qf.name,type:"component",source:"",ctx:e}),g}function zf(e,t,n){let i,r,o;f(Kd,"subMenu"),v(e,Kd,e=>n(1,o=e));const s={domain:"owndnd.eu.auth0.com",client_id:"mxcEqTuAUOzrL798mbVTpqFxpGGVp3gI",audience:"http://talesofapirate.com/dnd/api"},{isLoading:a,isAuthenticated:c,authToken:l}=Aa(s);f(c,"isAuthenticated"),v(e,c,e=>n(0,i=e)),f(l,"authToken"),v(e,l,e=>n(7,r=e)),String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},F(async()=>{});let{url:u=""}=t;const h=()=>{hljs.initHighlightingOnLoad()},d=["url"];Object.keys(t).forEach(e=>{~d.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<App> was created with unknown prop '${e}'`)});let p,{$$slots:m={},$$scope:_}=t;return Le("App",m,[]),e.$set=e=>{"url"in e&&n(5,u=e.url)},e.$capture_state=()=>({Sprites:Ae,AppContent:Cf,MediaQuery:fn,HashIcon:sl,ShieldIcon:gl,BookOpenIcon:Jc,EditIcon:nl,PlayIcon:ul,UsersIcon:xl,Router:Tt,Route:Wt,Link:Yt,Game:Ul,Welcome:tu,Creator:Jd,Characters:df,UserForm:_f,afterUpdate:N,onMount:F,user:Vd,subMenu:Kd,fade:yn,UserMenu:Pl,createAuth:Aa,config:s,isLoading:a,isAuthenticated:c,authToken:l,url:u,onHLJSLoaded:h,state:p,$isAuthenticated:i,$authToken:r,$subMenu:o}),e.$inject_state=e=>{"url"in e&&n(5,u=e.url),"state"in e&&(p=e.state)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{129&e.$$.dirty&&(p={isAuthenticated:i,authToken:r.slice(0,20)})},[i,o,c,l,h,u]}Object.defineProperty(String.prototype,"hashCode",{value:function(){var e,t=0;for(e=0;e<this.length;e++)t=(t<<5)-t+this.charCodeAt(e),t|=0;return t}});const Yf=new class extends Me{constructor(e){super(e),ge(this,e,zf,qf,d,{url:5}),ye("SvelteRegisterComponent",{component:this,tagName:"App",options:e,id:qf.name})}get url(){throw new Error("<App>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set url(e){throw new Error("<App>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}({target:document.body,props:{}});return M.AutoInit(),Yf}();
//# sourceMappingURL=bundle.js.map
