var app=function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n(e,t){return e(t={exports:{}},t.exports),t.exports}n((function(t,i){
/*!
   * Materialize v1.0.0-rc.2 (http://materializecss.com)
   * Copyright 2014-2017 Materialize
   * MIT License (https://raw.githubusercontent.com/Dogfalo/materialize/master/LICENSE)
   */
var n=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,i,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
/*! cash-dom 1.3.5, https://github.com/kenwheeler/cash @license MIT */window.cash=function(){var e,t=document,i=window,n=Array.prototype,r=n.slice,o=n.filter,s=n.push,a=function(){},c=function(e){return typeof e==typeof a&&e.call},l=function(e){return"string"==typeof e},u=/^#[\w-]*$/,h=/^\.[\w-]*$/,d=/<.+>/,f=/^\w+$/;function p(e,i){return i=i||t,h.test(e)?i.getElementsByClassName(e.slice(1)):f.test(e)?i.getElementsByTagName(e):i.querySelectorAll(e)}function _(i){if(!e){var n=(e=t.implementation.createHTMLDocument(null)).createElement("base");n.href=t.location.href,e.head.appendChild(n)}return e.body.innerHTML=i,e.body.childNodes}function v(e){"loading"!==t.readyState?e():t.addEventListener("DOMContentLoaded",e)}function m(e,n){if(!e)return this;if(e.cash&&e!==i)return e;var r,o=e,s=0;if(l(e))o=u.test(e)?t.getElementById(e.slice(1)):d.test(e)?_(e):p(e,n);else if(c(e))return v(e),this;if(!o)return this;if(o.nodeType||o===i)this[0]=o,this.length=1;else for(r=this.length=o.length;s<r;s++)this[s]=o[s];return this}function g(e,t){return new m(e,t)}var y=g.fn=g.prototype=m.prototype={cash:!0,length:0,push:s,splice:n.splice,map:n.map,init:m};function b(e,t){for(var i=e.length,n=0;n<i&&!1!==t.call(e[n],e[n],n,e);n++);}function w(e,t){var i=e&&(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector);return!!i&&i.call(e,t)}function C(e){return l(e)?w:e.cash?function(t){return e.is(t)}:function(e,t){return e===t}}function S(e){return g(r.call(e).filter((function(e,t,i){return i.indexOf(e)===t})))}Object.defineProperty(y,"constructor",{value:g}),g.parseHTML=_,g.noop=a,g.isFunction=c,g.isString=l,g.extend=y.extend=function(e){e=e||{};var t=r.call(arguments),i=t.length,n=1;for(1===t.length&&(e=this,n=0);n<i;n++)if(t[n])for(var o in t[n])t[n].hasOwnProperty(o)&&(e[o]=t[n][o]);return e},g.extend({merge:function(e,t){for(var i=+t.length,n=e.length,r=0;r<i;n++,r++)e[n]=t[r];return e.length=n,e},each:b,matches:w,unique:S,isArray:Array.isArray,isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}});var k=g.uid="_cash"+Date.now();function E(e){return e[k]=e[k]||{}}function x(e,t,i){return E(e)[t]=i}function L(e,t){var i=E(e);return void 0===i[t]&&(i[t]=e.dataset?e.dataset[t]:g(e).attr("data-"+t)),i[t]}y.extend({data:function(e,t){if(l(e))return void 0===t?L(this[0],e):this.each((function(i){return x(i,e,t)}));for(var i in e)this.data(i,e[i]);return this},removeData:function(e){return this.each((function(t){return function(e,t){var i=E(e);i?delete i[t]:e.dataset?delete e.dataset[t]:g(e).removeAttr("data-"+name)}(t,e)}))}});var M=/\S+/g;function T(e){return l(e)&&e.match(M)}function O(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function R(e,t,i){e.classList?e.classList.add(t):i.indexOf(" "+t+" ")&&(e.className+=" "+t)}function A(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(t,"")}y.extend({addClass:function(e){var t=T(e);return t?this.each((function(e){var i=" "+e.className+" ";b(t,(function(t){R(e,t,i)}))})):this},attr:function(e,t){if(e){if(l(e))return void 0===t?this[0]?this[0].getAttribute?this[0].getAttribute(e):this[0][e]:void 0:this.each((function(i){i.setAttribute?i.setAttribute(e,t):i[e]=t}));for(var i in e)this.attr(i,e[i]);return this}},hasClass:function(e){var t=!1,i=T(e);return i&&i.length&&this.each((function(e){return!(t=O(e,i[0]))})),t},prop:function(e,t){if(l(e))return void 0===t?this[0][e]:this.each((function(i){i[e]=t}));for(var i in e)this.prop(i,e[i]);return this},removeAttr:function(e){return this.each((function(t){t.removeAttribute?t.removeAttribute(e):delete t[e]}))},removeClass:function(e){if(!arguments.length)return this.attr("class","");var t=T(e);return t?this.each((function(e){b(t,(function(t){A(e,t)}))})):this},removeProp:function(e){return this.each((function(t){delete t[e]}))},toggleClass:function(e,t){if(void 0!==t)return this[t?"addClass":"removeClass"](e);var i=T(e);return i?this.each((function(e){var t=" "+e.className+" ";b(i,(function(i){O(e,i)?A(e,i):R(e,i,t)}))})):this}}),y.extend({add:function(e,t){return S(g.merge(this,g(e,t)))},each:function(e){return b(this,e),this},eq:function(e){return g(this.get(e))},filter:function(e){if(!e)return this;var t=c(e)?e:C(e);return g(o.call(this,(function(i){return t(i,e)})))},first:function(){return this.eq(0)},get:function(e){return void 0===e?r.call(this):e<0?this[e+this.length]:this[e]},index:function(e){var t=e?g(e)[0]:this[0],i=e?this:g(t).parent().children();return r.call(i).indexOf(t)},last:function(){return this.eq(-1)}});var D,I,P,B,$=(P=/(?:^\w|[A-Z]|\b\w)/g,B=/[\s-_]+/g,function(e){return e.replace(P,(function(e,t){return e[0===t?"toLowerCase":"toUpperCase"]()})).replace(B,"")}),H=(D={},I=document.createElement("div").style,function(e){if(e=$(e),D[e])return D[e];var t=e.charAt(0).toUpperCase()+e.slice(1);return b((e+" "+["webkit","moz","ms","o"].join(t+" ")+t).split(" "),(function(t){if(t in I)return D[t]=e=D[e]=t,!1})),D[e]});function j(e,t){return parseInt(i.getComputedStyle(e[0],null)[t],10)||0}function W(e,t,i){var n,r=L(e,"_cashEvents"),o=r&&r[t];o&&(i?(e.removeEventListener(t,i),(n=o.indexOf(i))>=0&&o.splice(n,1)):(b(o,(function(i){e.removeEventListener(t,i)})),o=[]))}function F(e,t){return"&"+encodeURIComponent(e)+"="+encodeURIComponent(t).replace(/%20/g,"+")}function N(e){var t=e.type;if(!t)return null;switch(t.toLowerCase()){case"select-one":return function(e){var t=e.selectedIndex;return t>=0?e.options[t].value:null}(e);case"select-multiple":return function(e){var t=[];return b(e.options,(function(e){e.selected&&t.push(e.value)})),t.length?t:null}(e);case"radio":case"checkbox":return e.checked?e.value:null;default:return e.value?e.value:null}}function U(e,t,i){var n=l(t);n||!t.length?b(e,n?function(e){return e.insertAdjacentHTML(i?"afterbegin":"beforeend",t)}:function(e,n){return function(e,t,i){if(i){var n=e.childNodes[0];e.insertBefore(t,n)}else e.appendChild(t)}(e,0===n?t:t.cloneNode(!0),i)}):b(t,(function(t){return U(e,t,i)}))}g.prefixedProp=H,g.camelCase=$,y.extend({css:function(e,t){if(l(e))return e=H(e),arguments.length>1?this.each((function(i){return i.style[e]=t})):i.getComputedStyle(this[0])[e];for(var n in e)this.css(n,e[n]);return this}}),b(["Width","Height"],(function(e){var t=e.toLowerCase();y[t]=function(){return this[0].getBoundingClientRect()[t]},y["inner"+e]=function(){return this[0]["client"+e]},y["outer"+e]=function(t){return this[0]["offset"+e]+(t?j(this,"margin"+("Width"===e?"Left":"Top"))+j(this,"margin"+("Width"===e?"Right":"Bottom")):0)}})),y.extend({off:function(e,t){return this.each((function(i){return W(i,e,t)}))},on:function(e,t,i,n){var r;if(!l(e)){for(var o in e)this.on(o,t,e[o]);return this}return c(t)&&(i=t,t=null),"ready"===e?(v(i),this):(t&&(r=i,i=function(e){for(var i=e.target;!w(i,t);){if(i===this||null===i)return!1;i=i.parentNode}i&&r.call(i,e)}),this.each((function(t){var r=i;n&&(r=function(){i.apply(this,arguments),W(t,e,r)}),function(e,t,i){var n=L(e,"_cashEvents")||x(e,"_cashEvents",{});n[t]=n[t]||[],n[t].push(i),e.addEventListener(t,i)}(t,e,r)})))},one:function(e,t,i){return this.on(e,t,i,!0)},ready:v,trigger:function(e,t){if(document.createEvent){var i=document.createEvent("HTMLEvents");return i.initEvent(e,!0,!1),i=this.extend(i,t),this.each((function(e){return e.dispatchEvent(i)}))}}}),y.extend({serialize:function(){var e="";return b(this[0].elements||this,(function(t){if(!t.disabled&&"FIELDSET"!==t.tagName){var i=t.name;switch(t.type.toLowerCase()){case"file":case"reset":case"submit":case"button":break;case"select-multiple":var n=N(t);null!==n&&b(n,(function(t){e+=F(i,t)}));break;default:var r=N(t);null!==r&&(e+=F(i,r))}}})),e.substr(1)},val:function(e){return void 0===e?N(this[0]):this.each((function(t){return t.value=e}))}}),y.extend({after:function(e){return g(e).insertAfter(this),this},append:function(e){return U(this,e),this},appendTo:function(e){return U(g(e),this),this},before:function(e){return g(e).insertBefore(this),this},clone:function(){return g(this.map((function(e){return e.cloneNode(!0)})))},empty:function(){return this.html(""),this},html:function(e){if(void 0===e)return this[0].innerHTML;var t=e.nodeType?e[0].outerHTML:e;return this.each((function(e){return e.innerHTML=t}))},insertAfter:function(e){var t=this;return g(e).each((function(e,i){var n=e.parentNode,r=e.nextSibling;t.each((function(e){n.insertBefore(0===i?e:e.cloneNode(!0),r)}))})),this},insertBefore:function(e){var t=this;return g(e).each((function(e,i){var n=e.parentNode;t.each((function(t){n.insertBefore(0===i?t:t.cloneNode(!0),e)}))})),this},prepend:function(e){return U(this,e,!0),this},prependTo:function(e){return U(g(e),this,!0),this},remove:function(){return this.each((function(e){if(e.parentNode)return e.parentNode.removeChild(e)}))},text:function(e){return void 0===e?this[0].textContent:this.each((function(t){return t.textContent=e}))}});var q=t.documentElement;return y.extend({position:function(){var e=this[0];return{left:e.offsetLeft,top:e.offsetTop}},offset:function(){var e=this[0].getBoundingClientRect();return{top:e.top+i.pageYOffset-q.clientTop,left:e.left+i.pageXOffset-q.clientLeft}},offsetParent:function(){return g(this[0].offsetParent)}}),y.extend({children:function(e){var t=[];return this.each((function(e){s.apply(t,e.children)})),t=S(t),e?t.filter((function(t){return w(t,e)})):t},closest:function(e){return!e||this.length<1?g():this.is(e)?this.filter(e):this.parent().closest(e)},is:function(e){if(!e)return!1;var t=!1,i=C(e);return this.each((function(n){return!(t=i(n,e))})),t},find:function(e){if(!e||e.nodeType)return g(e&&this.has(e).length?e:null);var t=[];return this.each((function(i){s.apply(t,p(e,i))})),S(t)},has:function(e){var t=l(e)?function(t){return 0!==p(e,t).length}:function(t){return t.contains(e)};return this.filter(t)},next:function(){return g(this[0].nextElementSibling)},not:function(e){if(!e)return this;var t=C(e);return this.filter((function(i){return!t(i,e)}))},parent:function(){var e=[];return this.each((function(t){t&&t.parentNode&&e.push(t.parentNode)})),S(e)},parents:function(e){var i,n=[];return this.each((function(r){for(i=r;i&&i.parentNode&&i!==t.body.parentNode;)i=i.parentNode,(!e||e&&w(i,e))&&n.push(i)})),S(n)},prev:function(){return g(this[0].previousElementSibling)},siblings:function(e){var t=this.parent().children(e),i=this[0];return t.filter((function(e){return e!==i}))}}),g}();var c=function(){function e(t,i,n){a(this,e),i instanceof Element||console.error(Error(i+" is not an HTML Element"));var r=t.getInstance(i);r&&r.destroy(),this.el=i,this.$el=cash(i)}return r(e,null,[{key:"init",value:function(e,t,i){var n=null;if(t instanceof Element)n=new e(t,i);else if(t&&(t.jquery||t.cash||t instanceof NodeList)){for(var r=[],o=0;o<t.length;o++)r.push(new e(t[o],i));n=r}return n}}]),e}();!function(e){e.Package?M={}:e.M={},M.jQueryLoaded=!!e.jQuery}(window),i.nodeType||(!t.nodeType&&t.exports&&(i=t.exports=M),i.default=M),M.keys={TAB:9,ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40},M.tabPressed=!1,M.keyDown=!1;document.addEventListener("keydown",(function(e){M.keyDown=!0,e.which!==M.keys.TAB&&e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ARROW_UP||(M.tabPressed=!0)}),!0),document.addEventListener("keyup",(function(e){M.keyDown=!1,e.which!==M.keys.TAB&&e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ARROW_UP||(M.tabPressed=!1)}),!0),document.addEventListener("focus",(function(e){M.keyDown&&document.body.classList.add("keyboard-focused")}),!0),document.addEventListener("blur",(function(e){document.body.classList.remove("keyboard-focused")}),!0),M.initializeJqueryWrapper=function(e,t,i){jQuery.fn[t]=function(n){if(e.prototype[n]){var r=Array.prototype.slice.call(arguments,1);if("get"===n.slice(0,3)){var o=this.first()[0][i];return o[n].apply(o,r)}return this.each((function(){var e=this[i];e[n].apply(e,r)}))}if("object"==typeof n||!n)return e.init(this,arguments[0]),this;jQuery.error("Method "+n+" does not exist on jQuery."+t)}},M.AutoInit=function(e){var t=e||document.body,i={Autocomplete:t.querySelectorAll(".autocomplete:not(.no-autoinit)"),Carousel:t.querySelectorAll(".carousel:not(.no-autoinit)"),Chips:t.querySelectorAll(".chips:not(.no-autoinit)"),Collapsible:t.querySelectorAll(".collapsible:not(.no-autoinit)"),Datepicker:t.querySelectorAll(".datepicker:not(.no-autoinit)"),Dropdown:t.querySelectorAll(".dropdown-trigger:not(.no-autoinit)"),Materialbox:t.querySelectorAll(".materialboxed:not(.no-autoinit)"),Modal:t.querySelectorAll(".modal:not(.no-autoinit)"),Parallax:t.querySelectorAll(".parallax:not(.no-autoinit)"),Pushpin:t.querySelectorAll(".pushpin:not(.no-autoinit)"),ScrollSpy:t.querySelectorAll(".scrollspy:not(.no-autoinit)"),FormSelect:t.querySelectorAll("select:not(.no-autoinit)"),Sidenav:t.querySelectorAll(".sidenav:not(.no-autoinit)"),Tabs:t.querySelectorAll(".tabs:not(.no-autoinit)"),TapTarget:t.querySelectorAll(".tap-target:not(.no-autoinit)"),Timepicker:t.querySelectorAll(".timepicker:not(.no-autoinit)"),Tooltip:t.querySelectorAll(".tooltipped:not(.no-autoinit)"),FloatingActionButton:t.querySelectorAll(".fixed-action-btn:not(.no-autoinit)")};for(var n in i){M[n].init(i[n])}},M.objectSelectorString=function(e){return((e.prop("tagName")||"")+(e.attr("id")||"")+(e.attr("class")||"")).replace(/\s/g,"")},M.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}(),M.escapeHash=function(e){return e.replace(/(:|\.|\[|\]|,|=|\/)/g,"\\$1")},M.elementOrParentIsFixed=function(e){var t=$(e),i=t.add(t.parents()),n=!1;return i.each((function(){if("fixed"===$(this).css("position"))return n=!0,!1})),n},M.checkWithinContainer=function(e,t,i){var n={top:!1,right:!1,bottom:!1,left:!1},r=e.getBoundingClientRect(),o=e===document.body?Math.max(r.bottom,window.innerHeight):r.bottom,s=e.scrollLeft,a=e.scrollTop,c=t.left-s,l=t.top-a;return(c<r.left+i||c<i)&&(n.left=!0),(c+t.width>r.right-i||c+t.width>window.innerWidth-i)&&(n.right=!0),(l<r.top+i||l<i)&&(n.top=!0),(l+t.height>o-i||l+t.height>window.innerHeight-i)&&(n.bottom=!0),n},M.checkPossibleAlignments=function(e,t,i,n){var r={top:!0,right:!0,bottom:!0,left:!0,spaceOnTop:null,spaceOnRight:null,spaceOnBottom:null,spaceOnLeft:null},o="visible"===getComputedStyle(t).overflow,s=t.getBoundingClientRect(),a=Math.min(s.height,window.innerHeight),c=Math.min(s.width,window.innerWidth),l=e.getBoundingClientRect(),u=t.scrollLeft,h=t.scrollTop,d=i.left-u,f=i.top-h,p=i.top+l.height-h;return r.spaceOnRight=o?window.innerWidth-(l.left+i.width):c-(d+i.width),r.spaceOnRight<0&&(r.left=!1),r.spaceOnLeft=o?l.right-i.width:d-i.width+l.width,r.spaceOnLeft<0&&(r.right=!1),r.spaceOnBottom=o?window.innerHeight-(l.top+i.height+n):a-(f+i.height+n),r.spaceOnBottom<0&&(r.top=!1),r.spaceOnTop=o?l.bottom-(i.height+n):p-(i.height-n),r.spaceOnTop<0&&(r.bottom=!1),r},M.getOverflowParent=function(e){return null==e?null:e===document.body||"visible"!==getComputedStyle(e).overflow?e:M.getOverflowParent(e.parentElement)},M.getIdFromTrigger=function(e){var t=e.getAttribute("data-target");return t||(t=(t=e.getAttribute("href"))?t.slice(1):""),t},M.getDocumentScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},M.getDocumentScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};
/**
   * Get time in ms
   * @license https://raw.github.com/jashkenas/underscore/master/LICENSE
   * @type {function}
   * @return {number}
   */
var l=Date.now||function(){return(new Date).getTime()};
/**
   * Returns a function, that, when invoked, will only be triggered at most once
   * during a given window of time. Normally, the throttled function will run
   * as much as it can, without ever going more than once per `wait` duration;
   * but if you'd like to disable the execution on the leading edge, pass
   * `{leading: false}`. To disable execution on the trailing edge, ditto.
   * @license https://raw.github.com/jashkenas/underscore/master/LICENSE
   * @param {function} func
   * @param {number} wait
   * @param {Object=} options
   * @returns {Function}
   */M.throttle=function(e,t,i){var n=void 0,r=void 0,o=void 0,s=null,a=0;i||(i={});var c=function(){a=!1===i.leading?0:l(),s=null,o=e.apply(n,r),n=r=null};return function(){var u=l();a||!1!==i.leading||(a=u);var h=t-(u-a);return n=this,r=arguments,h<=0?(clearTimeout(s),s=null,a=u,o=e.apply(n,r),n=r=null):s||!1===i.trailing||(s=setTimeout(c,h)),o}};var u={scope:{}};u.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,i){if(i.get||i.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[t]=i.value)},u.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:void 0!==e&&null!=e?e:t},u.global=u.getGlobal(e),u.SYMBOL_PREFIX="jscomp_symbol_",u.initSymbol=function(){u.initSymbol=function(){},u.global.Symbol||(u.global.Symbol=u.Symbol)},u.symbolCounter_=0,u.Symbol=function(e){return u.SYMBOL_PREFIX+(e||"")+u.symbolCounter_++},u.initSymbolIterator=function(){u.initSymbol();var e=u.global.Symbol.iterator;e||(e=u.global.Symbol.iterator=u.global.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&u.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return u.arrayIterator(this)}}),u.initSymbolIterator=function(){}},u.arrayIterator=function(e){var t=0;return u.iteratorPrototype((function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}))},u.iteratorPrototype=function(e){return u.initSymbolIterator(),(e={next:e})[u.global.Symbol.iterator]=function(){return this},e},u.array=u.array||{},u.iteratorFromArray=function(e,t){u.initSymbolIterator(),e instanceof String&&(e+="");var i=0,n={next:function(){if(i<e.length){var r=i++;return{value:t(r,e[r]),done:!1}}return n.next=function(){return{done:!0,value:void 0}},n.next()}};return n[Symbol.iterator]=function(){return n},n},u.polyfill=function(e,t,i,n){if(t){for(i=u.global,e=e.split("."),n=0;n<e.length-1;n++){var r=e[n];r in i||(i[r]={}),i=i[r]}(t=t(n=i[e=e[e.length-1]]))!=n&&null!=t&&u.defineProperty(i,e,{configurable:!0,writable:!0,value:t})}},u.polyfill("Array.prototype.keys",(function(e){return e||function(){return u.iteratorFromArray(this,(function(e){return e}))}}),"es6-impl","es3");var h=e;M.anime=function(){function e(e){if(!O.col(e))try{return document.querySelectorAll(e)}catch(e){}}function t(e,t){for(var i=e.length,n=2<=arguments.length?arguments[1]:void 0,r=[],o=0;o<i;o++)if(o in e){var s=e[o];t.call(n,s,o,e)&&r.push(s)}return r}function i(e){return e.reduce((function(e,t){return e.concat(O.arr(t)?i(t):t)}),[])}function n(t){return O.arr(t)?t:(O.str(t)&&(t=e(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function r(e,t){return e.some((function(e){return e===t}))}function o(e){var t,i={};for(t in e)i[t]=e[t];return i}function s(e,t){var i,n=o(e);for(i in e)n[i]=t.hasOwnProperty(i)?t[i]:e[i];return n}function a(e,t){var i,n=o(e);for(i in t)n[i]=O.und(e[i])?t[i]:e[i];return n}function c(e){if(e=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e))return e[2]}function l(e,t){return O.fnc(e)?e(t.target,t.id,t.total):e}function u(e,t){if(t in e.style)return getComputedStyle(e).getPropertyValue(t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function d(e,t){return O.dom(e)&&r(T,t)?"transform":O.dom(e)&&(e.getAttribute(t)||O.svg(e)&&e[t])?"attribute":O.dom(e)&&"transform"!==t&&u(e,t)?"css":null!=e[t]?"object":void 0}function f(e,i){switch(d(e,i)){case"transform":return function(e,i){var n=function(e){return-1<e.indexOf("translate")||"perspective"===e?"px":-1<e.indexOf("rotate")||-1<e.indexOf("skew")?"deg":void 0}(i);if(n=-1<i.indexOf("scale")?1:0+n,!(e=e.style.transform))return n;for(var r=[],o=[],s=[],a=/(\w+)\((.+?)\)/g;r=a.exec(e);)o.push(r[1]),s.push(r[2]);return(e=t(s,(function(e,t){return o[t]===i}))).length?e[0]:n}(e,i);case"css":return u(e,i);case"attribute":return e.getAttribute(i)}return e[i]||0}function p(e,t){var i=/^(\*=|\+=|-=)/.exec(e);if(!i)return e;var n=c(e)||0;switch(t=parseFloat(t),e=parseFloat(e.replace(i[0],"")),i[0][0]){case"+":return t+e+n;case"-":return t-e+n;case"*":return t*e+n}}function _(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function v(e){e=e.points;for(var t,i=0,n=0;n<e.numberOfItems;n++){var r=e.getItem(n);0<n&&(i+=_(t,r)),t=r}return i}function m(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return 2*Math.PI*e.getAttribute("r");case"rect":return 2*e.getAttribute("width")+2*e.getAttribute("height");case"line":return _({x:e.getAttribute("x1"),y:e.getAttribute("y1")},{x:e.getAttribute("x2"),y:e.getAttribute("y2")});case"polyline":return v(e);case"polygon":var t=e.points;return v(e)+_(t.getItem(t.numberOfItems-1),t.getItem(0))}}function g(e,t){function i(i){return i=void 0===i?0:i,e.el.getPointAtLength(1<=t+i?t+i:0)}var n=i(),r=i(-1),o=i(1);switch(e.property){case"x":return n.x;case"y":return n.y;case"angle":return 180*Math.atan2(o.y-r.y,o.x-r.x)/Math.PI}}function y(e,t){var i,n=/-?\d*\.?\d+/g;if(i=O.pth(e)?e.totalLength:e,O.col(i))if(O.rgb(i)){var r=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(i);i=r?"rgba("+r[1]+",1)":i}else i=O.hex(i)?function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,i,n){return t+t+i+i+n+n}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return"rgba("+(e=parseInt(t[1],16))+","+parseInt(t[2],16)+","+(t=parseInt(t[3],16))+",1)"}(i):O.hsl(i)?function(e){function t(e,t,i){return 0>i&&(i+=1),1<i&&--i,i<1/6?e+6*(t-e)*i:.5>i?t:i<2/3?e+(t-e)*(2/3-i)*6:e}var i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e);e=parseInt(i[1])/360;var n=parseInt(i[2])/100,r=parseInt(i[3])/100;if(i=i[4]||1,0==n)r=n=e=r;else{var o=.5>r?r*(1+n):r+n-r*n,s=2*r-o;r=t(s,o,e+1/3),n=t(s,o,e),e=t(s,o,e-1/3)}return"rgba("+255*r+","+255*n+","+255*e+","+i+")"}(i):void 0;else r=(r=c(i))?i.substr(0,i.length-r.length):i,i=t&&!/\s/g.test(i)?r+t:r;return{original:i+="",numbers:i.match(n)?i.match(n).map(Number):[0],strings:O.str(e)||t?i.split(n):[]}}function b(e){return t(e=e?i(O.arr(e)?e.map(n):n(e)):[],(function(e,t,i){return i.indexOf(e)===t}))}function w(e,t){var i=o(t);if(O.arr(e)){var r=e.length;2!==r||O.obj(e[0])?O.fnc(t.duration)||(i.duration=t.duration/r):e={value:e}}return n(e).map((function(e,i){return i=i?0:t.delay,e=O.obj(e)&&!O.pth(e)?e:{value:e},O.und(e.delay)&&(e.delay=i),e})).map((function(e){return a(e,i)}))}function C(e,t){var i;return e.tweens.map((function(n){var r=(n=function(e,t){var i,n={};for(i in e){var r=l(e[i],t);O.arr(r)&&1===(r=r.map((function(e){return l(e,t)}))).length&&(r=r[0]),n[i]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(n,t)).value,o=f(t.target,e.name),s=i?i.to.original:o,a=(s=O.arr(r)?r[0]:s,p(O.arr(r)?r[1]:r,s));return o=c(a)||c(s)||c(o),n.from=y(s,o),n.to=y(a,o),n.start=i?i.end:e.offset,n.end=n.start+n.delay+n.duration,n.easing=function(e){return O.arr(e)?R.apply(this,e):A[e]}(n.easing),n.elasticity=(1e3-Math.min(Math.max(n.elasticity,1),999))/1e3,n.isPath=O.pth(r),n.isColor=O.col(n.from.original),n.isColor&&(n.round=1),i=n}))}function S(e,t,i,n){var r="delay"===e;return t.length?(r?Math.min:Math.max).apply(Math,t.map((function(t){return t[e]}))):r?n.delay:i.offset+n.delay+n.duration}function k(e){var n,r=s(L,e),o=s(M,e),c=function(e){var t=b(e);return t.map((function(e,i){return{target:e,id:i,total:t.length}}))}(e.targets),l=[],u=a(r,o);for(n in e)u.hasOwnProperty(n)||"targets"===n||l.push({name:n,offset:u.offset,tweens:w(e[n],o)});return e=function(e,n){return t(i(e.map((function(e){return n.map((function(t){var i=d(e.target,t.name);if(i){var n=C(t,e);t={type:i,property:t.name,animatable:e,tweens:n,duration:n[n.length-1].end,delay:n[0].delay}}else t=void 0;return t}))}))),(function(e){return!O.und(e)}))}(c,l),a(r,{children:[],animatables:c,animations:e,duration:S("duration",e,r,o),delay:S("delay",e,r,o)})}function E(e){function i(){return window.Promise&&new Promise((function(e){return d=e}))}function n(e){return p.reversed?p.duration-e:e}function r(e){for(var i=0,n={},r=p.animations,o=r.length;i<o;){var s=r[i],a=s.animatable,c=(l=s.tweens)[f=l.length-1];f&&(c=t(l,(function(t){return e<t.end}))[0]||c);for(var l=Math.min(Math.max(e-c.start-c.delay,0),c.duration)/c.duration,h=isNaN(l)?1:c.easing(l,c.elasticity),d=(l=c.to.strings,c.round),f=[],_=void 0,v=(_=c.to.numbers.length,0);v<_;v++){var m=void 0,y=(m=c.to.numbers[v],c.from.numbers[v]);m=c.isPath?g(c.value,h*m):y+h*(m-y),d&&(c.isColor&&2<v||(m=Math.round(m*d)/d)),f.push(m)}if(c=l.length)for(_=l[0],h=0;h<c;h++)d=l[h+1],v=f[h],isNaN(v)||(_=d?_+(v+d):_+(v+" "));else _=f[0];D[s.type](a.target,s.property,_,n,a.id),s.currentValue=_,i++}if(i=Object.keys(n).length)for(r=0;r<i;r++)x||(x=u(document.body,"transform")?"transform":"-webkit-transform"),p.animatables[r].target.style[x]=n[r].join(" ");p.currentTime=e,p.progress=e/p.duration*100}function o(e){p[e]&&p[e](p)}function s(){p.remaining&&!0!==p.remaining&&p.remaining--}function a(e){var t=p.duration,a=p.offset,u=a+p.delay,_=p.currentTime,v=p.reversed,m=n(e);if(p.children.length){var g=p.children,y=g.length;if(m>=p.currentTime)for(var b=0;b<y;b++)g[b].seek(m);else for(;y--;)g[y].seek(m)}(m>=u||!t)&&(p.began||(p.began=!0,o("begin")),o("run")),m>a&&m<t?r(m):(m<=a&&0!==_&&(r(0),v&&s()),(m>=t&&_!==t||!t)&&(r(t),v||s())),o("update"),e>=t&&(p.remaining?(l=c,"alternate"===p.direction&&(p.reversed=!p.reversed)):(p.pause(),p.completed||(p.completed=!0,o("complete"),"Promise"in window&&(d(),f=i()))),h=0)}e=void 0===e?{}:e;var c,l,h=0,d=null,f=i(),p=k(e);return p.reset=function(){var e=p.direction,t=p.loop;for(p.currentTime=0,p.progress=0,p.paused=!0,p.began=!1,p.completed=!1,p.reversed="reverse"===e,p.remaining="alternate"===e&&1===t?2:t,r(0),e=p.children.length;e--;)p.children[e].reset()},p.tick=function(e){c=e,l||(l=c),a((h+c-l)*E.speed)},p.seek=function(e){a(n(e))},p.pause=function(){var e=I.indexOf(p);-1<e&&I.splice(e,1),p.paused=!0},p.play=function(){p.paused&&(p.paused=!1,l=0,h=n(p.currentTime),I.push(p),P||B())},p.reverse=function(){p.reversed=!p.reversed,l=0,h=n(p.currentTime)},p.restart=function(){p.pause(),p.reset(),p.play()},p.finished=f,p.reset(),p.autoplay&&p.play(),p}var x,L={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},M={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},T="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),O={arr:function(e){return Array.isArray(e)},obj:function(e){return-1<Object.prototype.toString.call(e).indexOf("Object")},pth:function(e){return O.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},dom:function(e){return e.nodeType||O.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return O.hex(e)||O.rgb(e)||O.hsl(e)}},R=function(){function e(e,t,i){return(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e}return function(t,i,n,r){if(0<=t&&1>=t&&0<=n&&1>=n){var o=new Float32Array(11);if(t!==i||n!==r)for(var s=0;11>s;++s)o[s]=e(.1*s,t,n);return function(s){if(t===i&&n===r)return s;if(0===s)return 0;if(1===s)return 1;for(var a=0,c=1;10!==c&&o[c]<=s;++c)a+=.1;--c,c=a+(s-o[c])/(o[c+1]-o[c])*.1;var l=3*(1-3*n+3*t)*c*c+2*(3*n-6*t)*c+3*t;if(.001<=l){for(a=0;4>a&&0!=(l=3*(1-3*n+3*t)*c*c+2*(3*n-6*t)*c+3*t);++a){var u=e(c,t,n)-s;c-=u/l}s=c}else if(0===l)s=c;else{c=a,a+=.1;var h=0;do{0<(l=e(u=c+(a-c)/2,t,n)-s)?a=u:c=u}while(1e-7<Math.abs(l)&&10>++h);s=u}return e(s,i,r)}}}}(),A=function(){function e(e,t){return 0===e||1===e?e:-Math.pow(2,10*(e-1))*Math.sin(2*(e-1-t/(2*Math.PI)*Math.asin(1))*Math.PI/t)}var t,i="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),n={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],e],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(t,i){return 1-e(1-t,i)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(t,i){return.5>t?e(2*t,i)/2:1-e(-2*t+2,i)/2}]},r={linear:R(.25,.25,.75,.75)},o={};for(t in n)o.type=t,n[o.type].forEach(function(e){return function(t,n){r["ease"+e.type+i[n]]=O.fnc(t)?t:R.apply(h,t)}}(o)),o={type:o.type};return r}(),D={css:function(e,t,i){return e.style[t]=i},attribute:function(e,t,i){return e.setAttribute(t,i)},object:function(e,t,i){return e[t]=i},transform:function(e,t,i,n,r){n[r]||(n[r]=[]),n[r].push(t+"("+i+")")}},I=[],P=0,B=function(){function e(){P=requestAnimationFrame(t)}function t(t){var i=I.length;if(i){for(var n=0;n<i;)I[n]&&I[n].tick(t),n++;e()}else cancelAnimationFrame(P),P=0}return e}();return E.version="2.2.0",E.speed=1,E.running=I,E.remove=function(e){e=b(e);for(var t=I.length;t--;)for(var i=I[t],n=i.animations,o=n.length;o--;)r(e,n[o].animatable.target)&&(n.splice(o,1),n.length||i.pause())},E.getValue=f,E.path=function(t,i){var n=O.str(t)?e(t)[0]:t,r=i||100;return function(e){return{el:n,property:e,totalLength:m(n)*(r/100)}}},E.setDashoffset=function(e){var t=m(e);return e.setAttribute("stroke-dasharray",t),t},E.bezier=R,E.easings=A,E.timeline=function(e){var t=E(e);return t.pause(),t.duration=0,t.add=function(i){return t.children.forEach((function(e){e.began=!0,e.completed=!0})),n(i).forEach((function(i){var n=a(i,s(M,e||{}));n.targets=n.targets||e.targets,i=t.duration;var r=n.offset;n.autoplay=!1,n.direction=t.direction,n.offset=O.und(r)?i:p(r,i),t.began=!0,t.completed=!0,t.seek(n.offset),(n=E(n)).began=!0,n.completed=!0,n.duration>i&&(t.duration=n.duration),t.children.push(n)})),t.seek(0),t.reset(),t.autoplay&&t.restart(),t},t},E.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},E}(),function(e,t){var i={accordion:!0,onOpenStart:void 0,onOpenEnd:void 0,onCloseStart:void 0,onCloseEnd:void 0,inDuration:300,outDuration:300},l=function(c){function l(t,i){a(this,l);var n=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,i));n.el.M_Collapsible=n,n.options=e.extend({},l.defaults,i),n.$headers=n.$el.children("li").children(".collapsible-header"),n.$headers.attr("tabindex",0),n._setupEventHandlers();var r=n.$el.children("li.active").children(".collapsible-body");return n.options.accordion?r.first().css("display","block"):r.css("display","block"),n}return s(l,c),r(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Collapsible=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleCollapsibleClickBound=this._handleCollapsibleClick.bind(this),this._handleCollapsibleKeydownBound=this._handleCollapsibleKeydown.bind(this),this.el.addEventListener("click",this._handleCollapsibleClickBound),this.$headers.each((function(t){t.addEventListener("keydown",e._handleCollapsibleKeydownBound)}))}},{key:"_removeEventHandlers",value:function(){var e=this;this.el.removeEventListener("click",this._handleCollapsibleClickBound),this.$headers.each((function(t){t.removeEventListener("keydown",e._handleCollapsibleKeydownBound)}))}},{key:"_handleCollapsibleClick",value:function(t){var i=e(t.target).closest(".collapsible-header");if(t.target&&i.length){var n=i.closest(".collapsible");if(n[0]===this.el){var r=i.closest("li"),o=n.children("li"),s=r[0].classList.contains("active"),a=o.index(r);s?this.close(a):this.open(a)}}}},{key:"_handleCollapsibleKeydown",value:function(e){13===e.keyCode&&this._handleCollapsibleClickBound(e)}},{key:"_animateIn",value:function(e){var i=this,n=this.$el.children("li").eq(e);if(n.length){var r=n.children(".collapsible-body");t.remove(r[0]),r.css({display:"block",overflow:"hidden",height:0,paddingTop:"",paddingBottom:""});var o=r.css("padding-top"),s=r.css("padding-bottom"),a=r[0].scrollHeight;r.css({paddingTop:0,paddingBottom:0}),t({targets:r[0],height:a,paddingTop:o,paddingBottom:s,duration:this.options.inDuration,easing:"easeInOutCubic",complete:function(e){r.css({overflow:"",paddingTop:"",paddingBottom:"",height:""}),"function"==typeof i.options.onOpenEnd&&i.options.onOpenEnd.call(i,n[0])}})}}},{key:"_animateOut",value:function(e){var i=this,n=this.$el.children("li").eq(e);if(n.length){var r=n.children(".collapsible-body");t.remove(r[0]),r.css("overflow","hidden"),t({targets:r[0],height:0,paddingTop:0,paddingBottom:0,duration:this.options.outDuration,easing:"easeInOutCubic",complete:function(){r.css({height:"",overflow:"",padding:"",display:""}),"function"==typeof i.options.onCloseEnd&&i.options.onCloseEnd.call(i,n[0])}})}}},{key:"open",value:function(t){var i=this,n=this.$el.children("li").eq(t);if(n.length&&!n[0].classList.contains("active")){if("function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,n[0]),this.options.accordion){var r=this.$el.children("li");this.$el.children("li.active").each((function(t){var n=r.index(e(t));i.close(n)}))}n[0].classList.add("active"),this._animateIn(t)}}},{key:"close",value:function(e){var t=this.$el.children("li").eq(e);t.length&&t[0].classList.contains("active")&&("function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,t[0]),t[0].classList.remove("active"),this._animateOut(e))}}],[{key:"init",value:function(e,t){return n(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Collapsible}},{key:"defaults",get:function(){return i}}]),l}(c);M.Collapsible=l,M.jQueryLoaded&&M.initializeJqueryWrapper(l,"collapsible","M_Collapsible")}(cash,M.anime),function(e,t){var i={alignment:"left",autoFocus:!0,constrainWidth:!0,container:null,coverTrigger:!0,closeOnClick:!0,hover:!1,inDuration:150,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onItemClick:null},l=function(c){function l(t,i){a(this,l);var n=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,i));return n.el.M_Dropdown=n,l._dropdowns.push(n),n.id=M.getIdFromTrigger(t),n.dropdownEl=document.getElementById(n.id),n.$dropdownEl=e(n.dropdownEl),n.options=e.extend({},l.defaults,i),n.isOpen=!1,n.isScrollable=!1,n.isTouchMoving=!1,n.focusedIndex=-1,n.filterQuery=[],n.options.container?e(n.options.container).append(n.dropdownEl):n.$el.after(n.dropdownEl),n._makeDropdownFocusable(),n._resetFilterQueryBound=n._resetFilterQuery.bind(n),n._handleDocumentClickBound=n._handleDocumentClick.bind(n),n._handleDocumentTouchmoveBound=n._handleDocumentTouchmove.bind(n),n._handleDropdownClickBound=n._handleDropdownClick.bind(n),n._handleDropdownKeydownBound=n._handleDropdownKeydown.bind(n),n._handleTriggerKeydownBound=n._handleTriggerKeydown.bind(n),n._setupEventHandlers(),n}return s(l,c),r(l,[{key:"destroy",value:function(){this._resetDropdownStyles(),this._removeEventHandlers(),l._dropdowns.splice(l._dropdowns.indexOf(this),1),this.el.M_Dropdown=void 0}},{key:"_setupEventHandlers",value:function(){this.el.addEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.addEventListener("click",this._handleDropdownClickBound),this.options.hover?(this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.addEventListener("mouseleave",this._handleMouseLeaveBound)):(this._handleClickBound=this._handleClick.bind(this),this.el.addEventListener("click",this._handleClickBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.removeEventListener("click",this._handleDropdownClickBound),this.options.hover?(this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.removeEventListener("mouseleave",this._handleMouseLeaveBound)):this.el.removeEventListener("click",this._handleClickBound)}},{key:"_setupTemporaryEventHandlers",value:function(){document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound),document.body.addEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.addEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_removeTemporaryEventHandlers",value:function(){document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound),document.body.removeEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.removeEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_handleClick",value:function(e){e.preventDefault(),this.open()}},{key:"_handleMouseEnter",value:function(){this.open()}},{key:"_handleMouseLeave",value:function(t){var i=t.toElement||t.relatedTarget,n=!!e(i).closest(".dropdown-content").length,r=!1,o=e(i).closest(".dropdown-trigger");o.length&&o[0].M_Dropdown&&o[0].M_Dropdown.isOpen&&(r=!0),r||n||this.close()}},{key:"_handleDocumentClick",value:function(t){var i=this,n=e(t.target);this.options.closeOnClick&&n.closest(".dropdown-content").length&&!this.isTouchMoving?setTimeout((function(){i.close()}),0):!n.closest(".dropdown-trigger").length&&n.closest(".dropdown-content").length||setTimeout((function(){i.close()}),0),this.isTouchMoving=!1}},{key:"_handleTriggerKeydown",value:function(e){e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ENTER||this.isOpen||(e.preventDefault(),this.open())}},{key:"_handleDocumentTouchmove",value:function(t){e(t.target).closest(".dropdown-content").length&&(this.isTouchMoving=!0)}},{key:"_handleDropdownClick",value:function(t){if("function"==typeof this.options.onItemClick){var i=e(t.target).closest("li")[0];this.options.onItemClick.call(this,i)}}},{key:"_handleDropdownKeydown",value:function(t){if(t.which===M.keys.TAB)t.preventDefault(),this.close();else if(t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ARROW_UP||!this.isOpen)if(t.which===M.keys.ENTER&&this.isOpen){var i=this.dropdownEl.children[this.focusedIndex],n=e(i).find("a, button").first();n.length?n[0].click():i.click()}else t.which===M.keys.ESC&&this.isOpen&&(t.preventDefault(),this.close());else{t.preventDefault();var r=t.which===M.keys.ARROW_DOWN?1:-1,o=this.focusedIndex,s=!1;do{if(o+=r,this.dropdownEl.children[o]&&-1!==this.dropdownEl.children[o].tabIndex){s=!0;break}}while(o<this.dropdownEl.children.length&&o>=0);s&&(this.focusedIndex=o,this._focusFocusedItem())}var a=String.fromCharCode(t.which).toLowerCase();if(a&&-1===[9,13,27,38,40].indexOf(t.which)){this.filterQuery.push(a);var c=this.filterQuery.join(""),l=e(this.dropdownEl).find("li").filter((function(t){return 0===e(t).text().toLowerCase().indexOf(c)}))[0];l&&(this.focusedIndex=e(l).index(),this._focusFocusedItem())}this.filterTimeout=setTimeout(this._resetFilterQueryBound,1e3)}},{key:"_resetFilterQuery",value:function(){this.filterQuery=[]}},{key:"_resetDropdownStyles",value:function(){this.$dropdownEl.css({display:"",width:"",height:"",left:"",top:"","transform-origin":"",transform:"",opacity:""})}},{key:"_makeDropdownFocusable",value:function(){this.dropdownEl.tabIndex=0,e(this.dropdownEl).children().each((function(e){e.getAttribute("tabindex")||e.setAttribute("tabindex",0)}))}},{key:"_focusFocusedItem",value:function(){this.focusedIndex>=0&&this.focusedIndex<this.dropdownEl.children.length&&this.options.autoFocus&&this.dropdownEl.children[this.focusedIndex].focus()}},{key:"_getDropdownPosition",value:function(){this.el.offsetParent.getBoundingClientRect();var e=this.el.getBoundingClientRect(),t=this.dropdownEl.getBoundingClientRect(),i=t.height,n=t.width,r=e.left-t.left,o=e.top-t.top,s={left:r,top:o,height:i,width:n},a=this.dropdownEl.offsetParent?this.dropdownEl.offsetParent:this.dropdownEl.parentNode,c=M.checkPossibleAlignments(this.el,a,s,this.options.coverTrigger?0:e.height),l="top",u=this.options.alignment;if(o+=this.options.coverTrigger?0:e.height,this.isScrollable=!1,c.top||(c.bottom?l="bottom":(this.isScrollable=!0,c.spaceOnTop>c.spaceOnBottom?(l="bottom",i+=c.spaceOnTop,o-=c.spaceOnTop):i+=c.spaceOnBottom)),!c[u]){var h="left"===u?"right":"left";c[h]?u=h:c.spaceOnLeft>c.spaceOnRight?(u="right",n+=c.spaceOnLeft,r-=c.spaceOnLeft):(u="left",n+=c.spaceOnRight)}return"bottom"===l&&(o=o-t.height+(this.options.coverTrigger?e.height:0)),"right"===u&&(r=r-t.width+e.width),{x:r,y:o,verticalAlignment:l,horizontalAlignment:u,height:i,width:n}}},{key:"_animateIn",value:function(){var e=this;t.remove(this.dropdownEl),t({targets:this.dropdownEl,opacity:{value:[0,1],easing:"easeOutQuad"},scaleX:[.3,1],scaleY:[.3,1],duration:this.options.inDuration,easing:"easeOutQuint",complete:function(t){if(e.options.autoFocus&&e.dropdownEl.focus(),"function"==typeof e.options.onOpenEnd){var i=t.animatables[0].target;e.options.onOpenEnd.call(i,e.el)}}})}},{key:"_animateOut",value:function(){var e=this;t.remove(this.dropdownEl),t({targets:this.dropdownEl,opacity:{value:0,easing:"easeOutQuint"},scaleX:.3,scaleY:.3,duration:this.options.outDuration,easing:"easeOutQuint",complete:function(t){if(e._resetDropdownStyles(),"function"==typeof e.options.onCloseEnd){t.animatables[0].target;e.options.onCloseEnd.call(e,e.el)}}})}},{key:"_placeDropdown",value:function(){var e=this.options.constrainWidth?this.el.getBoundingClientRect().width:this.dropdownEl.getBoundingClientRect().width;this.dropdownEl.style.width=e+"px";var t=this._getDropdownPosition();this.dropdownEl.style.left=t.x+"px",this.dropdownEl.style.top=t.y+"px",this.dropdownEl.style.height=t.height+"px",this.dropdownEl.style.width=t.width+"px",this.dropdownEl.style.transformOrigin=("left"===t.horizontalAlignment?"0":"100%")+" "+("top"===t.verticalAlignment?"0":"100%")}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._resetDropdownStyles(),this.dropdownEl.style.display="block",this._placeDropdown(),this._animateIn(),this._setupTemporaryEventHandlers())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.focusedIndex=-1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._animateOut(),this._removeTemporaryEventHandlers(),this.options.autoFocus&&this.el.focus())}},{key:"recalculateDimensions",value:function(){this.isOpen&&(this.$dropdownEl.css({width:"",height:"",left:"",top:"","transform-origin":""}),this._placeDropdown())}}],[{key:"init",value:function(e,t){return n(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Dropdown}},{key:"defaults",get:function(){return i}}]),l}(c);l._dropdowns=[],window.M.Dropdown=l,M.jQueryLoaded&&M.initializeJqueryWrapper(l,"dropdown","M_Dropdown")}(cash,M.anime),function(e,t){var i={opacity:.5,inDuration:250,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0,dismissible:!0,startingTop:"4%",endingTop:"10%"},l=function(c){function l(t,i){a(this,l);var n=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,i));return n.el.M_Modal=n,n.options=e.extend({},l.defaults,i),n.isOpen=!1,n.id=n.$el.attr("id"),n._openingTrigger=void 0,n.$overlay=e('<div class="modal-overlay"></div>'),n.el.tabIndex=0,n._nthModalOpened=0,l._count++,n._setupEventHandlers(),n}return s(l,c),r(l,[{key:"destroy",value:function(){l._count--,this._removeEventHandlers(),this.el.removeAttribute("style"),this.$overlay.remove(),this.el.M_Modal=void 0}},{key:"_setupEventHandlers",value:function(){this._handleOverlayClickBound=this._handleOverlayClick.bind(this),this._handleModalCloseClickBound=this._handleModalCloseClick.bind(this),1===l._count&&document.body.addEventListener("click",this._handleTriggerClick),this.$overlay[0].addEventListener("click",this._handleOverlayClickBound),this.el.addEventListener("click",this._handleModalCloseClickBound)}},{key:"_removeEventHandlers",value:function(){0===l._count&&document.body.removeEventListener("click",this._handleTriggerClick),this.$overlay[0].removeEventListener("click",this._handleOverlayClickBound),this.el.removeEventListener("click",this._handleModalCloseClickBound)}},{key:"_handleTriggerClick",value:function(t){var i=e(t.target).closest(".modal-trigger");if(i.length){var n=M.getIdFromTrigger(i[0]),r=document.getElementById(n).M_Modal;r&&r.open(i),t.preventDefault()}}},{key:"_handleOverlayClick",value:function(){this.options.dismissible&&this.close()}},{key:"_handleModalCloseClick",value:function(t){e(t.target).closest(".modal-close").length&&this.close()}},{key:"_handleKeydown",value:function(e){27===e.keyCode&&this.options.dismissible&&this.close()}},{key:"_handleFocus",value:function(e){this.el.contains(e.target)||this._nthModalOpened!==l._modalsOpen||this.el.focus()}},{key:"_animateIn",value:function(){var i=this;e.extend(this.el.style,{display:"block",opacity:0}),e.extend(this.$overlay[0].style,{display:"block",opacity:0}),t({targets:this.$overlay[0],opacity:this.options.opacity,duration:this.options.inDuration,easing:"easeOutQuad"});var n={targets:this.el,duration:this.options.inDuration,easing:"easeOutCubic",complete:function(){"function"==typeof i.options.onOpenEnd&&i.options.onOpenEnd.call(i,i.el,i._openingTrigger)}};this.el.classList.contains("bottom-sheet")?(e.extend(n,{bottom:0,opacity:1}),t(n)):(e.extend(n,{top:[this.options.startingTop,this.options.endingTop],opacity:1,scaleX:[.8,1],scaleY:[.8,1]}),t(n))}},{key:"_animateOut",value:function(){var i=this;t({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuart"});var n={targets:this.el,duration:this.options.outDuration,easing:"easeOutCubic",complete:function(){i.el.style.display="none",i.$overlay.remove(),"function"==typeof i.options.onCloseEnd&&i.options.onCloseEnd.call(i,i.el)}};this.el.classList.contains("bottom-sheet")?(e.extend(n,{bottom:"-100%",opacity:0}),t(n)):(e.extend(n,{top:[this.options.endingTop,this.options.startingTop],opacity:0,scaleX:.8,scaleY:.8}),t(n))}},{key:"open",value:function(e){if(!this.isOpen)return this.isOpen=!0,l._modalsOpen++,this._nthModalOpened=l._modalsOpen,this.$overlay[0].style.zIndex=1e3+2*l._modalsOpen,this.el.style.zIndex=1e3+2*l._modalsOpen+1,this._openingTrigger=e?e[0]:void 0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el,this._openingTrigger),this.options.preventScrolling&&(document.body.style.overflow="hidden"),this.el.classList.add("open"),this.el.insertAdjacentElement("afterend",this.$overlay[0]),this.options.dismissible&&(this._handleKeydownBound=this._handleKeydown.bind(this),this._handleFocusBound=this._handleFocus.bind(this),document.addEventListener("keydown",this._handleKeydownBound),document.addEventListener("focus",this._handleFocusBound,!0)),t.remove(this.el),t.remove(this.$overlay[0]),this._animateIn(),this.el.focus(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,l._modalsOpen--,this._nthModalOpened=0,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this.el.classList.remove("open"),0===l._modalsOpen&&(document.body.style.overflow=""),this.options.dismissible&&(document.removeEventListener("keydown",this._handleKeydownBound),document.removeEventListener("focus",this._handleFocusBound,!0)),t.remove(this.el),t.remove(this.$overlay[0]),this._animateOut(),this}}],[{key:"init",value:function(e,t){return n(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Modal}},{key:"defaults",get:function(){return i}}]),l}(c);l._modalsOpen=0,l._count=0,M.Modal=l,M.jQueryLoaded&&M.initializeJqueryWrapper(l,"modal","M_Modal")}(cash,M.anime),function(e,t){var i={inDuration:275,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null},l=function(c){function l(t,i){a(this,l);var n=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,i));return n.el.M_Materialbox=n,n.options=e.extend({},l.defaults,i),n.overlayActive=!1,n.doneAnimating=!0,n.placeholder=e("<div></div>").addClass("material-placeholder"),n.originalWidth=0,n.originalHeight=0,n.originInlineStyles=n.$el.attr("style"),n.caption=n.el.getAttribute("data-caption")||"",n.$el.before(n.placeholder),n.placeholder.append(n.$el),n._setupEventHandlers(),n}return s(l,c),r(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Materialbox=void 0,e(this.placeholder).after(this.el).remove(),this.$el.removeAttr("style")}},{key:"_setupEventHandlers",value:function(){this._handleMaterialboxClickBound=this._handleMaterialboxClick.bind(this),this.el.addEventListener("click",this._handleMaterialboxClickBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleMaterialboxClickBound)}},{key:"_handleMaterialboxClick",value:function(e){!1===this.doneAnimating||this.overlayActive&&this.doneAnimating?this.close():this.open()}},{key:"_handleWindowScroll",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowResize",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowEscape",value:function(e){27===e.keyCode&&this.doneAnimating&&this.overlayActive&&this.close()}},{key:"_makeAncestorsOverflowVisible",value:function(){this.ancestorsChanged=e();for(var t=this.placeholder[0].parentNode;null!==t&&!e(t).is(document);){var i=e(t);"visible"!==i.css("overflow")&&(i.css("overflow","visible"),void 0===this.ancestorsChanged?this.ancestorsChanged=i:this.ancestorsChanged=this.ancestorsChanged.add(i)),t=t.parentNode}}},{key:"_animateImageIn",value:function(){var e=this,i={targets:this.el,height:[this.originalHeight,this.newHeight],width:[this.originalWidth,this.newWidth],left:M.getDocumentScrollLeft()+this.windowWidth/2-this.placeholder.offset().left-this.newWidth/2,top:M.getDocumentScrollTop()+this.windowHeight/2-this.placeholder.offset().top-this.newHeight/2,duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){e.doneAnimating=!0,"function"==typeof e.options.onOpenEnd&&e.options.onOpenEnd.call(e,e.el)}};this.maxWidth=this.$el.css("max-width"),this.maxHeight=this.$el.css("max-height"),"none"!==this.maxWidth&&(i.maxWidth=this.newWidth),"none"!==this.maxHeight&&(i.maxHeight=this.newHeight),t(i)}},{key:"_animateImageOut",value:function(){var e=this,i={targets:this.el,width:this.originalWidth,height:this.originalHeight,left:0,top:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e.placeholder.css({height:"",width:"",position:"",top:"",left:""}),e.attrWidth&&e.$el.attr("width",e.attrWidth),e.attrHeight&&e.$el.attr("height",e.attrHeight),e.$el.removeAttr("style"),e.originInlineStyles&&e.$el.attr("style",e.originInlineStyles),e.$el.removeClass("active"),e.doneAnimating=!0,e.ancestorsChanged.length&&e.ancestorsChanged.css("overflow",""),"function"==typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e,e.el)}};t(i)}},{key:"_updateVars",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.caption=this.el.getAttribute("data-caption")||""}},{key:"open",value:function(){var i=this;this._updateVars(),this.originalWidth=this.el.getBoundingClientRect().width,this.originalHeight=this.el.getBoundingClientRect().height,this.doneAnimating=!1,this.$el.addClass("active"),this.overlayActive=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this.placeholder.css({width:this.placeholder[0].getBoundingClientRect().width+"px",height:this.placeholder[0].getBoundingClientRect().height+"px",position:"relative",top:0,left:0}),this._makeAncestorsOverflowVisible(),this.$el.css({position:"absolute","z-index":1e3,"will-change":"left, top, width, height"}),this.attrWidth=this.$el.attr("width"),this.attrHeight=this.$el.attr("height"),this.attrWidth&&(this.$el.css("width",this.attrWidth+"px"),this.$el.removeAttr("width")),this.attrHeight&&(this.$el.css("width",this.attrHeight+"px"),this.$el.removeAttr("height")),this.$overlay=e('<div id="materialbox-overlay"></div>').css({opacity:0}).one("click",(function(){i.doneAnimating&&i.close()})),this.$el.before(this.$overlay);var n=this.$overlay[0].getBoundingClientRect();this.$overlay.css({width:this.windowWidth+"px",height:this.windowHeight+"px",left:-1*n.left+"px",top:-1*n.top+"px"}),t.remove(this.el),t.remove(this.$overlay[0]),t({targets:this.$overlay[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}),""!==this.caption&&(this.$photocaption&&t.remove(this.$photoCaption[0]),this.$photoCaption=e('<div class="materialbox-caption"></div>'),this.$photoCaption.text(this.caption),e("body").append(this.$photoCaption),this.$photoCaption.css({display:"inline"}),t({targets:this.$photoCaption[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}));var r=0,o=this.originalWidth/this.windowWidth,s=this.originalHeight/this.windowHeight;this.newWidth=0,this.newHeight=0,o>s?(r=this.originalHeight/this.originalWidth,this.newWidth=.9*this.windowWidth,this.newHeight=.9*this.windowWidth*r):(r=this.originalWidth/this.originalHeight,this.newWidth=.9*this.windowHeight*r,this.newHeight=.9*this.windowHeight),this._animateImageIn(),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),this._handleWindowResizeBound=this._handleWindowResize.bind(this),this._handleWindowEscapeBound=this._handleWindowEscape.bind(this),window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleWindowResizeBound),window.addEventListener("keyup",this._handleWindowEscapeBound)}},{key:"close",value:function(){var e=this;this._updateVars(),this.doneAnimating=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),t.remove(this.el),t.remove(this.$overlay[0]),""!==this.caption&&t.remove(this.$photoCaption[0]),window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleWindowResizeBound),window.removeEventListener("keyup",this._handleWindowEscapeBound),t({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e.overlayActive=!1,e.$overlay.remove()}}),this._animateImageOut(),""!==this.caption&&t({targets:this.$photoCaption[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e.$photoCaption.remove()}})}}],[{key:"init",value:function(e,t){return n(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Materialbox}},{key:"defaults",get:function(){return i}}]),l}(c);M.Materialbox=l,M.jQueryLoaded&&M.initializeJqueryWrapper(l,"materialbox","M_Materialbox")}(cash,M.anime),function(e){var t={responsiveThreshold:0},i=function(i){function c(t,i){a(this,c);var n=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,t,i));return n.el.M_Parallax=n,n.options=e.extend({},c.defaults,i),n._enabled=window.innerWidth>n.options.responsiveThreshold,n.$img=n.$el.find("img").first(),n.$img.each((function(){this.complete&&e(this).trigger("load")})),n._updateParallax(),n._setupEventHandlers(),n._setupStyles(),c._parallaxes.push(n),n}return s(c,i),r(c,[{key:"destroy",value:function(){c._parallaxes.splice(c._parallaxes.indexOf(this),1),this.$img[0].style.transform="",this._removeEventHandlers(),this.$el[0].M_Parallax=void 0}},{key:"_setupEventHandlers",value:function(){this._handleImageLoadBound=this._handleImageLoad.bind(this),this.$img[0].addEventListener("load",this._handleImageLoadBound),0===c._parallaxes.length&&(c._handleScrollThrottled=M.throttle(c._handleScroll,5),window.addEventListener("scroll",c._handleScrollThrottled),c._handleWindowResizeThrottled=M.throttle(c._handleWindowResize,5),window.addEventListener("resize",c._handleWindowResizeThrottled))}},{key:"_removeEventHandlers",value:function(){this.$img[0].removeEventListener("load",this._handleImageLoadBound),0===c._parallaxes.length&&(window.removeEventListener("scroll",c._handleScrollThrottled),window.removeEventListener("resize",c._handleWindowResizeThrottled))}},{key:"_setupStyles",value:function(){this.$img[0].style.opacity=1}},{key:"_handleImageLoad",value:function(){this._updateParallax()}},{key:"_updateParallax",value:function(){var e=this.$el.height()>0?this.el.parentNode.offsetHeight:500,t=this.$img[0].offsetHeight-e,i=this.$el.offset().top+e,n=this.$el.offset().top,r=M.getDocumentScrollTop(),o=window.innerHeight,s=t*((r+o-n)/(e+o));this._enabled?i>r&&n<r+o&&(this.$img[0].style.transform="translate3D(-50%, "+s+"px, 0)"):this.$img[0].style.transform=""}}],[{key:"init",value:function(e,t){return n(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Parallax}},{key:"_handleScroll",value:function(){for(var e=0;e<c._parallaxes.length;e++){var t=c._parallaxes[e];t._updateParallax.call(t)}}},{key:"_handleWindowResize",value:function(){for(var e=0;e<c._parallaxes.length;e++){var t=c._parallaxes[e];t._enabled=window.innerWidth>t.options.responsiveThreshold}}},{key:"defaults",get:function(){return t}}]),c}(c);i._parallaxes=[],M.Parallax=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"parallax","M_Parallax")}(cash),function(e,t){var i={duration:300,onShow:null,swipeable:!1,responsiveThreshold:1/0},l=function(c){function l(t,i){a(this,l);var n=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,i));return n.el.M_Tabs=n,n.options=e.extend({},l.defaults,i),n.$tabLinks=n.$el.children("li.tab").children("a"),n.index=0,n._setupActiveTabLink(),n.options.swipeable?n._setupSwipeableTabs():n._setupNormalTabs(),n._setTabsAndTabWidth(),n._createIndicator(),n._setupEventHandlers(),n}return s(l,c),r(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this._indicator.parentNode.removeChild(this._indicator),this.options.swipeable?this._teardownSwipeableTabs():this._teardownNormalTabs(),this.$el[0].M_Tabs=void 0}},{key:"_setupEventHandlers",value:function(){this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound),this._handleTabClickBound=this._handleTabClick.bind(this),this.el.addEventListener("click",this._handleTabClickBound)}},{key:"_removeEventHandlers",value:function(){window.removeEventListener("resize",this._handleWindowResizeBound),this.el.removeEventListener("click",this._handleTabClickBound)}},{key:"_handleWindowResize",value:function(){this._setTabsAndTabWidth(),0!==this.tabWidth&&0!==this.tabsWidth&&(this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+"px",this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+"px")}},{key:"_handleTabClick",value:function(t){var i=this,n=e(t.target).closest("li.tab"),r=e(t.target).closest("a");if(r.length&&r.parent().hasClass("tab"))if(n.hasClass("disabled"))t.preventDefault();else if(!r.attr("target")){this.$activeTabLink.removeClass("active");var o=this.$content;this.$activeTabLink=r,this.$content=e(M.escapeHash(r[0].hash)),this.$tabLinks=this.$el.children("li.tab").children("a"),this.$activeTabLink.addClass("active");var s=this.index;this.index=Math.max(this.$tabLinks.index(r),0),this.options.swipeable?this._tabsCarousel&&this._tabsCarousel.set(this.index,(function(){"function"==typeof i.options.onShow&&i.options.onShow.call(i,i.$content[0])})):this.$content.length&&(this.$content[0].style.display="block",this.$content.addClass("active"),"function"==typeof this.options.onShow&&this.options.onShow.call(this,this.$content[0]),o.length&&!o.is(this.$content)&&(o[0].style.display="none",o.removeClass("active"))),this._setTabsAndTabWidth(),this._animateIndicator(s),t.preventDefault()}}},{key:"_createIndicator",value:function(){var e=this,t=document.createElement("li");t.classList.add("indicator"),this.el.appendChild(t),this._indicator=t,setTimeout((function(){e._indicator.style.left=e._calcLeftPos(e.$activeTabLink)+"px",e._indicator.style.right=e._calcRightPos(e.$activeTabLink)+"px"}),0)}},{key:"_setupActiveTabLink",value:function(){this.$activeTabLink=e(this.$tabLinks.filter('[href="'+location.hash+'"]')),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a.active").first()),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a").first()),this.$tabLinks.removeClass("active"),this.$activeTabLink[0].classList.add("active"),this.index=Math.max(this.$tabLinks.index(this.$activeTabLink),0),this.$activeTabLink.length&&(this.$content=e(M.escapeHash(this.$activeTabLink[0].hash)),this.$content.addClass("active"))}},{key:"_setupSwipeableTabs",value:function(){var t=this;window.innerWidth>this.options.responsiveThreshold&&(this.options.swipeable=!1);var i=e();this.$tabLinks.each((function(t){var n=e(M.escapeHash(t.hash));n.addClass("carousel-item"),i=i.add(n)}));var n=e('<div class="tabs-content carousel carousel-slider"></div>');i.first().before(n),n.append(i),i[0].style.display="";var r=this.$activeTabLink.closest(".tab").index();this._tabsCarousel=M.Carousel.init(n[0],{fullWidth:!0,noWrap:!0,onCycleTo:function(i){var n=t.index;t.index=e(i).index(),t.$activeTabLink.removeClass("active"),t.$activeTabLink=t.$tabLinks.eq(t.index),t.$activeTabLink.addClass("active"),t._animateIndicator(n),"function"==typeof t.options.onShow&&t.options.onShow.call(t,t.$content[0])}}),this._tabsCarousel.set(r)}},{key:"_teardownSwipeableTabs",value:function(){var e=this._tabsCarousel.$el;this._tabsCarousel.destroy(),e.after(e.children()),e.remove()}},{key:"_setupNormalTabs",value:function(){this.$tabLinks.not(this.$activeTabLink).each((function(t){if(t.hash){var i=e(M.escapeHash(t.hash));i.length&&(i[0].style.display="none")}}))}},{key:"_teardownNormalTabs",value:function(){this.$tabLinks.each((function(t){if(t.hash){var i=e(M.escapeHash(t.hash));i.length&&(i[0].style.display="")}}))}},{key:"_setTabsAndTabWidth",value:function(){this.tabsWidth=this.$el.width(),this.tabWidth=Math.max(this.tabsWidth,this.el.scrollWidth)/this.$tabLinks.length}},{key:"_calcRightPos",value:function(e){return Math.ceil(this.tabsWidth-e.position().left-e[0].getBoundingClientRect().width)}},{key:"_calcLeftPos",value:function(e){return Math.floor(e.position().left)}},{key:"updateTabIndicator",value:function(){this._setTabsAndTabWidth(),this._animateIndicator(this.index)}},{key:"_animateIndicator",value:function(e){var i=0,n=0;this.index-e>=0?i=90:n=90;var r={targets:this._indicator,left:{value:this._calcLeftPos(this.$activeTabLink),delay:i},right:{value:this._calcRightPos(this.$activeTabLink),delay:n},duration:this.options.duration,easing:"easeOutQuad"};t.remove(this._indicator),t(r)}},{key:"select",value:function(e){var t=this.$tabLinks.filter('[href="#'+e+'"]');t.length&&t.trigger("click")}}],[{key:"init",value:function(e,t){return n(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Tabs}},{key:"defaults",get:function(){return i}}]),l}(c);window.M.Tabs=l,M.jQueryLoaded&&M.initializeJqueryWrapper(l,"tabs","M_Tabs")}(cash,M.anime),function(e,t){var i={exitDelay:200,enterDelay:0,html:null,margin:5,inDuration:250,outDuration:200,position:"bottom",transitionMovement:10},l=function(c){function l(t,i){a(this,l);var n=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,i));return n.el.M_Tooltip=n,n.options=e.extend({},l.defaults,i),n.isOpen=!1,n.isHovered=!1,n.isFocused=!1,n._appendTooltipEl(),n._setupEventHandlers(),n}return s(l,c),r(l,[{key:"destroy",value:function(){e(this.tooltipEl).remove(),this._removeEventHandlers(),this.el.M_Tooltip=void 0}},{key:"_appendTooltipEl",value:function(){var e=document.createElement("div");e.classList.add("material-tooltip"),this.tooltipEl=e;var t=document.createElement("div");t.classList.add("tooltip-content"),t.innerHTML=this.options.html,e.appendChild(t),document.body.appendChild(e)}},{key:"_updateTooltipContent",value:function(){this.tooltipEl.querySelector(".tooltip-content").innerHTML=this.options.html}},{key:"_setupEventHandlers",value:function(){this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this._handleFocusBound=this._handleFocus.bind(this),this._handleBlurBound=this._handleBlur.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.el.addEventListener("focus",this._handleFocusBound,!0),this.el.addEventListener("blur",this._handleBlurBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.el.removeEventListener("focus",this._handleFocusBound,!0),this.el.removeEventListener("blur",this._handleBlurBound,!0)}},{key:"open",value:function(t){this.isOpen||(t=void 0===t||void 0,this.isOpen=!0,this.options=e.extend({},this.options,this._getAttributeOptions()),this._updateTooltipContent(),this._setEnterDelayTimeout(t))}},{key:"close",value:function(){this.isOpen&&(this.isHovered=!1,this.isFocused=!1,this.isOpen=!1,this._setExitDelayTimeout())}},{key:"_setExitDelayTimeout",value:function(){var e=this;clearTimeout(this._exitDelayTimeout),this._exitDelayTimeout=setTimeout((function(){e.isHovered||e.isFocused||e._animateOut()}),this.options.exitDelay)}},{key:"_setEnterDelayTimeout",value:function(e){var t=this;clearTimeout(this._enterDelayTimeout),this._enterDelayTimeout=setTimeout((function(){(t.isHovered||t.isFocused||e)&&t._animateIn()}),this.options.enterDelay)}},{key:"_positionTooltip",value:function(){var t,i=this.el,n=this.tooltipEl,r=i.offsetHeight,o=i.offsetWidth,s=n.offsetHeight,a=n.offsetWidth,c=this.options.margin,l=void 0,u=void 0;this.xMovement=0,this.yMovement=0,l=i.getBoundingClientRect().top+M.getDocumentScrollTop(),u=i.getBoundingClientRect().left+M.getDocumentScrollLeft(),"top"===this.options.position?(l+=-s-c,u+=o/2-a/2,this.yMovement=-this.options.transitionMovement):"right"===this.options.position?(l+=r/2-s/2,u+=o+c,this.xMovement=this.options.transitionMovement):"left"===this.options.position?(l+=r/2-s/2,u+=-a-c,this.xMovement=-this.options.transitionMovement):(l+=r+c,u+=o/2-a/2,this.yMovement=this.options.transitionMovement),t=this._repositionWithinScreen(u,l,a,s),e(n).css({top:t.y+"px",left:t.x+"px"})}},{key:"_repositionWithinScreen",value:function(e,t,i,n){var r=M.getDocumentScrollLeft(),o=M.getDocumentScrollTop(),s=e-r,a=t-o,c={left:s,top:a,width:i,height:n},l=this.options.margin+this.options.transitionMovement,u=M.checkWithinContainer(document.body,c,l);return u.left?s=l:u.right&&(s-=s+i-window.innerWidth),u.top?a=l:u.bottom&&(a-=a+n-window.innerHeight),{x:s+r,y:a+o}}},{key:"_animateIn",value:function(){this._positionTooltip(),this.tooltipEl.style.visibility="visible",t.remove(this.tooltipEl),t({targets:this.tooltipEl,opacity:1,translateX:this.xMovement,translateY:this.yMovement,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_animateOut",value:function(){t.remove(this.tooltipEl),t({targets:this.tooltipEl,opacity:0,translateX:0,translateY:0,duration:this.options.outDuration,easing:"easeOutCubic"})}},{key:"_handleMouseEnter",value:function(){this.isHovered=!0,this.isFocused=!1,this.open(!1)}},{key:"_handleMouseLeave",value:function(){this.isHovered=!1,this.isFocused=!1,this.close()}},{key:"_handleFocus",value:function(){M.tabPressed&&(this.isFocused=!0,this.open(!1))}},{key:"_handleBlur",value:function(){this.isFocused=!1,this.close()}},{key:"_getAttributeOptions",value:function(){var e={},t=this.el.getAttribute("data-tooltip"),i=this.el.getAttribute("data-position");return t&&(e.html=t),i&&(e.position=i),e}}],[{key:"init",value:function(e,t){return n(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Tooltip}},{key:"defaults",get:function(){return i}}]),l}(c);M.Tooltip=l,M.jQueryLoaded&&M.initializeJqueryWrapper(l,"tooltip","M_Tooltip")}(cash,M.anime),function(e){var t=t||{},i=document.querySelectorAll.bind(document);function n(e){var t="";for(var i in e)e.hasOwnProperty(i)&&(t+=i+":"+e[i]+";");return t}var r={duration:750,show:function(e,t){if(2===e.button)return!1;var i=t||this,o=document.createElement("div");o.className="waves-ripple",i.appendChild(o);var s,a,c,l,u,h=(l={top:0,left:0},u=(s=i)&&s.ownerDocument,a=u.documentElement,void 0!==s.getBoundingClientRect&&(l=s.getBoundingClientRect()),c=function(e){return null!==(t=e)&&t===t.window?e:9===e.nodeType&&e.defaultView;var t}(u),{top:l.top+c.pageYOffset-a.clientTop,left:l.left+c.pageXOffset-a.clientLeft}),d=e.pageY-h.top,f=e.pageX-h.left,p="scale("+i.clientWidth/100*10+")";"touches"in e&&(d=e.touches[0].pageY-h.top,f=e.touches[0].pageX-h.left),o.setAttribute("data-hold",Date.now()),o.setAttribute("data-scale",p),o.setAttribute("data-x",f),o.setAttribute("data-y",d);var _={top:d+"px",left:f+"px"};o.className=o.className+" waves-notransition",o.setAttribute("style",n(_)),o.className=o.className.replace("waves-notransition",""),_["-webkit-transform"]=p,_["-moz-transform"]=p,_["-ms-transform"]=p,_["-o-transform"]=p,_.transform=p,_.opacity="1",_["-webkit-transition-duration"]=r.duration+"ms",_["-moz-transition-duration"]=r.duration+"ms",_["-o-transition-duration"]=r.duration+"ms",_["transition-duration"]=r.duration+"ms",_["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",_["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",_["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",_["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",o.setAttribute("style",n(_))},hide:function(e){o.touchup(e);var t=this,i=(t.clientWidth,null),s=t.getElementsByClassName("waves-ripple");if(!(s.length>0))return!1;var a=(i=s[s.length-1]).getAttribute("data-x"),c=i.getAttribute("data-y"),l=i.getAttribute("data-scale"),u=350-(Date.now()-Number(i.getAttribute("data-hold")));u<0&&(u=0),setTimeout((function(){var e={top:c+"px",left:a+"px",opacity:"0","-webkit-transition-duration":r.duration+"ms","-moz-transition-duration":r.duration+"ms","-o-transition-duration":r.duration+"ms","transition-duration":r.duration+"ms","-webkit-transform":l,"-moz-transform":l,"-ms-transform":l,"-o-transform":l,transform:l};i.setAttribute("style",n(e)),setTimeout((function(){try{t.removeChild(i)}catch(e){return!1}}),r.duration)}),u)},wrapInput:function(e){for(var t=0;t<e.length;t++){var i=e[t];if("input"===i.tagName.toLowerCase()){var n=i.parentNode;if("i"===n.tagName.toLowerCase()&&-1!==n.className.indexOf("waves-effect"))continue;var r=document.createElement("i");r.className=i.className+" waves-input-wrapper";var o=i.getAttribute("style");o||(o=""),r.setAttribute("style",o),i.className="waves-button-input",i.removeAttribute("style"),n.replaceChild(r,i),r.appendChild(i)}}}},o={touches:0,allowEvent:function(e){var t=!0;return"touchstart"===e.type?o.touches+=1:"touchend"===e.type||"touchcancel"===e.type?setTimeout((function(){o.touches>0&&(o.touches-=1)}),500):"mousedown"===e.type&&o.touches>0&&(t=!1),t},touchup:function(e){o.allowEvent(e)}};function s(t){var i=function(e){if(!1===o.allowEvent(e))return null;for(var t=null,i=e.target||e.srcElement;null!==i.parentNode;){if(!(i instanceof SVGElement)&&-1!==i.className.indexOf("waves-effect")){t=i;break}i=i.parentNode}return t}(t);null!==i&&(r.show(t,i),"ontouchstart"in e&&(i.addEventListener("touchend",r.hide,!1),i.addEventListener("touchcancel",r.hide,!1)),i.addEventListener("mouseup",r.hide,!1),i.addEventListener("mouseleave",r.hide,!1),i.addEventListener("dragend",r.hide,!1))}t.displayEffect=function(t){"duration"in(t=t||{})&&(r.duration=t.duration),r.wrapInput(i(".waves-effect")),"ontouchstart"in e&&document.body.addEventListener("touchstart",s,!1),document.body.addEventListener("mousedown",s,!1)},t.attach=function(t){"input"===t.tagName.toLowerCase()&&(r.wrapInput([t]),t=t.parentNode),"ontouchstart"in e&&t.addEventListener("touchstart",s,!1),t.addEventListener("mousedown",s,!1)},e.Waves=t,document.addEventListener("DOMContentLoaded",(function(){t.displayEffect()}),!1)}(window),function(e,t){var i={html:"",displayLength:4e3,inDuration:300,outDuration:375,classes:"",completeCallback:null,activationPercent:.8},n=function(){function n(t){a(this,n),this.options=e.extend({},n.defaults,t),this.message=this.options.html,this.panning=!1,this.timeRemaining=this.options.displayLength,0===n._toasts.length&&n._createContainer(),n._toasts.push(this);var i=this._createToast();i.M_Toast=this,this.el=i,this.$el=e(i),this._animateIn(),this._setTimer()}return r(n,[{key:"_createToast",value:function(){var t=document.createElement("div");return t.classList.add("toast"),this.options.classes.length&&e(t).addClass(this.options.classes),("object"==typeof HTMLElement?this.message instanceof HTMLElement:this.message&&"object"==typeof this.message&&null!==this.message&&1===this.message.nodeType&&"string"==typeof this.message.nodeName)?t.appendChild(this.message):this.message.jquery?e(t).append(this.message[0]):t.innerHTML=this.message,n._container.appendChild(t),t}},{key:"_animateIn",value:function(){t({targets:this.el,top:0,opacity:1,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_setTimer",value:function(){var e=this;this.timeRemaining!==1/0&&(this.counterInterval=setInterval((function(){e.panning||(e.timeRemaining-=20),e.timeRemaining<=0&&e.dismiss()}),20))}},{key:"dismiss",value:function(){var e=this;window.clearInterval(this.counterInterval);var i=this.el.offsetWidth*this.options.activationPercent;this.wasSwiped&&(this.el.style.transition="transform .05s, opacity .05s",this.el.style.transform="translateX("+i+"px)",this.el.style.opacity=0),t({targets:this.el,opacity:0,marginTop:-40,duration:this.options.outDuration,easing:"easeOutExpo",complete:function(){"function"==typeof e.options.completeCallback&&e.options.completeCallback(),e.$el.remove(),n._toasts.splice(n._toasts.indexOf(e),1),0===n._toasts.length&&n._removeContainer()}})}}],[{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Toast}},{key:"_createContainer",value:function(){var e=document.createElement("div");e.setAttribute("id","toast-container"),e.addEventListener("touchstart",n._onDragStart),e.addEventListener("touchmove",n._onDragMove),e.addEventListener("touchend",n._onDragEnd),e.addEventListener("mousedown",n._onDragStart),document.addEventListener("mousemove",n._onDragMove),document.addEventListener("mouseup",n._onDragEnd),document.body.appendChild(e),n._container=e}},{key:"_removeContainer",value:function(){document.removeEventListener("mousemove",n._onDragMove),document.removeEventListener("mouseup",n._onDragEnd),e(n._container).remove(),n._container=null}},{key:"_onDragStart",value:function(t){if(t.target&&e(t.target).closest(".toast").length){var i=e(t.target).closest(".toast")[0].M_Toast;i.panning=!0,n._draggedToast=i,i.el.classList.add("panning"),i.el.style.transition="",i.startingXPos=n._xPos(t),i.time=Date.now(),i.xPos=n._xPos(t)}}},{key:"_onDragMove",value:function(e){if(n._draggedToast){e.preventDefault();var t=n._draggedToast;t.deltaX=Math.abs(t.xPos-n._xPos(e)),t.xPos=n._xPos(e),t.velocityX=t.deltaX/(Date.now()-t.time),t.time=Date.now();var i=t.xPos-t.startingXPos,r=t.el.offsetWidth*t.options.activationPercent;t.el.style.transform="translateX("+i+"px)",t.el.style.opacity=1-Math.abs(i/r)}}},{key:"_onDragEnd",value:function(){if(n._draggedToast){var e=n._draggedToast;e.panning=!1,e.el.classList.remove("panning");var t=e.xPos-e.startingXPos,i=e.el.offsetWidth*e.options.activationPercent;Math.abs(t)>i||e.velocityX>1?(e.wasSwiped=!0,e.dismiss()):(e.el.style.transition="transform .2s, opacity .2s",e.el.style.transform="",e.el.style.opacity=""),n._draggedToast=null}}},{key:"_xPos",value:function(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}},{key:"dismissAll",value:function(){for(var e in n._toasts)n._toasts[e].dismiss()}},{key:"defaults",get:function(){return i}}]),n}();n._toasts=[],n._container=null,n._draggedToast=null,M.Toast=n,M.toast=function(e){return new n(e)}}(cash,M.anime),function(e,t){var i={edge:"left",draggable:!0,inDuration:250,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0},l=function(c){function l(t,i){a(this,l);var n=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,i));return n.el.M_Sidenav=n,n.id=n.$el.attr("id"),n.options=e.extend({},l.defaults,i),n.isOpen=!1,n.isFixed=n.el.classList.contains("sidenav-fixed"),n.isDragged=!1,n.lastWindowWidth=window.innerWidth,n.lastWindowHeight=window.innerHeight,n._createOverlay(),n._createDragTarget(),n._setupEventHandlers(),n._setupClasses(),n._setupFixed(),l._sidenavs.push(n),n}return s(l,c),r(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this._enableBodyScrolling(),this._overlay.parentNode.removeChild(this._overlay),this.dragTarget.parentNode.removeChild(this.dragTarget),this.el.M_Sidenav=void 0,this.el.style.transform="";var e=l._sidenavs.indexOf(this);e>=0&&l._sidenavs.splice(e,1)}},{key:"_createOverlay",value:function(){var e=document.createElement("div");this._closeBound=this.close.bind(this),e.classList.add("sidenav-overlay"),e.addEventListener("click",this._closeBound),document.body.appendChild(e),this._overlay=e}},{key:"_setupEventHandlers",value:function(){0===l._sidenavs.length&&document.body.addEventListener("click",this._handleTriggerClick),this._handleDragTargetDragBound=this._handleDragTargetDrag.bind(this),this._handleDragTargetReleaseBound=this._handleDragTargetRelease.bind(this),this._handleCloseDragBound=this._handleCloseDrag.bind(this),this._handleCloseReleaseBound=this._handleCloseRelease.bind(this),this._handleCloseTriggerClickBound=this._handleCloseTriggerClick.bind(this),this.dragTarget.addEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.addEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.addEventListener("touchmove",this._handleCloseDragBound),this._overlay.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("touchmove",this._handleCloseDragBound),this.el.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&(this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound))}},{key:"_removeEventHandlers",value:function(){1===l._sidenavs.length&&document.body.removeEventListener("click",this._handleTriggerClick),this.dragTarget.removeEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.removeEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.removeEventListener("touchmove",this._handleCloseDragBound),this._overlay.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("touchmove",this._handleCloseDragBound),this.el.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&window.removeEventListener("resize",this._handleWindowResizeBound)}},{key:"_handleTriggerClick",value:function(t){var i=e(t.target).closest(".sidenav-trigger");if(t.target&&i.length){var n=M.getIdFromTrigger(i[0]),r=document.getElementById(n).M_Sidenav;r&&r.open(i),t.preventDefault()}}},{key:"_startDrag",value:function(e){var i=e.targetTouches[0].clientX;this.isDragged=!0,this._startingXpos=i,this._xPos=this._startingXpos,this._time=Date.now(),this._width=this.el.getBoundingClientRect().width,this._overlay.style.display="block",this._initialScrollTop=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop(),this._verticallyScrolling=!1,t.remove(this.el),t.remove(this._overlay)}},{key:"_dragMoveUpdate",value:function(e){var t=e.targetTouches[0].clientX,i=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop();this.deltaX=Math.abs(this._xPos-t),this._xPos=t,this.velocityX=this.deltaX/(Date.now()-this._time),this._time=Date.now(),this._initialScrollTop!==i&&(this._verticallyScrolling=!0)}},{key:"_handleDragTargetDrag",value:function(e){if(this.options.draggable&&!this._isCurrentlyFixed()&&!this._verticallyScrolling){this.isDragged||this._startDrag(e),this._dragMoveUpdate(e);var t=this._xPos-this._startingXpos,i=t>0?"right":"left";t=Math.min(this._width,Math.abs(t)),this.options.edge===i&&(t=0);var n=t,r="translateX(-100%)";"right"===this.options.edge&&(r="translateX(100%)",n=-n),this.percentOpen=Math.min(1,t/this._width),this.el.style.transform=r+" translateX("+n+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleDragTargetRelease",value:function(){this.isDragged&&(this.percentOpen>.2?this.open():this._animateOut(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseDrag",value:function(e){if(this.isOpen){if(!this.options.draggable||this._isCurrentlyFixed()||this._verticallyScrolling)return;this.isDragged||this._startDrag(e),this._dragMoveUpdate(e);var t=this._xPos-this._startingXpos,i=t>0?"right":"left";t=Math.min(this._width,Math.abs(t)),this.options.edge!==i&&(t=0);var n=-t;"right"===this.options.edge&&(n=-n),this.percentOpen=Math.min(1,1-t/this._width),this.el.style.transform="translateX("+n+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleCloseRelease",value:function(){this.isOpen&&this.isDragged&&(this.percentOpen>.8?this._animateIn():this.close(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseTriggerClick",value:function(t){e(t.target).closest(".sidenav-close").length&&!this._isCurrentlyFixed()&&this.close()}},{key:"_handleWindowResize",value:function(){this.lastWindowWidth!==window.innerWidth&&(window.innerWidth>992?this.open():this.close()),this.lastWindowWidth=window.innerWidth,this.lastWindowHeight=window.innerHeight}},{key:"_setupClasses",value:function(){"right"===this.options.edge&&(this.el.classList.add("right-aligned"),this.dragTarget.classList.add("right-aligned"))}},{key:"_removeClasses",value:function(){this.el.classList.remove("right-aligned"),this.dragTarget.classList.remove("right-aligned")}},{key:"_setupFixed",value:function(){this._isCurrentlyFixed()&&this.open()}},{key:"_isCurrentlyFixed",value:function(){return this.isFixed&&window.innerWidth>992}},{key:"_createDragTarget",value:function(){var e=document.createElement("div");e.classList.add("drag-target"),document.body.appendChild(e),this.dragTarget=e}},{key:"_preventBodyScrolling",value:function(){document.body.style.overflow="hidden"}},{key:"_enableBodyScrolling",value:function(){document.body.style.overflow=""}},{key:"open",value:function(){!0!==this.isOpen&&(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._isCurrentlyFixed()?(t.remove(this.el),t({targets:this.el,translateX:0,duration:0,easing:"easeOutQuad"}),this._enableBodyScrolling(),this._overlay.style.display="none"):(this.options.preventScrolling&&this._preventBodyScrolling(),this.isDragged&&1==this.percentOpen||this._animateIn()))}},{key:"close",value:function(){if(!1!==this.isOpen)if(this.isOpen=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._isCurrentlyFixed()){var e="left"===this.options.edge?"-105%":"105%";this.el.style.transform="translateX("+e+")"}else this._enableBodyScrolling(),this.isDragged&&0==this.percentOpen?this._overlay.style.display="none":this._animateOut()}},{key:"_animateIn",value:function(){this._animateSidenavIn(),this._animateOverlayIn()}},{key:"_animateSidenavIn",value:function(){var e=this,i="left"===this.options.edge?-1:1;this.isDragged&&(i="left"===this.options.edge?i+this.percentOpen:i-this.percentOpen),t.remove(this.el),t({targets:this.el,translateX:[100*i+"%",0],duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){"function"==typeof e.options.onOpenEnd&&e.options.onOpenEnd.call(e,e.el)}})}},{key:"_animateOverlayIn",value:function(){var i=0;this.isDragged?i=this.percentOpen:e(this._overlay).css({display:"block"}),t.remove(this._overlay),t({targets:this._overlay,opacity:[i,1],duration:this.options.inDuration,easing:"easeOutQuad"})}},{key:"_animateOut",value:function(){this._animateSidenavOut(),this._animateOverlayOut()}},{key:"_animateSidenavOut",value:function(){var e=this,i="left"===this.options.edge?-1:1,n=0;this.isDragged&&(n="left"===this.options.edge?i+this.percentOpen:i-this.percentOpen),t.remove(this.el),t({targets:this.el,translateX:[100*n+"%",105*i+"%"],duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){"function"==typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e,e.el)}})}},{key:"_animateOverlayOut",value:function(){var i=this;t.remove(this._overlay),t({targets:this._overlay,opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e(i._overlay).css("display","none")}})}}],[{key:"init",value:function(e,t){return n(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Sidenav}},{key:"defaults",get:function(){return i}}]),l}(c);l._sidenavs=[],window.M.Sidenav=l,M.jQueryLoaded&&M.initializeJqueryWrapper(l,"sidenav","M_Sidenav")}(cash,M.anime),function(e,t){var i={throttle:100,scrollOffset:200,activeClass:"active",getActiveElement:function(e){return'a[href="#'+e+'"]'}},l=function(c){function l(t,i){a(this,l);var n=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,i));return n.el.M_ScrollSpy=n,n.options=e.extend({},l.defaults,i),l._elements.push(n),l._count++,l._increment++,n.tickId=-1,n.id=l._increment,n._setupEventHandlers(),n._handleWindowScroll(),n}return s(l,c),r(l,[{key:"destroy",value:function(){l._elements.splice(l._elements.indexOf(this),1),l._elementsInView.splice(l._elementsInView.indexOf(this),1),l._visibleElements.splice(l._visibleElements.indexOf(this.$el),1),l._count--,this._removeEventHandlers(),e(this.options.getActiveElement(this.$el.attr("id"))).removeClass(this.options.activeClass),this.el.M_ScrollSpy=void 0}},{key:"_setupEventHandlers",value:function(){var e=M.throttle(this._handleWindowScroll,200);this._handleThrottledResizeBound=e.bind(this),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),1===l._count&&(window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleThrottledResizeBound),document.body.addEventListener("click",this._handleTriggerClick))}},{key:"_removeEventHandlers",value:function(){0===l._count&&(window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleThrottledResizeBound),document.body.removeEventListener("click",this._handleTriggerClick))}},{key:"_handleTriggerClick",value:function(i){for(var n=e(i.target),r=l._elements.length-1;r>=0;r--){var o=l._elements[r];if(n.is('a[href="#'+o.$el.attr("id")+'"]')){i.preventDefault();var s=o.$el.offset().top+1;t({targets:[document.documentElement,document.body],scrollTop:s-o.options.scrollOffset,duration:400,easing:"easeOutCubic"});break}}}},{key:"_handleWindowScroll",value:function(){l._ticks++;for(var e=M.getDocumentScrollTop(),t=M.getDocumentScrollLeft(),i=t+window.innerWidth,n=e+window.innerHeight,r=l._findElements(e,i,n,t),o=0;o<r.length;o++){var s=r[o];s.tickId<0&&s._enter(),s.tickId=l._ticks}for(var a=0;a<l._elementsInView.length;a++){var c=l._elementsInView[a],u=c.tickId;u>=0&&u!==l._ticks&&(c._exit(),c.tickId=-1)}l._elementsInView=r}},{key:"_enter",value:function(){l._visibleElements=l._visibleElements.filter((function(e){return 0!=e.height()})),l._visibleElements[0]?(e(this.options.getActiveElement(l._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),l._visibleElements[0][0].M_ScrollSpy&&this.id<l._visibleElements[0][0].M_ScrollSpy.id?l._visibleElements.unshift(this.$el):l._visibleElements.push(this.$el)):l._visibleElements.push(this.$el),e(this.options.getActiveElement(l._visibleElements[0].attr("id"))).addClass(this.options.activeClass)}},{key:"_exit",value:function(){var t=this;l._visibleElements=l._visibleElements.filter((function(e){return 0!=e.height()})),l._visibleElements[0]&&(e(this.options.getActiveElement(l._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),l._visibleElements=l._visibleElements.filter((function(e){return e.attr("id")!=t.$el.attr("id")})),l._visibleElements[0]&&e(this.options.getActiveElement(l._visibleElements[0].attr("id"))).addClass(this.options.activeClass))}}],[{key:"init",value:function(e,t){return n(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_ScrollSpy}},{key:"_findElements",value:function(e,t,i,n){for(var r=[],o=0;o<l._elements.length;o++){var s=l._elements[o],a=e+s.options.scrollOffset||200;if(s.$el.height()>0){var c=s.$el.offset().top,u=s.$el.offset().left,h=u+s.$el.width(),d=c+s.$el.height();!(u>t||h<n||c>i||d<a)&&r.push(s)}}return r}},{key:"defaults",get:function(){return i}}]),l}(c);l._elements=[],l._elementsInView=[],l._visibleElements=[],l._count=0,l._increment=0,l._ticks=0,M.ScrollSpy=l,M.jQueryLoaded&&M.initializeJqueryWrapper(l,"scrollSpy","M_ScrollSpy")}(cash,M.anime),function(e){var t={data:{},limit:1/0,onAutocomplete:null,minLength:1,sortFunction:function(e,t,i){return e.indexOf(i)-t.indexOf(i)}},i=function(i){function c(t,i){a(this,c);var n=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,t,i));return n.el.M_Autocomplete=n,n.options=e.extend({},c.defaults,i),n.isOpen=!1,n.count=0,n.activeIndex=-1,n.oldVal,n.$inputField=n.$el.closest(".input-field"),n.$active=e(),n._mousedown=!1,n._setupDropdown(),n._setupEventHandlers(),n}return s(c,i),r(c,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_Autocomplete=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputBlurBound=this._handleInputBlur.bind(this),this._handleInputKeyupAndFocusBound=this._handleInputKeyupAndFocus.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleContainerMousedownAndTouchstartBound=this._handleContainerMousedownAndTouchstart.bind(this),this._handleContainerMouseupAndTouchendBound=this._handleContainerMouseupAndTouchend.bind(this),this.el.addEventListener("blur",this._handleInputBlurBound),this.el.addEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.addEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("click",this._handleInputClickBound),this.container.addEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),void 0!==window.ontouchstart&&(this.container.addEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("blur",this._handleInputBlurBound),this.el.removeEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("click",this._handleInputClickBound),this.container.removeEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),void 0!==window.ontouchstart&&(this.container.removeEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_setupDropdown",value:function(){var t=this;this.container=document.createElement("ul"),this.container.id="autocomplete-options-"+M.guid(),e(this.container).addClass("autocomplete-content dropdown-content"),this.$inputField.append(this.container),this.el.setAttribute("data-target",this.container.id),this.dropdown=M.Dropdown.init(this.el,{autoFocus:!1,closeOnClick:!1,coverTrigger:!1,onItemClick:function(i){t.selectOption(e(i))}}),this.el.removeEventListener("click",this.dropdown._handleClickBound)}},{key:"_removeDropdown",value:function(){this.container.parentNode.removeChild(this.container)}},{key:"_handleInputBlur",value:function(){this._mousedown||(this.close(),this._resetAutocomplete())}},{key:"_handleInputKeyupAndFocus",value:function(e){"keyup"===e.type&&(c._keydown=!1),this.count=0;var t=this.el.value.toLowerCase();13!==e.keyCode&&38!==e.keyCode&&40!==e.keyCode&&(this.oldVal===t||!M.tabPressed&&"focus"===e.type||this.open(),this.oldVal=t)}},{key:"_handleInputKeydown",value:function(t){c._keydown=!0;var i=t.keyCode,n=void 0,r=e(this.container).children("li").length;i===M.keys.ENTER&&this.activeIndex>=0?(n=e(this.container).children("li").eq(this.activeIndex)).length&&(this.selectOption(n),t.preventDefault()):i!==M.keys.ARROW_UP&&i!==M.keys.ARROW_DOWN||(t.preventDefault(),i===M.keys.ARROW_UP&&this.activeIndex>0&&this.activeIndex--,i===M.keys.ARROW_DOWN&&this.activeIndex<r-1&&this.activeIndex++,this.$active.removeClass("active"),this.activeIndex>=0&&(this.$active=e(this.container).children("li").eq(this.activeIndex),this.$active.addClass("active")))}},{key:"_handleInputClick",value:function(e){this.open()}},{key:"_handleContainerMousedownAndTouchstart",value:function(e){this._mousedown=!0}},{key:"_handleContainerMouseupAndTouchend",value:function(e){this._mousedown=!1}},{key:"_highlight",value:function(e,t){var i=t.find("img"),n=t.text().toLowerCase().indexOf(""+e.toLowerCase()),r=n+e.length-1,o=t.text().slice(0,n),s=t.text().slice(n,r+1),a=t.text().slice(r+1);t.html("<span>"+o+"<span class='highlight'>"+s+"</span>"+a+"</span>"),i.length&&t.prepend(i)}},{key:"_resetCurrentElement",value:function(){this.activeIndex=-1,this.$active.removeClass("active")}},{key:"_resetAutocomplete",value:function(){e(this.container).empty(),this._resetCurrentElement(),this.oldVal=null,this.isOpen=!1,this._mousedown=!1}},{key:"selectOption",value:function(e){var t=e.text().trim();this.el.value=t,this.$el.trigger("change"),this._resetAutocomplete(),this.close(),"function"==typeof this.options.onAutocomplete&&this.options.onAutocomplete.call(this,t)}},{key:"_renderDropdown",value:function(t,i){var n=this;this._resetAutocomplete();var r=[];for(var o in t)if(t.hasOwnProperty(o)&&-1!==o.toLowerCase().indexOf(i)){if(this.count>=this.options.limit)break;var s={data:t[o],key:o};r.push(s),this.count++}if(this.options.sortFunction){r.sort((function(e,t){return n.options.sortFunction(e.key.toLowerCase(),t.key.toLowerCase(),i.toLowerCase())}))}for(var a=0;a<r.length;a++){var c=r[a],l=e("<li></li>");c.data?l.append('<img src="'+c.data+'" class="right circle"><span>'+c.key+"</span>"):l.append("<span>"+c.key+"</span>"),e(this.container).append(l),this._highlight(i,l)}}},{key:"open",value:function(){var e=this.el.value.toLowerCase();this._resetAutocomplete(),e.length>=this.options.minLength&&(this.isOpen=!0,this._renderDropdown(this.options.data,e)),this.dropdown.isOpen?this.dropdown.recalculateDimensions():this.dropdown.open()}},{key:"close",value:function(){this.dropdown.close()}},{key:"updateData",value:function(e){var t=this.el.value.toLowerCase();this.options.data=e,this.isOpen&&this._renderDropdown(e,t)}}],[{key:"init",value:function(e,t){return n(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Autocomplete}},{key:"defaults",get:function(){return t}}]),c}(c);i._keydown=!1,M.Autocomplete=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"autocomplete","M_Autocomplete")}(cash),function(e){M.updateTextFields=function(){e("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea").each((function(t,i){var n=e(this);t.value.length>0||e(t).is(":focus")||t.autofocus||null!==n.attr("placeholder")?n.siblings("label").addClass("active"):t.validity?n.siblings("label").toggleClass("active",!0===t.validity.badInput):n.siblings("label").removeClass("active")}))},M.validate_field=function(e){var t=null!==e.attr("data-length"),i=parseInt(e.attr("data-length")),n=e[0].value.length;0!==n||!1!==e[0].validity.badInput||e.is(":required")?e.hasClass("validate")&&(e.is(":valid")&&t&&n<=i||e.is(":valid")&&!t?(e.removeClass("invalid"),e.addClass("valid")):(e.removeClass("valid"),e.addClass("invalid"))):e.hasClass("validate")&&(e.removeClass("valid"),e.removeClass("invalid"))},M.textareaAutoResize=function(t){if(t instanceof Element&&(t=e(t)),t.length){var i=e(".hiddendiv").first();i.length||(i=e('<div class="hiddendiv common"></div>'),e("body").append(i));var n=t.css("font-family"),r=t.css("font-size"),o=t.css("line-height"),s=t.css("padding-top"),a=t.css("padding-right"),c=t.css("padding-bottom"),l=t.css("padding-left");r&&i.css("font-size",r),n&&i.css("font-family",n),o&&i.css("line-height",o),s&&i.css("padding-top",s),a&&i.css("padding-right",a),c&&i.css("padding-bottom",c),l&&i.css("padding-left",l),t.data("original-height")||t.data("original-height",t.height()),"off"===t.attr("wrap")&&i.css("overflow-wrap","normal").css("white-space","pre"),i.text(t[0].value+"\n");var u=i.html().replace(/\n/g,"<br>");i.html(u),t[0].offsetWidth>0&&t[0].offsetHeight>0?i.css("width",t.width()+"px"):i.css("width",window.innerWidth/2+"px"),t.data("original-height")<=i.innerHeight()?t.css("height",i.innerHeight()+"px"):t[0].value.length<t.data("previous-length")&&t.css("height",t.data("original-height")+"px"),t.data("previous-length",t[0].value.length)}else console.error("No textarea element found")},e(document).ready((function(){var t="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea";e(document).on("change",t,(function(){0===this.value.length&&null===e(this).attr("placeholder")||e(this).siblings("label").addClass("active"),M.validate_field(e(this))})),e(document).ready((function(){M.updateTextFields()})),e(document).on("reset",(function(i){var n=e(i.target);n.is("form")&&(n.find(t).removeClass("valid").removeClass("invalid"),n.find(t).each((function(t){this.value.length&&e(this).siblings("label").removeClass("active")})),setTimeout((function(){n.find("select").each((function(){this.M_FormSelect&&e(this).trigger("change")}))}),0))})),document.addEventListener("focus",(function(i){e(i.target).is(t)&&e(i.target).siblings("label, .prefix").addClass("active")}),!0),document.addEventListener("blur",(function(i){var n=e(i.target);if(n.is(t)){var r=".prefix";0===n[0].value.length&&!0!==n[0].validity.badInput&&null===n.attr("placeholder")&&(r+=", label"),n.siblings(r).removeClass("active"),M.validate_field(n)}}),!0);e(document).on("keyup","input[type=radio], input[type=checkbox]",(function(t){if(t.which===M.keys.TAB)return e(this).addClass("tabbed"),void e(this).one("blur",(function(t){e(this).removeClass("tabbed")}))}));e(".materialize-textarea").each((function(){var t=e(this);t.data("original-height",t.height()),t.data("previous-length",this.value.length),M.textareaAutoResize(t)})),e(document).on("keyup",".materialize-textarea",(function(){M.textareaAutoResize(e(this))})),e(document).on("keydown",".materialize-textarea",(function(){M.textareaAutoResize(e(this))})),e(document).on("change",'.file-field input[type="file"]',(function(){for(var t=e(this).closest(".file-field").find("input.file-path"),i=e(this)[0].files,n=[],r=0;r<i.length;r++)n.push(i[r].name);t[0].value=n.join(", "),t.trigger("change")}))}))}(cash),function(e,t){var i={indicators:!0,height:400,duration:500,interval:6e3},l=function(c){function l(i,n){a(this,l);var r=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,i,n));return r.el.M_Slider=r,r.options=e.extend({},l.defaults,n),r.$slider=r.$el.find(".slides"),r.$slides=r.$slider.children("li"),r.activeIndex=r.$slides.filter((function(t){return e(t).hasClass("active")})).first().index(),-1!=r.activeIndex&&(r.$active=r.$slides.eq(r.activeIndex)),r._setSliderHeight(),r.$slides.find(".caption").each((function(e){r._animateCaptionIn(e,0)})),r.$slides.find("img").each((function(t){var i="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";e(t).attr("src")!==i&&(e(t).css("background-image",'url("'+e(t).attr("src")+'")'),e(t).attr("src",i))})),r._setupIndicators(),r.$active?r.$active.css("display","block"):(r.$slides.first().addClass("active"),t({targets:r.$slides.first()[0],opacity:1,duration:r.options.duration,easing:"easeOutQuad"}),r.activeIndex=0,r.$active=r.$slides.eq(r.activeIndex),r.options.indicators&&r.$indicators.eq(r.activeIndex).addClass("active")),r.$active.find("img").each((function(e){t({targets:r.$active.find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:r.options.duration,easing:"easeOutQuad"})})),r._setupEventHandlers(),r.start(),r}return s(l,c),r(l,[{key:"destroy",value:function(){this.pause(),this._removeIndicators(),this._removeEventHandlers(),this.el.M_Slider=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleIntervalBound=this._handleInterval.bind(this),this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.options.indicators&&this.$indicators.each((function(t){t.addEventListener("click",e._handleIndicatorClickBound)}))}},{key:"_removeEventHandlers",value:function(){var e=this;this.options.indicators&&this.$indicators.each((function(t){t.removeEventListener("click",e._handleIndicatorClickBound)}))}},{key:"_handleIndicatorClick",value:function(t){var i=e(t.target).index();this.set(i)}},{key:"_handleInterval",value:function(){var e=this.$slider.find(".active").index();this.$slides.length===e+1?e=0:e+=1,this.set(e)}},{key:"_animateCaptionIn",value:function(i,n){var r={targets:i,opacity:0,duration:n,easing:"easeOutQuad"};e(i).hasClass("center-align")?r.translateY=-100:e(i).hasClass("right-align")?r.translateX=100:e(i).hasClass("left-align")&&(r.translateX=-100),t(r)}},{key:"_setSliderHeight",value:function(){this.$el.hasClass("fullscreen")||(this.options.indicators?this.$el.css("height",this.options.height+40+"px"):this.$el.css("height",this.options.height+"px"),this.$slider.css("height",this.options.height+"px"))}},{key:"_setupIndicators",value:function(){var t=this;this.options.indicators&&(this.$indicators=e('<ul class="indicators"></ul>'),this.$slides.each((function(i,n){var r=e('<li class="indicator-item"></li>');t.$indicators.append(r[0])})),this.$el.append(this.$indicators[0]),this.$indicators=this.$indicators.children("li.indicator-item"))}},{key:"_removeIndicators",value:function(){this.$el.find("ul.indicators").remove()}},{key:"set",value:function(e){var i=this;if(e>=this.$slides.length?e=0:e<0&&(e=this.$slides.length-1),this.activeIndex!=e){this.$active=this.$slides.eq(this.activeIndex);var n=this.$active.find(".caption");this.$active.removeClass("active"),t({targets:this.$active[0],opacity:0,duration:this.options.duration,easing:"easeOutQuad",complete:function(){i.$slides.not(".active").each((function(e){t({targets:e,opacity:0,translateX:0,translateY:0,duration:0,easing:"easeOutQuad"})}))}}),this._animateCaptionIn(n[0],this.options.duration),this.options.indicators&&(this.$indicators.eq(this.activeIndex).removeClass("active"),this.$indicators.eq(e).addClass("active")),t({targets:this.$slides.eq(e)[0],opacity:1,duration:this.options.duration,easing:"easeOutQuad"}),t({targets:this.$slides.eq(e).find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:this.options.duration,delay:this.options.duration,easing:"easeOutQuad"}),this.$slides.eq(e).addClass("active"),this.activeIndex=e,this.start()}}},{key:"pause",value:function(){clearInterval(this.interval)}},{key:"start",value:function(){clearInterval(this.interval),this.interval=setInterval(this._handleIntervalBound,this.options.duration+this.options.interval)}},{key:"next",value:function(){var e=this.activeIndex+1;e>=this.$slides.length?e=0:e<0&&(e=this.$slides.length-1),this.set(e)}},{key:"prev",value:function(){var e=this.activeIndex-1;e>=this.$slides.length?e=0:e<0&&(e=this.$slides.length-1),this.set(e)}}],[{key:"init",value:function(e,t){return n(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Slider}},{key:"defaults",get:function(){return i}}]),l}(c);M.Slider=l,M.jQueryLoaded&&M.initializeJqueryWrapper(l,"slider","M_Slider")}(cash,M.anime),function(e,t){e(document).on("click",".card",(function(i){if(e(this).children(".card-reveal").length){var n=e(i.target).closest(".card");void 0===n.data("initialOverflow")&&n.data("initialOverflow",void 0===n.css("overflow")?"":n.css("overflow"));var r=e(this).find(".card-reveal");e(i.target).is(e(".card-reveal .card-title"))||e(i.target).is(e(".card-reveal .card-title i"))?t({targets:r[0],translateY:0,duration:225,easing:"easeInOutQuad",complete:function(t){var i=t.animatables[0].target;e(i).css({display:"none"}),n.css("overflow",n.data("initialOverflow"))}}):(e(i.target).is(e(".card .activator"))||e(i.target).is(e(".card .activator i")))&&(n.css("overflow","hidden"),r.css({display:"block"}),t({targets:r[0],translateY:"-100%",duration:300,easing:"easeInOutQuad"}))}}))}(cash,M.anime),function(e){var t={data:[],placeholder:"",secondaryPlaceholder:"",autocompleteOptions:{},limit:1/0,onChipAdd:null,onChipSelect:null,onChipDelete:null},i=function(i){function c(t,i){a(this,c);var n=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,t,i));return n.el.M_Chips=n,n.options=e.extend({},c.defaults,i),n.$el.addClass("chips input-field"),n.chipsData=[],n.$chips=e(),n._setupInput(),n.hasAutocomplete=Object.keys(n.options.autocompleteOptions).length>0,n.$input.attr("id")||n.$input.attr("id",M.guid()),n.options.data.length&&(n.chipsData=n.options.data,n._renderChips(n.chipsData)),n.hasAutocomplete&&n._setupAutocomplete(),n._setPlaceholder(),n._setupLabel(),n._setupEventHandlers(),n}return s(c,i),r(c,[{key:"getData",value:function(){return this.chipsData}},{key:"destroy",value:function(){this._removeEventHandlers(),this.$chips.remove(),this.el.M_Chips=void 0}},{key:"_setupEventHandlers",value:function(){this._handleChipClickBound=this._handleChipClick.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputFocusBound=this._handleInputFocus.bind(this),this._handleInputBlurBound=this._handleInputBlur.bind(this),this.el.addEventListener("click",this._handleChipClickBound),document.addEventListener("keydown",c._handleChipsKeydown),document.addEventListener("keyup",c._handleChipsKeyup),this.el.addEventListener("blur",c._handleChipsBlur,!0),this.$input[0].addEventListener("focus",this._handleInputFocusBound),this.$input[0].addEventListener("blur",this._handleInputBlurBound),this.$input[0].addEventListener("keydown",this._handleInputKeydownBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleChipClickBound),document.removeEventListener("keydown",c._handleChipsKeydown),document.removeEventListener("keyup",c._handleChipsKeyup),this.el.removeEventListener("blur",c._handleChipsBlur,!0),this.$input[0].removeEventListener("focus",this._handleInputFocusBound),this.$input[0].removeEventListener("blur",this._handleInputBlurBound),this.$input[0].removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleChipClick",value:function(t){var i=e(t.target).closest(".chip"),n=e(t.target).is(".close");if(i.length){var r=i.index();n?(this.deleteChip(r),this.$input[0].focus()):this.selectChip(r)}else this.$input[0].focus()}},{key:"_handleInputFocus",value:function(){this.$el.addClass("focus")}},{key:"_handleInputBlur",value:function(){this.$el.removeClass("focus")}},{key:"_handleInputKeydown",value:function(e){if(c._keydown=!0,13===e.keyCode){if(this.hasAutocomplete&&this.autocomplete&&this.autocomplete.isOpen)return;e.preventDefault(),this.addChip({tag:this.$input[0].value}),this.$input[0].value=""}else 8!==e.keyCode&&37!==e.keyCode||""!==this.$input[0].value||!this.chipsData.length||(e.preventDefault(),this.selectChip(this.chipsData.length-1))}},{key:"_renderChip",value:function(t){if(t.tag){var i=document.createElement("div"),n=document.createElement("i");if(i.classList.add("chip"),i.textContent=t.tag,i.setAttribute("tabindex",0),e(n).addClass("material-icons close"),n.textContent="close",t.image){var r=document.createElement("img");r.setAttribute("src",t.image),i.insertBefore(r,i.firstChild)}return i.appendChild(n),i}}},{key:"_renderChips",value:function(){this.$chips.remove();for(var e=0;e<this.chipsData.length;e++){var t=this._renderChip(this.chipsData[e]);this.$el.append(t),this.$chips.add(t)}this.$el.append(this.$input[0])}},{key:"_setupAutocomplete",value:function(){var e=this;this.options.autocompleteOptions.onAutocomplete=function(t){e.addChip({tag:t}),e.$input[0].value="",e.$input[0].focus()},this.autocomplete=M.Autocomplete.init(this.$input[0],this.options.autocompleteOptions)}},{key:"_setupInput",value:function(){this.$input=this.$el.find("input"),this.$input.length||(this.$input=e("<input></input>"),this.$el.append(this.$input)),this.$input.addClass("input")}},{key:"_setupLabel",value:function(){this.$label=this.$el.find("label"),this.$label.length&&this.$label.setAttribute("for",this.$input.attr("id"))}},{key:"_setPlaceholder",value:function(){void 0!==this.chipsData&&!this.chipsData.length&&this.options.placeholder?e(this.$input).prop("placeholder",this.options.placeholder):(void 0===this.chipsData||this.chipsData.length)&&this.options.secondaryPlaceholder&&e(this.$input).prop("placeholder",this.options.secondaryPlaceholder)}},{key:"_isValid",value:function(e){if(e.hasOwnProperty("tag")&&""!==e.tag){for(var t=!1,i=0;i<this.chipsData.length;i++)if(this.chipsData[i].tag===e.tag){t=!0;break}return!t}return!1}},{key:"addChip",value:function(t){if(this._isValid(t)&&!(this.chipsData.length>=this.options.limit)){var i=this._renderChip(t);this.$chips.add(i),this.chipsData.push(t),e(this.$input).before(i),this._setPlaceholder(),"function"==typeof this.options.onChipAdd&&this.options.onChipAdd.call(this,this.$el,i)}}},{key:"deleteChip",value:function(t){var i=this.$chips.eq(t);this.$chips.eq(t).remove(),this.$chips=this.$chips.filter((function(t){return e(t).index()>=0})),this.chipsData.splice(t,1),this._setPlaceholder(),"function"==typeof this.options.onChipDelete&&this.options.onChipDelete.call(this,this.$el,i[0])}},{key:"selectChip",value:function(e){var t=this.$chips.eq(e);this._selectedChip=t,t[0].focus(),"function"==typeof this.options.onChipSelect&&this.options.onChipSelect.call(this,this.$el,t[0])}}],[{key:"init",value:function(e,t){return n(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Chips}},{key:"_handleChipsKeydown",value:function(t){c._keydown=!0;var i=e(t.target).closest(".chips"),n=t.target&&i.length;if(!e(t.target).is("input, textarea")&&n){var r=i[0].M_Chips;if(8===t.keyCode||46===t.keyCode){t.preventDefault();var o=r.chipsData.length;if(r._selectedChip){var s=r._selectedChip.index();r.deleteChip(s),r._selectedChip=null,o=Math.max(s-1,0)}r.chipsData.length&&r.selectChip(o)}else if(37===t.keyCode){if(r._selectedChip){var a=r._selectedChip.index()-1;if(a<0)return;r.selectChip(a)}}else if(39===t.keyCode&&r._selectedChip){var l=r._selectedChip.index()+1;l>=r.chipsData.length?r.$input[0].focus():r.selectChip(l)}}}},{key:"_handleChipsKeyup",value:function(e){c._keydown=!1}},{key:"_handleChipsBlur",value:function(t){c._keydown||(e(t.target).closest(".chips")[0].M_Chips._selectedChip=null)}},{key:"defaults",get:function(){return t}}]),c}(c);i._keydown=!1,M.Chips=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"chips","M_Chips"),e(document).ready((function(){e(document.body).on("click",".chip .close",(function(){var t=e(this).closest(".chips");t.length&&t[0].M_Chips||e(this).closest(".chip").remove()}))}))}(cash),function(e){var t={top:0,bottom:1/0,offset:0,onPositionChange:null},i=function(i){function c(t,i){a(this,c);var n=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,t,i));return n.el.M_Pushpin=n,n.options=e.extend({},c.defaults,i),n.originalOffset=n.el.offsetTop,c._pushpins.push(n),n._setupEventHandlers(),n._updatePosition(),n}return s(c,i),r(c,[{key:"destroy",value:function(){this.el.style.top=null,this._removePinClasses(),this._removeEventHandlers();var e=c._pushpins.indexOf(this);c._pushpins.splice(e,1)}},{key:"_setupEventHandlers",value:function(){document.addEventListener("scroll",c._updateElements)}},{key:"_removeEventHandlers",value:function(){document.removeEventListener("scroll",c._updateElements)}},{key:"_updatePosition",value:function(){var e=M.getDocumentScrollTop()+this.options.offset;this.options.top<=e&&this.options.bottom>=e&&!this.el.classList.contains("pinned")&&(this._removePinClasses(),this.el.style.top=this.options.offset+"px",this.el.classList.add("pinned"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pinned")),e<this.options.top&&!this.el.classList.contains("pin-top")&&(this._removePinClasses(),this.el.style.top=0,this.el.classList.add("pin-top"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-top")),e>this.options.bottom&&!this.el.classList.contains("pin-bottom")&&(this._removePinClasses(),this.el.classList.add("pin-bottom"),this.el.style.top=this.options.bottom-this.originalOffset+"px","function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-bottom"))}},{key:"_removePinClasses",value:function(){this.el.classList.remove("pin-top"),this.el.classList.remove("pinned"),this.el.classList.remove("pin-bottom")}}],[{key:"init",value:function(e,t){return n(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Pushpin}},{key:"_updateElements",value:function(){for(var e in c._pushpins){c._pushpins[e]._updatePosition()}}},{key:"defaults",get:function(){return t}}]),c}(c);i._pushpins=[],M.Pushpin=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"pushpin","M_Pushpin")}(cash),function(e,t){var i={direction:"top",hoverEnabled:!0,toolbarEnabled:!1};e.fn.reverse=[].reverse;var l=function(c){function l(t,i){a(this,l);var n=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,i));return n.el.M_FloatingActionButton=n,n.options=e.extend({},l.defaults,i),n.isOpen=!1,n.$anchor=n.$el.children("a").first(),n.$menu=n.$el.children("ul").first(),n.$floatingBtns=n.$el.find("ul .btn-floating"),n.$floatingBtnsReverse=n.$el.find("ul .btn-floating").reverse(),n.offsetY=0,n.offsetX=0,n.$el.addClass("direction-"+n.options.direction),"top"===n.options.direction?n.offsetY=40:"right"===n.options.direction?n.offsetX=-40:"bottom"===n.options.direction?n.offsetY=-40:n.offsetX=40,n._setupEventHandlers(),n}return s(l,c),r(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_FloatingActionButton=void 0}},{key:"_setupEventHandlers",value:function(){this._handleFABClickBound=this._handleFABClick.bind(this),this._handleOpenBound=this.open.bind(this),this._handleCloseBound=this.close.bind(this),this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.addEventListener("mouseenter",this._handleOpenBound),this.el.addEventListener("mouseleave",this._handleCloseBound)):this.el.addEventListener("click",this._handleFABClickBound)}},{key:"_removeEventHandlers",value:function(){this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.removeEventListener("mouseenter",this._handleOpenBound),this.el.removeEventListener("mouseleave",this._handleCloseBound)):this.el.removeEventListener("click",this._handleFABClickBound)}},{key:"_handleFABClick",value:function(){this.isOpen?this.close():this.open()}},{key:"_handleDocumentClick",value:function(t){e(t.target).closest(this.$menu).length||this.close()}},{key:"open",value:function(){this.isOpen||(this.options.toolbarEnabled?this._animateInToolbar():this._animateInFAB(),this.isOpen=!0)}},{key:"close",value:function(){this.isOpen&&(this.options.toolbarEnabled?(window.removeEventListener("scroll",this._handleCloseBound,!0),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),this._animateOutToolbar()):this._animateOutFAB(),this.isOpen=!1)}},{key:"_animateInFAB",value:function(){var e=this;this.$el.addClass("active");var i=0;this.$floatingBtnsReverse.each((function(n){t({targets:n,opacity:1,scale:[.4,1],translateY:[e.offsetY,0],translateX:[e.offsetX,0],duration:275,delay:i,easing:"easeInOutQuad"}),i+=40}))}},{key:"_animateOutFAB",value:function(){var e=this;this.$floatingBtnsReverse.each((function(i){t.remove(i),t({targets:i,opacity:0,scale:.4,translateY:e.offsetY,translateX:e.offsetX,duration:175,easing:"easeOutQuad",complete:function(){e.$el.removeClass("active")}})}))}},{key:"_animateInToolbar",value:function(){var t,i=this,n=window.innerWidth,r=window.innerHeight,o=this.el.getBoundingClientRect(),s=e('<div class="fab-backdrop"></div>'),a=this.$anchor.css("background-color");this.$anchor.append(s),this.offsetX=o.left-n/2+o.width/2,this.offsetY=r-o.bottom,t=n/s[0].clientWidth,this.btnBottom=o.bottom,this.btnLeft=o.left,this.btnWidth=o.width,this.$el.addClass("active"),this.$el.css({"text-align":"center",width:"100%",bottom:0,left:0,transform:"translateX("+this.offsetX+"px)",transition:"none"}),this.$anchor.css({transform:"translateY("+-this.offsetY+"px)",transition:"none"}),s.css({"background-color":a}),setTimeout((function(){i.$el.css({transform:"",transition:"transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s"}),i.$anchor.css({overflow:"visible",transform:"",transition:"transform .2s"}),setTimeout((function(){i.$el.css({overflow:"hidden","background-color":a}),s.css({transform:"scale("+t+")",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"}),i.$menu.children("li").children("a").css({opacity:1}),i._handleDocumentClickBound=i._handleDocumentClick.bind(i),window.addEventListener("scroll",i._handleCloseBound,!0),document.body.addEventListener("click",i._handleDocumentClickBound,!0)}),100)}),0)}},{key:"_animateOutToolbar",value:function(){var e=this,t=window.innerWidth,i=window.innerHeight,n=this.$el.find(".fab-backdrop"),r=this.$anchor.css("background-color");this.offsetX=this.btnLeft-t/2+this.btnWidth/2,this.offsetY=i-this.btnBottom,this.$el.removeClass("active"),this.$el.css({"background-color":"transparent",transition:"none"}),this.$anchor.css({transition:"none"}),n.css({transform:"scale(0)","background-color":r}),this.$menu.children("li").children("a").css({opacity:""}),setTimeout((function(){n.remove(),e.$el.css({"text-align":"",width:"",bottom:"",left:"",overflow:"","background-color":"",transform:"translate3d("+-e.offsetX+"px,0,0)"}),e.$anchor.css({overflow:"",transform:"translate3d(0,"+e.offsetY+"px,0)"}),setTimeout((function(){e.$el.css({transform:"translate3d(0,0,0)",transition:"transform .2s"}),e.$anchor.css({transform:"translate3d(0,0,0)",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"})}),20)}),200)}}],[{key:"init",value:function(e,t){return n(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_FloatingActionButton}},{key:"defaults",get:function(){return i}}]),l}(c);M.FloatingActionButton=l,M.jQueryLoaded&&M.initializeJqueryWrapper(l,"floatingActionButton","M_FloatingActionButton")}(cash,M.anime),function(e){var t={autoClose:!1,format:"mmm dd, yyyy",parse:null,defaultDate:null,setDefaultDate:!1,disableWeekends:!1,disableDayFn:null,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,container:null,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok",previousMonth:"‹",nextMonth:"›",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysAbbrev:["S","M","T","W","T","F","S"]},events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},i=function(i){function c(t,i){a(this,c);var n=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,t,i));n.el.M_Datepicker=n,n.options=e.extend({},c.defaults,i),i&&i.hasOwnProperty("i18n")&&"object"==typeof i.i18n&&(n.options.i18n=e.extend({},c.defaults.i18n,i.i18n)),n.options.minDate&&n.options.minDate.setHours(0,0,0,0),n.options.maxDate&&n.options.maxDate.setHours(0,0,0,0),n.id=M.guid(),n._setupVariables(),n._insertHTMLIntoDOM(),n._setupModal(),n._setupEventHandlers(),n.options.defaultDate||(n.options.defaultDate=new Date(Date.parse(n.el.value)));var r=n.options.defaultDate;return c._isDate(r)?n.options.setDefaultDate?(n.setDate(r,!0),n.setInputValue()):n.gotoDate(r):n.gotoDate(new Date),n.isOpen=!1,n}return s(c,i),r(c,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),e(this.modalEl).remove(),this.destroySelects(),this.el.M_Datepicker=void 0}},{key:"destroySelects",value:function(){var e=this.calendarEl.querySelector(".orig-select-year");e&&M.FormSelect.getInstance(e).destroy();var t=this.calendarEl.querySelector(".orig-select-month");t&&M.FormSelect.getInstance(t).destroy()}},{key:"_insertHTMLIntoDOM",value:function(){this.options.showClearBtn&&(e(this.clearBtn).css({visibility:""}),this.clearBtn.innerHTML=this.options.i18n.clear),this.doneBtn.innerHTML=this.options.i18n.done,this.cancelBtn.innerHTML=this.options.i18n.cancel,this.options.container?this.$modalEl.appendTo(this.options.container):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var e=this;this.modalEl.id="modal-"+this.id,this.modal=M.Modal.init(this.modalEl,{onCloseEnd:function(){e.isOpen=!1}})}},{key:"toString",value:function(e){var t=this;return e=e||this.options.format,c._isDate(this.date)?e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g).map((function(e){return t.formats[e]?t.formats[e]():e})).join(""):""}},{key:"setDate",value:function(e,t){if(!e)return this.date=null,this._renderDateDisplay(),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),c._isDate(e)){var i=this.options.minDate,n=this.options.maxDate;c._isDate(i)&&e<i?e=i:c._isDate(n)&&e>n&&(e=n),this.date=new Date(e.getTime()),this._renderDateDisplay(),c._setToStartOfDay(this.date),this.gotoDate(this.date),t||"function"!=typeof this.options.onSelect||this.options.onSelect.call(this,this.date)}}},{key:"setInputValue",value:function(){this.el.value=this.toString(),this.$el.trigger("change",{firedBy:this})}},{key:"_renderDateDisplay",value:function(){var e=c._isDate(this.date)?this.date:new Date,t=this.options.i18n,i=t.weekdaysShort[e.getDay()],n=t.monthsShort[e.getMonth()],r=e.getDate();this.yearTextEl.innerHTML=e.getFullYear(),this.dateTextEl.innerHTML=i+", "+n+" "+r}},{key:"gotoDate",value:function(e){var t=!0;if(c._isDate(e)){if(this.calendars){var i=new Date(this.calendars[0].year,this.calendars[0].month,1),n=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),r=e.getTime();n.setMonth(n.getMonth()+1),n.setDate(n.getDate()-1),t=r<i.getTime()||n.getTime()<r}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}]),this.adjustCalendars()}}},{key:"adjustCalendars",value:function(){this.calendars[0]=this.adjustCalendar(this.calendars[0]),this.draw()}},{key:"adjustCalendar",value:function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e}},{key:"nextMonth",value:function(){this.calendars[0].month++,this.adjustCalendars()}},{key:"prevMonth",value:function(){this.calendars[0].month--,this.adjustCalendars()}},{key:"render",value:function(e,t,i){var n=this.options,r=new Date,o=c._getDaysInMonth(e,t),s=new Date(e,t,1).getDay(),a=[],l=[];c._setToStartOfDay(r),n.firstDay>0&&(s-=n.firstDay)<0&&(s+=7);for(var u=0===t?11:t-1,h=11===t?0:t+1,d=0===t?e-1:e,f=11===t?e+1:e,p=c._getDaysInMonth(d,u),_=o+s,v=_;v>7;)v-=7;_+=7-v;for(var m=!1,g=0,y=0;g<_;g++){var b=new Date(e,t,g-s+1),w=!!c._isDate(this.date)&&c._compareDates(b,this.date),C=c._compareDates(b,r),S=-1!==n.events.indexOf(b.toDateString()),k=g<s||g>=o+s,E=g-s+1,x=t,L=e,M=n.startRange&&c._compareDates(n.startRange,b),T=n.endRange&&c._compareDates(n.endRange,b),O=n.startRange&&n.endRange&&n.startRange<b&&b<n.endRange;k&&(g<s?(E=p+E,x=u,L=d):(E-=o,x=h,L=f));var R={day:E,month:x,year:L,hasEvent:S,isSelected:w,isToday:C,isDisabled:n.minDate&&b<n.minDate||n.maxDate&&b>n.maxDate||n.disableWeekends&&c._isWeekend(b)||n.disableDayFn&&n.disableDayFn(b),isEmpty:k,isStartRange:M,isEndRange:T,isInRange:O,showDaysInNextAndPreviousMonths:n.showDaysInNextAndPreviousMonths};l.push(this.renderDay(R)),7==++y&&(a.push(this.renderRow(l,n.isRTL,m)),l=[],y=0,m=!1)}return this.renderTable(n,a,i)}},{key:"renderDay",value:function(e){var t=[],i="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month"),t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),i="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+i+'"><button class="datepicker-day-button" type="button" data-year="'+e.year+'" data-month="'+e.month+'" data-day="'+e.day+'">'+e.day+"</button></td>"}},{key:"renderRow",value:function(e,t,i){return'<tr class="datepicker-row'+(i?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"}},{key:"renderTable",value:function(e,t,i){return'<div class="datepicker-table-wrapper"><table cellpadding="0" cellspacing="0" class="datepicker-table" role="grid" aria-labelledby="'+i+'">'+this.renderHead(e)+this.renderBody(t)+"</table></div>"}},{key:"renderHead",value:function(e){var t=void 0,i=[];for(t=0;t<7;t++)i.push('<th scope="col"><abbr title="'+this.renderDayName(e,t)+'">'+this.renderDayName(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?i.reverse():i).join("")+"</tr></thead>"}},{key:"renderBody",value:function(e){return"<tbody>"+e.join("")+"</tbody>"}},{key:"renderTitle",value:function(t,i,n,r,o,s){var a,c,l=void 0,u=void 0,h=void 0,d=this.options,f=n===d.minYear,p=n===d.maxYear,_='<div id="'+s+'" class="datepicker-controls" role="heading" aria-live="assertive">',v=!0,m=!0;for(h=[],l=0;l<12;l++)h.push('<option value="'+(n===o?l-i:12+l-i)+'"'+(l===r?' selected="selected"':"")+(f&&l<d.minMonth||p&&l>d.maxMonth?'disabled="disabled"':"")+">"+d.i18n.months[l]+"</option>");for(a='<select class="datepicker-select orig-select-month" tabindex="-1">'+h.join("")+"</select>",e.isArray(d.yearRange)?(l=d.yearRange[0],u=d.yearRange[1]+1):(l=n-d.yearRange,u=1+n+d.yearRange),h=[];l<u&&l<=d.maxYear;l++)l>=d.minYear&&h.push('<option value="'+l+'" '+(l===n?'selected="selected"':"")+">"+l+"</option>");c='<select class="datepicker-select orig-select-year" tabindex="-1">'+h.join("")+"</select>";_+='<button class="month-prev'+(v?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg></button>',_+='<div class="selects-container">',d.showMonthAfterYear?_+=c+a:_+=a+c,_+="</div>",f&&(0===r||d.minMonth>=r)&&(v=!1),p&&(11===r||d.maxMonth<=r)&&(m=!1);return(_+='<button class="month-next'+(m?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg></button>')+"</div>"}},{key:"draw",value:function(e){if(this.isOpen||e){var t,i=this.options,n=i.minYear,r=i.maxYear,o=i.minMonth,s=i.maxMonth,a="";this._y<=n&&(this._y=n,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=r&&(this._y=r,!isNaN(s)&&this._m>s&&(this._m=s)),t="datepicker-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var c=0;c<1;c++)this._renderDateDisplay(),a+=this.renderTitle(this,c,this.calendars[c].year,this.calendars[c].month,this.calendars[0].year,t)+this.render(this.calendars[c].year,this.calendars[c].month,t);this.destroySelects(),this.calendarEl.innerHTML=a;var l=this.calendarEl.querySelector(".orig-select-year"),u=this.calendarEl.querySelector(".orig-select-month");M.FormSelect.init(l,{classes:"select-year",dropdownOptions:{container:document.body,constrainWidth:!1}}),M.FormSelect.init(u,{classes:"select-month",dropdownOptions:{container:document.body,constrainWidth:!1}}),l.addEventListener("change",this._handleYearChange.bind(this)),u.addEventListener("change",this._handleMonthChange.bind(this)),"function"==typeof this.options.onDraw&&this.options.onDraw(this)}}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleInputChangeBound=this._handleInputChange.bind(this),this._handleCalendarClickBound=this._handleCalendarClick.bind(this),this._finishSelectionBound=this._finishSelection.bind(this),this._handleMonthChange=this._handleMonthChange.bind(this),this._closeBound=this.close.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("change",this._handleInputChangeBound),this.calendarEl.addEventListener("click",this._handleCalendarClickBound),this.doneBtn.addEventListener("click",this._finishSelectionBound),this.cancelBtn.addEventListener("click",this._closeBound),this.options.showClearBtn&&(this._handleClearClickBound=this._handleClearClick.bind(this),this.clearBtn.addEventListener("click",this._handleClearClickBound))}},{key:"_setupVariables",value:function(){var t=this;this.$modalEl=e(c._template),this.modalEl=this.$modalEl[0],this.calendarEl=this.modalEl.querySelector(".datepicker-calendar"),this.yearTextEl=this.modalEl.querySelector(".year-text"),this.dateTextEl=this.modalEl.querySelector(".date-text"),this.options.showClearBtn&&(this.clearBtn=this.modalEl.querySelector(".datepicker-clear")),this.doneBtn=this.modalEl.querySelector(".datepicker-done"),this.cancelBtn=this.modalEl.querySelector(".datepicker-cancel"),this.formats={d:function(){return t.date.getDate()},dd:function(){var e=t.date.getDate();return(e<10?"0":"")+e},ddd:function(){return t.options.i18n.weekdaysShort[t.date.getDay()]},dddd:function(){return t.options.i18n.weekdays[t.date.getDay()]},m:function(){return t.date.getMonth()+1},mm:function(){var e=t.date.getMonth()+1;return(e<10?"0":"")+e},mmm:function(){return t.options.i18n.monthsShort[t.date.getMonth()]},mmmm:function(){return t.options.i18n.months[t.date.getMonth()]},yy:function(){return(""+t.date.getFullYear()).slice(2)},yyyy:function(){return t.date.getFullYear()}}}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("change",this._handleInputChangeBound),this.calendarEl.removeEventListener("click",this._handleCalendarClickBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(e){e.which===M.keys.ENTER&&(e.preventDefault(),this.open())}},{key:"_handleCalendarClick",value:function(t){if(this.isOpen){var i=e(t.target);i.hasClass("is-disabled")||(!i.hasClass("datepicker-day-button")||i.hasClass("is-empty")||i.parent().hasClass("is-disabled")?i.closest(".month-prev").length?this.prevMonth():i.closest(".month-next").length&&this.nextMonth():(this.setDate(new Date(t.target.getAttribute("data-year"),t.target.getAttribute("data-month"),t.target.getAttribute("data-day"))),this.options.autoClose&&this._finishSelection()))}}},{key:"_handleClearClick",value:function(){this.date=null,this.setInputValue(),this.close()}},{key:"_handleMonthChange",value:function(e){this.gotoMonth(e.target.value)}},{key:"_handleYearChange",value:function(e){this.gotoYear(e.target.value)}},{key:"gotoMonth",value:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())}},{key:"gotoYear",value:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())}},{key:"_handleInputChange",value:function(e){var t=void 0;e.firedBy!==this&&(t=this.options.parse?this.options.parse(this.el.value,this.options.format):new Date(Date.parse(this.el.value)),c._isDate(t)&&this.setDate(t))}},{key:"renderDayName",value:function(e,t,i){for(t+=e.firstDay;t>=7;)t-=7;return i?e.i18n.weekdaysAbbrev[t]:e.i18n.weekdays[t]}},{key:"_finishSelection",value:function(){this.setInputValue(),this.close()}},{key:"open",value:function(){if(!this.isOpen)return this.isOpen=!0,"function"==typeof this.options.onOpen&&this.options.onOpen.call(this),this.draw(),this.modal.open(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,"function"==typeof this.options.onClose&&this.options.onClose.call(this),this.modal.close(),this}}],[{key:"init",value:function(e,t){return n(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,e,t)}},{key:"_isDate",value:function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())}},{key:"_isWeekend",value:function(e){var t=e.getDay();return 0===t||6===t}},{key:"_setToStartOfDay",value:function(e){c._isDate(e)&&e.setHours(0,0,0,0)}},{key:"_getDaysInMonth",value:function(e,t){return[31,c._isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]}},{key:"_isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"_compareDates",value:function(e,t){return e.getTime()===t.getTime()}},{key:"_setToStartOfDay",value:function(e){c._isDate(e)&&e.setHours(0,0,0,0)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Datepicker}},{key:"defaults",get:function(){return t}}]),c}(c);i._template=['<div class= "modal datepicker-modal">','<div class="modal-content datepicker-container">','<div class="datepicker-date-display">','<span class="year-text"></span>','<span class="date-text"></span>',"</div>",'<div class="datepicker-calendar-container">','<div class="datepicker-calendar"></div>','<div class="datepicker-footer">','<button class="btn-flat datepicker-clear waves-effect" style="visibility: hidden;" type="button"></button>','<div class="confirmation-btns">','<button class="btn-flat datepicker-cancel waves-effect" type="button"></button>','<button class="btn-flat datepicker-done waves-effect" type="button"></button>',"</div>","</div>","</div>","</div>","</div>"].join(""),M.Datepicker=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"datepicker","M_Datepicker")}(cash),function(e){var t={dialRadius:135,outerRadius:105,innerRadius:70,tickRadius:20,duration:350,container:null,defaultTime:"now",fromNow:0,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok"},autoClose:!1,twelveHour:!0,vibrate:!0,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onSelect:null},i=function(i){function c(t,i){a(this,c);var n=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,t,i));return n.el.M_Timepicker=n,n.options=e.extend({},c.defaults,i),n.id=M.guid(),n._insertHTMLIntoDOM(),n._setupModal(),n._setupVariables(),n._setupEventHandlers(),n._clockSetup(),n._pickerSetup(),n}return s(c,i),r(c,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),e(this.modalEl).remove(),this.el.M_Timepicker=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleClockClickStartBound=this._handleClockClickStart.bind(this),this._handleDocumentClickMoveBound=this._handleDocumentClickMove.bind(this),this._handleDocumentClickEndBound=this._handleDocumentClickEnd.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.plate.addEventListener("mousedown",this._handleClockClickStartBound),this.plate.addEventListener("touchstart",this._handleClockClickStartBound),e(this.spanHours).on("click",this.showView.bind(this,"hours")),e(this.spanMinutes).on("click",this.showView.bind(this,"minutes"))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(e){e.which===M.keys.ENTER&&(e.preventDefault(),this.open())}},{key:"_handleClockClickStart",value:function(e){e.preventDefault();var t=this.plate.getBoundingClientRect(),i=t.left,n=t.top;this.x0=i+this.options.dialRadius,this.y0=n+this.options.dialRadius,this.moved=!1;var r=c._Pos(e);this.dx=r.x-this.x0,this.dy=r.y-this.y0,this.setHand(this.dx,this.dy,!1),document.addEventListener("mousemove",this._handleDocumentClickMoveBound),document.addEventListener("touchmove",this._handleDocumentClickMoveBound),document.addEventListener("mouseup",this._handleDocumentClickEndBound),document.addEventListener("touchend",this._handleDocumentClickEndBound)}},{key:"_handleDocumentClickMove",value:function(e){e.preventDefault();var t=c._Pos(e),i=t.x-this.x0,n=t.y-this.y0;this.moved=!0,this.setHand(i,n,!1,!0)}},{key:"_handleDocumentClickEnd",value:function(t){var i=this;t.preventDefault(),document.removeEventListener("mouseup",this._handleDocumentClickEndBound),document.removeEventListener("touchend",this._handleDocumentClickEndBound);var n=c._Pos(t),r=n.x-this.x0,o=n.y-this.y0;this.moved&&r===this.dx&&o===this.dy&&this.setHand(r,o),"hours"===this.currentView?this.showView("minutes",this.options.duration/2):this.options.autoClose&&(e(this.minutesView).addClass("timepicker-dial-out"),setTimeout((function(){i.done()}),this.options.duration/2)),"function"==typeof this.options.onSelect&&this.options.onSelect.call(this,this.hours,this.minutes),document.removeEventListener("mousemove",this._handleDocumentClickMoveBound),document.removeEventListener("touchmove",this._handleDocumentClickMoveBound)}},{key:"_insertHTMLIntoDOM",value:function(){this.$modalEl=e(c._template),this.modalEl=this.$modalEl[0],this.modalEl.id="modal-"+this.id;var t=document.querySelector(this.options.container);this.options.container&&t?this.$modalEl.appendTo(t):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var e=this;this.modal=M.Modal.init(this.modalEl,{onOpenStart:this.options.onOpenStart,onOpenEnd:this.options.onOpenEnd,onCloseStart:this.options.onCloseStart,onCloseEnd:function(){"function"==typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e),e.isOpen=!1}})}},{key:"_setupVariables",value:function(){this.currentView="hours",this.vibrate=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,this._canvas=this.modalEl.querySelector(".timepicker-canvas"),this.plate=this.modalEl.querySelector(".timepicker-plate"),this.hoursView=this.modalEl.querySelector(".timepicker-hours"),this.minutesView=this.modalEl.querySelector(".timepicker-minutes"),this.spanHours=this.modalEl.querySelector(".timepicker-span-hours"),this.spanMinutes=this.modalEl.querySelector(".timepicker-span-minutes"),this.spanAmPm=this.modalEl.querySelector(".timepicker-span-am-pm"),this.footer=this.modalEl.querySelector(".timepicker-footer"),this.amOrPm="PM"}},{key:"_pickerSetup",value:function(){var t=e('<button class="btn-flat timepicker-clear waves-effect" style="visibility: hidden;" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.clear+"</button>").appendTo(this.footer).on("click",this.clear.bind(this));this.options.showClearBtn&&t.css({visibility:""});var i=e('<div class="confirmation-btns"></div>');e('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.cancel+"</button>").appendTo(i).on("click",this.close.bind(this)),e('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.done+"</button>").appendTo(i).on("click",this.done.bind(this)),i.appendTo(this.footer)}},{key:"_clockSetup",value:function(){this.options.twelveHour&&(this.$amBtn=e('<div class="am-btn">AM</div>'),this.$pmBtn=e('<div class="pm-btn">PM</div>'),this.$amBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm),this.$pmBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm)),this._buildHoursView(),this._buildMinutesView(),this._buildSVGClock()}},{key:"_buildSVGClock",value:function(){var e=this.options.dialRadius,t=this.options.tickRadius,i=2*e,n=c._createSVGEl("svg");n.setAttribute("class","timepicker-svg"),n.setAttribute("width",i),n.setAttribute("height",i);var r=c._createSVGEl("g");r.setAttribute("transform","translate("+e+","+e+")");var o=c._createSVGEl("circle");o.setAttribute("class","timepicker-canvas-bearing"),o.setAttribute("cx",0),o.setAttribute("cy",0),o.setAttribute("r",4);var s=c._createSVGEl("line");s.setAttribute("x1",0),s.setAttribute("y1",0);var a=c._createSVGEl("circle");a.setAttribute("class","timepicker-canvas-bg"),a.setAttribute("r",t),r.appendChild(s),r.appendChild(a),r.appendChild(o),n.appendChild(r),this._canvas.appendChild(n),this.hand=s,this.bg=a,this.bearing=o,this.g=r}},{key:"_buildHoursView",value:function(){var t=e('<div class="timepicker-tick"></div>');if(this.options.twelveHour)for(var i=1;i<13;i+=1){var n=t.clone(),r=i/6*Math.PI,o=this.options.outerRadius;n.css({left:this.options.dialRadius+Math.sin(r)*o-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(r)*o-this.options.tickRadius+"px"}),n.html(0===i?"00":i),this.hoursView.appendChild(n[0])}else for(var s=0;s<24;s+=1){var a=t.clone(),c=s/6*Math.PI,l=s>0&&s<13?this.options.innerRadius:this.options.outerRadius;a.css({left:this.options.dialRadius+Math.sin(c)*l-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(c)*l-this.options.tickRadius+"px"}),a.html(0===s?"00":s),this.hoursView.appendChild(a[0])}}},{key:"_buildMinutesView",value:function(){for(var t=e('<div class="timepicker-tick"></div>'),i=0;i<60;i+=5){var n=t.clone(),r=i/30*Math.PI;n.css({left:this.options.dialRadius+Math.sin(r)*this.options.outerRadius-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(r)*this.options.outerRadius-this.options.tickRadius+"px"}),n.html(c._addLeadingZero(i)),this.minutesView.appendChild(n[0])}}},{key:"_handleAmPmClick",value:function(t){var i=e(t.target);this.amOrPm=i.hasClass("am-btn")?"AM":"PM",this._updateAmPmView()}},{key:"_updateAmPmView",value:function(){this.options.twelveHour&&(this.$amBtn.toggleClass("text-primary","AM"===this.amOrPm),this.$pmBtn.toggleClass("text-primary","PM"===this.amOrPm))}},{key:"_updateTimeFromInput",value:function(){var e=((this.el.value||this.options.defaultTime||"")+"").split(":");if(this.options.twelveHour&&void 0!==e[1]&&(e[1].toUpperCase().indexOf("AM")>0?this.amOrPm="AM":this.amOrPm="PM",e[1]=e[1].replace("AM","").replace("PM","")),"now"===e[0]){var t=new Date(+new Date+this.options.fromNow);e=[t.getHours(),t.getMinutes()],this.options.twelveHour&&(this.amOrPm=e[0]>=12&&e[0]<24?"PM":"AM")}this.hours=+e[0]||0,this.minutes=+e[1]||0,this.spanHours.innerHTML=this.hours,this.spanMinutes.innerHTML=c._addLeadingZero(this.minutes),this._updateAmPmView()}},{key:"showView",value:function(t,i){"minutes"===t&&e(this.hoursView).css("visibility");var n="hours"===t,r=n?this.hoursView:this.minutesView,o=n?this.minutesView:this.hoursView;this.currentView=t,e(this.spanHours).toggleClass("text-primary",n),e(this.spanMinutes).toggleClass("text-primary",!n),o.classList.add("timepicker-dial-out"),e(r).css("visibility","visible").removeClass("timepicker-dial-out"),this.resetClock(i),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout((function(){e(o).css("visibility","hidden")}),this.options.duration)}},{key:"resetClock",value:function(t){var i=this.currentView,n=this[i],r="hours"===i,o=n*(Math.PI/(r?6:30)),s=r&&n>0&&n<13?this.options.innerRadius:this.options.outerRadius,a=Math.sin(o)*s,c=-Math.cos(o)*s,l=this;t?(e(this.canvas).addClass("timepicker-canvas-out"),setTimeout((function(){e(l.canvas).removeClass("timepicker-canvas-out"),l.setHand(a,c)}),t)):this.setHand(a,c)}},{key:"setHand",value:function(e,t,i){var n=this,r=Math.atan2(e,-t),o="hours"===this.currentView,s=Math.PI/(o||i?6:30),a=Math.sqrt(e*e+t*t),l=o&&a<(this.options.outerRadius+this.options.innerRadius)/2,u=l?this.options.innerRadius:this.options.outerRadius;this.options.twelveHour&&(u=this.options.outerRadius),r<0&&(r=2*Math.PI+r);var h=Math.round(r/s);r=h*s,this.options.twelveHour?o?0===h&&(h=12):(i&&(h*=5),60===h&&(h=0)):o?(12===h&&(h=0),h=l?0===h?12:h:0===h?0:h+12):(i&&(h*=5),60===h&&(h=0)),this[this.currentView]!==h&&this.vibrate&&this.options.vibrate&&(this.vibrateTimer||(navigator[this.vibrate](10),this.vibrateTimer=setTimeout((function(){n.vibrateTimer=null}),100))),this[this.currentView]=h,o?this.spanHours.innerHTML=h:this.spanMinutes.innerHTML=c._addLeadingZero(h);var d=Math.sin(r)*(u-this.options.tickRadius),f=-Math.cos(r)*(u-this.options.tickRadius),p=Math.sin(r)*u,_=-Math.cos(r)*u;this.hand.setAttribute("x2",d),this.hand.setAttribute("y2",f),this.bg.setAttribute("cx",p),this.bg.setAttribute("cy",_)}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this._updateTimeFromInput(),this.showView("hours"),this.modal.open())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.modal.close())}},{key:"done",value:function(e,t){var i=this.el.value,n=t?"":c._addLeadingZero(this.hours)+":"+c._addLeadingZero(this.minutes);this.time=n,!t&&this.options.twelveHour&&(n=n+" "+this.amOrPm),this.el.value=n,n!==i&&this.$el.trigger("change"),this.close(),this.el.focus()}},{key:"clear",value:function(){this.done(null,!0)}}],[{key:"init",value:function(e,t){return n(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,e,t)}},{key:"_addLeadingZero",value:function(e){return(e<10?"0":"")+e}},{key:"_createSVGEl",value:function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}},{key:"_Pos",value:function(e){return e.targetTouches&&e.targetTouches.length>=1?{x:e.targetTouches[0].clientX,y:e.targetTouches[0].clientY}:{x:e.clientX,y:e.clientY}}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Timepicker}},{key:"defaults",get:function(){return t}}]),c}(c);i._template=['<div class= "modal timepicker-modal">','<div class="modal-content timepicker-container">','<div class="timepicker-digital-display">','<div class="timepicker-text-container">','<div class="timepicker-display-column">','<span class="timepicker-span-hours text-primary"></span>',":",'<span class="timepicker-span-minutes"></span>',"</div>",'<div class="timepicker-display-column timepicker-display-am-pm">','<div class="timepicker-span-am-pm"></div>',"</div>","</div>","</div>",'<div class="timepicker-analog-display">','<div class="timepicker-plate">','<div class="timepicker-canvas"></div>','<div class="timepicker-dial timepicker-hours"></div>','<div class="timepicker-dial timepicker-minutes timepicker-dial-out"></div>',"</div>",'<div class="timepicker-footer"></div>',"</div>","</div>","</div>"].join(""),M.Timepicker=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"timepicker","M_Timepicker")}(cash),function(e){var t={},i=function(i){function c(t,i){a(this,c);var n=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,t,i));return n.el.M_CharacterCounter=n,n.options=e.extend({},c.defaults,i),n.isInvalid=!1,n.isValidLength=!1,n._setupCounter(),n._setupEventHandlers(),n}return s(c,i),r(c,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.CharacterCounter=void 0,this._removeCounter()}},{key:"_setupEventHandlers",value:function(){this._handleUpdateCounterBound=this.updateCounter.bind(this),this.el.addEventListener("focus",this._handleUpdateCounterBound,!0),this.el.addEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("focus",this._handleUpdateCounterBound,!0),this.el.removeEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_setupCounter",value:function(){this.counterEl=document.createElement("span"),e(this.counterEl).addClass("character-counter").css({float:"right","font-size":"12px",height:1}),this.$el.parent().append(this.counterEl)}},{key:"_removeCounter",value:function(){e(this.counterEl).remove()}},{key:"updateCounter",value:function(){var t=+this.$el.attr("data-length"),i=this.el.value.length;this.isValidLength=i<=t;var n=i;t&&(n+="/"+t,this._validateInput()),e(this.counterEl).html(n)}},{key:"_validateInput",value:function(){this.isValidLength&&this.isInvalid?(this.isInvalid=!1,this.$el.removeClass("invalid")):this.isValidLength||this.isInvalid||(this.isInvalid=!0,this.$el.removeClass("valid"),this.$el.addClass("invalid"))}}],[{key:"init",value:function(e,t){return n(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_CharacterCounter}},{key:"defaults",get:function(){return t}}]),c}(c);M.CharacterCounter=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"characterCounter","M_CharacterCounter")}(cash),function(e){var t={duration:200,dist:-100,shift:0,padding:0,numVisible:5,fullWidth:!1,indicators:!1,noWrap:!1,onCycleTo:null},i=function(i){function c(t,i){a(this,c);var n=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,t,i));return n.el.M_Carousel=n,n.options=e.extend({},c.defaults,i),n.hasMultipleSlides=n.$el.find(".carousel-item").length>1,n.showIndicators=n.options.indicators&&n.hasMultipleSlides,n.noWrap=n.options.noWrap||!n.hasMultipleSlides,n.pressed=!1,n.dragged=!1,n.offset=n.target=0,n.images=[],n.itemWidth=n.$el.find(".carousel-item").first().innerWidth(),n.itemHeight=n.$el.find(".carousel-item").first().innerHeight(),n.dim=2*n.itemWidth+n.options.padding||1,n._autoScrollBound=n._autoScroll.bind(n),n._trackBound=n._track.bind(n),n.options.fullWidth&&(n.options.dist=0,n._setCarouselHeight(),n.showIndicators&&n.$el.find(".carousel-fixed-item").addClass("with-indicators")),n.$indicators=e('<ul class="indicators"></ul>'),n.$el.find(".carousel-item").each((function(t,i){if(n.images.push(t),n.showIndicators){var r=e('<li class="indicator-item"></li>');0===i&&r[0].classList.add("active"),n.$indicators.append(r)}})),n.showIndicators&&n.$el.append(n.$indicators),n.count=n.images.length,n.options.numVisible=Math.min(n.count,n.options.numVisible),n.xform="transform",["webkit","Moz","O","ms"].every((function(e){var t=e+"Transform";return void 0===document.body.style[t]||(n.xform=t,!1)})),n._setupEventHandlers(),n._scroll(n.offset),n}return s(c,i),r(c,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Carousel=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleCarouselTapBound=this._handleCarouselTap.bind(this),this._handleCarouselDragBound=this._handleCarouselDrag.bind(this),this._handleCarouselReleaseBound=this._handleCarouselRelease.bind(this),this._handleCarouselClickBound=this._handleCarouselClick.bind(this),void 0!==window.ontouchstart&&(this.el.addEventListener("touchstart",this._handleCarouselTapBound),this.el.addEventListener("touchmove",this._handleCarouselDragBound),this.el.addEventListener("touchend",this._handleCarouselReleaseBound)),this.el.addEventListener("mousedown",this._handleCarouselTapBound),this.el.addEventListener("mousemove",this._handleCarouselDragBound),this.el.addEventListener("mouseup",this._handleCarouselReleaseBound),this.el.addEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.addEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&(this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.$indicators.find(".indicator-item").each((function(t,i){t.addEventListener("click",e._handleIndicatorClickBound)})));var t=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=t.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){var e=this;void 0!==window.ontouchstart&&(this.el.removeEventListener("touchstart",this._handleCarouselTapBound),this.el.removeEventListener("touchmove",this._handleCarouselDragBound),this.el.removeEventListener("touchend",this._handleCarouselReleaseBound)),this.el.removeEventListener("mousedown",this._handleCarouselTapBound),this.el.removeEventListener("mousemove",this._handleCarouselDragBound),this.el.removeEventListener("mouseup",this._handleCarouselReleaseBound),this.el.removeEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.removeEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&this.$indicators.find(".indicator-item").each((function(t,i){t.removeEventListener("click",e._handleIndicatorClickBound)})),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleCarouselTap",value:function(t){"mousedown"===t.type&&e(t.target).is("img")&&t.preventDefault(),this.pressed=!0,this.dragged=!1,this.verticalDragged=!1,this.reference=this._xpos(t),this.referenceY=this._ypos(t),this.velocity=this.amplitude=0,this.frame=this.offset,this.timestamp=Date.now(),clearInterval(this.ticker),this.ticker=setInterval(this._trackBound,100)}},{key:"_handleCarouselDrag",value:function(e){var t=void 0,i=void 0,n=void 0;if(this.pressed)if(t=this._xpos(e),i=this._ypos(e),n=this.reference-t,Math.abs(this.referenceY-i)<30&&!this.verticalDragged)(n>2||n<-2)&&(this.dragged=!0,this.reference=t,this._scroll(this.offset+n));else{if(this.dragged)return e.preventDefault(),e.stopPropagation(),!1;this.verticalDragged=!0}if(this.dragged)return e.preventDefault(),e.stopPropagation(),!1}},{key:"_handleCarouselRelease",value:function(e){if(this.pressed)return this.pressed=!1,clearInterval(this.ticker),this.target=this.offset,(this.velocity>10||this.velocity<-10)&&(this.amplitude=.9*this.velocity,this.target=this.offset+this.amplitude),this.target=Math.round(this.target/this.dim)*this.dim,this.noWrap&&(this.target>=this.dim*(this.count-1)?this.target=this.dim*(this.count-1):this.target<0&&(this.target=0)),this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound),this.dragged&&(e.preventDefault(),e.stopPropagation()),!1}},{key:"_handleCarouselClick",value:function(t){if(this.dragged)return t.preventDefault(),t.stopPropagation(),!1;if(!this.options.fullWidth){var i=e(t.target).closest(".carousel-item").index();0!==this._wrap(this.center)-i&&(t.preventDefault(),t.stopPropagation()),this._cycleTo(i)}}},{key:"_handleIndicatorClick",value:function(t){t.stopPropagation();var i=e(t.target).closest(".indicator-item");i.length&&this._cycleTo(i.index())}},{key:"_handleResize",value:function(e){this.options.fullWidth?(this.itemWidth=this.$el.find(".carousel-item").first().innerWidth(),this.imageHeight=this.$el.find(".carousel-item.active").height(),this.dim=2*this.itemWidth+this.options.padding,this.offset=2*this.center*this.itemWidth,this.target=this.offset,this._setCarouselHeight(!0)):this._scroll()}},{key:"_setCarouselHeight",value:function(e){var t=this,i=this.$el.find(".carousel-item.active").length?this.$el.find(".carousel-item.active").first():this.$el.find(".carousel-item").first(),n=i.find("img").first();if(n.length)if(n[0].complete){var r=n.height();if(r>0)this.$el.css("height",r+"px");else{var o=n[0].naturalWidth,s=n[0].naturalHeight,a=this.$el.width()/o*s;this.$el.css("height",a+"px")}}else n.one("load",(function(e,i){t.$el.css("height",e.offsetHeight+"px")}));else if(!e){var c=i.height();this.$el.css("height",c+"px")}}},{key:"_xpos",value:function(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}},{key:"_ypos",value:function(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}},{key:"_wrap",value:function(e){return e>=this.count?e%this.count:e<0?this._wrap(this.count+e%this.count):e}},{key:"_track",value:function(){var e,t,i,n;t=(e=Date.now())-this.timestamp,this.timestamp=e,i=this.offset-this.frame,this.frame=this.offset,n=1e3*i/(1+t),this.velocity=.8*n+.2*this.velocity}},{key:"_autoScroll",value:function(){var e=void 0,t=void 0;this.amplitude&&(e=Date.now()-this.timestamp,(t=this.amplitude*Math.exp(-e/this.options.duration))>2||t<-2?(this._scroll(this.target-t),requestAnimationFrame(this._autoScrollBound)):this._scroll(this.target))}},{key:"_scroll",value:function(t){var i=this;this.$el.hasClass("scrolling")||this.el.classList.add("scrolling"),null!=this.scrollingTimeout&&window.clearTimeout(this.scrollingTimeout),this.scrollingTimeout=window.setTimeout((function(){i.$el.removeClass("scrolling")}),this.options.duration);var n,r,o,s,a=void 0,c=void 0,l=void 0,u=void 0,h=void 0,d=void 0,f=this.center,p=1/this.options.numVisible;if(this.offset="number"==typeof t?t:this.offset,this.center=Math.floor((this.offset+this.dim/2)/this.dim),s=-(o=(r=this.offset-this.center*this.dim)<0?1:-1)*r*2/this.dim,n=this.count>>1,this.options.fullWidth?(l="translateX(0)",d=1):(l="translateX("+(this.el.clientWidth-this.itemWidth)/2+"px) ",l+="translateY("+(this.el.clientHeight-this.itemHeight)/2+"px)",d=1-p*s),this.showIndicators){var _=this.center%this.count,v=this.$indicators.find(".indicator-item.active");v.index()!==_&&(v.removeClass("active"),this.$indicators.find(".indicator-item").eq(_)[0].classList.add("active"))}if(!this.noWrap||this.center>=0&&this.center<this.count){c=this.images[this._wrap(this.center)],e(c).hasClass("active")||(this.$el.find(".carousel-item").removeClass("active"),c.classList.add("active"));var m=l+" translateX("+-r/2+"px) translateX("+o*this.options.shift*s*a+"px) translateZ("+this.options.dist*s+"px)";this._updateItemStyle(c,d,0,m)}for(a=1;a<=n;++a){if(this.options.fullWidth?(u=this.options.dist,h=a===n&&r<0?1-s:1):(u=this.options.dist*(2*a+s*o),h=1-p*(2*a+s*o)),!this.noWrap||this.center+a<this.count){c=this.images[this._wrap(this.center+a)];var g=l+" translateX("+(this.options.shift+(this.dim*a-r)/2)+"px) translateZ("+u+"px)";this._updateItemStyle(c,h,-a,g)}if(this.options.fullWidth?(u=this.options.dist,h=a===n&&r>0?1-s:1):(u=this.options.dist*(2*a-s*o),h=1-p*(2*a-s*o)),!this.noWrap||this.center-a>=0){c=this.images[this._wrap(this.center-a)];var y=l+" translateX("+(-this.options.shift+(-this.dim*a-r)/2)+"px) translateZ("+u+"px)";this._updateItemStyle(c,h,-a,y)}}if(!this.noWrap||this.center>=0&&this.center<this.count){c=this.images[this._wrap(this.center)];var b=l+" translateX("+-r/2+"px) translateX("+o*this.options.shift*s+"px) translateZ("+this.options.dist*s+"px)";this._updateItemStyle(c,d,0,b)}var w=this.$el.find(".carousel-item").eq(this._wrap(this.center));f!==this.center&&"function"==typeof this.options.onCycleTo&&this.options.onCycleTo.call(this,w[0],this.dragged),"function"==typeof this.oneTimeCallback&&(this.oneTimeCallback.call(this,w[0],this.dragged),this.oneTimeCallback=null)}},{key:"_updateItemStyle",value:function(e,t,i,n){e.style[this.xform]=n,e.style.zIndex=i,e.style.opacity=t,e.style.visibility="visible"}},{key:"_cycleTo",value:function(e,t){var i=this.center%this.count-e;this.noWrap||(i<0?Math.abs(i+this.count)<Math.abs(i)&&(i+=this.count):i>0&&Math.abs(i-this.count)<i&&(i-=this.count)),this.target=this.dim*Math.round(this.offset/this.dim),i<0?this.target+=this.dim*Math.abs(i):i>0&&(this.target-=this.dim*i),"function"==typeof t&&(this.oneTimeCallback=t),this.offset!==this.target&&(this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound))}},{key:"next",value:function(e){(void 0===e||isNaN(e))&&(e=1);var t=this.center+e;if(t>=this.count||t<0){if(this.noWrap)return;t=this._wrap(t)}this._cycleTo(t)}},{key:"prev",value:function(e){(void 0===e||isNaN(e))&&(e=1);var t=this.center-e;if(t>=this.count||t<0){if(this.noWrap)return;t=this._wrap(t)}this._cycleTo(t)}},{key:"set",value:function(e,t){if((void 0===e||isNaN(e))&&(e=0),e>this.count||e<0){if(this.noWrap)return;e=this._wrap(e)}this._cycleTo(e,t)}}],[{key:"init",value:function(e,t){return n(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Carousel}},{key:"defaults",get:function(){return t}}]),c}(c);M.Carousel=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"carousel","M_Carousel")}(cash),function(e){var t={onOpen:void 0,onClose:void 0},i=function(i){function c(t,i){a(this,c);var n=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,t,i));return n.el.M_TapTarget=n,n.options=e.extend({},c.defaults,i),n.isOpen=!1,n.$origin=e("#"+n.$el.attr("data-target")),n._setup(),n._calculatePositioning(),n._setupEventHandlers(),n}return s(c,i),r(c,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.TapTarget=void 0}},{key:"_setupEventHandlers",value:function(){this._handleDocumentClickBound=this._handleDocumentClick.bind(this),this._handleTargetClickBound=this._handleTargetClick.bind(this),this._handleOriginClickBound=this._handleOriginClick.bind(this),this.el.addEventListener("click",this._handleTargetClickBound),this.originEl.addEventListener("click",this._handleOriginClickBound);var e=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=e.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleTargetClickBound),this.originEl.removeEventListener("click",this._handleOriginClickBound),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleTargetClick",value:function(e){this.open()}},{key:"_handleOriginClick",value:function(e){this.close()}},{key:"_handleResize",value:function(e){this._calculatePositioning()}},{key:"_handleDocumentClick",value:function(t){e(t.target).closest(".tap-target-wrapper").length||(this.close(),t.preventDefault(),t.stopPropagation())}},{key:"_setup",value:function(){this.wrapper=this.$el.parent()[0],this.waveEl=e(this.wrapper).find(".tap-target-wave")[0],this.originEl=e(this.wrapper).find(".tap-target-origin")[0],this.contentEl=this.$el.find(".tap-target-content")[0],e(this.wrapper).hasClass(".tap-target-wrapper")||(this.wrapper=document.createElement("div"),this.wrapper.classList.add("tap-target-wrapper"),this.$el.before(e(this.wrapper)),this.wrapper.append(this.el)),this.contentEl||(this.contentEl=document.createElement("div"),this.contentEl.classList.add("tap-target-content"),this.$el.append(this.contentEl)),this.waveEl||(this.waveEl=document.createElement("div"),this.waveEl.classList.add("tap-target-wave"),this.originEl||(this.originEl=this.$origin.clone(!0,!0),this.originEl.addClass("tap-target-origin"),this.originEl.removeAttr("id"),this.originEl.removeAttr("style"),this.originEl=this.originEl[0],this.waveEl.append(this.originEl)),this.wrapper.append(this.waveEl))}},{key:"_calculatePositioning",value:function(){var t="fixed"===this.$origin.css("position");if(!t)for(var i=this.$origin.parents(),n=0;n<i.length&&!(t="fixed"==e(i[n]).css("position"));n++);var r=this.$origin.outerWidth(),o=this.$origin.outerHeight(),s=t?this.$origin.offset().top-M.getDocumentScrollTop():this.$origin.offset().top,a=t?this.$origin.offset().left-M.getDocumentScrollLeft():this.$origin.offset().left,c=window.innerWidth,l=window.innerHeight,u=c/2,h=l/2,d=a<=u,f=a>u,p=s<=h,_=s>h,v=a>=.25*c&&a<=.75*c,m=this.$el.outerWidth(),g=this.$el.outerHeight(),y=s+o/2-g/2,b=a+r/2-m/2,w=t?"fixed":"absolute",C=v?m:m/2+r,S=g/2,k=p?g/2:0,E=d&&!v?m/2-r:0,x=r,L=_?"bottom":"top",T=2*r,O=T,R=g/2-O/2,A=m/2-T/2,D={};D.top=p?y+"px":"",D.right=f?c-b-m+"px":"",D.bottom=_?l-y-g+"px":"",D.left=d?b+"px":"",D.position=w,e(this.wrapper).css(D),e(this.contentEl).css({width:C+"px",height:S+"px",top:k+"px",right:"0px",bottom:"0px",left:E+"px",padding:x+"px",verticalAlign:L}),e(this.waveEl).css({top:R+"px",left:A+"px",width:T+"px",height:O+"px"})}},{key:"open",value:function(){this.isOpen||("function"==typeof this.options.onOpen&&this.options.onOpen.call(this,this.$origin[0]),this.isOpen=!0,this.wrapper.classList.add("open"),document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound))}},{key:"close",value:function(){this.isOpen&&("function"==typeof this.options.onClose&&this.options.onClose.call(this,this.$origin[0]),this.isOpen=!1,this.wrapper.classList.remove("open"),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound))}}],[{key:"init",value:function(e,t){return n(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_TapTarget}},{key:"defaults",get:function(){return t}}]),c}(c);M.TapTarget=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"tapTarget","M_TapTarget")}(cash),function(e){var t={classes:"",dropdownOptions:{}},i=function(i){function c(t,i){a(this,c);var n=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,t,i));return n.$el.hasClass("browser-default")?o(n):(n.el.M_FormSelect=n,n.options=e.extend({},c.defaults,i),n.isMultiple=n.$el.prop("multiple"),n.el.tabIndex=-1,n._keysSelected={},n._valueDict={},n._setupDropdown(),n._setupEventHandlers(),n)}return s(c,i),r(c,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_FormSelect=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleSelectChangeBound=this._handleSelectChange.bind(this),this._handleOptionClickBound=this._handleOptionClick.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),e(this.dropdownOptions).find("li:not(.optgroup)").each((function(e){e.addEventListener("click",t._handleOptionClickBound)})),this.el.addEventListener("change",this._handleSelectChangeBound),this.input.addEventListener("click",this._handleInputClickBound)}},{key:"_removeEventHandlers",value:function(){var t=this;e(this.dropdownOptions).find("li:not(.optgroup)").each((function(e){e.removeEventListener("click",t._handleOptionClickBound)})),this.el.removeEventListener("change",this._handleSelectChangeBound),this.input.removeEventListener("click",this._handleInputClickBound)}},{key:"_handleSelectChange",value:function(e){this._setValueToInput()}},{key:"_handleOptionClick",value:function(t){t.preventDefault();var i=e(t.target).closest("li")[0],n=i.id;if(!e(i).hasClass("disabled")&&!e(i).hasClass("optgroup")&&n.length){var r=!0;if(this.isMultiple){var o=e(this.dropdownOptions).find("li.disabled.selected");o.length&&(o.removeClass("selected"),o.find('input[type="checkbox"]').prop("checked",!1),this._toggleEntryFromArray(o[0].id)),r=this._toggleEntryFromArray(n)}else e(this.dropdownOptions).find("li").removeClass("selected"),e(i).toggleClass("selected",r);e(this._valueDict[n].el).prop("selected")!==r&&(e(this._valueDict[n].el).prop("selected",r),this.$el.trigger("change"))}t.stopPropagation()}},{key:"_handleInputClick",value:function(){this.dropdown&&this.dropdown.isOpen&&(this._setValueToInput(),this._setSelectedStates())}},{key:"_setupDropdown",value:function(){var t=this;this.wrapper=document.createElement("div"),e(this.wrapper).addClass("select-wrapper "+this.options.classes),this.$el.before(e(this.wrapper)),this.wrapper.appendChild(this.el),this.el.disabled&&this.wrapper.classList.add("disabled"),this.$selectOptions=this.$el.children("option, optgroup"),this.dropdownOptions=document.createElement("ul"),this.dropdownOptions.id="select-options-"+M.guid(),e(this.dropdownOptions).addClass("dropdown-content select-dropdown "+(this.isMultiple?"multiple-select-dropdown":"")),this.$selectOptions.length&&this.$selectOptions.each((function(i){if(e(i).is("option")){var n=void 0;n=t.isMultiple?t._appendOptionWithIcon(t.$el,i,"multiple"):t._appendOptionWithIcon(t.$el,i),t._addOptionToValueDict(i,n)}else if(e(i).is("optgroup")){var r=e(i).children("option");e(t.dropdownOptions).append(e('<li class="optgroup"><span>'+i.getAttribute("label")+"</span></li>")[0]),r.each((function(e){var i=t._appendOptionWithIcon(t.$el,e,"optgroup-option");t._addOptionToValueDict(e,i)}))}})),this.$el.after(this.dropdownOptions),this.input=document.createElement("input"),e(this.input).addClass("select-dropdown dropdown-trigger"),this.input.setAttribute("type","text"),this.input.setAttribute("readonly","true"),this.input.setAttribute("data-target",this.dropdownOptions.id),this.el.disabled&&e(this.input).prop("disabled","true"),this.$el.before(this.input),this._setValueToInput();var i=e('<svg class="caret" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');if(this.$el.before(i[0]),!this.el.disabled){var n=e.extend({},this.options.dropdownOptions);n.onOpenEnd=function(i){var n=e(t.dropdownOptions).find(".selected").first();if(t.dropdown.isScrollable&&n.length){var r=n[0].getBoundingClientRect().top-t.dropdownOptions.getBoundingClientRect().top;r-=t.dropdownOptions.clientHeight/2,t.dropdownOptions.scrollTop=r}},this.isMultiple&&(n.closeOnClick=!1),this.dropdown=M.Dropdown.init(this.input,n)}this._setSelectedStates()}},{key:"_addOptionToValueDict",value:function(e,t){var i=Object.keys(this._valueDict).length,n=this.dropdownOptions.id+i,r={};t.id=n,r.el=e,r.optionEl=t,this._valueDict[n]=r}},{key:"_removeDropdown",value:function(){e(this.wrapper).find(".caret").remove(),e(this.input).remove(),e(this.dropdownOptions).remove(),e(this.wrapper).before(this.$el),e(this.wrapper).remove()}},{key:"_appendOptionWithIcon",value:function(t,i,n){var r=i.disabled?"disabled ":"",o="optgroup-option"===n?"optgroup-option ":"",s=this.isMultiple?'<label><input type="checkbox"'+r+'"/><span>'+i.innerHTML+"</span></label>":i.innerHTML,a=e("<li></li>"),c=e("<span></span>");c.html(s),a.addClass(r+" "+o),a.append(c);var l=i.getAttribute("data-icon");if(l){var u=e('<img alt="" src="'+l+'">');a.prepend(u)}return e(this.dropdownOptions).append(a[0]),a[0]}},{key:"_toggleEntryFromArray",value:function(t){var i=!this._keysSelected.hasOwnProperty(t),n=e(this._valueDict[t].optionEl);return i?this._keysSelected[t]=!0:delete this._keysSelected[t],n.toggleClass("selected",i),n.find('input[type="checkbox"]').prop("checked",i),n.prop("selected",i),i}},{key:"_setValueToInput",value:function(){var t=[];if(this.$el.find("option").each((function(i){if(e(i).prop("selected")){var n=e(i).text();t.push(n)}})),!t.length){var i=this.$el.find("option:disabled").eq(0);i.length&&""===i[0].value&&t.push(i.text())}this.input.value=t.join(", ")}},{key:"_setSelectedStates",value:function(){for(var t in this._keysSelected={},this._valueDict){var i=this._valueDict[t],n=e(i.el).prop("selected");e(i.optionEl).find('input[type="checkbox"]').prop("checked",n),n?(this._activateOption(e(this.dropdownOptions),e(i.optionEl)),this._keysSelected[t]=!0):e(i.optionEl).removeClass("selected")}}},{key:"_activateOption",value:function(t,i){i&&(this.isMultiple||t.find("li.selected").removeClass("selected"),e(i).addClass("selected"))}},{key:"getSelectedValues",value:function(){var e=[];for(var t in this._keysSelected)e.push(this._valueDict[t].el.value);return e}}],[{key:"init",value:function(e,t){return n(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_FormSelect}},{key:"defaults",get:function(){return t}}]),c}(c);M.FormSelect=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"formSelect","M_FormSelect")}(cash),function(e,t){var i={},l=function(c){function l(t,i){a(this,l);var n=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,i));return n.el.M_Range=n,n.options=e.extend({},l.defaults,i),n._mousedown=!1,n._setupThumb(),n._setupEventHandlers(),n}return s(l,c),r(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeThumb(),this.el.M_Range=void 0}},{key:"_setupEventHandlers",value:function(){this._handleRangeChangeBound=this._handleRangeChange.bind(this),this._handleRangeMousedownTouchstartBound=this._handleRangeMousedownTouchstart.bind(this),this._handleRangeInputMousemoveTouchmoveBound=this._handleRangeInputMousemoveTouchmove.bind(this),this._handleRangeMouseupTouchendBound=this._handleRangeMouseupTouchend.bind(this),this._handleRangeBlurMouseoutTouchleaveBound=this._handleRangeBlurMouseoutTouchleave.bind(this),this.el.addEventListener("change",this._handleRangeChangeBound),this.el.addEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.addEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.addEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("change",this._handleRangeChangeBound),this.el.removeEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_handleRangeChange",value:function(){e(this.value).html(this.$el.val()),e(this.thumb).hasClass("active")||this._showRangeBubble();var t=this._calcRangeOffset();e(this.thumb).addClass("active").css("left",t+"px")}},{key:"_handleRangeMousedownTouchstart",value:function(t){if(e(this.value).html(this.$el.val()),this._mousedown=!0,this.$el.addClass("active"),e(this.thumb).hasClass("active")||this._showRangeBubble(),"input"!==t.type){var i=this._calcRangeOffset();e(this.thumb).addClass("active").css("left",i+"px")}}},{key:"_handleRangeInputMousemoveTouchmove",value:function(){if(this._mousedown){e(this.thumb).hasClass("active")||this._showRangeBubble();var t=this._calcRangeOffset();e(this.thumb).addClass("active").css("left",t+"px"),e(this.value).html(this.$el.val())}}},{key:"_handleRangeMouseupTouchend",value:function(){this._mousedown=!1,this.$el.removeClass("active")}},{key:"_handleRangeBlurMouseoutTouchleave",value:function(){if(!this._mousedown){var i=7+parseInt(this.$el.css("padding-left"))+"px";e(this.thumb).hasClass("active")&&(t.remove(this.thumb),t({targets:this.thumb,height:0,width:0,top:10,easing:"easeOutQuad",marginLeft:i,duration:100})),e(this.thumb).removeClass("active")}}},{key:"_setupThumb",value:function(){this.thumb=document.createElement("span"),this.value=document.createElement("span"),e(this.thumb).addClass("thumb"),e(this.value).addClass("value"),e(this.thumb).append(this.value),this.$el.after(this.thumb)}},{key:"_removeThumb",value:function(){e(this.thumb).remove()}},{key:"_showRangeBubble",value:function(){var i=-7+parseInt(e(this.thumb).parent().css("padding-left"))+"px";t.remove(this.thumb),t({targets:this.thumb,height:30,width:30,top:-30,marginLeft:i,duration:300,easing:"easeOutQuint"})}},{key:"_calcRangeOffset",value:function(){var e=this.$el.width()-15,t=parseFloat(this.$el.attr("max"))||100,i=parseFloat(this.$el.attr("min"))||0;return(parseFloat(this.$el.val())-i)/(t-i)*e}}],[{key:"init",value:function(e,t){return n(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Range}},{key:"defaults",get:function(){return i}}]),l}(c);M.Range=l,M.jQueryLoaded&&M.initializeJqueryWrapper(l,"range","M_Range"),l.init(e("input[type=range]"))}(cash,M.anime)}));function r(){}const o=e=>e;function s(e,t){for(const i in t)e[i]=t[i];return e}function a(e,t,i,n,r){e.__svelte_meta={loc:{file:t,line:i,column:n,char:r}}}function c(e){return e()}function l(){return Object.create(null)}function u(e){e.forEach(c)}function h(e){return"function"==typeof e}function d(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function f(e,t){if(null!=e&&"function"!=typeof e.subscribe)throw new Error(`'${t}' is not a store with a 'subscribe' method`)}function p(e,...t){if(null==e)return r;const i=e.subscribe(...t);return i.unsubscribe?()=>i.unsubscribe():i}function _(e,t,i){e.$$.on_destroy.push(p(t,i))}function v(e,t,i,n){if(e){const r=m(e,t,i,n);return e[0](r)}}function m(e,t,i,n){return e[1]&&n?s(i.ctx.slice(),e[1](n(t))):i.ctx}function g(e,t,i,n){if(e[2]&&n){const r=e[2](n(i));if(void 0===t.dirty)return r;if("object"==typeof r){const e=[],i=Math.max(t.dirty.length,r.length);for(let n=0;n<i;n+=1)e[n]=t.dirty[n]|r[n];return e}return t.dirty|r}return t.dirty}function y(e){const t={};for(const i in e)"$"!==i[0]&&(t[i]=e[i]);return t}function b(e){e.parentNode.removeChild(e)}function w(e,t){for(let i=0;i<e.length;i+=1)e[i]&&e[i].d(t)}function C(e){return document.createElement(e)}function S(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function k(e){return document.createTextNode(e)}function E(){return k(" ")}function x(){return k("")}function L(e,t,i){null==i?e.removeAttribute(t):e.getAttribute(t)!==i&&e.setAttribute(t,i)}function T(e,t){const i=Object.getOwnPropertyDescriptors(e.__proto__);for(const n in t)null==t[n]?e.removeAttribute(n):"style"===n?e.style.cssText=t[n]:"__value"===n?e.value=e[n]=t[n]:i[n]&&i[n].set?e[n]=t[n]:L(e,n,t[n])}function O(e,t){(null!=t||e.value)&&(e.value=t)}function R(e,t){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,!1,!1,t),i}let A;function D(e){A=e}function I(){if(!A)throw new Error("Function called outside component initialization");return A}function P(e){I().$$.on_mount.push(e)}function B(e){I().$$.after_update.push(e)}function H(e){I().$$.on_destroy.push(e)}function j(){const e=I();return(t,i)=>{const n=e.$$.callbacks[t];if(n){const r=R(t,i);n.slice().forEach(t=>{t.call(e,r)})}}}function W(e,t){I().$$.context.set(e,t)}function F(e){return I().$$.context.get(e)}const N=[],U=[],q=[],z=[],Y=Promise.resolve();let V=!1;function K(e){q.push(e)}let G=!1;const Z=new Set;function X(){if(!G){G=!0;do{for(let e=0;e<N.length;e+=1){const t=N[e];D(t),J(t.$$)}for(N.length=0;U.length;)U.pop()();for(let e=0;e<q.length;e+=1){const t=q[e];Z.has(t)||(Z.add(t),t())}q.length=0}while(N.length);for(;z.length;)z.pop()();V=!1,G=!1,Z.clear()}}function J(e){if(null!==e.fragment){e.update(),u(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(K)}}const Q=new Set;let ee;function te(){ee={r:0,c:[],p:ee}}function ie(){ee.r||u(ee.c),ee=ee.p}function ne(e,t){e&&e.i&&(Q.delete(e),e.i(t))}function re(e,t,i,n){if(e&&e.o){if(Q.has(e))return;Q.add(e),ee.c.push(()=>{Q.delete(e),n&&(i&&e.d(1),n())}),e.o(t)}}const oe="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function se(e,t){const i={},n={},r={$$scope:1};let o=e.length;for(;o--;){const s=e[o],a=t[o];if(a){for(const e in s)e in a||(n[e]=1);for(const e in a)r[e]||(i[e]=a[e],r[e]=1);e[o]=a}else for(const e in s)r[e]=1}for(const e in n)e in i||(i[e]=void 0);return i}function ae(e){return"object"==typeof e&&null!==e?e:{}}function ce(e){e&&e.c()}function le(e,t,i){const{fragment:n,on_mount:r,on_destroy:o,after_update:s}=e.$$;n&&n.m(t,i),K(()=>{const t=r.map(c).filter(h);o?o.push(...t):u(t),e.$$.on_mount=[]}),s.forEach(K)}function ue(e,t){const i=e.$$;null!==i.fragment&&(u(i.on_destroy),i.fragment&&i.fragment.d(t),i.on_destroy=i.fragment=null,i.ctx=[])}function he(e,t){-1===e.$$.dirty[0]&&(N.push(e),V||(V=!0,Y.then(X)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function de(e,t,i,n,o,s,a=[-1]){const c=A;D(e);const h=t.props||{},d=e.$$={fragment:null,ctx:null,props:s,update:r,not_equal:o,bound:l(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:l(),dirty:a};let f=!1;if(d.ctx=i?i(e,h,(t,i,...n)=>{const r=n.length?n[0]:i;return d.ctx&&o(d.ctx[t],d.ctx[t]=r)&&(d.bound[t]&&d.bound[t](r),f&&he(e,t)),i}):[],d.update(),f=!0,u(d.before_update),d.fragment=!!n&&n(d.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);d.fragment&&d.fragment.l(e),e.forEach(b)}else d.fragment&&d.fragment.c();t.intro&&ne(e.$$.fragment),le(e,t.target,t.anchor),X()}D(c)}function fe(e,t){document.dispatchEvent(R(e,Object.assign({version:"3.22.3"},t)))}function pe(e,t){fe("SvelteDOMInsert",{target:e,node:t}),function(e,t){e.appendChild(t)}(e,t)}function _e(e,t,i){fe("SvelteDOMInsert",{target:e,node:t,anchor:i}),function(e,t,i){e.insertBefore(t,i||null)}(e,t,i)}function ve(e){fe("SvelteDOMRemove",{node:e}),b(e)}function me(e,t,i,n,r,o){const s=!0===n?["capture"]:n?Array.from(Object.keys(n)):[];r&&s.push("preventDefault"),o&&s.push("stopPropagation"),fe("SvelteDOMAddEventListener",{node:e,event:t,handler:i,modifiers:s});const a=function(e,t,i,n){return e.addEventListener(t,i,n),()=>e.removeEventListener(t,i,n)}(e,t,i,n);return()=>{fe("SvelteDOMRemoveEventListener",{node:e,event:t,handler:i,modifiers:s}),a()}}function ge(e,t,i){L(e,t,i),null==i?fe("SvelteDOMRemoveAttribute",{node:e,attribute:t}):fe("SvelteDOMSetAttribute",{node:e,attribute:t,value:i})}function ye(e,t){t=""+t,e.data!==t&&(fe("SvelteDOMSetData",{node:e,data:t}),e.data=t)}function be(e){if(!("string"==typeof e||e&&"object"==typeof e&&"length"in e)){let t="{#each} only iterates over array-like objects.";throw"function"==typeof Symbol&&e&&Symbol.iterator in e&&(t+=" You can use a spread to convert this iterable into an array."),new Error(t)}}function we(e,t,i){for(const n of Object.keys(t))~i.indexOf(n)||console.warn(`<${e}> received an unexpected slot "${n}".`)}class Ce extends class{$destroy(){ue(this,1),this.$destroy=r}$on(e,t){const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const e=i.indexOf(t);-1!==e&&i.splice(e,1)}}$set(){}}{constructor(e){if(!e||!e.target&&!e.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{console.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}const Se="node_modules/svelte-feather-icons/src/icons/BookOpenIcon.svelte";function ke(e){let t,i,n,o;const s={c:function(){t=S("svg"),i=S("path"),n=S("path"),ge(i,"d","M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"),a(i,Se,12,234,490),ge(n,"d","M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"),a(n,Se,12,292,548),ge(t,"xmlns","http://www.w3.org/2000/svg"),ge(t,"width",e[0]),ge(t,"height",e[0]),ge(t,"fill","none"),ge(t,"viewBox","0 0 24 24"),ge(t,"stroke","currentColor"),ge(t,"stroke-width","2"),ge(t,"stroke-linecap","round"),ge(t,"stroke-linejoin","round"),ge(t,"class",o="feather feather-book-open "+e[1]),a(t,Se,12,0,256)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){_e(e,t,r),pe(t,i),pe(t,n)},p:function(e,[i]){1&i&&ge(t,"width",e[0]),1&i&&ge(t,"height",e[0]),2&i&&o!==(o="feather feather-book-open "+e[1])&&ge(t,"class",o)},i:r,o:r,d:function(e){e&&ve(t)}};return fe("SvelteRegisterBlock",{block:s,id:ke.name,type:"component",source:"",ctx:e}),s}function Ee(e,t,i){let{size:n="100%"}=t,{class:r=""}=t;"100%"!==n&&(n="x"===n.slice(-1)?n.slice(0,n.length-1)+"em":parseInt(n)+"px");const o=["size","class"];Object.keys(t).forEach(e=>{~o.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<BookOpenIcon> was created with unknown prop '${e}'`)});let{$$slots:s={},$$scope:a}=t;return we("BookOpenIcon",s,[]),e.$set=e=>{"size"in e&&i(0,n=e.size),"class"in e&&i(1,r=e.class)},e.$capture_state=()=>({size:n,customClass:r}),e.$inject_state=e=>{"size"in e&&i(0,n=e.size),"customClass"in e&&i(1,r=e.customClass)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[n,r]}class xe extends Ce{constructor(e){super(e),de(this,e,Ee,ke,d,{size:0,class:1}),fe("SvelteRegisterComponent",{component:this,tagName:"BookOpenIcon",options:e,id:ke.name})}get size(){throw new Error("<BookOpenIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<BookOpenIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get class(){throw new Error("<BookOpenIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set class(e){throw new Error("<BookOpenIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Le="node_modules/svelte-feather-icons/src/icons/EditIcon.svelte";function Me(e){let t,i,n,o;const s={c:function(){t=S("svg"),i=S("path"),n=S("path"),ge(i,"d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"),a(i,Le,12,229,485),ge(n,"d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"),a(n,Le,12,305,561),ge(t,"xmlns","http://www.w3.org/2000/svg"),ge(t,"width",e[0]),ge(t,"height",e[0]),ge(t,"fill","none"),ge(t,"viewBox","0 0 24 24"),ge(t,"stroke","currentColor"),ge(t,"stroke-width","2"),ge(t,"stroke-linecap","round"),ge(t,"stroke-linejoin","round"),ge(t,"class",o="feather feather-edit "+e[1]),a(t,Le,12,0,256)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){_e(e,t,r),pe(t,i),pe(t,n)},p:function(e,[i]){1&i&&ge(t,"width",e[0]),1&i&&ge(t,"height",e[0]),2&i&&o!==(o="feather feather-edit "+e[1])&&ge(t,"class",o)},i:r,o:r,d:function(e){e&&ve(t)}};return fe("SvelteRegisterBlock",{block:s,id:Me.name,type:"component",source:"",ctx:e}),s}function Te(e,t,i){let{size:n="100%"}=t,{class:r=""}=t;"100%"!==n&&(n="x"===n.slice(-1)?n.slice(0,n.length-1)+"em":parseInt(n)+"px");const o=["size","class"];Object.keys(t).forEach(e=>{~o.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<EditIcon> was created with unknown prop '${e}'`)});let{$$slots:s={},$$scope:a}=t;return we("EditIcon",s,[]),e.$set=e=>{"size"in e&&i(0,n=e.size),"class"in e&&i(1,r=e.class)},e.$capture_state=()=>({size:n,customClass:r}),e.$inject_state=e=>{"size"in e&&i(0,n=e.size),"customClass"in e&&i(1,r=e.customClass)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[n,r]}class Oe extends Ce{constructor(e){super(e),de(this,e,Te,Me,d,{size:0,class:1}),fe("SvelteRegisterComponent",{component:this,tagName:"EditIcon",options:e,id:Me.name})}get size(){throw new Error("<EditIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<EditIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get class(){throw new Error("<EditIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set class(e){throw new Error("<EditIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Re="node_modules/svelte-feather-icons/src/icons/HashIcon.svelte";function Ae(e){let t,i,n,o,s,c;const l={c:function(){t=S("svg"),i=S("line"),n=S("line"),o=S("line"),s=S("line"),ge(i,"x1","4"),ge(i,"y1","9"),ge(i,"x2","20"),ge(i,"y2","9"),a(i,Re,12,229,485),ge(n,"x1","4"),ge(n,"y1","15"),ge(n,"x2","20"),ge(n,"y2","15"),a(n,Re,12,271,527),ge(o,"x1","10"),ge(o,"y1","3"),ge(o,"x2","8"),ge(o,"y2","21"),a(o,Re,12,315,571),ge(s,"x1","16"),ge(s,"y1","3"),ge(s,"x2","14"),ge(s,"y2","21"),a(s,Re,12,358,614),ge(t,"xmlns","http://www.w3.org/2000/svg"),ge(t,"width",e[0]),ge(t,"height",e[0]),ge(t,"fill","none"),ge(t,"viewBox","0 0 24 24"),ge(t,"stroke","currentColor"),ge(t,"stroke-width","2"),ge(t,"stroke-linecap","round"),ge(t,"stroke-linejoin","round"),ge(t,"class",c="feather feather-hash "+e[1]),a(t,Re,12,0,256)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){_e(e,t,r),pe(t,i),pe(t,n),pe(t,o),pe(t,s)},p:function(e,[i]){1&i&&ge(t,"width",e[0]),1&i&&ge(t,"height",e[0]),2&i&&c!==(c="feather feather-hash "+e[1])&&ge(t,"class",c)},i:r,o:r,d:function(e){e&&ve(t)}};return fe("SvelteRegisterBlock",{block:l,id:Ae.name,type:"component",source:"",ctx:e}),l}function De(e,t,i){let{size:n="100%"}=t,{class:r=""}=t;"100%"!==n&&(n="x"===n.slice(-1)?n.slice(0,n.length-1)+"em":parseInt(n)+"px");const o=["size","class"];Object.keys(t).forEach(e=>{~o.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<HashIcon> was created with unknown prop '${e}'`)});let{$$slots:s={},$$scope:a}=t;return we("HashIcon",s,[]),e.$set=e=>{"size"in e&&i(0,n=e.size),"class"in e&&i(1,r=e.class)},e.$capture_state=()=>({size:n,customClass:r}),e.$inject_state=e=>{"size"in e&&i(0,n=e.size),"customClass"in e&&i(1,r=e.customClass)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[n,r]}class Ie extends Ce{constructor(e){super(e),de(this,e,De,Ae,d,{size:0,class:1}),fe("SvelteRegisterComponent",{component:this,tagName:"HashIcon",options:e,id:Ae.name})}get size(){throw new Error("<HashIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<HashIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get class(){throw new Error("<HashIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set class(e){throw new Error("<HashIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Pe="node_modules/svelte-feather-icons/src/icons/PlayIcon.svelte";function Be(e){let t,i,n;const o={c:function(){t=S("svg"),i=S("polygon"),ge(i,"points","5 3 19 12 5 21 5 3"),a(i,Pe,12,229,485),ge(t,"xmlns","http://www.w3.org/2000/svg"),ge(t,"width",e[0]),ge(t,"height",e[0]),ge(t,"fill","none"),ge(t,"viewBox","0 0 24 24"),ge(t,"stroke","currentColor"),ge(t,"stroke-width","2"),ge(t,"stroke-linecap","round"),ge(t,"stroke-linejoin","round"),ge(t,"class",n="feather feather-play "+e[1]),a(t,Pe,12,0,256)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,n){_e(e,t,n),pe(t,i)},p:function(e,[i]){1&i&&ge(t,"width",e[0]),1&i&&ge(t,"height",e[0]),2&i&&n!==(n="feather feather-play "+e[1])&&ge(t,"class",n)},i:r,o:r,d:function(e){e&&ve(t)}};return fe("SvelteRegisterBlock",{block:o,id:Be.name,type:"component",source:"",ctx:e}),o}function $e(e,t,i){let{size:n="100%"}=t,{class:r=""}=t;"100%"!==n&&(n="x"===n.slice(-1)?n.slice(0,n.length-1)+"em":parseInt(n)+"px");const o=["size","class"];Object.keys(t).forEach(e=>{~o.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<PlayIcon> was created with unknown prop '${e}'`)});let{$$slots:s={},$$scope:a}=t;return we("PlayIcon",s,[]),e.$set=e=>{"size"in e&&i(0,n=e.size),"class"in e&&i(1,r=e.class)},e.$capture_state=()=>({size:n,customClass:r}),e.$inject_state=e=>{"size"in e&&i(0,n=e.size),"customClass"in e&&i(1,r=e.customClass)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[n,r]}class He extends Ce{constructor(e){super(e),de(this,e,$e,Be,d,{size:0,class:1}),fe("SvelteRegisterComponent",{component:this,tagName:"PlayIcon",options:e,id:Be.name})}get size(){throw new Error("<PlayIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<PlayIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get class(){throw new Error("<PlayIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set class(e){throw new Error("<PlayIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const je="node_modules/svelte-feather-icons/src/icons/PlusIcon.svelte";function We(e){let t,i,n,o;const s={c:function(){t=S("svg"),i=S("line"),n=S("line"),ge(i,"x1","12"),ge(i,"y1","5"),ge(i,"x2","12"),ge(i,"y2","19"),a(i,je,12,229,485),ge(n,"x1","5"),ge(n,"y1","12"),ge(n,"x2","19"),ge(n,"y2","12"),a(n,je,12,273,529),ge(t,"xmlns","http://www.w3.org/2000/svg"),ge(t,"width",e[0]),ge(t,"height",e[0]),ge(t,"fill","none"),ge(t,"viewBox","0 0 24 24"),ge(t,"stroke","currentColor"),ge(t,"stroke-width","2"),ge(t,"stroke-linecap","round"),ge(t,"stroke-linejoin","round"),ge(t,"class",o="feather feather-plus "+e[1]),a(t,je,12,0,256)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){_e(e,t,r),pe(t,i),pe(t,n)},p:function(e,[i]){1&i&&ge(t,"width",e[0]),1&i&&ge(t,"height",e[0]),2&i&&o!==(o="feather feather-plus "+e[1])&&ge(t,"class",o)},i:r,o:r,d:function(e){e&&ve(t)}};return fe("SvelteRegisterBlock",{block:s,id:We.name,type:"component",source:"",ctx:e}),s}function Fe(e,t,i){let{size:n="100%"}=t,{class:r=""}=t;"100%"!==n&&(n="x"===n.slice(-1)?n.slice(0,n.length-1)+"em":parseInt(n)+"px");const o=["size","class"];Object.keys(t).forEach(e=>{~o.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<PlusIcon> was created with unknown prop '${e}'`)});let{$$slots:s={},$$scope:a}=t;return we("PlusIcon",s,[]),e.$set=e=>{"size"in e&&i(0,n=e.size),"class"in e&&i(1,r=e.class)},e.$capture_state=()=>({size:n,customClass:r}),e.$inject_state=e=>{"size"in e&&i(0,n=e.size),"customClass"in e&&i(1,r=e.customClass)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[n,r]}class Ne extends Ce{constructor(e){super(e),de(this,e,Fe,We,d,{size:0,class:1}),fe("SvelteRegisterComponent",{component:this,tagName:"PlusIcon",options:e,id:We.name})}get size(){throw new Error("<PlusIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<PlusIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get class(){throw new Error("<PlusIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set class(e){throw new Error("<PlusIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Ue="node_modules/svelte-feather-icons/src/icons/ShieldIcon.svelte";function qe(e){let t,i,n;const o={c:function(){t=S("svg"),i=S("path"),ge(i,"d","M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"),a(i,Ue,12,231,487),ge(t,"xmlns","http://www.w3.org/2000/svg"),ge(t,"width",e[0]),ge(t,"height",e[0]),ge(t,"fill","none"),ge(t,"viewBox","0 0 24 24"),ge(t,"stroke","currentColor"),ge(t,"stroke-width","2"),ge(t,"stroke-linecap","round"),ge(t,"stroke-linejoin","round"),ge(t,"class",n="feather feather-shield "+e[1]),a(t,Ue,12,0,256)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,n){_e(e,t,n),pe(t,i)},p:function(e,[i]){1&i&&ge(t,"width",e[0]),1&i&&ge(t,"height",e[0]),2&i&&n!==(n="feather feather-shield "+e[1])&&ge(t,"class",n)},i:r,o:r,d:function(e){e&&ve(t)}};return fe("SvelteRegisterBlock",{block:o,id:qe.name,type:"component",source:"",ctx:e}),o}function ze(e,t,i){let{size:n="100%"}=t,{class:r=""}=t;"100%"!==n&&(n="x"===n.slice(-1)?n.slice(0,n.length-1)+"em":parseInt(n)+"px");const o=["size","class"];Object.keys(t).forEach(e=>{~o.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<ShieldIcon> was created with unknown prop '${e}'`)});let{$$slots:s={},$$scope:a}=t;return we("ShieldIcon",s,[]),e.$set=e=>{"size"in e&&i(0,n=e.size),"class"in e&&i(1,r=e.class)},e.$capture_state=()=>({size:n,customClass:r}),e.$inject_state=e=>{"size"in e&&i(0,n=e.size),"customClass"in e&&i(1,r=e.customClass)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[n,r]}class Ye extends Ce{constructor(e){super(e),de(this,e,ze,qe,d,{size:0,class:1}),fe("SvelteRegisterComponent",{component:this,tagName:"ShieldIcon",options:e,id:qe.name})}get size(){throw new Error("<ShieldIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<ShieldIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get class(){throw new Error("<ShieldIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set class(e){throw new Error("<ShieldIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Ve="node_modules/svelte-feather-icons/src/icons/UserIcon.svelte";function Ke(e){let t,i,n,o;const s={c:function(){t=S("svg"),i=S("path"),n=S("circle"),ge(i,"d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"),a(i,Ve,12,229,485),ge(n,"cx","12"),ge(n,"cy","7"),ge(n,"r","4"),a(n,Ve,12,288,544),ge(t,"xmlns","http://www.w3.org/2000/svg"),ge(t,"width",e[0]),ge(t,"height",e[0]),ge(t,"fill","none"),ge(t,"viewBox","0 0 24 24"),ge(t,"stroke","currentColor"),ge(t,"stroke-width","2"),ge(t,"stroke-linecap","round"),ge(t,"stroke-linejoin","round"),ge(t,"class",o="feather feather-user "+e[1]),a(t,Ve,12,0,256)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){_e(e,t,r),pe(t,i),pe(t,n)},p:function(e,[i]){1&i&&ge(t,"width",e[0]),1&i&&ge(t,"height",e[0]),2&i&&o!==(o="feather feather-user "+e[1])&&ge(t,"class",o)},i:r,o:r,d:function(e){e&&ve(t)}};return fe("SvelteRegisterBlock",{block:s,id:Ke.name,type:"component",source:"",ctx:e}),s}function Ge(e,t,i){let{size:n="100%"}=t,{class:r=""}=t;"100%"!==n&&(n="x"===n.slice(-1)?n.slice(0,n.length-1)+"em":parseInt(n)+"px");const o=["size","class"];Object.keys(t).forEach(e=>{~o.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<UserIcon> was created with unknown prop '${e}'`)});let{$$slots:s={},$$scope:a}=t;return we("UserIcon",s,[]),e.$set=e=>{"size"in e&&i(0,n=e.size),"class"in e&&i(1,r=e.class)},e.$capture_state=()=>({size:n,customClass:r}),e.$inject_state=e=>{"size"in e&&i(0,n=e.size),"customClass"in e&&i(1,r=e.customClass)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[n,r]}class Ze extends Ce{constructor(e){super(e),de(this,e,Ge,Ke,d,{size:0,class:1}),fe("SvelteRegisterComponent",{component:this,tagName:"UserIcon",options:e,id:Ke.name})}get size(){throw new Error("<UserIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<UserIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get class(){throw new Error("<UserIcon>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set class(e){throw new Error("<UserIcon>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Xe=[];function Je(e,t=r){let i;const n=[];function o(t){if(d(e,t)&&(e=t,i)){const t=!Xe.length;for(let t=0;t<n.length;t+=1){const i=n[t];i[1](),Xe.push(i,e)}if(t){for(let e=0;e<Xe.length;e+=2)Xe[e][0](Xe[e+1]);Xe.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(s,a=r){const c=[s,a];return n.push(c),1===n.length&&(i=t(o)||r),s(e),()=>{const e=n.indexOf(c);-1!==e&&n.splice(e,1),0===n.length&&(i(),i=null)}}}}function Qe(e,t,i){const n=!Array.isArray(e),o=n?[e]:e,s=t.length<2;return{subscribe:Je(i,e=>{let i=!1;const a=[];let c=0,l=r;const d=()=>{if(c)return;l();const i=t(n?a[0]:a,e);s?e(i):l=h(i)?i:r},f=o.map((e,t)=>p(e,e=>{a[t]=e,c&=~(1<<t),i&&d()},()=>{c|=1<<t}));return i=!0,d(),function(){u(f),l()}}).subscribe}}const et={},tt={};function it(e){return{...e.location,state:e.history.state,key:e.history.state&&e.history.state.key||"initial"}}const nt=function(e,t){const i=[];let n=it(e);return{get location(){return n},listen(t){i.push(t);const r=()=>{n=it(e),t({location:n,action:"POP"})};return e.addEventListener("popstate",r),()=>{e.removeEventListener("popstate",r);const n=i.indexOf(t);i.splice(n,1)}},navigate(t,{state:r,replace:o=!1}={}){r={...r,key:Date.now()+""};try{o?e.history.replaceState(r,null,t):e.history.pushState(r,null,t)}catch(i){e.location[o?"replace":"assign"](t)}n=it(e),i.forEach(e=>e({location:n,action:"PUSH"}))}}}(Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)?window:function(e="/"){let t=0;const i=[{pathname:e,search:""}],n=[];return{get location(){return i[t]},addEventListener(e,t){},removeEventListener(e,t){},history:{get entries(){return i},get index(){return t},get state(){return n[t]},pushState(e,r,o){const[s,a=""]=o.split("?");t++,i.push({pathname:s,search:a}),n.push(e)},replaceState(e,r,o){const[s,a=""]=o.split("?");i[t]={pathname:s,search:a},n[t]=e}}}}()),{navigate:rt}=nt,ot=/^:(.+)/;function st(e,t){return e.substr(0,t.length)===t}function at(e){return"*"===e[0]}function ct(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function lt(e){return e.replace(/(^\/+|\/+$)/g,"")}function ut(e,t){return{route:e,score:e.default?0:ct(e.path).reduce((e,t)=>(e+=4,!function(e){return""===e}(t)?!function(e){return ot.test(e)}(t)?at(t)?e-=5:e+=3:e+=2:e+=1,e),0),index:t}}function ht(e,t){let i,n;const[r]=t.split("?"),o=ct(r),s=""===o[0],a=function(e){return e.map(ut).sort((e,t)=>e.score<t.score?1:e.score>t.score?-1:e.index-t.index)}(e);for(let e=0,r=a.length;e<r;e++){const r=a[e].route;let c=!1;if(r.default){n={route:r,params:{},uri:t};continue}const l=ct(r.path),u={},h=Math.max(o.length,l.length);let d=0;for(;d<h;d++){const e=l[d],t=o[d];if(void 0!==e&&at(e)){u["*"===e?"*":e.slice(1)]=o.slice(d).map(decodeURIComponent).join("/");break}if(void 0===t){c=!0;break}let i=ot.exec(e);if(i&&!s){const e=decodeURIComponent(t);u[i[1]]=e}else if(e!==t){c=!0;break}}if(!c){i={route:r,params:u,uri:"/"+o.slice(0,d).join("/")};break}}return i||n||null}function dt(e,t){return ht([e],t)}function ft(e,t){return e+(t?"?"+t:"")}function pt(e,t){if(st(e,"/"))return e;const[i,n]=e.split("?"),[r]=t.split("?"),o=ct(i),s=ct(r);if(""===o[0])return ft(r,n);if(!st(o[0],".")){return ft(("/"===r?"":"/")+s.concat(o).join("/"),n)}const a=s.concat(o),c=[];return a.forEach(e=>{".."===e?c.pop():"."!==e&&c.push(e)}),ft("/"+c.join("/"),n)}function _t(e,t){return lt("/"===t?e:`${lt(e)}/${lt(t)}`)+"/"}function vt(e){return!e.defaultPrevented&&0===e.button&&!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mt(e){let t;const i=e[16].default,n=v(i,e,e[15],null),r={c:function(){n&&n.c()},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,i){n&&n.m(e,i),t=!0},p:function(e,[t]){n&&n.p&&32768&t&&n.p(m(i,e,e[15],null),g(i,e[15],t,null))},i:function(e){t||(ne(n,e),t=!0)},o:function(e){re(n,e),t=!1},d:function(e){n&&n.d(e)}};return fe("SvelteRegisterBlock",{block:r,id:mt.name,type:"component",source:"",ctx:e}),r}function gt(e,t,i){let n,r,o,{basepath:s="/"}=t,{url:a=null}=t;const c=F(et),l=F(tt),u=Je([]);f(u,"routes"),_(e,u,e=>i(8,o=e));const h=Je(null);let d=!1;const p=c||Je(a?{pathname:a}:nt.location);f(p,"location"),_(e,p,e=>i(7,r=e));const v=l?l.routerBase:Je({path:s,uri:s});f(v,"base"),_(e,v,e=>i(6,n=e));const m=Qe([v,h],([e,t])=>{if(null===t)return e;const{path:i}=e,{route:n,uri:r}=t;return{path:n.default?i:n.path.replace(/\*.*$/,""),uri:r}});function g(e){const{path:t}=n;let{path:i}=e;if(e._path=i,e.path=_t(t,i),"undefined"==typeof window){if(d)return;const t=dt(e,r.pathname);t&&(h.set(t),d=!0)}else u.update(t=>(t.push(e),t))}function y(e){u.update(t=>{const i=t.indexOf(e);return t.splice(i,1),t})}c||(P(()=>nt.listen(e=>{p.set(e.location)})),W(et,p)),W(tt,{activeRoute:h,base:v,routerBase:m,registerRoute:g,unregisterRoute:y});const b=["basepath","url"];Object.keys(t).forEach(e=>{~b.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<Router> was created with unknown prop '${e}'`)});let{$$slots:w={},$$scope:C}=t;return we("Router",w,["default"]),e.$set=e=>{"basepath"in e&&i(3,s=e.basepath),"url"in e&&i(4,a=e.url),"$$scope"in e&&i(15,C=e.$$scope)},e.$capture_state=()=>({getContext:F,setContext:W,onMount:P,writable:Je,derived:Qe,LOCATION:et,ROUTER:tt,globalHistory:nt,pick:ht,match:dt,stripSlashes:lt,combinePaths:_t,basepath:s,url:a,locationContext:c,routerContext:l,routes:u,activeRoute:h,hasActiveRoute:d,location:p,base:v,routerBase:m,registerRoute:g,unregisterRoute:y,$base:n,$location:r,$routes:o}),e.$inject_state=e=>{"basepath"in e&&i(3,s=e.basepath),"url"in e&&i(4,a=e.url),"hasActiveRoute"in e&&(d=e.hasActiveRoute)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{if(64&e.$$.dirty){const{path:e}=n;u.update(t=>(t.forEach(t=>t.path=_t(e,t._path)),t))}if(384&e.$$.dirty){const e=ht(o,r.pathname);h.set(e)}},[u,p,v,s,a,d,n,r,o,c,l,h,m,g,y,C,w]}class yt extends Ce{constructor(e){super(e),de(this,e,gt,mt,d,{basepath:3,url:4}),fe("SvelteRegisterComponent",{component:this,tagName:"Router",options:e,id:mt.name})}get basepath(){throw new Error("<Router>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set basepath(e){throw new Error("<Router>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get url(){throw new Error("<Router>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set url(e){throw new Error("<Router>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const bt=e=>({params:2&e,location:16&e}),wt=e=>({params:e[1],location:e[4]});function Ct(e){let t,i,n,r;const o=[kt,St],s=[];function a(e,t){return null!==e[0]?0:1}t=a(e),i=s[t]=o[t](e);const c={c:function(){i.c(),n=x()},m:function(e,i){s[t].m(e,i),_e(e,n,i),r=!0},p:function(e,r){let c=t;t=a(e),t===c?s[t].p(e,r):(te(),re(s[c],1,1,()=>{s[c]=null}),ie(),i=s[t],i||(i=s[t]=o[t](e),i.c()),ne(i,1),i.m(n.parentNode,n))},i:function(e){r||(ne(i),r=!0)},o:function(e){re(i),r=!1},d:function(e){s[t].d(e),e&&ve(n)}};return fe("SvelteRegisterBlock",{block:c,id:Ct.name,type:"if",source:"(40:0) {#if $activeRoute !== null && $activeRoute.route === route}",ctx:e}),c}function St(e){let t;const i=e[13].default,n=v(i,e,e[12],wt),r={c:function(){n&&n.c()},m:function(e,i){n&&n.m(e,i),t=!0},p:function(e,t){n&&n.p&&4114&t&&n.p(m(i,e,e[12],wt),g(i,e[12],t,bt))},i:function(e){t||(ne(n,e),t=!0)},o:function(e){re(n,e),t=!1},d:function(e){n&&n.d(e)}};return fe("SvelteRegisterBlock",{block:r,id:St.name,type:"else",source:"(43:2) {:else}",ctx:e}),r}function kt(e){let t,i;const n=[{location:e[4]},e[1],e[2]];var r=e[0];function o(e){let t={};for(let e=0;e<n.length;e+=1)t=s(t,n[e]);return{props:t,$$inline:!0}}if(r)var a=new r(o());const c={c:function(){a&&ce(a.$$.fragment),t=x()},m:function(e,n){a&&le(a,e,n),_e(e,t,n),i=!0},p:function(e,i){const s=22&i?se(n,[16&i&&{location:e[4]},2&i&&ae(e[1]),4&i&&ae(e[2])]):{};if(r!==(r=e[0])){if(a){te();const e=a;re(e.$$.fragment,1,0,()=>{ue(e,1)}),ie()}r?(ce((a=new r(o())).$$.fragment),ne(a.$$.fragment,1),le(a,t.parentNode,t)):a=null}else r&&a.$set(s)},i:function(e){i||(a&&ne(a.$$.fragment,e),i=!0)},o:function(e){a&&re(a.$$.fragment,e),i=!1},d:function(e){e&&ve(t),a&&ue(a,e)}};return fe("SvelteRegisterBlock",{block:c,id:kt.name,type:"if",source:"(41:2) {#if component !== null}",ctx:e}),c}function Et(e){let t,i,n=null!==e[3]&&e[3].route===e[7]&&Ct(e);const r={c:function(){n&&n.c(),t=x()},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){n&&n.m(e,r),_e(e,t,r),i=!0},p:function(e,[i]){null!==e[3]&&e[3].route===e[7]?n?(n.p(e,i),8&i&&ne(n,1)):(n=Ct(e),n.c(),ne(n,1),n.m(t.parentNode,t)):n&&(te(),re(n,1,1,()=>{n=null}),ie())},i:function(e){i||(ne(n),i=!0)},o:function(e){re(n),i=!1},d:function(e){n&&n.d(e),e&&ve(t)}};return fe("SvelteRegisterBlock",{block:r,id:Et.name,type:"component",source:"",ctx:e}),r}function xt(e,t,i){let n,r,{path:o=""}=t,{component:a=null}=t;const{registerRoute:c,unregisterRoute:l,activeRoute:u}=F(tt);f(u,"activeRoute"),_(e,u,e=>i(3,n=e));const h=F(et);f(h,"location"),_(e,h,e=>i(4,r=e));const d={path:o,default:""===o};let p={},v={};c(d),"undefined"!=typeof window&&H(()=>{l(d)});let{$$slots:m={},$$scope:g}=t;return we("Route",m,["default"]),e.$set=e=>{i(11,t=s(s({},t),y(e))),"path"in e&&i(8,o=e.path),"component"in e&&i(0,a=e.component),"$$scope"in e&&i(12,g=e.$$scope)},e.$capture_state=()=>({getContext:F,onDestroy:H,ROUTER:tt,LOCATION:et,path:o,component:a,registerRoute:c,unregisterRoute:l,activeRoute:u,location:h,route:d,routeParams:p,routeProps:v,$activeRoute:n,$location:r}),e.$inject_state=e=>{i(11,t=s(s({},t),e)),"path"in t&&i(8,o=e.path),"component"in t&&i(0,a=e.component),"routeParams"in t&&i(1,p=e.routeParams),"routeProps"in t&&i(2,v=e.routeProps)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{8&e.$$.dirty&&n&&n.route===d&&i(1,p=n.params);{const{path:e,component:n,...r}=t;i(2,v=r)}},t=y(t),[a,p,v,n,r,u,h,d,o,c,l,t,g,m]}class Lt extends Ce{constructor(e){super(e),de(this,e,xt,Et,d,{path:8,component:0}),fe("SvelteRegisterComponent",{component:this,tagName:"Route",options:e,id:Et.name})}get path(){throw new Error("<Route>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set path(e){throw new Error("<Route>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get component(){throw new Error("<Route>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set component(e){throw new Error("<Route>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function Mt(e){let t,i,n;const r=e[16].default,o=v(r,e,e[15],null);let c=[{href:e[0]},{"aria-current":e[2]},e[1]],l={};for(let e=0;e<c.length;e+=1)l=s(l,c[e]);const u={c:function(){t=C("a"),o&&o.c(),T(t,l),a(t,"node_modules/svelte-routing/src/Link.svelte",40,0,1249)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(r,s,a){_e(r,t,s),o&&o.m(t,null),i=!0,a&&n(),n=me(t,"click",e[5],!1,!1,!1)},p:function(e,[i]){o&&o.p&&32768&i&&o.p(m(r,e,e[15],null),g(r,e[15],i,null)),T(t,se(c,[1&i&&{href:e[0]},4&i&&{"aria-current":e[2]},2&i&&e[1]]))},i:function(e){i||(ne(o,e),i=!0)},o:function(e){re(o,e),i=!1},d:function(e){e&&ve(t),o&&o.d(e),n()}};return fe("SvelteRegisterBlock",{block:u,id:Mt.name,type:"component",source:"",ctx:e}),u}function Tt(e,t,i){let n,r,{to:o="#"}=t,{replace:s=!1}=t,{state:a={}}=t,{getProps:c=(()=>({}))}=t;const{base:l}=F(tt);f(l,"base"),_(e,l,e=>i(12,n=e));const u=F(et);f(u,"location"),_(e,u,e=>i(13,r=e));const h=j();let d,p,v,m;function g(e){if(h("click",e),vt(e)){e.preventDefault();const t=r.pathname===d||s;rt(d,{state:a,replace:t})}}const y=["to","replace","state","getProps"];Object.keys(t).forEach(e=>{~y.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<Link> was created with unknown prop '${e}'`)});let b,{$$slots:w={},$$scope:C}=t;return we("Link",w,["default"]),e.$set=e=>{"to"in e&&i(6,o=e.to),"replace"in e&&i(7,s=e.replace),"state"in e&&i(8,a=e.state),"getProps"in e&&i(9,c=e.getProps),"$$scope"in e&&i(15,C=e.$$scope)},e.$capture_state=()=>({getContext:F,createEventDispatcher:j,ROUTER:tt,LOCATION:et,navigate:rt,startsWith:st,resolve:pt,shouldNavigate:vt,to:o,replace:s,state:a,getProps:c,base:l,location:u,dispatch:h,href:d,isPartiallyCurrent:p,isCurrent:v,props:m,onClick:g,$base:n,$location:r,ariaCurrent:b}),e.$inject_state=e=>{"to"in e&&i(6,o=e.to),"replace"in e&&i(7,s=e.replace),"state"in e&&i(8,a=e.state),"getProps"in e&&i(9,c=e.getProps),"href"in e&&i(0,d=e.href),"isPartiallyCurrent"in e&&i(10,p=e.isPartiallyCurrent),"isCurrent"in e&&i(11,v=e.isCurrent),"props"in e&&i(1,m=e.props),"ariaCurrent"in e&&i(2,b=e.ariaCurrent)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{4160&e.$$.dirty&&i(0,d="/"===o?n.uri:pt(o,n.uri)),8193&e.$$.dirty&&i(10,p=st(r.pathname,d)),8193&e.$$.dirty&&i(11,v=d===r.pathname),2048&e.$$.dirty&&i(2,b=v?"page":void 0),11777&e.$$.dirty&&i(1,m=c({location:r,href:d,isPartiallyCurrent:p,isCurrent:v}))},[d,m,b,l,u,g,o,s,a,c,p,v,n,r,h,C,w]}class Ot extends Ce{constructor(e){super(e),de(this,e,Tt,Mt,d,{to:6,replace:7,state:8,getProps:9}),fe("SvelteRegisterComponent",{component:this,tagName:"Link",options:e,id:Mt.name})}get to(){throw new Error("<Link>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set to(e){throw new Error("<Link>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get replace(){throw new Error("<Link>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set replace(e){throw new Error("<Link>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get state(){throw new Error("<Link>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set state(e){throw new Error("<Link>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get getProps(){throw new Error("<Link>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set getProps(e){throw new Error("<Link>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function Rt(e){let t;const i=e[1].default,n=v(i,e,e[2],null),r={c:function(){n&&n.c()},m:function(e,i){n&&n.m(e,i),t=!0},p:function(e,t){n&&n.p&&4&t&&n.p(m(i,e,e[2],null),g(i,e[2],t,null))},i:function(e){t||(ne(n,e),t=!0)},o:function(e){re(n,e),t=!1},d:function(e){n&&n.d(e)}};return fe("SvelteRegisterBlock",{block:r,id:Rt.name,type:"slot",source:'(17:0) <Link to=\\"{to}\\" getProps=\\"{getProps}\\">',ctx:e}),r}function At(e){let t;const i=new Ot({props:{to:e[0],getProps:Dt,$$slots:{default:[Rt]},$$scope:{ctx:e}},$$inline:!0}),n={c:function(){ce(i.$$.fragment)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,n){le(i,e,n),t=!0},p:function(e,[t]){const n={};1&t&&(n.to=e[0]),4&t&&(n.$$scope={dirty:t,ctx:e}),i.$set(n)},i:function(e){t||(ne(i.$$.fragment,e),t=!0)},o:function(e){re(i.$$.fragment,e),t=!1},d:function(e){ue(i,e)}};return fe("SvelteRegisterBlock",{block:n,id:At.name,type:"component",source:"",ctx:e}),n}function Dt({location:e,href:t,isPartiallyCurrent:i,isCurrent:n}){return("/"===t?n:i||n)?{class:"active"}:{}}function It(e,t,i){let{to:n=""}=t;const r=["to"];Object.keys(t).forEach(e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<NavLink> was created with unknown prop '${e}'`)});let{$$slots:o={},$$scope:s}=t;return we("NavLink",o,["default"]),e.$set=e=>{"to"in e&&i(0,n=e.to),"$$scope"in e&&i(2,s=e.$$scope)},e.$capture_state=()=>({Link:Ot,to:n,getProps:Dt}),e.$inject_state=e=>{"to"in e&&i(0,n=e.to)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[n,o,s]}class Pt extends Ce{constructor(e){super(e),de(this,e,It,At,d,{to:0}),fe("SvelteRegisterComponent",{component:this,tagName:"NavLink",options:e,id:At.name})}get to(){throw new Error("<NavLink>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set to(e){throw new Error("<NavLink>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Bt=function(){const{subscribe:e,set:t,update:i}=Je({name:"marcus",loggedIn:!1});return{subscribe:e,logIn:()=>i(e=>(e.loggedIn=!0,e)),logOut:()=>i(e=>(e.loggedIn=!1,e))}}(),$t=function(){const{subscribe:e,set:t,update:i}=Je({active:!1,entries:[{name:"Item1"}]});return{subscribe:e,show:()=>i(e=>(e.active=!0,e)),hide:()=>i(e=>(e.active=!1,e)),setItems:e=>{i(t=>(t.entries=e,t))}}}();function Ht(e,{delay:t=0,duration:i=400,easing:n=o}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:i,easing:n,css:e=>"opacity: "+e*r}}
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */var jt=function(e,t){return(jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function Wt(e,t){function i(){this.constructor=e}jt(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var Ft=function(){return(Ft=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function Nt(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}function Ut(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new i((function(t){t(e.value)})).then(s,a)}c((n=n.apply(e,t||[])).next())}))}function qt(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var zt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Yt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Vt(e,t){return e(t={exports:{}},t.exports),t.exports}var Kt=function(e){return e&&e.Math==Math&&e},Gt=Kt("object"==typeof globalThis&&globalThis)||Kt("object"==typeof window&&window)||Kt("object"==typeof self&&self)||Kt("object"==typeof zt&&zt)||Function("return this")(),Zt=function(e){try{return!!e()}catch(e){return!0}},Xt=!Zt((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Jt={}.propertyIsEnumerable,Qt=Object.getOwnPropertyDescriptor,ei={f:Qt&&!Jt.call({1:2},1)?function(e){var t=Qt(this,e);return!!t&&t.enumerable}:Jt},ti=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},ii={}.toString,ni=function(e){return ii.call(e).slice(8,-1)},ri="".split,oi=Zt((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==ni(e)?ri.call(e,""):Object(e)}:Object,si=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},ai=function(e){return oi(si(e))},ci=function(e){return"object"==typeof e?null!==e:"function"==typeof e},li=function(e,t){if(!ci(e))return e;var i,n;if(t&&"function"==typeof(i=e.toString)&&!ci(n=i.call(e)))return n;if("function"==typeof(i=e.valueOf)&&!ci(n=i.call(e)))return n;if(!t&&"function"==typeof(i=e.toString)&&!ci(n=i.call(e)))return n;throw TypeError("Can't convert object to primitive value")},ui={}.hasOwnProperty,hi=function(e,t){return ui.call(e,t)},di=Gt.document,fi=ci(di)&&ci(di.createElement),pi=function(e){return fi?di.createElement(e):{}},_i=!Xt&&!Zt((function(){return 7!=Object.defineProperty(pi("div"),"a",{get:function(){return 7}}).a})),vi=Object.getOwnPropertyDescriptor,mi={f:Xt?vi:function(e,t){if(e=ai(e),t=li(t,!0),_i)try{return vi(e,t)}catch(e){}if(hi(e,t))return ti(!ei.f.call(e,t),e[t])}},gi=function(e){if(!ci(e))throw TypeError(String(e)+" is not an object");return e},yi=Object.defineProperty,bi={f:Xt?yi:function(e,t,i){if(gi(e),t=li(t,!0),gi(i),_i)try{return yi(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},wi=Xt?function(e,t,i){return bi.f(e,t,ti(1,i))}:function(e,t,i){return e[t]=i,e},Ci=function(e,t){try{wi(Gt,e,t)}catch(i){Gt[e]=t}return t},Si=Gt["__core-js_shared__"]||Ci("__core-js_shared__",{}),ki=Function.toString;"function"!=typeof Si.inspectSource&&(Si.inspectSource=function(e){return ki.call(e)});var Ei,xi,Li,Mi=Si.inspectSource,Ti=Gt.WeakMap,Oi="function"==typeof Ti&&/native code/.test(Mi(Ti)),Ri=Vt((function(e){(e.exports=function(e,t){return Si[e]||(Si[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),Ai=0,Di=Math.random(),Ii=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++Ai+Di).toString(36)},Pi=Ri("keys"),Bi=function(e){return Pi[e]||(Pi[e]=Ii(e))},$i={},Hi=Gt.WeakMap;if(Oi){var ji=new Hi,Wi=ji.get,Fi=ji.has,Ni=ji.set;Ei=function(e,t){return Ni.call(ji,e,t),t},xi=function(e){return Wi.call(ji,e)||{}},Li=function(e){return Fi.call(ji,e)}}else{var Ui=Bi("state");$i[Ui]=!0,Ei=function(e,t){return wi(e,Ui,t),t},xi=function(e){return hi(e,Ui)?e[Ui]:{}},Li=function(e){return hi(e,Ui)}}var qi,zi={set:Ei,get:xi,has:Li,enforce:function(e){return Li(e)?xi(e):Ei(e,{})},getterFor:function(e){return function(t){var i;if(!ci(t)||(i=xi(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return i}}},Yi=Vt((function(e){var t=zi.get,i=zi.enforce,n=String(String).split("String");(e.exports=function(e,t,r,o){var s=!!o&&!!o.unsafe,a=!!o&&!!o.enumerable,c=!!o&&!!o.noTargetGet;"function"==typeof r&&("string"!=typeof t||hi(r,"name")||wi(r,"name",t),i(r).source=n.join("string"==typeof t?t:"")),e!==Gt?(s?!c&&e[t]&&(a=!0):delete e[t],a?e[t]=r:wi(e,t,r)):a?e[t]=r:Ci(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||Mi(this)}))})),Vi=Gt,Ki=function(e){return"function"==typeof e?e:void 0},Gi=function(e,t){return arguments.length<2?Ki(Vi[e])||Ki(Gt[e]):Vi[e]&&Vi[e][t]||Gt[e]&&Gt[e][t]},Zi=Math.ceil,Xi=Math.floor,Ji=function(e){return isNaN(e=+e)?0:(e>0?Xi:Zi)(e)},Qi=Math.min,en=function(e){return e>0?Qi(Ji(e),9007199254740991):0},tn=Math.max,nn=Math.min,rn=function(e){return function(t,i,n){var r,o=ai(t),s=en(o.length),a=function(e,t){var i=Ji(e);return i<0?tn(i+t,0):nn(i,t)}(n,s);if(e&&i!=i){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((e||a in o)&&o[a]===i)return e||a||0;return!e&&-1}},on={includes:rn(!0),indexOf:rn(!1)},sn=on.indexOf,an=function(e,t){var i,n=ai(e),r=0,o=[];for(i in n)!hi($i,i)&&hi(n,i)&&o.push(i);for(;t.length>r;)hi(n,i=t[r++])&&(~sn(o,i)||o.push(i));return o},cn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ln=cn.concat("length","prototype"),un={f:Object.getOwnPropertyNames||function(e){return an(e,ln)}},hn={f:Object.getOwnPropertySymbols},dn=Gi("Reflect","ownKeys")||function(e){var t=un.f(gi(e)),i=hn.f;return i?t.concat(i(e)):t},fn=function(e,t){for(var i=dn(t),n=bi.f,r=mi.f,o=0;o<i.length;o++){var s=i[o];hi(e,s)||n(e,s,r(t,s))}},pn=/#|\.prototype\./,_n=function(e,t){var i=mn[vn(e)];return i==yn||i!=gn&&("function"==typeof t?Zt(t):!!t)},vn=_n.normalize=function(e){return String(e).replace(pn,".").toLowerCase()},mn=_n.data={},gn=_n.NATIVE="N",yn=_n.POLYFILL="P",bn=_n,wn=mi.f,Cn=function(e,t){var i,n,r,o,s,a=e.target,c=e.global,l=e.stat;if(i=c?Gt:l?Gt[a]||Ci(a,{}):(Gt[a]||{}).prototype)for(n in t){if(o=t[n],r=e.noTargetGet?(s=wn(i,n))&&s.value:i[n],!bn(c?n:a+(l?".":"#")+n,e.forced)&&void 0!==r){if(typeof o==typeof r)continue;fn(o,r)}(e.sham||r&&r.sham)&&wi(o,"sham",!0),Yi(i,n,o,e)}},Sn=!!Object.getOwnPropertySymbols&&!Zt((function(){return!String(Symbol())})),kn=Sn&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,En=Ri("wks"),xn=Gt.Symbol,Ln=kn?xn:xn&&xn.withoutSetter||Ii,Mn=function(e){return hi(En,e)||(Sn&&hi(xn,e)?En[e]=xn[e]:En[e]=Ln("Symbol."+e)),En[e]},Tn=Mn("match"),On=function(e){if(function(e){var t;return ci(e)&&(void 0!==(t=e[Tn])?!!t:"RegExp"==ni(e))}(e))throw TypeError("The method doesn't accept regular expressions");return e},Rn=Mn("match"),An=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[Rn]=!1,"/./"[e](t)}catch(e){}}return!1},Dn=mi.f,In="".startsWith,Pn=Math.min,Bn=An("startsWith"),$n=!(Bn||(qi=Dn(String.prototype,"startsWith"),!qi||qi.writable));Cn({target:"String",proto:!0,forced:!$n&&!Bn},{startsWith:function(e){var t=String(si(this));On(e);var i=en(Pn(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return In?In.call(t,n,i):t.slice(i,i+n.length)===n}});var Hn,jn,Wn,Fn=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Nn=function(e,t,i){if(Fn(e),void 0===t)return e;switch(i){case 0:return function(){return e.call(t)};case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)}}return function(){return e.apply(t,arguments)}},Un=Function.call,qn=function(e,t,i){return Nn(Un,Gt[e].prototype[t],i)},zn=(qn("String","startsWith"),function(e){return function(t,i){var n,r,o=String(si(t)),s=Ji(i),a=o.length;return s<0||s>=a?e?"":void 0:(n=o.charCodeAt(s))<55296||n>56319||s+1===a||(r=o.charCodeAt(s+1))<56320||r>57343?e?o.charAt(s):n:e?o.slice(s,s+2):r-56320+(n-55296<<10)+65536}}),Yn={codeAt:zn(!1),charAt:zn(!0)},Vn=function(e){return Object(si(e))},Kn=!Zt((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Gn=Bi("IE_PROTO"),Zn=Object.prototype,Xn=Kn?Object.getPrototypeOf:function(e){return e=Vn(e),hi(e,Gn)?e[Gn]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Zn:null},Jn=Mn("iterator"),Qn=!1;[].keys&&("next"in(Wn=[].keys())?(jn=Xn(Xn(Wn)))!==Object.prototype&&(Hn=jn):Qn=!0),null==Hn&&(Hn={}),hi(Hn,Jn)||wi(Hn,Jn,(function(){return this}));var er,tr={IteratorPrototype:Hn,BUGGY_SAFARI_ITERATORS:Qn},ir=Object.keys||function(e){return an(e,cn)},nr=Xt?Object.defineProperties:function(e,t){gi(e);for(var i,n=ir(t),r=n.length,o=0;r>o;)bi.f(e,i=n[o++],t[i]);return e},rr=Gi("document","documentElement"),or=Bi("IE_PROTO"),sr=function(){},ar=function(e){return"<script>"+e+"<\/script>"},cr=function(){try{er=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;cr=er?function(e){e.write(ar("")),e.close();var t=e.parentWindow.Object;return e=null,t}(er):((t=pi("iframe")).style.display="none",rr.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(ar("document.F=Object")),e.close(),e.F);for(var i=cn.length;i--;)delete cr.prototype[cn[i]];return cr()};$i[or]=!0;var lr=Object.create||function(e,t){var i;return null!==e?(sr.prototype=gi(e),i=new sr,sr.prototype=null,i[or]=e):i=cr(),void 0===t?i:nr(i,t)},ur=bi.f,hr=Mn("toStringTag"),dr=function(e,t,i){e&&!hi(e=i?e:e.prototype,hr)&&ur(e,hr,{configurable:!0,value:t})},fr={},pr=tr.IteratorPrototype,_r=function(){return this},vr=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,i={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]),t=i instanceof Array}catch(e){}return function(i,n){return gi(i),function(e){if(!ci(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(n),t?e.call(i,n):i.__proto__=n,i}}():void 0),mr=tr.IteratorPrototype,gr=tr.BUGGY_SAFARI_ITERATORS,yr=Mn("iterator"),br=function(){return this},wr=function(e,t,i,n,r,o,s){!function(e,t,i){var n=t+" Iterator";e.prototype=lr(pr,{next:ti(1,i)}),dr(e,n,!1),fr[n]=_r}(i,t,n);var a,c,l,u=function(e){if(e===r&&_)return _;if(!gr&&e in f)return f[e];switch(e){case"keys":case"values":case"entries":return function(){return new i(this,e)}}return function(){return new i(this)}},h=t+" Iterator",d=!1,f=e.prototype,p=f[yr]||f["@@iterator"]||r&&f[r],_=!gr&&p||u(r),v="Array"==t&&f.entries||p;if(v&&(a=Xn(v.call(new e)),mr!==Object.prototype&&a.next&&(Xn(a)!==mr&&(vr?vr(a,mr):"function"!=typeof a[yr]&&wi(a,yr,br)),dr(a,h,!0))),"values"==r&&p&&"values"!==p.name&&(d=!0,_=function(){return p.call(this)}),f[yr]!==_&&wi(f,yr,_),fr[t]=_,r)if(c={values:u("values"),keys:o?_:u("keys"),entries:u("entries")},s)for(l in c)(gr||d||!(l in f))&&Yi(f,l,c[l]);else Cn({target:t,proto:!0,forced:gr||d},c);return c},Cr=Yn.charAt,Sr=zi.set,kr=zi.getterFor("String Iterator");wr(String,"String",(function(e){Sr(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=kr(this),i=t.string,n=t.index;return n>=i.length?{value:void 0,done:!0}:(e=Cr(i,n),t.index+=e.length,{value:e,done:!1})}));var Er=function(e,t,i,n){try{return n?t(gi(i)[0],i[1]):t(i)}catch(t){var r=e.return;throw void 0!==r&&gi(r.call(e)),t}},xr=Mn("iterator"),Lr=Array.prototype,Mr=function(e){return void 0!==e&&(fr.Array===e||Lr[xr]===e)},Tr=function(e,t,i){var n=li(t);n in e?bi.f(e,n,ti(0,i)):e[n]=i},Or={};Or[Mn("toStringTag")]="z";var Rr="[object z]"===String(Or),Ar=Mn("toStringTag"),Dr="Arguments"==ni(function(){return arguments}()),Ir=Rr?ni:function(e){var t,i,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Ar))?i:Dr?ni(t):"Object"==(n=ni(t))&&"function"==typeof t.callee?"Arguments":n},Pr=Mn("iterator"),Br=function(e){if(null!=e)return e[Pr]||e["@@iterator"]||fr[Ir(e)]},$r=Mn("iterator"),Hr=!1;try{var jr=0,Wr={next:function(){return{done:!!jr++}},return:function(){Hr=!0}};Wr[$r]=function(){return this},Array.from(Wr,(function(){throw 2}))}catch(jt){}var Fr=function(e,t){if(!t&&!Hr)return!1;var i=!1;try{var n={};n[$r]=function(){return{next:function(){return{done:i=!0}}}},e(n)}catch(e){}return i},Nr=!Fr((function(e){Array.from(e)}));Cn({target:"Array",stat:!0,forced:Nr},{from:function(e){var t,i,n,r,o,s,a=Vn(e),c="function"==typeof this?this:Array,l=arguments.length,u=l>1?arguments[1]:void 0,h=void 0!==u,d=Br(a),f=0;if(h&&(u=Nn(u,l>2?arguments[2]:void 0,2)),null==d||c==Array&&Mr(d))for(i=new c(t=en(a.length));t>f;f++)s=h?u(a[f],f):a[f],Tr(i,f,s);else for(o=(r=d.call(a)).next,i=new c;!(n=o.call(r)).done;f++)s=h?Er(r,u,[n.value,f],!0):n.value,Tr(i,f,s);return i.length=f,i}}),Vi.Array.from;var Ur,qr="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,zr=bi.f,Yr=Gt.Int8Array,Vr=Yr&&Yr.prototype,Kr=Gt.Uint8ClampedArray,Gr=Kr&&Kr.prototype,Zr=Yr&&Xn(Yr),Xr=Vr&&Xn(Vr),Jr=Object.prototype,Qr=Jr.isPrototypeOf,eo=Mn("toStringTag"),to=Ii("TYPED_ARRAY_TAG"),io=qr&&!!vr&&"Opera"!==Ir(Gt.opera),no={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(Ur in no)Gt[Ur]||(io=!1);if((!io||"function"!=typeof Zr||Zr===Function.prototype)&&(Zr=function(){throw TypeError("Incorrect invocation")},io))for(Ur in no)Gt[Ur]&&vr(Gt[Ur],Zr);if((!io||!Xr||Xr===Jr)&&(Xr=Zr.prototype,io))for(Ur in no)Gt[Ur]&&vr(Gt[Ur].prototype,Xr);if(io&&Xn(Gr)!==Xr&&vr(Gr,Xr),Xt&&!hi(Xr,eo))for(Ur in zr(Xr,eo,{get:function(){return ci(this)?this[to]:void 0}}),no)Gt[Ur]&&wi(Gt[Ur],to,Ur);var ro=Mn("species"),oo=function(e){if(function(e){return ci(e)&&hi(no,Ir(e))}(e))return e;throw TypeError("Target is not a typed array")},so=function(e){if(vr){if(Qr.call(Zr,e))return e}else for(var t in no)if(hi(no,Ur)){var i=Gt[t];if(i&&(e===i||Qr.call(i,e)))return e}throw TypeError("Target is not a typed array constructor")},ao=[].slice;!function(e,t,i){if(Xt){if(i)for(var n in no){var r=Gt[n];r&&hi(r.prototype,e)&&delete r.prototype[e]}Xr[e]&&!i||Yi(Xr,e,i?t:io&&Vr[e]||t)}}("slice",(function(e,t){for(var i=ao.call(oo(this),e,t),n=function(e,t){var i,n=gi(e).constructor;return void 0===n||null==(i=gi(n)[ro])?t:Fn(i)}(this,this.constructor),r=0,o=i.length,s=new(so(n))(o);o>r;)s[r]=i[r++];return s}),Zt((function(){new Int8Array(1).slice()})));var co=Mn("unscopables"),lo=Array.prototype;null==lo[co]&&bi.f(lo,co,{configurable:!0,value:lr(null)});var uo=function(e){lo[co][e]=!0},ho=Object.defineProperty,fo={},po=function(e){throw e},_o=on.includes,vo=function(e,t){if(hi(fo,e))return fo[e];t||(t={});var i=[][e],n=!!hi(t,"ACCESSORS")&&t.ACCESSORS,r=hi(t,0)?t[0]:po,o=hi(t,1)?t[1]:void 0;return fo[e]=!!i&&!Zt((function(){if(n&&!Xt)return!0;var e={length:-1};n?ho(e,1,{enumerable:!0,get:po}):e[1]=1,i.call(e,r,o)}))}("indexOf",{ACCESSORS:!0,1:0});Cn({target:"Array",proto:!0,forced:!vo},{includes:function(e){return _o(this,e,arguments.length>1?arguments[1]:void 0)}}),uo("includes"),qn("Array","includes"),Cn({target:"String",proto:!0,forced:!An("includes")},{includes:function(e){return!!~String(si(this)).indexOf(On(e),arguments.length>1?arguments[1]:void 0)}}),qn("String","includes");var mo=!Zt((function(){return Object.isExtensible(Object.preventExtensions({}))})),go=Vt((function(e){var t=bi.f,i=Ii("meta"),n=0,r=Object.isExtensible||function(){return!0},o=function(e){t(e,i,{value:{objectID:"O"+ ++n,weakData:{}}})},s=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!ci(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!hi(e,i)){if(!r(e))return"F";if(!t)return"E";o(e)}return e[i].objectID},getWeakData:function(e,t){if(!hi(e,i)){if(!r(e))return!0;if(!t)return!1;o(e)}return e[i].weakData},onFreeze:function(e){return mo&&s.REQUIRED&&r(e)&&!hi(e,i)&&o(e),e}};$i[i]=!0})),yo=(go.REQUIRED,go.fastKey,go.getWeakData,go.onFreeze,Vt((function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,i,n,r,o){var s,a,c,l,u,h,d,f=Nn(i,n,r?2:1);if(o)s=e;else{if("function"!=typeof(a=Br(e)))throw TypeError("Target is not iterable");if(Mr(a)){for(c=0,l=en(e.length);l>c;c++)if((u=r?f(gi(d=e[c])[0],d[1]):f(e[c]))&&u instanceof t)return u;return new t(!1)}s=a.call(e)}for(h=s.next;!(d=h.call(s)).done;)if("object"==typeof(u=Er(s,f,d.value,r))&&u&&u instanceof t)return u;return new t(!1)}).stop=function(e){return new t(!0,e)}}))),bo=function(e,t,i){if(!(e instanceof t))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation");return e},wo=function(e,t,i){for(var n in t)Yi(e,n,t[n],i);return e},Co=Mn("species"),So=bi.f,ko=go.fastKey,Eo=zi.set,xo=zi.getterFor,Lo=(function(e,t,i){var n=-1!==e.indexOf("Map"),r=-1!==e.indexOf("Weak"),o=n?"set":"add",s=Gt.Set,a=s&&s.prototype,c=s,l={},u=function(e){var t=a[e];Yi(a,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(r&&!ci(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return r&&!ci(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(r&&!ci(e))&&t.call(this,0===e?0:e)}:function(e,i){return t.call(this,0===e?0:e,i),this})};if(bn(e,"function"!=typeof s||!(r||a.forEach&&!Zt((function(){(new s).entries().next()})))))c=i.getConstructor(t,e,n,o),go.REQUIRED=!0;else if(bn(e,!0)){var h=new c,d=h[o](r?{}:-0,1)!=h,f=Zt((function(){h.has(1)})),p=Fr((function(e){new s(e)})),_=!r&&Zt((function(){for(var e=new s,t=5;t--;)e[o](t,t);return!e.has(-0)}));p||((c=t((function(t,i){bo(t,c,e);var r=function(e,t,i){var n,r;return vr&&"function"==typeof(n=t.constructor)&&n!==i&&ci(r=n.prototype)&&r!==i.prototype&&vr(e,r),e}(new s,t,c);return null!=i&&yo(i,r[o],r,n),r}))).prototype=a,a.constructor=c),(f||_)&&(u("delete"),u("has"),n&&u("get")),(_||d)&&u(o),r&&a.clear&&delete a.clear}l.Set=c,Cn({global:!0,forced:c!=s},l),dr(c,e),r||i.setStrong(c,e,n)}("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(e,t,i,n){var r=e((function(e,o){bo(e,r,t),Eo(e,{type:t,index:lr(null),first:void 0,last:void 0,size:0}),Xt||(e.size=0),null!=o&&yo(o,e[n],e,i)})),o=xo(t),s=function(e,t,i){var n,r,s=o(e),c=a(e,t);return c?c.value=i:(s.last=c={index:r=ko(t,!0),key:t,value:i,previous:n=s.last,next:void 0,removed:!1},s.first||(s.first=c),n&&(n.next=c),Xt?s.size++:e.size++,"F"!==r&&(s.index[r]=c)),e},a=function(e,t){var i,n=o(e),r=ko(t);if("F"!==r)return n.index[r];for(i=n.first;i;i=i.next)if(i.key==t)return i};return wo(r.prototype,{clear:function(){for(var e=o(this),t=e.index,i=e.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete t[i.index],i=i.next;e.first=e.last=void 0,Xt?e.size=0:this.size=0},delete:function(e){var t=o(this),i=a(this,e);if(i){var n=i.next,r=i.previous;delete t.index[i.index],i.removed=!0,r&&(r.next=n),n&&(n.previous=r),t.first==i&&(t.first=n),t.last==i&&(t.last=r),Xt?t.size--:this.size--}return!!i},forEach:function(e){for(var t,i=o(this),n=Nn(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:i.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!a(this,e)}}),wo(r.prototype,i?{get:function(e){var t=a(this,e);return t&&t.value},set:function(e,t){return s(this,0===e?0:e,t)}}:{add:function(e){return s(this,e=0===e?0:e,e)}}),Xt&&So(r.prototype,"size",{get:function(){return o(this).size}}),r},setStrong:function(e,t,i){var n=t+" Iterator",r=xo(t),o=xo(n);wr(e,t,(function(e,t){Eo(this,{type:n,target:e,state:r(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,i=e.last;i&&i.removed;)i=i.previous;return e.target&&(e.last=i=i?i.next:e.state.first)?"keys"==t?{value:i.key,done:!1}:"values"==t?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),function(e){var t=Gi(e),i=bi.f;Xt&&t&&!t[Co]&&i(t,Co,{configurable:!0,get:function(){return this}})}(t)}}),Rr?{}.toString:function(){return"[object "+Ir(this)+"]"});Rr||Yi(Object.prototype,"toString",Lo,{unsafe:!0});var Mo={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},To=zi.set,Oo=zi.getterFor("Array Iterator"),Ro=wr(Array,"Array",(function(e,t){To(this,{type:"Array Iterator",target:ai(e),index:0,kind:t})}),(function(){var e=Oo(this),t=e.target,i=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values");fr.Arguments=fr.Array,uo("keys"),uo("values"),uo("entries");var Ao=Mn("iterator"),Do=Mn("toStringTag"),Io=Ro.values;for(var Po in Mo){var Bo=Gt[Po],$o=Bo&&Bo.prototype;if($o){if($o[Ao]!==Io)try{wi($o,Ao,Io)}catch(jt){$o[Ao]=Io}if($o[Do]||wi($o,Do,Po),Mo[Po])for(var Ho in Ro)if($o[Ho]!==Ro[Ho])try{wi($o,Ho,Ro[Ho])}catch(jt){$o[Ho]=Ro[Ho]}}}function jo(e){var t=this.constructor;return this.then((function(i){return t.resolve(e()).then((function(){return i}))}),(function(i){return t.resolve(e()).then((function(){return t.reject(i)}))}))}Vi.Set;var Wo=setTimeout;function Fo(e){return Boolean(e&&void 0!==e.length)}function No(){}function Uo(e){if(!(this instanceof Uo))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Go(e,this)}function qo(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,Uo._immediateFn((function(){var i=1===e._state?t.onFulfilled:t.onRejected;if(null!==i){var n;try{n=i(e._value)}catch(e){return void Yo(t.promise,e)}zo(t.promise,n)}else(1===e._state?zo:Yo)(t.promise,e._value)}))):e._deferreds.push(t)}function zo(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if(t instanceof Uo)return e._state=3,e._value=t,void Vo(e);if("function"==typeof i)return void Go((n=i,r=t,function(){n.apply(r,arguments)}),e)}e._state=1,e._value=t,Vo(e)}catch(t){Yo(e,t)}var n,r}function Yo(e,t){e._state=2,e._value=t,Vo(e)}function Vo(e){2===e._state&&0===e._deferreds.length&&Uo._immediateFn((function(){e._handled||Uo._unhandledRejectionFn(e._value)}));for(var t=0,i=e._deferreds.length;t<i;t++)qo(e,e._deferreds[t]);e._deferreds=null}function Ko(e,t,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=i}function Go(e,t){var i=!1;try{e((function(e){i||(i=!0,zo(t,e))}),(function(e){i||(i=!0,Yo(t,e))}))}catch(e){if(i)return;i=!0,Yo(t,e)}}Uo.prototype.catch=function(e){return this.then(null,e)},Uo.prototype.then=function(e,t){var i=new this.constructor(No);return qo(this,new Ko(e,t,i)),i},Uo.prototype.finally=jo,Uo.all=function(e){return new Uo((function(t,i){if(!Fo(e))return i(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var r=n.length;function o(e,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(t){o(e,t)}),i)}n[e]=s,0==--r&&t(n)}catch(e){i(e)}}for(var s=0;s<n.length;s++)o(s,n[s])}))},Uo.resolve=function(e){return e&&"object"==typeof e&&e.constructor===Uo?e:new Uo((function(t){t(e)}))},Uo.reject=function(e){return new Uo((function(t,i){i(e)}))},Uo.race=function(e){return new Uo((function(t,i){if(!Fo(e))return i(new TypeError("Promise.race accepts an array"));for(var n=0,r=e.length;n<r;n++)Uo.resolve(e[n]).then(t,i)}))},Uo._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){Wo(e,0)},Uo._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var Zo=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"Promise"in Zo?Zo.Promise.prototype.finally||(Zo.Promise.prototype.finally=jo):Zo.Promise=Uo,function(e){function t(){}function i(e,t){if(e=void 0===e?"utf-8":e,t=void 0===t?{fatal:!1}:t,-1==n.indexOf(e.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+e+"') is invalid.");if(t.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}if(e.TextEncoder&&e.TextDecoder)return!1;var n=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),t.prototype.encode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");t=0;for(var i=e.length,n=0,r=Math.max(32,i+(i>>1)+7),o=new Uint8Array(r>>3<<3);t<i;){var s=e.charCodeAt(t++);if(55296<=s&&56319>=s){if(t<i){var a=e.charCodeAt(t);56320==(64512&a)&&(++t,s=((1023&s)<<10)+(1023&a)+65536)}if(55296<=s&&56319>=s)continue}if(n+4>o.length&&(r+=8,r=(r*=1+t/e.length*2)>>3<<3,(a=new Uint8Array(r)).set(o),o=a),0==(4294967168&s))o[n++]=s;else{if(0==(4294965248&s))o[n++]=s>>6&31|192;else if(0==(4294901760&s))o[n++]=s>>12&15|224,o[n++]=s>>6&63|128;else{if(0!=(4292870144&s))continue;o[n++]=s>>18&7|240,o[n++]=s>>12&63|128,o[n++]=s>>6&63|128}o[n++]=63&s|128}}return o.slice?o.slice(0,n):o.subarray(0,n)},Object.defineProperty(i.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(i.prototype,"fatal",{value:!1}),Object.defineProperty(i.prototype,"ignoreBOM",{value:!1}),i.prototype.decode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");e.buffer instanceof ArrayBuffer&&(e=e.buffer),e=new Uint8Array(e),t=0;for(var i=[],n=[];;){var r=t<e.length;if(!r||65536&t){if(n.push(String.fromCharCode.apply(null,i)),!r)return n.join("");i=[],e=e.subarray(t),t=0}if(0===(r=e[t++]))i.push(0);else if(0==(128&r))i.push(r);else if(192==(224&r)){var o=63&e[t++];i.push((31&r)<<6|o)}else if(224==(240&r)){o=63&e[t++];var s=63&e[t++];i.push((31&r)<<12|o<<6|s)}else 240==(248&r)&&(65535<(r=(7&r)<<18|(o=63&e[t++])<<12|(s=63&e[t++])<<6|63&e[t++])&&(r-=65536,i.push(r>>>10&1023|55296),r=56320|1023&r),i.push(r))}},e.TextEncoder=t,e.TextDecoder=i}("undefined"!=typeof window?window:zt),function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,i){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}var a=function(){function t(){e(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return i(t,[{key:"addEventListener",value:function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var i=this.listeners[e],n=0,r=i.length;n<r;n++)if(i[n]===t)return void i.splice(n,1)}},{key:"dispatchEvent",value:function(e){var t=this;if(e.type in this.listeners){for(var i=function(i){setTimeout((function(){return i.call(t,e)}))},n=this.listeners[e.type],r=0,o=n.length;r<o;r++)i(n[r]);return!e.defaultPrevented}}}]),t}(),c=function(t){function c(){var t;return e(this,c),(t=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?o(e):t}(this,n(c).call(this))).listeners||a.call(o(t)),Object.defineProperty(o(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(o(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(c,t),i(c,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),s(n(c.prototype),"dispatchEvent",this).call(this,e)}}]),c}(a),l=function(){function t(){e(this,t),Object.defineProperty(this,"signal",{value:new c,writable:!0,configurable:!0})}return i(t,[{key:"abort",value:function(){var e;try{e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(l.prototype[Symbol.toStringTag]="AbortController",c.prototype[Symbol.toStringTag]="AbortSignal"),function(e){(function(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController})(e)&&(e.AbortController=l,e.AbortSignal=c)}("undefined"!=typeof self?self:zt)}();var Xo=Vt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){var e=this;this.locked=new Map,this.addToLocked=function(t,i){var n=e.locked.get(t);void 0===n?void 0===i?e.locked.set(t,[]):e.locked.set(t,[i]):void 0!==i&&(n.unshift(i),e.locked.set(t,n))},this.isLocked=function(t){return e.locked.has(t)},this.lock=function(t){return new Promise((function(i,n){e.isLocked(t)?e.addToLocked(t,i):(e.addToLocked(t),i())}))},this.unlock=function(t){var i=e.locked.get(t);if(void 0!==i&&0!==i.length){var n=i.pop();e.locked.set(t,i),void 0!==n&&setTimeout(n,0)}else e.locked.delete(t)}}return e.getInstance=function(){return void 0===e.instance&&(e.instance=new e),e.instance},e}();t.default=function(){return i.getInstance()}}));Yt(Xo);var Jo=Yt(Vt((function(e,t){var i=zt&&zt.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new i((function(t){t(e.value)})).then(s,a)}c((n=n.apply(e,t||[])).next())}))},n=zt&&zt.__generator||function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function r(e){return new Promise((function(t){return setTimeout(t,e)}))}function o(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",i="",n=0;n<e;n++)i+=t[Math.floor(Math.random()*t.length)];return i}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+o(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===e.waiters&&(e.waiters=[])}return e.prototype.acquireLock=function(t,s){return void 0===s&&(s=5e3),i(this,void 0,void 0,(function(){var i,a,c,l,u,h;return n(this,(function(n){switch(n.label){case 0:i=Date.now()+o(4),a=Date.now()+s,c="browser-tabs-lock-key-"+t,l=window.localStorage,n.label=1;case 1:return Date.now()<a?[4,r(30)]:[3,8];case 2:return n.sent(),null!==l.getItem(c)?[3,5]:(u=this.id+"-"+t+"-"+i,[4,r(Math.floor(25*Math.random()))]);case 3:return n.sent(),l.setItem(c,JSON.stringify({id:this.id,iat:i,timeoutKey:u,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,r(30)];case 4:return n.sent(),null!==(h=l.getItem(c))&&(h=JSON.parse(h)).id===this.id&&h.iat===i?(this.acquiredIatSet.add(i),this.refreshLockWhileAcquired(c,i),[2,!0]):[3,7];case 5:return e.lockCorrector(),[4,this.waitForSomethingToChange(a)];case 6:n.sent(),n.label=7;case 7:return i=Date.now()+o(4),[3,1];case 8:return[2,!1]}}))}))},e.prototype.refreshLockWhileAcquired=function(e,t){return i(this,void 0,void 0,(function(){var r=this;return n(this,(function(o){return setTimeout((function(){return i(r,void 0,void 0,(function(){var i,r;return n(this,(function(n){switch(n.label){case 0:return[4,Xo.default().lock(t)];case 1:return n.sent(),this.acquiredIatSet.has(t)?(i=window.localStorage,null===(r=i.getItem(e))?(Xo.default().unlock(t),[2]):((r=JSON.parse(r)).timeRefreshed=Date.now(),i.setItem(e,JSON.stringify(r)),Xo.default().unlock(t),this.refreshLockWhileAcquired(e,t),[2])):(Xo.default().unlock(t),[2])}}))}))}),1e3),[2]}))}))},e.prototype.waitForSomethingToChange=function(t){return i(this,void 0,void 0,(function(){return n(this,(function(i){switch(i.label){case 0:return[4,new Promise((function(i){var n=!1,r=Date.now(),o=!1;function s(){if(o||(window.removeEventListener("storage",s),e.removeFromWaiting(s),clearTimeout(a),o=!0),!n){n=!0;var t=50-(Date.now()-r);t>0?setTimeout(i,t):i()}}window.addEventListener("storage",s),e.addToWaiting(s);var a=setTimeout(s,Math.max(0,t-Date.now()))}))];case 1:return i.sent(),[2]}}))}))},e.addToWaiting=function(t){this.removeFromWaiting(t),void 0!==e.waiters&&e.waiters.push(t)},e.removeFromWaiting=function(t){void 0!==e.waiters&&(e.waiters=e.waiters.filter((function(e){return e!==t})))},e.notifyWaiters=function(){void 0!==e.waiters&&e.waiters.slice().forEach((function(e){return e()}))},e.prototype.releaseLock=function(e){return i(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,this.releaseLock__private__(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.releaseLock__private__=function(t){return i(this,void 0,void 0,(function(){var i,r,o;return n(this,(function(n){switch(n.label){case 0:return i=window.localStorage,r="browser-tabs-lock-key-"+t,null===(o=i.getItem(r))?[2]:(o=JSON.parse(o)).id!==this.id?[3,2]:[4,Xo.default().lock(o.iat)];case 1:n.sent(),this.acquiredIatSet.delete(o.iat),i.removeItem(r),Xo.default().unlock(o.iat),e.notifyWaiters(),n.label=2;case 2:return[2]}}))}))},e.lockCorrector=function(){for(var t=Date.now()-5e3,i=window.localStorage,n=Object.keys(i),r=!1,o=0;o<n.length;o++){var s=n[o];if(s.includes("browser-tabs-lock-key")){var a=i.getItem(s);null!==a&&(void 0===(a=JSON.parse(a)).timeRefreshed&&a.timeAcquired<t||void 0!==a.timeRefreshed&&a.timeRefreshed<t)&&(i.removeItem(s),r=!0)}}r&&e.notifyWaiters()},e.waiters=void 0,e}();t.default=s}))),Qo={timeoutInSeconds:60},es={error:"timeout",error_description:"Timeout"},ts=function(e,t){var i,n,r,o=t.popup;if(o?o.location.href=e:(i=e,n=window.screenX+(window.innerWidth-400)/2,r=window.screenY+(window.innerHeight-600)/2,o=window.open(i,"auth0:authorize:popup","left="+n+",top="+r+",width=400,height=600,resizable,scrollbars=yes,status=1")),!o)throw new Error("Could not open popup");return new Promise((function(e,i){var n=setTimeout((function(){i(Ft(Ft({},es),{popup:o}))}),1e3*(t.timeoutInSeconds||60));window.addEventListener("message",(function(t){if(t.data&&"authorization_response"===t.data.type){if(clearTimeout(n),o.close(),t.data.response.error)return i(t.data.response);e(t.data.response)}}))}))},is=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",t="";return Array.from(ds().getRandomValues(new Uint8Array(43))).forEach((function(i){return t+=e[i%e.length]})),t},ns=function(e){return btoa(e)},rs=function(e){return Object.keys(e).filter((function(t){return void 0!==e[t]})).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},os=function(e){return Ut(void 0,void 0,void 0,(function(){var t;return qt(this,(function(i){switch(i.label){case 0:return t=fs().digest({name:"SHA-256"},(new TextEncoder).encode(e)),window.msCrypto?[2,new Promise((function(e,i){t.oncomplete=function(t){e(t.target.result)},t.onerror=function(e){i(e.error)},t.onabort=function(){i("The digest operation was aborted")}}))]:[4,t];case 1:return[2,i.sent()]}}))}))},ss=function(e){return function(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(e.replace(/_/g,"/").replace(/-/g,"+"))},as=function(e){var t=new Uint8Array(e);return function(e){var t={"+":"-","/":"_","=":""};return e.replace(/[\+\/=]/g,(function(e){return t[e]}))}(window.btoa(String.fromCharCode.apply(String,Array.from(t))))},cs=function(e,t,i,n){return Ut(void 0,void 0,void 0,(function(){var r,o;return qt(this,(function(s){switch(s.label){case 0:return n?(delete t.signal,[2,(l=Ft({url:e,timeout:i},t),u=n,new Promise((function(e,t){var i=new MessageChannel;i.port1.onmessage=function(i){i.data.error?t(new Error(i.data.error)):e(i.data)},u.postMessage(l,[i.port2])})))]):[3,1];case 1:return[4,(a=e,c=t,c=c||{},new Promise((function(e,t){var i=new XMLHttpRequest,n=[],r=[],o={},s=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(JSON.parse(i.responseText))},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:s,headers:{keys:function(){return n},entries:function(){return r},get:function(e){return o[e.toLowerCase()]},has:function(e){return e.toLowerCase()in o}}}};for(var l in i.open(c.method||"get",a,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,i){n.push(t=t.toLowerCase()),r.push([t,i]),o[t]=o[t]?o[t]+","+i:i})),e(s())},i.onerror=t,i.withCredentials="include"==c.credentials,c.headers)i.setRequestHeader(l,c.headers[l]);i.send(c.body||null)})))];case 2:return r=s.sent(),o={ok:r.ok},[4,r.json()];case 3:return[2,(o.json=s.sent(),o)]}var a,c,l,u}))}))},ls=function(e,t,i,n){void 0===n&&(n=1e4);var r=new AbortController,o=r.signal,s=Ft(Ft({},t),{signal:o});return Promise.race([cs(e,s,n,i),new Promise((function(e,t){setTimeout((function(){r.abort(),t(new Error("Timeout when executing 'fetch'"))}),n)}))])},us=function(e,t,i,n){return Ut(void 0,void 0,void 0,(function(){var r,o,s,a,c,l,u,h,d,f;return qt(this,(function(p){switch(p.label){case 0:s=0,p.label=1;case 1:if(!(s<3))return[3,6];p.label=2;case 2:return p.trys.push([2,4,,5]),[4,ls(e,i,n,t)];case 3:return o=p.sent(),r=null,[3,6];case 4:return a=p.sent(),r=a,[3,5];case 5:return s++,[3,1];case 6:if(r)throw r;if(c=o.json,l=c.error,u=c.error_description,h=Nt(c,["error","error_description"]),!o.ok)throw d=u||"HTTP error. Unable to fetch "+e,(f=new Error(d)).error=l||"request_error",f.error_description=d,f;return[2,h]}}))}))},hs=function(e,t){return Ut(void 0,void 0,void 0,(function(){var i=e.baseUrl,n=e.timeout,r=Nt(e,["baseUrl","timeout"]);return qt(this,(function(e){switch(e.label){case 0:return[4,us(i+"/oauth/token",n,{method:"POST",body:JSON.stringify(Ft({redirect_uri:window.location.origin},r)),headers:{"Content-type":"application/json"}},t)];case 1:return[2,e.sent()]}}))}))},ds=function(){return window.crypto||window.msCrypto},fs=function(){var e=ds();return e.subtle||e.webkitSubtle},ps=function(e){return Array.from(new Set(e))},_s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ps(e.join(" ").trim().split(/\s+/)).join(" ")},vs=function(e){return"@@auth0spajs@@::"+e.client_id+"::"+e.audience+"::"+e.scope},ms=function(e){var t=Math.floor(Date.now()/1e3)+e.expires_in;return{body:e,expiresAt:Math.min(t,e.decodedToken.claims.exp)-60}},gs=function(){function e(){}return e.prototype.save=function(e){var t=vs(e),i=ms(e);window.localStorage.setItem(t,JSON.stringify(i))},e.prototype.get=function(e){var t=vs(e),i=this.readJson(t),n=Math.floor(Date.now()/1e3);if(i){if(!(i.expiresAt<n))return i.body;if(i.body.refresh_token){var r=this.stripData(i);return this.writeJson(t,r),r.body}localStorage.removeItem(t)}},e.prototype.clear=function(){for(var e=localStorage.length-1;e>=0;e--)localStorage.key(e).startsWith("@@auth0spajs@@")&&localStorage.removeItem(localStorage.key(e))},e.prototype.readJson=function(e){var t,i=window.localStorage.getItem(e);if(i&&(t=JSON.parse(i)))return t},e.prototype.writeJson=function(e,t){localStorage.setItem(e,JSON.stringify(t))},e.prototype.stripData=function(e){return{body:{refresh_token:e.body.refresh_token},expiresAt:e.expiresAt}},e}(),ys=function(){this.enclosedCache=function(){var e={body:{},expiresAt:0};return{save:function(t){var i=vs(t),n=ms(t);e[i]=n},get:function(t){var i=vs(t),n=e[i],r=Math.floor(Date.now()/1e3);if(n)return n.expiresAt<r?n.body.refresh_token?(n.body={refresh_token:n.body.refresh_token},n.body):void delete e[i]:n.body},clear:function(){e={body:{},expiresAt:0}}}}()},bs=Vt((function(e,t){var i=zt&&zt.__assign||function(){return(i=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function n(e,t){if(!t)return"";var i="; "+e;return!0===t?i:i+"="+t}function r(e,t,i){return encodeURIComponent(e).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(t).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(e){if("number"==typeof e.expires){var t=new Date;t.setMilliseconds(t.getMilliseconds()+864e5*e.expires),e.expires=t}return n("Expires",e.expires?e.expires.toUTCString():"")+n("Domain",e.domain)+n("Path",e.path)+n("Secure",e.secure)+n("SameSite",e.sameSite)}(i)}function o(e){for(var t={},i=e?e.split("; "):[],n=/(%[\dA-F]{2})+/gi,r=0;r<i.length;r++){var o=i[r].split("="),s=o.slice(1).join("=");'"'===s.charAt(0)&&(s=s.slice(1,-1));try{t[o[0].replace(n,decodeURIComponent)]=s.replace(n,decodeURIComponent)}catch(e){}}return t}function s(){return o(document.cookie)}function a(e,t,n){document.cookie=r(e,t,i({path:"/"},n))}t.__esModule=!0,t.encode=r,t.parse=o,t.getAll=s,t.get=function(e){return s()[e]},t.set=a,t.remove=function(e,t){a(e,"",i(i({},t),{expires:-1}))}}));Yt(bs),bs.encode,bs.parse;var ws=bs.getAll,Cs=bs.get,Ss=bs.set,ks=bs.remove,Es=function(e){var t=Cs(e);if(void 0!==t)return JSON.parse(t)},xs=function(e,t,i){Ss(e,JSON.stringify(t),{expires:i.daysUntilExpire})},Ls=function(e){ks(e)},Ms=function(e){return"a0.spajs.txs."+e},Ts=function(){function e(){var e=this;this.transactions={},Object.keys(ws()||{}).filter((function(e){return e.startsWith("a0.spajs.txs.")})).forEach((function(t){var i=t.replace("a0.spajs.txs.","");e.transactions[i]=Es(t)}))}return e.prototype.create=function(e,t){this.transactions[e]=t,xs(Ms(e),t,{daysUntilExpire:1})},e.prototype.get=function(e){return this.transactions[e]},e.prototype.remove=function(e){delete this.transactions[e],Ls(Ms(e))},e}(),Os=function(e){return"number"==typeof e},Rs=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],As=function(e){function t(i,n,r,o){void 0===o&&(o=null);var s=e.call(this,i,n)||this;return s.state=r,s.appState=o,Object.setPrototypeOf(s,t.prototype),s}return Wt(t,e),t}(function(e){function t(i,n){var r=e.call(this,n)||this;return r.error=i,r.error_description=n,Object.setPrototypeOf(r,t.prototype),r}return Wt(t,e),t}(Error));var Ds,Is=("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwovKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UKdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUKTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKClRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRApXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLApNRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULgoKU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zCmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8KdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsdD0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWZvcih2YXIgbyBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHIoZSxyKXt2YXIgdCxuLG8scyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBzPXtuZXh0OmkoMCksdGhyb3c6aSgxKSxyZXR1cm46aSgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKHNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscztmdW5jdGlvbiBpKHMpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYodCl0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYodD0xLG4mJihvPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgobz1uLnJldHVybikmJm8uY2FsbChuKSwwKTpuLm5leHQpJiYhKG89by5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKG49MCxvJiYocz1bMiZzWzBdLG8udmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOm89czticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXthPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighb3x8c1sxXT5vWzBdJiZzWzFdPG9bM10pKXthLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89czticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKHMpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1zPXIuY2FsbChlLGEpfWNhdGNoKGUpe3M9WzYsZV0sbj0wfWZpbmFsbHl7dD1vPTB9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJue3ZhbHVlOnNbMF0/c1sxXTp2b2lkIDAsZG9uZTohMH19KFtzLGldKX19fXZhciB0O2FkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLChmdW5jdGlvbihuKXt2YXIgbyxzLGEsaSx1LGwsYyxmLHA7cmV0dXJuIGw9dm9pZCAwLGM9dm9pZCAwLHA9ZnVuY3Rpb24oKXt2YXIgbCxjLGYscCxoLHksYjtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOm89bi5kYXRhLHM9by51cmwsYT1vLnRpbWVvdXQsaT1mdW5jdGlvbihlLHIpe3ZhciB0PXt9O2Zvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiZyLmluZGV4T2Yobik8MCYmKHRbbl09ZVtuXSk7aWYobnVsbCE9ZSYmImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPTA7Zm9yKG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtvPG4ubGVuZ3RoO28rKylyLmluZGV4T2YobltvXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsbltvXSkmJih0W25bb11dPWVbbltvXV0pfXJldHVybiB0fShvLFsidXJsIiwidGltZW91dCJdKSx1PW4ucG9ydHNbMF0sci5sYWJlbD0xO2Nhc2UgMTppZihyLnRyeXMucHVzaChbMSw3LCw4XSksIShjPUpTT04ucGFyc2UoaS5ib2R5KSkucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09Yy5ncmFudF90eXBlKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoIlRoZSB3ZWIgd29ya2VyIGlzIG1pc3NpbmcgdGhlIHJlZnJlc2ggdG9rZW4iKTtpLmJvZHk9SlNPTi5zdHJpbmdpZnkoZShlKHt9LGMpLHtyZWZyZXNoX3Rva2VuOnR9KSl9Zj1uZXcgQWJvcnRDb250cm9sbGVyLHA9Zi5zaWduYWwsaD12b2lkIDAsci5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gci50cnlzLnB1c2goWzIsNCwsNV0pLFs0LFByb21pc2UucmFjZShbKHY9YSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHNldFRpbWVvdXQoZSx2KX0pKSksZmV0Y2gocyxlKGUoe30saSkse3NpZ25hbDpwfSkpXSldO2Nhc2UgMzpyZXR1cm4gaD1yLnNlbnQoKSxbMyw1XTtjYXNlIDQ6cmV0dXJuIHk9ci5zZW50KCksdS5wb3N0TWVzc2FnZSh7ZXJyb3I6eS5tZXNzYWdlfSksWzJdO2Nhc2UgNTpyZXR1cm4gaD9bNCxoLmpzb24oKV06KGYuYWJvcnQoKSxbMl0pO2Nhc2UgNjpyZXR1cm4obD1yLnNlbnQoKSkucmVmcmVzaF90b2tlbj8odD1sLnJlZnJlc2hfdG9rZW4sZGVsZXRlIGwucmVmcmVzaF90b2tlbik6dD1udWxsLHUucG9zdE1lc3NhZ2Uoe29rOmgub2ssanNvbjpsfSksWzMsOF07Y2FzZSA3OnJldHVybiBiPXIuc2VudCgpLHUucG9zdE1lc3NhZ2Uoe29rOiExLGpzb246e2Vycm9yX2Rlc2NyaXB0aW9uOmIubWVzc2FnZX19KSxbMyw4XTtjYXNlIDg6cmV0dXJuWzJdfXZhciB2fSkpfSxuZXcoKGY9dm9pZCAwKXx8KGY9UHJvbWlzZSkpKChmdW5jdGlvbihlLHIpe2Z1bmN0aW9uIHQoZSl7dHJ5e28ocC5uZXh0KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBuKGUpe3RyeXtvKHAudGhyb3coZSkpfWNhdGNoKGUpe3IoZSl9fWZ1bmN0aW9uIG8ocil7ci5kb25lP2Uoci52YWx1ZSk6bmV3IGYoKGZ1bmN0aW9uKGUpe2Uoci52YWx1ZSl9KSkudGhlbih0LG4pfW8oKHA9cC5hcHBseShsLGN8fFtdKSkubmV4dCgpKX0pKX0pKTsKCg==",null,!1,function(e){return Ds=Ds||function(e,t,i){var n=void 0===t?null:t,r=function(e,t){var i=atob(e);if(t){for(var n=new Uint8Array(i.length),r=0,o=i.length;r<o;++r)n[r]=i.charCodeAt(r);return String.fromCharCode.apply(null,new Uint16Array(n.buffer))}return i}(e,void 0!==i&&i),o=r.indexOf("\n",10)+1,s=r.substring(o)+(n?"//# sourceMappingURL="+n:""),a=new Blob([s],{type:"application/javascript"});return URL.createObjectURL(a)}("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwovKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UKdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUKTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKClRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRApXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLApNRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULgoKU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zCmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8KdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsdD0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWZvcih2YXIgbyBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHIoZSxyKXt2YXIgdCxuLG8scyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBzPXtuZXh0OmkoMCksdGhyb3c6aSgxKSxyZXR1cm46aSgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKHNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscztmdW5jdGlvbiBpKHMpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYodCl0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYodD0xLG4mJihvPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgobz1uLnJldHVybikmJm8uY2FsbChuKSwwKTpuLm5leHQpJiYhKG89by5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKG49MCxvJiYocz1bMiZzWzBdLG8udmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOm89czticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXthPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighb3x8c1sxXT5vWzBdJiZzWzFdPG9bM10pKXthLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89czticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKHMpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1zPXIuY2FsbChlLGEpfWNhdGNoKGUpe3M9WzYsZV0sbj0wfWZpbmFsbHl7dD1vPTB9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJue3ZhbHVlOnNbMF0/c1sxXTp2b2lkIDAsZG9uZTohMH19KFtzLGldKX19fXZhciB0O2FkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLChmdW5jdGlvbihuKXt2YXIgbyxzLGEsaSx1LGwsYyxmLHA7cmV0dXJuIGw9dm9pZCAwLGM9dm9pZCAwLHA9ZnVuY3Rpb24oKXt2YXIgbCxjLGYscCxoLHksYjtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOm89bi5kYXRhLHM9by51cmwsYT1vLnRpbWVvdXQsaT1mdW5jdGlvbihlLHIpe3ZhciB0PXt9O2Zvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiZyLmluZGV4T2Yobik8MCYmKHRbbl09ZVtuXSk7aWYobnVsbCE9ZSYmImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPTA7Zm9yKG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtvPG4ubGVuZ3RoO28rKylyLmluZGV4T2YobltvXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsbltvXSkmJih0W25bb11dPWVbbltvXV0pfXJldHVybiB0fShvLFsidXJsIiwidGltZW91dCJdKSx1PW4ucG9ydHNbMF0sci5sYWJlbD0xO2Nhc2UgMTppZihyLnRyeXMucHVzaChbMSw3LCw4XSksIShjPUpTT04ucGFyc2UoaS5ib2R5KSkucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09Yy5ncmFudF90eXBlKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoIlRoZSB3ZWIgd29ya2VyIGlzIG1pc3NpbmcgdGhlIHJlZnJlc2ggdG9rZW4iKTtpLmJvZHk9SlNPTi5zdHJpbmdpZnkoZShlKHt9LGMpLHtyZWZyZXNoX3Rva2VuOnR9KSl9Zj1uZXcgQWJvcnRDb250cm9sbGVyLHA9Zi5zaWduYWwsaD12b2lkIDAsci5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gci50cnlzLnB1c2goWzIsNCwsNV0pLFs0LFByb21pc2UucmFjZShbKHY9YSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHNldFRpbWVvdXQoZSx2KX0pKSksZmV0Y2gocyxlKGUoe30saSkse3NpZ25hbDpwfSkpXSldO2Nhc2UgMzpyZXR1cm4gaD1yLnNlbnQoKSxbMyw1XTtjYXNlIDQ6cmV0dXJuIHk9ci5zZW50KCksdS5wb3N0TWVzc2FnZSh7ZXJyb3I6eS5tZXNzYWdlfSksWzJdO2Nhc2UgNTpyZXR1cm4gaD9bNCxoLmpzb24oKV06KGYuYWJvcnQoKSxbMl0pO2Nhc2UgNjpyZXR1cm4obD1yLnNlbnQoKSkucmVmcmVzaF90b2tlbj8odD1sLnJlZnJlc2hfdG9rZW4sZGVsZXRlIGwucmVmcmVzaF90b2tlbik6dD1udWxsLHUucG9zdE1lc3NhZ2Uoe29rOmgub2ssanNvbjpsfSksWzMsOF07Y2FzZSA3OnJldHVybiBiPXIuc2VudCgpLHUucG9zdE1lc3NhZ2Uoe29rOiExLGpzb246e2Vycm9yX2Rlc2NyaXB0aW9uOmIubWVzc2FnZX19KSxbMyw4XTtjYXNlIDg6cmV0dXJuWzJdfXZhciB2fSkpfSxuZXcoKGY9dm9pZCAwKXx8KGY9UHJvbWlzZSkpKChmdW5jdGlvbihlLHIpe2Z1bmN0aW9uIHQoZSl7dHJ5e28ocC5uZXh0KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBuKGUpe3RyeXtvKHAudGhyb3coZSkpfWNhdGNoKGUpe3IoZSl9fWZ1bmN0aW9uIG8ocil7ci5kb25lP2Uoci52YWx1ZSk6bmV3IGYoKGZ1bmN0aW9uKGUpe2Uoci52YWx1ZSl9KSkudGhlbih0LG4pfW8oKHA9cC5hcHBseShsLGN8fFtdKSkubmV4dCgpKX0pKX0pKTsKCg==",null,!1),new Worker(Ds,e)}),Ps=new Jo,Bs={memory:function(){return(new ys).enclosedCache},localstorage:function(){return new gs}},$s=function(e){return Bs[e]},Hs=function(){function e(e){var t,i;if(this.options=e,function(){if(!ds())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===fs())throw new Error("\n      auth0-spa-js must run on a secure origin.\n      See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin \n      for more information.\n    ")}(),this.cacheLocation=e.cacheLocation||"memory",!$s(this.cacheLocation))throw new Error('Invalid cache location "'+this.cacheLocation+'"');this.cache=$s(this.cacheLocation)(),this.scope=this.options.scope,this.transactionManager=new Ts,this.domainUrl="https://"+this.options.domain,this.tokenIssuer=this.options.issuer?"https://"+this.options.issuer+"/":this.domainUrl+"/",this.defaultScope=_s("openid",void 0!==(null===(i=null===(t=this.options)||void 0===t?void 0:t.advancedOptions)||void 0===i?void 0:i.defaultScope)?this.options.advancedOptions.defaultScope:"openid profile email"),this.options.useRefreshTokens&&(this.scope=_s(this.scope,"offline_access")),window.Worker&&this.options.useRefreshTokens&&"memory"===this.cacheLocation&&!/Trident.*rv:11\.0/.test(navigator.userAgent)&&(this.worker=new Is)}return e.prototype._url=function(e){var t=encodeURIComponent(btoa(JSON.stringify({name:"auth0-spa-js",version:"1.8.1"})));return""+this.domainUrl+e+"&auth0Client="+t},e.prototype._getParams=function(e,t,i,n,r){var o=this.options,s=(o.domain,o.leeway,o.useRefreshTokens,o.cacheLocation,o.advancedOptions,Nt(o,["domain","leeway","useRefreshTokens","cacheLocation","advancedOptions"]));return Ft(Ft(Ft({},s),e),{scope:_s(this.defaultScope,this.scope,e.scope),response_type:"code",response_mode:"query",state:t,nonce:i,redirect_uri:r||this.options.redirect_uri,code_challenge:n,code_challenge_method:"S256"})},e.prototype._authorizeUrl=function(e){return this._url("/authorize?"+rs(e))},e.prototype._verifyIdToken=function(e,t){return function(e){if(!e.id_token)throw new Error("ID token is required but missing");var t=function(e){var t=e.split("."),i=t[0],n=t[1],r=t[2];if(3!==t.length||!i||!n||!r)throw new Error("ID token could not be decoded");var o=JSON.parse(ss(n)),s={__raw:e},a={};return Object.keys(o).forEach((function(e){s[e]=o[e],Rs.includes(e)||(a[e]=o[e])})),{encoded:{header:i,payload:n,signature:r},header:JSON.parse(ss(i)),claims:s,user:a}}(e.id_token);if(!t.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(t.claims.iss!==e.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'+e.iss+'", found "'+t.claims.iss+'"');if(!t.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==t.header.alg)throw new Error('Signature algorithm of "'+t.header.alg+'" is not supported. Expected the ID token to be signed with "RS256".');if(!t.claims.aud||"string"!=typeof t.claims.aud&&!Array.isArray(t.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+e.aud+'" but was not one of "'+t.claims.aud.join(", ")+'"');if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(t.claims.azp!==e.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'+e.aud+'", found "'+t.claims.azp+'"')}}else if(t.claims.aud!==e.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+e.aud+'" but found "'+t.claims.aud+'"');if(e.nonce){if(!t.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(t.claims.nonce!==e.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'+e.nonce+'", found "'+t.claims.nonce+'"')}if(e.max_age&&!Os(t.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(!Os(t.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!Os(t.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");var i=e.leeway||60,n=new Date,r=new Date(0),o=new Date(0),s=new Date(0);if(s.setUTCSeconds((parseInt(t.claims.auth_time)+e.max_age)/1e3+i),r.setUTCSeconds(t.claims.exp+i),o.setUTCSeconds(t.claims.nbf-i),n>r)throw new Error("Expiration Time (exp) claim error in the ID token; current time ("+n+") is after expiration time ("+r+")");if(Os(t.claims.nbf)&&n<o)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time ("+n+") is before "+o);if(Os(t.claims.auth_time)&&n>s)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time ("+n+") is after last auth at "+s);return t}({iss:this.tokenIssuer,aud:this.options.client_id,id_token:e,nonce:t,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age)})},e.prototype._parseNumber=function(e){return"string"!=typeof e?e:parseInt(e,10)||void 0},e.prototype.buildAuthorizeUrl=function(e){return void 0===e&&(e={}),Ut(this,void 0,void 0,(function(){var t,i,n,r,o,s,a,c,l,u,h;return qt(this,(function(d){switch(d.label){case 0:return t=e.redirect_uri,i=e.appState,n=Nt(e,["redirect_uri","appState"]),r=ns(is()),o=ns(is()),s=is(),[4,os(s)];case 1:return a=d.sent(),c=as(a),l=e.fragment?"#"+e.fragment:"",u=this._getParams(n,r,o,c,t),h=this._authorizeUrl(u),this.transactionManager.create(r,{nonce:o,code_verifier:s,appState:i,scope:u.scope,audience:u.audience||"default",redirect_uri:u.redirect_uri}),[2,h+l]}}))}))},e.prototype.loginWithPopup=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),Ut(this,void 0,void 0,(function(){var i,n,r,o,s,a,c,l,u,h,d,f;return qt(this,(function(p){switch(p.label){case 0:return i=Nt(e,[]),n=ns(is()),r=ns(is()),o=is(),[4,os(o)];case 1:return s=p.sent(),a=as(s),c=this._getParams(i,n,r,a,this.options.redirect_uri||window.location.origin),l=this._authorizeUrl(Ft(Ft({},c),{response_mode:"web_message"})),[4,ts(l,Ft(Ft({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}))];case 2:if(u=p.sent(),n!==u.state)throw new Error("Invalid state");return[4,hs({baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:o,code:u.code,grant_type:"authorization_code",redirect_uri:c.redirect_uri},this.worker)];case 3:return h=p.sent(),d=this._verifyIdToken(h.id_token,r),f=Ft(Ft({},h),{decodedToken:d,scope:c.scope,audience:c.audience||"default",client_id:this.options.client_id}),this.cache.save(f),xs("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2]}}))}))},e.prototype.getUser=function(e){return void 0===e&&(e={audience:this.options.audience||"default",scope:this.scope||this.defaultScope}),Ut(this,void 0,void 0,(function(){var t;return qt(this,(function(i){return e.scope=_s(this.defaultScope,e.scope),[2,(t=this.cache.get(Ft({client_id:this.options.client_id},e)))&&t.decodedToken&&t.decodedToken.user]}))}))},e.prototype.getIdTokenClaims=function(e){return void 0===e&&(e={audience:this.options.audience||"default",scope:this.scope||this.defaultScope}),Ut(this,void 0,void 0,(function(){var t;return qt(this,(function(i){return e.scope=_s(this.defaultScope,this.scope,e.scope),[2,(t=this.cache.get(Ft({client_id:this.options.client_id},e)))&&t.decodedToken&&t.decodedToken.claims]}))}))},e.prototype.loginWithRedirect=function(e){return void 0===e&&(e={}),Ut(this,void 0,void 0,(function(){var t;return qt(this,(function(i){switch(i.label){case 0:return[4,this.buildAuthorizeUrl(e)];case 1:return t=i.sent(),window.location.assign(t),[2]}}))}))},e.prototype.handleRedirectCallback=function(e){return void 0===e&&(e=window.location.href),Ut(this,void 0,void 0,(function(){var t,i,n,r,o,s,a,c,l,u,h;return qt(this,(function(d){switch(d.label){case 0:if(0===(t=e.split("?").slice(1)).length)throw new Error("There are no query params available for parsing.");if(i=function(e){e.indexOf("#")>-1&&(e=e.substr(0,e.indexOf("#")));var t=e.split("&"),i={};return t.forEach((function(e){var t=e.split("="),n=t[0],r=t[1];i[n]=decodeURIComponent(r)})),Ft(Ft({},i),{expires_in:parseInt(i.expires_in)})}(t.join("")),n=i.state,r=i.code,o=i.error,s=i.error_description,!(a=this.transactionManager.get(n)))throw new Error("Invalid state");if(o)throw this.transactionManager.remove(n),new As(o,s,n,a.appState);return this.transactionManager.remove(n),c={baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:a.code_verifier,grant_type:"authorization_code",code:r},void 0!==a.redirect_uri&&(c.redirect_uri=a.redirect_uri),[4,hs(c,this.worker)];case 1:return l=d.sent(),u=this._verifyIdToken(l.id_token,a.nonce),h=Ft(Ft({},l),{decodedToken:u,audience:a.audience,scope:a.scope,client_id:this.options.client_id}),this.cache.save(h),xs("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2,{appState:a.appState}]}}))}))},e.prototype.getTokenSilently=function(e){return void 0===e&&(e={}),Ut(this,void 0,void 0,(function(){var t,i,n,r,o,s;return qt(this,(function(a){switch(a.label){case 0:t=Ft({audience:this.options.audience,scope:_s(this.defaultScope,this.scope,e.scope),ignoreCache:!1},e),i=t.ignoreCache,n=Nt(t,["ignoreCache"]),a.label=1;case 1:return a.trys.push([1,7,8,10]),!i&&(r=this.cache.get({scope:n.scope,audience:n.audience||"default",client_id:this.options.client_id}))&&r.access_token?[2,r.access_token]:[4,Ps.acquireLock("auth0.lock.getTokenSilently",5e3)];case 2:return a.sent(),!this.options.useRefreshTokens||e.audience?[3,4]:[4,this._getTokenUsingRefreshToken(n)];case 3:return s=a.sent(),[3,6];case 4:return[4,this._getTokenFromIFrame(n)];case 5:s=a.sent(),a.label=6;case 6:return o=s,this.cache.save(Ft({client_id:this.options.client_id},o)),xs("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2,o.access_token];case 7:throw a.sent();case 8:return[4,Ps.releaseLock("auth0.lock.getTokenSilently")];case 9:return a.sent(),[7];case 10:return[2]}}))}))},e.prototype.getTokenWithPopup=function(e,t){return void 0===e&&(e={audience:this.options.audience,scope:this.scope||this.defaultScope}),void 0===t&&(t=Qo),Ut(this,void 0,void 0,(function(){return qt(this,(function(i){switch(i.label){case 0:return e.scope=_s(this.defaultScope,this.scope,e.scope),[4,this.loginWithPopup(e,t)];case 1:return i.sent(),[2,this.cache.get({scope:e.scope,audience:e.audience||"default",client_id:this.options.client_id}).access_token]}}))}))},e.prototype.isAuthenticated=function(){return Ut(this,void 0,void 0,(function(){return qt(this,(function(e){switch(e.label){case 0:return[4,this.getUser()];case 1:return[2,!!e.sent()]}}))}))},e.prototype.logout=function(e){void 0===e&&(e={}),null!==e.client_id?e.client_id=e.client_id||this.options.client_id:delete e.client_id;var t=e.federated,i=e.localOnly,n=Nt(e,["federated","localOnly"]);if(i&&t)throw new Error("It is invalid to set both the `federated` and `localOnly` options to `true`");if(this.cache.clear(),Ls("auth0.is.authenticated"),!i){var r=t?"&federated":"",o=this._url("/v2/logout?"+rs(n));window.location.assign(""+o+r)}},e.prototype._getTokenFromIFrame=function(e){return Ut(this,void 0,void 0,(function(){var t,i,n,r,o,s,a,c,l,u,h;return qt(this,(function(d){switch(d.label){case 0:return t=ns(is()),i=ns(is()),n=is(),[4,os(n)];case 1:return r=d.sent(),o=as(r),s=this._getParams(e,t,i,o,e.redirect_uri||this.options.redirect_uri||window.location.origin),a=this._authorizeUrl(Ft(Ft({},s),{prompt:"none",response_mode:"web_message"})),c=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,[4,(f=a,p=this.domainUrl,_=c,void 0===_&&(_=60),new Promise((function(e,t){var i=window.document.createElement("iframe");i.setAttribute("width","0"),i.setAttribute("height","0"),i.style.display="none";var n=function(){window.document.body.contains(i)&&window.document.body.removeChild(i)},r=setTimeout((function(){t(es),n()}),1e3*_),o=function(i){if(i.origin==p&&i.data&&"authorization_response"===i.data.type){var s=i.source;s&&s.close(),i.data.response.error?t(i.data.response):e(i.data.response),clearTimeout(r),window.removeEventListener("message",o,!1),setTimeout(n,2e3)}};window.addEventListener("message",o,!1),window.document.body.appendChild(i),i.setAttribute("src",f)})))];case 2:if(l=d.sent(),t!==l.state)throw new Error("Invalid state");return[4,hs({baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:n,code:l.code,grant_type:"authorization_code",redirect_uri:s.redirect_uri},this.worker)];case 3:return u=d.sent(),h=this._verifyIdToken(u.id_token,i),[2,Ft(Ft({},u),{decodedToken:h,scope:s.scope,audience:s.audience||"default"})]}var f,p,_}))}))},e.prototype._getTokenUsingRefreshToken=function(e){return Ut(this,void 0,void 0,(function(){var t,i,n,r,o;return qt(this,(function(s){switch(s.label){case 0:return e.scope=_s(this.defaultScope,this.scope,e.scope),(t=this.cache.get({scope:e.scope,audience:e.audience||"default",client_id:this.options.client_id}))&&t.refresh_token||this.worker?[3,2]:[4,this._getTokenFromIFrame(e)];case 1:return[2,s.sent()];case 2:i=e.redirect_uri||this.options.redirect_uri||window.location.origin,s.label=3;case 3:return s.trys.push([3,5,,8]),[4,hs({baseUrl:this.domainUrl,client_id:this.options.client_id,grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:i},this.worker)];case 4:return n=s.sent(),[3,8];case 5:return"The web worker is missing the refresh token"!==(r=s.sent()).message?[3,7]:[4,this._getTokenFromIFrame(e)];case 6:return[2,s.sent()];case 7:throw r;case 8:return o=this._verifyIdToken(n.id_token),[2,Ft(Ft({},n),{decodedToken:o,scope:e.scope,audience:e.audience||"default"})]}}))}))},e}();const js=Je(!0),Ws=Je(!1),Fs=Je(""),Ns=Je({}),Us=Je(null),qs={};function zs(e){let t=null,i=void 0;P(async()=>{t=await function(e){return Ut(this,void 0,void 0,(function(){var t,i;return qt(this,(function(n){switch(n.label){case 0:if("memory"===(t=new Hs(e)).cacheLocation&&!Es("auth0.is.authenticated"))return[2,t];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,t.getTokenSilently()];case 2:return n.sent(),[3,4];case 3:if("login_required"!==(i=n.sent()).error)throw i;return[3,4];case 4:return[2,t]}}))}))}(e);const n=new URLSearchParams(window.location.search);n.has("error")&&Us.set(new Error(n.get("error_description"))),n.has("code")&&(await t.handleRedirectCallback(),window.history.replaceState({},document.title,"/"),Us.set(null));const r=await t.isAuthenticated();if(Ws.set(r),r){Ns.set(await t.getUser());const n=await t.getTokenSilently(e.audience);Fs.set(n),i=setInterval(async()=>{Fs.set(await t.getTokenSilently(e.audience))},36e6)}return js.set(!1),()=>{i&&clearInterval(i)}});const n={isLoading:js,isAuthenticated:Ws,authToken:Fs,authError:Us,login:async e=>{await t.loginWithRedirect({redirect_uri:e||window.location.origin,prompt:"login"})},logout:async()=>{t.logout({returnTo:window.location.origin})},userInfo:Ns};return W(qs,n),n}function Ys(){return F(qs)}var Vs=function(e,t){return function(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return e.apply(t,i)}},Ks=Object.prototype.toString;function Gs(e){return"[object Array]"===Ks.call(e)}function Zs(e){return void 0===e}function Xs(e){return null!==e&&"object"==typeof e}function Js(e){return"[object Function]"===Ks.call(e)}function Qs(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),Gs(e))for(var i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}var ea={isArray:Gs,isArrayBuffer:function(e){return"[object ArrayBuffer]"===Ks.call(e)},isBuffer:function(e){return null!==e&&!Zs(e)&&null!==e.constructor&&!Zs(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:Xs,isUndefined:Zs,isDate:function(e){return"[object Date]"===Ks.call(e)},isFile:function(e){return"[object File]"===Ks.call(e)},isBlob:function(e){return"[object Blob]"===Ks.call(e)},isFunction:Js,isStream:function(e){return Xs(e)&&Js(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:Qs,merge:function e(){var t={};function i(i,n){"object"==typeof t[n]&&"object"==typeof i?t[n]=e(t[n],i):t[n]=i}for(var n=0,r=arguments.length;n<r;n++)Qs(arguments[n],i);return t},deepMerge:function e(){var t={};function i(i,n){"object"==typeof t[n]&&"object"==typeof i?t[n]=e(t[n],i):t[n]="object"==typeof i?e({},i):i}for(var n=0,r=arguments.length;n<r;n++)Qs(arguments[n],i);return t},extend:function(e,t,i){return Qs(t,(function(t,n){e[n]=i&&"function"==typeof t?Vs(t,i):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}};function ta(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var ia=function(e,t,i){if(!t)return e;var n;if(i)n=i(t);else if(ea.isURLSearchParams(t))n=t.toString();else{var r=[];ea.forEach(t,(function(e,t){null!=e&&(ea.isArray(e)?t+="[]":e=[e],ea.forEach(e,(function(e){ea.isDate(e)?e=e.toISOString():ea.isObject(e)&&(e=JSON.stringify(e)),r.push(ta(t)+"="+ta(e))})))})),n=r.join("&")}if(n){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e};function na(){this.handlers=[]}na.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},na.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},na.prototype.forEach=function(e){ea.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var ra=na,oa=function(e,t,i){return ea.forEach(i,(function(i){e=i(e,t)})),e},sa=function(e){return!(!e||!e.__CANCEL__)},aa=function(e,t){ea.forEach(e,(function(i,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[n])}))},ca=function(e,t,i,n,r){return function(e,t,i,n,r){return e.config=t,i&&(e.code=i),e.request=n,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}(new Error(e),t,i,n,r)},la=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],ua=ea.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function n(e){var n=e;return t&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return e=n(window.location.href),function(t){var i=ea.isString(t)?n(t):t;return i.protocol===e.protocol&&i.host===e.host}}():function(){return!0},ha=ea.isStandardBrowserEnv()?{write:function(e,t,i,n,r,o){var s=[];s.push(e+"="+encodeURIComponent(t)),ea.isNumber(i)&&s.push("expires="+new Date(i).toGMTString()),ea.isString(n)&&s.push("path="+n),ea.isString(r)&&s.push("domain="+r),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},da=function(e){return new Promise((function(t,i){var n=e.data,r=e.headers;ea.isFormData(n)&&delete r["Content-Type"];var o=new XMLHttpRequest;if(e.auth){var s=e.auth.username||"",a=e.auth.password||"";r.Authorization="Basic "+btoa(s+":"+a)}var c,l,u=(c=e.baseURL,l=e.url,c&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(l)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(c,l):l);if(o.open(e.method.toUpperCase(),ia(u,e.params,e.paramsSerializer),!0),o.timeout=e.timeout,o.onreadystatechange=function(){if(o&&4===o.readyState&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in o?function(e){var t,i,n,r={};return e?(ea.forEach(e.split("\n"),(function(e){if(n=e.indexOf(":"),t=ea.trim(e.substr(0,n)).toLowerCase(),i=ea.trim(e.substr(n+1)),t){if(r[t]&&la.indexOf(t)>=0)return;r[t]="set-cookie"===t?(r[t]?r[t]:[]).concat([i]):r[t]?r[t]+", "+i:i}})),r):r}(o.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?o.response:o.responseText,status:o.status,statusText:o.statusText,headers:n,config:e,request:o};!function(e,t,i){var n=i.config.validateStatus;!n||n(i.status)?e(i):t(ca("Request failed with status code "+i.status,i.config,null,i.request,i))}(t,i,r),o=null}},o.onabort=function(){o&&(i(ca("Request aborted",e,"ECONNABORTED",o)),o=null)},o.onerror=function(){i(ca("Network Error",e,null,o)),o=null},o.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(ca(t,e,"ECONNABORTED",o)),o=null},ea.isStandardBrowserEnv()){var h=ha,d=(e.withCredentials||ua(u))&&e.xsrfCookieName?h.read(e.xsrfCookieName):void 0;d&&(r[e.xsrfHeaderName]=d)}if("setRequestHeader"in o&&ea.forEach(r,(function(e,t){void 0===n&&"content-type"===t.toLowerCase()?delete r[t]:o.setRequestHeader(t,e)})),ea.isUndefined(e.withCredentials)||(o.withCredentials=!!e.withCredentials),e.responseType)try{o.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&o.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&o.upload&&o.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){o&&(o.abort(),i(e),o=null)})),void 0===n&&(n=null),o.send(n)}))},fa={"Content-Type":"application/x-www-form-urlencoded"};function pa(e,t){!ea.isUndefined(e)&&ea.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var _a,va={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(_a=da),_a),transformRequest:[function(e,t){return aa(t,"Accept"),aa(t,"Content-Type"),ea.isFormData(e)||ea.isArrayBuffer(e)||ea.isBuffer(e)||ea.isStream(e)||ea.isFile(e)||ea.isBlob(e)?e:ea.isArrayBufferView(e)?e.buffer:ea.isURLSearchParams(e)?(pa(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):ea.isObject(e)?(pa(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};va.headers={common:{Accept:"application/json, text/plain, */*"}},ea.forEach(["delete","get","head"],(function(e){va.headers[e]={}})),ea.forEach(["post","put","patch"],(function(e){va.headers[e]=ea.merge(fa)}));var ma=va;function ga(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var ya=function(e){return ga(e),e.headers=e.headers||{},e.data=oa(e.data,e.headers,e.transformRequest),e.headers=ea.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),ea.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||ma.adapter)(e).then((function(t){return ga(e),t.data=oa(t.data,t.headers,e.transformResponse),t}),(function(t){return sa(t)||(ga(e),t&&t.response&&(t.response.data=oa(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},ba=function(e,t){t=t||{};var i={},n=["url","method","params","data"],r=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];ea.forEach(n,(function(e){void 0!==t[e]&&(i[e]=t[e])})),ea.forEach(r,(function(n){ea.isObject(t[n])?i[n]=ea.deepMerge(e[n],t[n]):void 0!==t[n]?i[n]=t[n]:ea.isObject(e[n])?i[n]=ea.deepMerge(e[n]):void 0!==e[n]&&(i[n]=e[n])})),ea.forEach(o,(function(n){void 0!==t[n]?i[n]=t[n]:void 0!==e[n]&&(i[n]=e[n])}));var s=n.concat(r).concat(o),a=Object.keys(t).filter((function(e){return-1===s.indexOf(e)}));return ea.forEach(a,(function(n){void 0!==t[n]?i[n]=t[n]:void 0!==e[n]&&(i[n]=e[n])})),i};function wa(e){this.defaults=e,this.interceptors={request:new ra,response:new ra}}wa.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=ba(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[ya,void 0],i=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)i=i.then(t.shift(),t.shift());return i},wa.prototype.getUri=function(e){return e=ba(this.defaults,e),ia(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},ea.forEach(["delete","get","head","options"],(function(e){wa.prototype[e]=function(t,i){return this.request(ea.merge(i||{},{method:e,url:t}))}})),ea.forEach(["post","put","patch"],(function(e){wa.prototype[e]=function(t,i,n){return this.request(ea.merge(n||{},{method:e,url:t,data:i}))}}));var Ca=wa;function Sa(e){this.message=e}Sa.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Sa.prototype.__CANCEL__=!0;var ka=Sa;function Ea(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var i=this;e((function(e){i.reason||(i.reason=new ka(e),t(i.reason))}))}Ea.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Ea.source=function(){var e;return{token:new Ea((function(t){e=t})),cancel:e}};var xa=Ea;function La(e){var t=new Ca(e),i=Vs(Ca.prototype.request,t);return ea.extend(i,Ca.prototype,t),ea.extend(i,t),i}var Ma=La(ma);Ma.Axios=Ca,Ma.create=function(e){return La(ba(Ma.defaults,e))},Ma.Cancel=ka,Ma.CancelToken=xa,Ma.isCancel=sa,Ma.all=function(e){return Promise.all(e)},Ma.spread=function(e){return function(t){return e.apply(null,t)}};var Ta=Ma,Oa=Ma;Ta.default=Oa;var Ra=Ta,Aa=i(n((function(e,t){window,e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=33)}([function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.forwardEvent=t.EventEmitter=void 0;var n=function(){function e(){this._listeners=[],this._disposed=!1}return Object.defineProperty(e.prototype,"event",{get:function(){var e=this;return this._event||(this._event=function(t){return e._listeners.push(t),{dispose:function(){if(!e._disposed)for(var i=0;i<e._listeners.length;i++)if(e._listeners[i]===t)return void e._listeners.splice(i,1)}}}),this._event},enumerable:!1,configurable:!0}),e.prototype.fire=function(e,t){for(var i=[],n=0;n<this._listeners.length;n++)i.push(this._listeners[n]);for(n=0;n<i.length;n++)i[n].call(void 0,e,t)},e.prototype.dispose=function(){this._listeners&&(this._listeners.length=0),this._disposed=!0},e}();t.EventEmitter=n,t.forwardEvent=function(e,t){return e((function(e){return t.fire(e)}))}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.IUnicodeService=t.IOptionsService=t.ILogService=t.IInstantiationService=t.IDirtyRowService=t.ICharsetService=t.ICoreService=t.ICoreMouseService=t.IBufferService=void 0;var n=i(14);t.IBufferService=n.createDecorator("BufferService"),t.ICoreMouseService=n.createDecorator("CoreMouseService"),t.ICoreService=n.createDecorator("CoreService"),t.ICharsetService=n.createDecorator("CharsetService"),t.IDirtyRowService=n.createDecorator("DirtyRowService"),t.IInstantiationService=n.createDecorator("InstantiationService"),t.ILogService=n.createDecorator("LogService"),t.IOptionsService=n.createDecorator("OptionsService"),t.IUnicodeService=n.createDecorator("UnicodeService")},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.getDisposeArrayDisposable=t.disposeArray=t.Disposable=void 0;var n=function(){function e(){this._disposables=[],this._isDisposed=!1}return e.prototype.dispose=function(){this._isDisposed=!0,this._disposables.forEach((function(e){return e.dispose()})),this._disposables.length=0},e.prototype.register=function(e){return this._disposables.push(e),e},e.prototype.unregister=function(e){var t=this._disposables.indexOf(e);-1!==t&&this._disposables.splice(t,1)},e}();function r(e){e.forEach((function(e){return e.dispose()})),e.length=0}t.Disposable=n,t.disposeArray=r,t.getDisposeArrayDisposable=function(e){return{dispose:function(){return r(e)}}}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.WHITESPACE_CELL_CODE=t.WHITESPACE_CELL_WIDTH=t.WHITESPACE_CELL_CHAR=t.NULL_CELL_CODE=t.NULL_CELL_WIDTH=t.NULL_CELL_CHAR=t.CHAR_DATA_CODE_INDEX=t.CHAR_DATA_WIDTH_INDEX=t.CHAR_DATA_CHAR_INDEX=t.CHAR_DATA_ATTR_INDEX=t.DEFAULT_ATTR=t.DEFAULT_COLOR=void 0,t.DEFAULT_COLOR=256,t.DEFAULT_ATTR=256|t.DEFAULT_COLOR<<9,t.CHAR_DATA_ATTR_INDEX=0,t.CHAR_DATA_CHAR_INDEX=1,t.CHAR_DATA_WIDTH_INDEX=2,t.CHAR_DATA_CODE_INDEX=3,t.NULL_CELL_CHAR="",t.NULL_CELL_WIDTH=1,t.NULL_CELL_CODE=0,t.WHITESPACE_CELL_CHAR=" ",t.WHITESPACE_CELL_WIDTH=1,t.WHITESPACE_CELL_CODE=32},function(e,t,i){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.CellData=void 0;var o=i(8),s=i(3),a=i(6),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=0,t.fg=0,t.bg=0,t.extended=new a.ExtendedAttrs,t.combinedData="",t}return r(t,e),t.fromCharData=function(e){var i=new t;return i.setFromCharData(e),i},t.prototype.isCombined=function(){return 2097152&this.content},t.prototype.getWidth=function(){return this.content>>22},t.prototype.getChars=function(){return 2097152&this.content?this.combinedData:2097151&this.content?o.stringFromCodePoint(2097151&this.content):""},t.prototype.getCode=function(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content},t.prototype.setFromCharData=function(e){this.fg=e[s.CHAR_DATA_ATTR_INDEX],this.bg=0;var t=!1;if(e[s.CHAR_DATA_CHAR_INDEX].length>2)t=!0;else if(2===e[s.CHAR_DATA_CHAR_INDEX].length){var i=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=i&&i<=56319){var n=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=n&&n<=57343?this.content=1024*(i-55296)+n-56320+65536|e[s.CHAR_DATA_WIDTH_INDEX]<<22:t=!0}else t=!0}else this.content=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|e[s.CHAR_DATA_WIDTH_INDEX]<<22;t&&(this.combinedData=e[s.CHAR_DATA_CHAR_INDEX],this.content=2097152|e[s.CHAR_DATA_WIDTH_INDEX]<<22)},t.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},t}(a.AttributeData);t.CellData=c},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ISoundService=t.ISelectionService=t.IRenderService=t.IMouseService=t.ICoreBrowserService=t.ICharSizeService=void 0;var n=i(14);t.ICharSizeService=n.createDecorator("CharSizeService"),t.ICoreBrowserService=n.createDecorator("CoreBrowserService"),t.IMouseService=n.createDecorator("MouseService"),t.IRenderService=n.createDecorator("RenderService"),t.ISelectionService=n.createDecorator("SelectionService"),t.ISoundService=n.createDecorator("SoundService")},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedAttrs=t.AttributeData=void 0;var n=function(){function e(){this.fg=0,this.bg=0,this.extended=new r}return e.toColorRGB=function(e){return[e>>>16&255,e>>>8&255,255&e]},e.fromColorRGB=function(e){return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},e.prototype.clone=function(){var t=new e;return t.fg=this.fg,t.bg=this.bg,t.extended=this.extended.clone(),t},e.prototype.isInverse=function(){return 67108864&this.fg},e.prototype.isBold=function(){return 134217728&this.fg},e.prototype.isUnderline=function(){return 268435456&this.fg},e.prototype.isBlink=function(){return 536870912&this.fg},e.prototype.isInvisible=function(){return 1073741824&this.fg},e.prototype.isItalic=function(){return 67108864&this.bg},e.prototype.isDim=function(){return 134217728&this.bg},e.prototype.getFgColorMode=function(){return 50331648&this.fg},e.prototype.getBgColorMode=function(){return 50331648&this.bg},e.prototype.isFgRGB=function(){return 50331648==(50331648&this.fg)},e.prototype.isBgRGB=function(){return 50331648==(50331648&this.bg)},e.prototype.isFgPalette=function(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)},e.prototype.isBgPalette=function(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)},e.prototype.isFgDefault=function(){return 0==(50331648&this.fg)},e.prototype.isBgDefault=function(){return 0==(50331648&this.bg)},e.prototype.isAttributeDefault=function(){return 0===this.fg&&0===this.bg},e.prototype.getFgColor=function(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}},e.prototype.getBgColor=function(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}},e.prototype.hasExtendedAttrs=function(){return 268435456&this.bg},e.prototype.updateExtended=function(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456},e.prototype.getUnderlineColor=function(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()},e.prototype.getUnderlineColorMode=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()},e.prototype.isUnderlineColorRGB=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()},e.prototype.isUnderlineColorPalette=function(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()},e.prototype.isUnderlineColorDefault=function(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()},e.prototype.getUnderlineStyle=function(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0},e}();t.AttributeData=n;var r=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=-1),this.underlineStyle=e,this.underlineColor=t}return e.prototype.clone=function(){return new e(this.underlineStyle,this.underlineColor)},e.prototype.isEmpty=function(){return 0===this.underlineStyle},e}();t.ExtendedAttrs=r},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.addDisposableDomListener=void 0,t.addDisposableDomListener=function(e,t,i,n){e.addEventListener(t,i,n);var r=!1;return{dispose:function(){r||(r=!0,e.removeEventListener(t,i,n))}}}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.Utf8ToUtf32=t.StringToUtf32=t.utf32ToString=t.stringFromCodePoint=void 0,t.stringFromCodePoint=function(e){return e>65535?(e-=65536,String.fromCharCode(55296+(e>>10))+String.fromCharCode(e%1024+56320)):String.fromCharCode(e)},t.utf32ToString=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=e.length);for(var n="",r=t;r<i;++r){var o=e[r];o>65535?(o-=65536,n+=String.fromCharCode(55296+(o>>10))+String.fromCharCode(o%1024+56320)):n+=String.fromCharCode(o)}return n};var n=function(){function e(){this._interim=0}return e.prototype.clear=function(){this._interim=0},e.prototype.decode=function(e,t){var i=e.length;if(!i)return 0;var n=0,r=0;this._interim&&(56320<=(a=e.charCodeAt(r++))&&a<=57343?t[n++]=1024*(this._interim-55296)+a-56320+65536:(t[n++]=this._interim,t[n++]=a),this._interim=0);for(var o=r;o<i;++o){var s=e.charCodeAt(o);if(55296<=s&&s<=56319){if(++o>=i)return this._interim=s,n;var a;56320<=(a=e.charCodeAt(o))&&a<=57343?t[n++]=1024*(s-55296)+a-56320+65536:(t[n++]=s,t[n++]=a)}else t[n++]=s}return n},e}();t.StringToUtf32=n;var r=function(){function e(){this.interim=new Uint8Array(3)}return e.prototype.clear=function(){this.interim.fill(0)},e.prototype.decode=function(e,t){var i=e.length;if(!i)return 0;var n,r,o,s,a=0,c=0,l=0;if(this.interim[0]){var u=!1,h=this.interim[0];h&=192==(224&h)?31:224==(240&h)?15:7;for(var d=0,f=void 0;(f=63&this.interim[++d])&&d<4;)h<<=6,h|=f;for(var p=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,_=p-d;l<_;){if(l>=i)return 0;if(128!=(192&(f=e[l++]))){l--,u=!0;break}this.interim[d++]=f,h<<=6,h|=63&f}u||(2===p?h<128?l--:t[a++]=h:3===p?h<2048||h>=55296&&h<=57343||(t[a++]=h):h<65536||h>1114111||(t[a++]=h)),this.interim.fill(0)}for(var v=i-4,m=l;m<i;){for(;!(!(m<v)||128&(n=e[m])||128&(r=e[m+1])||128&(o=e[m+2])||128&(s=e[m+3]));)t[a++]=n,t[a++]=r,t[a++]=o,t[a++]=s,m+=4;if((n=e[m++])<128)t[a++]=n;else if(192==(224&n)){if(m>=i)return this.interim[0]=n,a;if(128!=(192&(r=e[m++]))){m--;continue}if((c=(31&n)<<6|63&r)<128){m--;continue}t[a++]=c}else if(224==(240&n)){if(m>=i)return this.interim[0]=n,a;if(128!=(192&(r=e[m++]))){m--;continue}if(m>=i)return this.interim[0]=n,this.interim[1]=r,a;if(128!=(192&(o=e[m++]))){m--;continue}if((c=(15&n)<<12|(63&r)<<6|63&o)<2048||c>=55296&&c<=57343)continue;t[a++]=c}else if(240==(248&n)){if(m>=i)return this.interim[0]=n,a;if(128!=(192&(r=e[m++]))){m--;continue}if(m>=i)return this.interim[0]=n,this.interim[1]=r,a;if(128!=(192&(o=e[m++]))){m--;continue}if(m>=i)return this.interim[0]=n,this.interim[1]=r,this.interim[2]=o,a;if(128!=(192&(s=e[m++]))){m--;continue}if((c=(7&n)<<18|(63&r)<<12|(63&o)<<6|63&s)<65536||c>1114111)continue;t[a++]=c}}return a},e}();t.Utf8ToUtf32=r},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CHAR_ATLAS_CELL_SPACING=t.DIM_OPACITY=t.INVERTED_DEFAULT_COLOR=void 0,t.INVERTED_DEFAULT_COLOR=257,t.DIM_OPACITY=.5,t.CHAR_ATLAS_CELL_SPACING=1},function(e,t,i){var n,r,o,s;function a(e){var t=e.toString(16);return t.length<2?"0"+t:t}function c(e,t){return e<t?(t+.05)/(e+.05):(e+.05)/(t+.05)}Object.defineProperty(t,"__esModule",{value:!0}),t.contrastRatio=t.toPaddedHex=t.rgba=t.rgb=t.css=t.color=t.channels=void 0,function(e){e.toCss=function(e,t,i,n){return void 0!==n?"#"+a(e)+a(t)+a(i)+a(n):"#"+a(e)+a(t)+a(i)},e.toRgba=function(e,t,i,n){return void 0===n&&(n=255),(e<<24|t<<16|i<<8|n)>>>0}}(n=t.channels||(t.channels={})),(r=t.color||(t.color={})).blend=function(e,t){var i=(255&t.rgba)/255;if(1===i)return{css:t.css,rgba:t.rgba};var r=t.rgba>>24&255,o=t.rgba>>16&255,s=t.rgba>>8&255,a=e.rgba>>24&255,c=e.rgba>>16&255,l=e.rgba>>8&255,u=a+Math.round((r-a)*i),h=c+Math.round((o-c)*i),d=l+Math.round((s-l)*i);return{css:n.toCss(u,h,d),rgba:n.toRgba(u,h,d)}},r.ensureContrastRatio=function(e,t,i){var n=s.ensureContrastRatio(e.rgba,t.rgba,i);if(n)return s.toColor(n>>24&255,n>>16&255,n>>8&255)},r.opaque=function(e){var t=(255|e.rgba)>>>0,i=s.toChannels(t),r=i[0],o=i[1],a=i[2];return{css:n.toCss(r,o,a),rgba:t}},(t.css||(t.css={})).toColor=function(e){return{css:e,rgba:(parseInt(e.slice(1),16)<<8|255)>>>0}},function(e){function t(e,t,i){var n=e/255,r=t/255,o=i/255;return.2126*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.7152*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))+.0722*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))}e.relativeLuminance=function(e){return t(e>>16&255,e>>8&255,255&e)},e.relativeLuminance2=t}(o=t.rgb||(t.rgb={})),function(e){function t(e,t,i){for(var n=e>>24&255,r=e>>16&255,s=e>>8&255,a=t>>24&255,l=t>>16&255,u=t>>8&255,h=c(o.relativeLuminance2(a,u,l),o.relativeLuminance2(n,r,s));h<i&&(a>0||l>0||u>0);)a-=Math.max(0,Math.ceil(.1*a)),l-=Math.max(0,Math.ceil(.1*l)),u-=Math.max(0,Math.ceil(.1*u)),h=c(o.relativeLuminance2(a,u,l),o.relativeLuminance2(n,r,s));return(a<<24|l<<16|u<<8|255)>>>0}function i(e,t,i){for(var n=e>>24&255,r=e>>16&255,s=e>>8&255,a=t>>24&255,l=t>>16&255,u=t>>8&255,h=c(o.relativeLuminance2(a,u,l),o.relativeLuminance2(n,r,s));h<i&&(a<255||l<255||u<255);)a=Math.min(255,a+Math.ceil(.1*(255-a))),l=Math.min(255,l+Math.ceil(.1*(255-l))),u=Math.min(255,u+Math.ceil(.1*(255-u))),h=c(o.relativeLuminance2(a,u,l),o.relativeLuminance2(n,r,s));return(a<<24|l<<16|u<<8|255)>>>0}e.ensureContrastRatio=function(e,n,r){var s=o.relativeLuminance(e>>8),a=o.relativeLuminance(n>>8);if(c(s,a)<r)return a<s?t(e,n,r):i(e,n,r)},e.reduceLuminance=t,e.increaseLuminance=i,e.toChannels=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},e.toColor=function(e,t,i){return{css:n.toCss(e,t,i),rgba:n.toRgba(e,t,i)}}}(s=t.rgba||(t.rgba={})),t.toPaddedHex=a,t.contrastRatio=c},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.isLinux=t.isWindows=t.isIphone=t.isIpad=t.isMac=t.isSafari=t.isFirefox=void 0;var n="undefined"==typeof navigator,r=n?"node":navigator.userAgent,o=n?"node":navigator.platform;function s(e,t){return e.indexOf(t)>=0}t.isFirefox=!!~r.indexOf("Firefox"),t.isSafari=/^((?!chrome|android).)*safari/i.test(r),t.isMac=s(["Macintosh","MacIntel","MacPPC","Mac68K"],o),t.isIpad="iPad"===o,t.isIphone="iPhone"===o,t.isWindows=s(["Windows","Win16","Win32","WinCE"],o),t.isLinux=o.indexOf("Linux")>=0},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.C1=t.C0=void 0,function(e){e.NUL="\0",e.SOH="",e.STX="",e.ETX="",e.EOT="",e.ENQ="",e.ACK="",e.BEL="",e.BS="\b",e.HT="\t",e.LF="\n",e.VT="\v",e.FF="\f",e.CR="\r",e.SO="",e.SI="",e.DLE="",e.DC1="",e.DC2="",e.DC3="",e.DC4="",e.NAK="",e.SYN="",e.ETB="",e.CAN="",e.EM="",e.SUB="",e.ESC="",e.FS="",e.GS="",e.RS="",e.US="",e.SP=" ",e.DEL=""}(t.C0||(t.C0={})),function(e){e.PAD="",e.HOP="",e.BPH="",e.NBH="",e.IND="",e.NEL="",e.SSA="",e.ESA="",e.HTS="",e.HTJ="",e.VTS="",e.PLD="",e.PLU="",e.RI="",e.SS2="",e.SS3="",e.DCS="",e.PU1="",e.PU2="",e.STS="",e.CCH="",e.MW="",e.SPA="",e.EPA="",e.SOS="",e.SGCI="",e.SCI="",e.CSI="",e.ST="",e.OSC="",e.PM="",e.APC=""}(t.C1||(t.C1={}))},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.BaseRenderLayer=void 0;var n=i(3),r=i(9),o=i(24),s=i(6),a=i(27),c=i(10),l=function(){function e(e,t,i,n,r,o,s,a){this._container=e,this._alpha=n,this._colors=r,this._rendererId=o,this._bufferService=s,this._optionsService=a,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._currentGlyphIdentifier={chars:"",code:0,bg:0,fg:0,bold:!1,dim:!1,italic:!1},this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-"+t+"-layer"),this._canvas.style.zIndex=i.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return e.prototype.dispose=function(){var e,t;null===(e=this._canvas.parentElement)||void 0===e||e.removeChild(this._canvas),null===(t=this._charAtlas)||void 0===t||t.dispose()},e.prototype._initCanvas=function(){this._ctx=a.throwIfFalsy(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()},e.prototype.onOptionsChanged=function(){},e.prototype.onBlur=function(){},e.prototype.onFocus=function(){},e.prototype.onCursorMove=function(){},e.prototype.onGridChanged=function(e,t){},e.prototype.onSelectionChanged=function(e,t,i){},e.prototype.setColors=function(e){this._refreshCharAtlas(e)},e.prototype._setTransparency=function(e){if(e!==this._alpha){var t=this._canvas;this._alpha=e,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,t),this._refreshCharAtlas(this._colors),this.onGridChanged(0,this._bufferService.rows-1)}},e.prototype._refreshCharAtlas=function(e){this._scaledCharWidth<=0&&this._scaledCharHeight<=0||(this._charAtlas=o.acquireCharAtlas(this._optionsService.options,this._rendererId,e,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},e.prototype.resize=function(e){this._scaledCellWidth=e.scaledCellWidth,this._scaledCellHeight=e.scaledCellHeight,this._scaledCharWidth=e.scaledCharWidth,this._scaledCharHeight=e.scaledCharHeight,this._scaledCharLeft=e.scaledCharLeft,this._scaledCharTop=e.scaledCharTop,this._canvas.width=e.scaledCanvasWidth,this._canvas.height=e.scaledCanvasHeight,this._canvas.style.width=e.canvasWidth+"px",this._canvas.style.height=e.canvasHeight+"px",this._alpha||this._clearAll(),this._refreshCharAtlas(this._colors)},e.prototype._fillCells=function(e,t,i,n){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,i*this._scaledCellWidth,n*this._scaledCellHeight)},e.prototype._fillBottomLineAtCells=function(e,t,i){void 0===i&&(i=1),this._ctx.fillRect(e*this._scaledCellWidth,(t+1)*this._scaledCellHeight-window.devicePixelRatio-1,i*this._scaledCellWidth,window.devicePixelRatio)},e.prototype._fillLeftLineAtCell=function(e,t,i){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,window.devicePixelRatio*i,this._scaledCellHeight)},e.prototype._strokeRectAtCell=function(e,t,i,n){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(e*this._scaledCellWidth+window.devicePixelRatio/2,t*this._scaledCellHeight+window.devicePixelRatio/2,i*this._scaledCellWidth-window.devicePixelRatio,n*this._scaledCellHeight-window.devicePixelRatio)},e.prototype._clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},e.prototype._clearCells=function(e,t,i,n){this._alpha?this._ctx.clearRect(e*this._scaledCellWidth,t*this._scaledCellHeight,i*this._scaledCellWidth,n*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,i*this._scaledCellWidth,n*this._scaledCellHeight))},e.prototype._fillCharTrueColor=function(e,t,i){this._ctx.font=this._getFont(!1,!1),this._ctx.textBaseline="middle",this._clipRow(i),this._ctx.fillText(e.getChars(),t*this._scaledCellWidth+this._scaledCharLeft,i*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight/2)},e.prototype._drawChars=function(e,t,i){var o,s,a=this._getContrastColor(e);a||e.isFgRGB()||e.isBgRGB()?this._drawUncachedChars(e,t,i,a):(e.isInverse()?(o=e.isBgDefault()?r.INVERTED_DEFAULT_COLOR:e.getBgColor(),s=e.isFgDefault()?r.INVERTED_DEFAULT_COLOR:e.getFgColor()):(s=e.isBgDefault()?n.DEFAULT_COLOR:e.getBgColor(),o=e.isFgDefault()?n.DEFAULT_COLOR:e.getFgColor()),o+=this._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&o<8?8:0,this._currentGlyphIdentifier.chars=e.getChars()||n.WHITESPACE_CELL_CHAR,this._currentGlyphIdentifier.code=e.getCode()||n.WHITESPACE_CELL_CODE,this._currentGlyphIdentifier.bg=s,this._currentGlyphIdentifier.fg=o,this._currentGlyphIdentifier.bold=!!e.isBold(),this._currentGlyphIdentifier.dim=!!e.isDim(),this._currentGlyphIdentifier.italic=!!e.isItalic(),this._charAtlas&&this._charAtlas.draw(this._ctx,this._currentGlyphIdentifier,t*this._scaledCellWidth+this._scaledCharLeft,i*this._scaledCellHeight+this._scaledCharTop)||this._drawUncachedChars(e,t,i))},e.prototype._drawUncachedChars=function(e,t,i,n){if(this._ctx.save(),this._ctx.font=this._getFont(!!e.isBold(),!!e.isItalic()),this._ctx.textBaseline="middle",e.isInverse())if(n)this._ctx.fillStyle=n.css;else if(e.isBgDefault())this._ctx.fillStyle=c.color.opaque(this._colors.background).css;else if(e.isBgRGB())this._ctx.fillStyle="rgb("+s.AttributeData.toColorRGB(e.getBgColor()).join(",")+")";else{var o=e.getBgColor();this._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&o<8&&(o+=8),this._ctx.fillStyle=this._colors.ansi[o].css}else if(n)this._ctx.fillStyle=n.css;else if(e.isFgDefault())this._ctx.fillStyle=this._colors.foreground.css;else if(e.isFgRGB())this._ctx.fillStyle="rgb("+s.AttributeData.toColorRGB(e.getFgColor()).join(",")+")";else{var a=e.getFgColor();this._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&a<8&&(a+=8),this._ctx.fillStyle=this._colors.ansi[a].css}this._clipRow(i),e.isDim()&&(this._ctx.globalAlpha=r.DIM_OPACITY),this._ctx.fillText(e.getChars(),t*this._scaledCellWidth+this._scaledCharLeft,i*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight/2),this._ctx.restore()},e.prototype._clipRow=function(e){this._ctx.beginPath(),this._ctx.rect(0,e*this._scaledCellHeight,this._bufferService.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},e.prototype._getFont=function(e,t){return(t?"italic":"")+" "+(e?this._optionsService.options.fontWeightBold:this._optionsService.options.fontWeight)+" "+this._optionsService.options.fontSize*window.devicePixelRatio+"px "+this._optionsService.options.fontFamily},e.prototype._getContrastColor=function(e){if(1!==this._optionsService.options.minimumContrastRatio){var t=this._colors.contrastCache.getColor(e.bg,e.fg);if(void 0!==t)return t||void 0;var i=e.getFgColor(),n=e.getFgColorMode(),r=e.getBgColor(),o=e.getBgColorMode(),s=!!e.isInverse(),a=!!e.isInverse();if(s){var l=i;i=r,r=l;var u=n;n=o,o=u}var h=this._resolveBackgroundRgba(o,r,s),d=this._resolveForegroundRgba(n,i,s,a),f=c.rgba.ensureContrastRatio(h,d,this._optionsService.options.minimumContrastRatio);if(f){var p={css:c.channels.toCss(f>>24&255,f>>16&255,f>>8&255),rgba:f};return this._colors.contrastCache.setColor(e.bg,e.fg,p),p}this._colors.contrastCache.setColor(e.bg,e.fg,null)}},e.prototype._resolveBackgroundRgba=function(e,t,i){switch(e){case 16777216:case 33554432:return this._colors.ansi[t].rgba;case 50331648:return t<<8;case 0:default:return i?this._colors.foreground.rgba:this._colors.background.rgba}},e.prototype._resolveForegroundRgba=function(e,t,i,n){switch(e){case 16777216:case 33554432:return this._optionsService.options.drawBoldTextInBrightColors&&n&&t<8&&(t+=8),this._colors.ansi[t].rgba;case 50331648:return t<<8;case 0:default:return i?this._colors.background.rgba:this._colors.foreground.rgba}},e}();t.BaseRenderLayer=l},function(e,t,i){function n(e,t,i){t.di$target===t?t.di$dependencies.push({id:e,index:i}):(t.di$dependencies=[{id:e,index:i}],t.di$target=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createDecorator=t.getServiceDependencies=t.serviceRegistry=void 0,t.serviceRegistry=new Map,t.getServiceDependencies=function(e){return e.di$dependencies||[]},t.createDecorator=function(e){if(t.serviceRegistry.has(e))return t.serviceRegistry.get(e);var i=function(e,t,r){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");n(i,e,r)};return i.toString=function(){return e},t.serviceRegistry.set(e,i),i}},function(e,t,i){function n(e,t,i,n){if(void 0===i&&(i=0),void 0===n&&(n=e.length),i>=e.length)return e;i=(e.length+i)%e.length,n=n>=e.length?e.length:(e.length+n)%e.length;for(var r=i;r<n;++r)e[r]=t;return e}Object.defineProperty(t,"__esModule",{value:!0}),t.concat=t.fillFallback=t.fill=void 0,t.fill=function(e,t,i,r){return e.fill?e.fill(t,i,r):n(e,t,i,r)},t.fillFallback=n,t.concat=function(e,t){var i=new e.constructor(e.length+t.length);return i.set(e),i.set(t,e.length),i}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.BufferLine=t.DEFAULT_ATTR_DATA=void 0;var n=i(8),r=i(3),o=i(4),s=i(6);t.DEFAULT_ATTR_DATA=Object.freeze(new s.AttributeData);var a=function(){function e(e,t,i){void 0===i&&(i=!1),this.isWrapped=i,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*e);for(var n=t||o.CellData.fromCharData([0,r.NULL_CELL_CHAR,r.NULL_CELL_WIDTH,r.NULL_CELL_CODE]),s=0;s<e;++s)this.setCell(s,n);this.length=e}return e.prototype.get=function(e){var t=this._data[3*e+0],i=2097151&t;return[this._data[3*e+1],2097152&t?this._combined[e]:i?n.stringFromCodePoint(i):"",t>>22,2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):i]},e.prototype.set=function(e,t){this._data[3*e+1]=t[r.CHAR_DATA_ATTR_INDEX],t[r.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[e]=t[1],this._data[3*e+0]=2097152|e|t[r.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*e+0]=t[r.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|t[r.CHAR_DATA_WIDTH_INDEX]<<22},e.prototype.getWidth=function(e){return this._data[3*e+0]>>22},e.prototype.hasWidth=function(e){return 12582912&this._data[3*e+0]},e.prototype.getFg=function(e){return this._data[3*e+1]},e.prototype.getBg=function(e){return this._data[3*e+2]},e.prototype.hasContent=function(e){return 4194303&this._data[3*e+0]},e.prototype.getCodePoint=function(e){var t=this._data[3*e+0];return 2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):2097151&t},e.prototype.isCombined=function(e){return 2097152&this._data[3*e+0]},e.prototype.getString=function(e){var t=this._data[3*e+0];return 2097152&t?this._combined[e]:2097151&t?n.stringFromCodePoint(2097151&t):""},e.prototype.loadCell=function(e,t){var i=3*e;return t.content=this._data[i+0],t.fg=this._data[i+1],t.bg=this._data[i+2],2097152&t.content&&(t.combinedData=this._combined[e]),268435456&t.bg&&(t.extended=this._extendedAttrs[e]),t},e.prototype.setCell=function(e,t){2097152&t.content&&(this._combined[e]=t.combinedData),268435456&t.bg&&(this._extendedAttrs[e]=t.extended),this._data[3*e+0]=t.content,this._data[3*e+1]=t.fg,this._data[3*e+2]=t.bg},e.prototype.setCellFromCodePoint=function(e,t,i,n,r,o){268435456&r&&(this._extendedAttrs[e]=o),this._data[3*e+0]=t|i<<22,this._data[3*e+1]=n,this._data[3*e+2]=r},e.prototype.addCodepointToCell=function(e,t){var i=this._data[3*e+0];2097152&i?this._combined[e]+=n.stringFromCodePoint(t):(2097151&i?(this._combined[e]=n.stringFromCodePoint(2097151&i)+n.stringFromCodePoint(t),i&=-2097152,i|=2097152):i=t|1<<22,this._data[3*e+0]=i)},e.prototype.insertCells=function(e,t,i,n){if((e%=this.length)&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==n?void 0:n.fg)||0,(null==n?void 0:n.bg)||0,(null==n?void 0:n.extended)||new s.ExtendedAttrs),t<this.length-e){for(var r=new o.CellData,a=this.length-e-t-1;a>=0;--a)this.setCell(e+t+a,this.loadCell(e+a,r));for(a=0;a<t;++a)this.setCell(e+a,i)}else for(a=e;a<this.length;++a)this.setCell(a,i);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,(null==n?void 0:n.fg)||0,(null==n?void 0:n.bg)||0,(null==n?void 0:n.extended)||new s.ExtendedAttrs)},e.prototype.deleteCells=function(e,t,i,n){if(e%=this.length,t<this.length-e){for(var r=new o.CellData,a=0;a<this.length-e-t;++a)this.setCell(e+a,this.loadCell(e+t+a,r));for(a=this.length-t;a<this.length;++a)this.setCell(a,i)}else for(a=e;a<this.length;++a)this.setCell(a,i);e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==n?void 0:n.fg)||0,(null==n?void 0:n.bg)||0,(null==n?void 0:n.extended)||new s.ExtendedAttrs),0!==this.getWidth(e)||this.hasContent(e)||this.setCellFromCodePoint(e,0,1,(null==n?void 0:n.fg)||0,(null==n?void 0:n.bg)||0,(null==n?void 0:n.extended)||new s.ExtendedAttrs)},e.prototype.replaceCells=function(e,t,i,n){for(e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==n?void 0:n.fg)||0,(null==n?void 0:n.bg)||0,(null==n?void 0:n.extended)||new s.ExtendedAttrs),t<this.length&&2===this.getWidth(t-1)&&this.setCellFromCodePoint(t,0,1,(null==n?void 0:n.fg)||0,(null==n?void 0:n.bg)||0,(null==n?void 0:n.extended)||new s.ExtendedAttrs);e<t&&e<this.length;)this.setCell(e++,i)},e.prototype.resize=function(e,t){if(e!==this.length){if(e>this.length){var i=new Uint32Array(3*e);this.length&&(3*e<this._data.length?i.set(this._data.subarray(0,3*e)):i.set(this._data)),this._data=i;for(var n=this.length;n<e;++n)this.setCell(n,t)}else if(e){(i=new Uint32Array(3*e)).set(this._data.subarray(0,3*e)),this._data=i;var r=Object.keys(this._combined);for(n=0;n<r.length;n++){var o=parseInt(r[n],10);o>=e&&delete this._combined[o]}}else this._data=new Uint32Array(0),this._combined={};this.length=e}},e.prototype.fill=function(e){this._combined={},this._extendedAttrs={};for(var t=0;t<this.length;++t)this.setCell(t,e)},e.prototype.copyFrom=function(e){for(var t in this.length!==e.length?this._data=new Uint32Array(e._data):this._data.set(e._data),this.length=e.length,this._combined={},e._combined)this._combined[t]=e._combined[t];for(var t in this._extendedAttrs={},e._extendedAttrs)this._extendedAttrs[t]=e._extendedAttrs[t];this.isWrapped=e.isWrapped},e.prototype.clone=function(){var t=new e(0);for(var i in t._data=new Uint32Array(this._data),t.length=this.length,this._combined)t._combined[i]=this._combined[i];for(var i in this._extendedAttrs)t._extendedAttrs[i]=this._extendedAttrs[i];return t.isWrapped=this.isWrapped,t},e.prototype.getTrimmedLength=function(){for(var e=this.length-1;e>=0;--e)if(4194303&this._data[3*e+0])return e+(this._data[3*e+0]>>22);return 0},e.prototype.copyCellsFrom=function(e,t,i,n,r){var o=e._data;if(r)for(var s=n-1;s>=0;s--)for(var a=0;a<3;a++)this._data[3*(i+s)+a]=o[3*(t+s)+a];else for(s=0;s<n;s++)for(a=0;a<3;a++)this._data[3*(i+s)+a]=o[3*(t+s)+a];var c=Object.keys(e._combined);for(a=0;a<c.length;a++){var l=parseInt(c[a],10);l>=t&&(this._combined[l-t+i]=e._combined[l])}},e.prototype.translateToString=function(e,t,i){void 0===e&&(e=!1),void 0===t&&(t=0),void 0===i&&(i=this.length),e&&(i=Math.min(i,this.getTrimmedLength()));for(var o="";t<i;){var s=this._data[3*t+0],a=2097151&s;o+=2097152&s?this._combined[t]:a?n.stringFromCodePoint(a):r.WHITESPACE_CELL_CHAR,t+=s>>22||1}return o},e}();t.BufferLine=a},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.tooMuchOutput=t.promptLabel=void 0,t.promptLabel="Terminal input",t.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},function(e,t,i){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.InputHandler=t.WindowsOptionsReportType=void 0;var o,s=i(12),a=i(19),c=i(38),l=i(2),u=i(15),h=i(8),d=i(16),f=i(0),p=i(3),_=i(4),v=i(6),m=i(21),g=i(23),y={"(":0,")":1,"*":2,"+":3,"-":1,".":2};function b(e,t){if(e>24)return t.setWinLines||!1;switch(e){case 1:return!!t.restoreWin;case 2:return!!t.minimizeWin;case 3:return!!t.setWinPosition;case 4:return!!t.setWinSizePixels;case 5:return!!t.raiseWin;case 6:return!!t.lowerWin;case 7:return!!t.refreshWin;case 8:return!!t.setWinSizeChars;case 9:return!!t.maximizeWin;case 10:return!!t.fullscreenWin;case 11:return!!t.getWinState;case 13:return!!t.getWinPosition;case 14:return!!t.getWinSizePixels;case 15:return!!t.getScreenSizePixels;case 16:return!!t.getCellSizePixels;case 18:return!!t.getWinSizeChars;case 19:return!!t.getScreenSizeChars;case 20:return!!t.getIconTitle;case 21:return!!t.getWinTitle;case 22:return!!t.pushTitle;case 23:return!!t.popTitle;case 24:return!!t.setWinLines}return!1}!function(e){e[e.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",e[e.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"}(o=t.WindowsOptionsReportType||(t.WindowsOptionsReportType={}));var w=function(){function e(e,t,i,n){this._bufferService=e,this._coreService=t,this._logService=i,this._optionsService=n,this._data=new Uint32Array(0)}return e.prototype.hook=function(e){this._data=new Uint32Array(0)},e.prototype.put=function(e,t,i){this._data=u.concat(this._data,e.subarray(t,i))},e.prototype.unhook=function(e){if(e){var t=h.utf32ToString(this._data);switch(this._data=new Uint32Array(0),t){case'"q':return this._coreService.triggerDataEvent(s.C0.ESC+'P1$r0"q'+s.C0.ESC+"\\");case'"p':return this._coreService.triggerDataEvent(s.C0.ESC+'P1$r61;1"p'+s.C0.ESC+"\\");case"r":var i=this._bufferService.buffer.scrollTop+1+";"+(this._bufferService.buffer.scrollBottom+1)+"r";return this._coreService.triggerDataEvent(s.C0.ESC+"P1$r"+i+s.C0.ESC+"\\");case"m":return this._coreService.triggerDataEvent(s.C0.ESC+"P1$r0m"+s.C0.ESC+"\\");case" q":var n={block:2,underline:4,bar:6}[this._optionsService.options.cursorStyle];return n-=this._optionsService.options.cursorBlink?1:0,this._coreService.triggerDataEvent(s.C0.ESC+"P1$r"+n+" q"+s.C0.ESC+"\\");default:this._logService.debug("Unknown DCS $q %s",t),this._coreService.triggerDataEvent(s.C0.ESC+"P0$r"+s.C0.ESC+"\\")}}else this._data=new Uint32Array(0)},e}(),C=function(e){function t(t,i,n,r,o,l,u,p,v){void 0===v&&(v=new c.EscapeSequenceParser);var g=e.call(this)||this;g._bufferService=t,g._charsetService=i,g._coreService=n,g._dirtyRowService=r,g._logService=o,g._optionsService=l,g._coreMouseService=u,g._unicodeService=p,g._parser=v,g._parseBuffer=new Uint32Array(4096),g._stringDecoder=new h.StringToUtf32,g._utf8Decoder=new h.Utf8ToUtf32,g._workCell=new _.CellData,g._windowTitle="",g._iconName="",g._windowTitleStack=[],g._iconNameStack=[],g._curAttrData=d.DEFAULT_ATTR_DATA.clone(),g._eraseAttrDataInternal=d.DEFAULT_ATTR_DATA.clone(),g._onRequestBell=new f.EventEmitter,g._onRequestRefreshRows=new f.EventEmitter,g._onRequestReset=new f.EventEmitter,g._onRequestScroll=new f.EventEmitter,g._onRequestSyncScrollBar=new f.EventEmitter,g._onRequestWindowsOptionsReport=new f.EventEmitter,g._onA11yChar=new f.EventEmitter,g._onA11yTab=new f.EventEmitter,g._onCursorMove=new f.EventEmitter,g._onLineFeed=new f.EventEmitter,g._onScroll=new f.EventEmitter,g._onTitleChange=new f.EventEmitter,g.register(g._parser),g._parser.setCsiHandlerFallback((function(e,t){g._logService.debug("Unknown CSI code: ",{identifier:g._parser.identToString(e),params:t.toArray()})})),g._parser.setEscHandlerFallback((function(e){g._logService.debug("Unknown ESC code: ",{identifier:g._parser.identToString(e)})})),g._parser.setExecuteHandlerFallback((function(e){g._logService.debug("Unknown EXECUTE code: ",{code:e})})),g._parser.setOscHandlerFallback((function(e,t,i){g._logService.debug("Unknown OSC code: ",{identifier:e,action:t,data:i})})),g._parser.setDcsHandlerFallback((function(e,t,i){"HOOK"===t&&(i=i.toArray()),g._logService.debug("Unknown DCS code: ",{identifier:g._parser.identToString(e),action:t,payload:i})})),g._parser.setPrintHandler((function(e,t,i){return g.print(e,t,i)})),g._parser.setCsiHandler({final:"@"},(function(e){return g.insertChars(e)})),g._parser.setCsiHandler({intermediates:" ",final:"@"},(function(e){return g.scrollLeft(e)})),g._parser.setCsiHandler({final:"A"},(function(e){return g.cursorUp(e)})),g._parser.setCsiHandler({intermediates:" ",final:"A"},(function(e){return g.scrollRight(e)})),g._parser.setCsiHandler({final:"B"},(function(e){return g.cursorDown(e)})),g._parser.setCsiHandler({final:"C"},(function(e){return g.cursorForward(e)})),g._parser.setCsiHandler({final:"D"},(function(e){return g.cursorBackward(e)})),g._parser.setCsiHandler({final:"E"},(function(e){return g.cursorNextLine(e)})),g._parser.setCsiHandler({final:"F"},(function(e){return g.cursorPrecedingLine(e)})),g._parser.setCsiHandler({final:"G"},(function(e){return g.cursorCharAbsolute(e)})),g._parser.setCsiHandler({final:"H"},(function(e){return g.cursorPosition(e)})),g._parser.setCsiHandler({final:"I"},(function(e){return g.cursorForwardTab(e)})),g._parser.setCsiHandler({final:"J"},(function(e){return g.eraseInDisplay(e)})),g._parser.setCsiHandler({prefix:"?",final:"J"},(function(e){return g.eraseInDisplay(e)})),g._parser.setCsiHandler({final:"K"},(function(e){return g.eraseInLine(e)})),g._parser.setCsiHandler({prefix:"?",final:"K"},(function(e){return g.eraseInLine(e)})),g._parser.setCsiHandler({final:"L"},(function(e){return g.insertLines(e)})),g._parser.setCsiHandler({final:"M"},(function(e){return g.deleteLines(e)})),g._parser.setCsiHandler({final:"P"},(function(e){return g.deleteChars(e)})),g._parser.setCsiHandler({final:"S"},(function(e){return g.scrollUp(e)})),g._parser.setCsiHandler({final:"T"},(function(e){return g.scrollDown(e)})),g._parser.setCsiHandler({final:"X"},(function(e){return g.eraseChars(e)})),g._parser.setCsiHandler({final:"Z"},(function(e){return g.cursorBackwardTab(e)})),g._parser.setCsiHandler({final:"`"},(function(e){return g.charPosAbsolute(e)})),g._parser.setCsiHandler({final:"a"},(function(e){return g.hPositionRelative(e)})),g._parser.setCsiHandler({final:"b"},(function(e){return g.repeatPrecedingCharacter(e)})),g._parser.setCsiHandler({final:"c"},(function(e){return g.sendDeviceAttributesPrimary(e)})),g._parser.setCsiHandler({prefix:">",final:"c"},(function(e){return g.sendDeviceAttributesSecondary(e)})),g._parser.setCsiHandler({final:"d"},(function(e){return g.linePosAbsolute(e)})),g._parser.setCsiHandler({final:"e"},(function(e){return g.vPositionRelative(e)})),g._parser.setCsiHandler({final:"f"},(function(e){return g.hVPosition(e)})),g._parser.setCsiHandler({final:"g"},(function(e){return g.tabClear(e)})),g._parser.setCsiHandler({final:"h"},(function(e){return g.setMode(e)})),g._parser.setCsiHandler({prefix:"?",final:"h"},(function(e){return g.setModePrivate(e)})),g._parser.setCsiHandler({final:"l"},(function(e){return g.resetMode(e)})),g._parser.setCsiHandler({prefix:"?",final:"l"},(function(e){return g.resetModePrivate(e)})),g._parser.setCsiHandler({final:"m"},(function(e){return g.charAttributes(e)})),g._parser.setCsiHandler({final:"n"},(function(e){return g.deviceStatus(e)})),g._parser.setCsiHandler({prefix:"?",final:"n"},(function(e){return g.deviceStatusPrivate(e)})),g._parser.setCsiHandler({intermediates:"!",final:"p"},(function(e){return g.softReset(e)})),g._parser.setCsiHandler({intermediates:" ",final:"q"},(function(e){return g.setCursorStyle(e)})),g._parser.setCsiHandler({final:"r"},(function(e){return g.setScrollRegion(e)})),g._parser.setCsiHandler({final:"s"},(function(e){return g.saveCursor(e)})),g._parser.setCsiHandler({final:"t"},(function(e){return g.windowOptions(e)})),g._parser.setCsiHandler({final:"u"},(function(e){return g.restoreCursor(e)})),g._parser.setCsiHandler({intermediates:"'",final:"}"},(function(e){return g.insertColumns(e)})),g._parser.setCsiHandler({intermediates:"'",final:"~"},(function(e){return g.deleteColumns(e)})),g._parser.setExecuteHandler(s.C0.BEL,(function(){return g.bell()})),g._parser.setExecuteHandler(s.C0.LF,(function(){return g.lineFeed()})),g._parser.setExecuteHandler(s.C0.VT,(function(){return g.lineFeed()})),g._parser.setExecuteHandler(s.C0.FF,(function(){return g.lineFeed()})),g._parser.setExecuteHandler(s.C0.CR,(function(){return g.carriageReturn()})),g._parser.setExecuteHandler(s.C0.BS,(function(){return g.backspace()})),g._parser.setExecuteHandler(s.C0.HT,(function(){return g.tab()})),g._parser.setExecuteHandler(s.C0.SO,(function(){return g.shiftOut()})),g._parser.setExecuteHandler(s.C0.SI,(function(){return g.shiftIn()})),g._parser.setExecuteHandler(s.C1.IND,(function(){return g.index()})),g._parser.setExecuteHandler(s.C1.NEL,(function(){return g.nextLine()})),g._parser.setExecuteHandler(s.C1.HTS,(function(){return g.tabSet()})),g._parser.setOscHandler(0,new m.OscHandler((function(e){g.setTitle(e),g.setIconName(e)}))),g._parser.setOscHandler(1,new m.OscHandler((function(e){return g.setIconName(e)}))),g._parser.setOscHandler(2,new m.OscHandler((function(e){return g.setTitle(e)}))),g._parser.setEscHandler({final:"7"},(function(){return g.saveCursor()})),g._parser.setEscHandler({final:"8"},(function(){return g.restoreCursor()})),g._parser.setEscHandler({final:"D"},(function(){return g.index()})),g._parser.setEscHandler({final:"E"},(function(){return g.nextLine()})),g._parser.setEscHandler({final:"H"},(function(){return g.tabSet()})),g._parser.setEscHandler({final:"M"},(function(){return g.reverseIndex()})),g._parser.setEscHandler({final:"="},(function(){return g.keypadApplicationMode()})),g._parser.setEscHandler({final:">"},(function(){return g.keypadNumericMode()})),g._parser.setEscHandler({final:"c"},(function(){return g.fullReset()})),g._parser.setEscHandler({final:"n"},(function(){return g.setgLevel(2)})),g._parser.setEscHandler({final:"o"},(function(){return g.setgLevel(3)})),g._parser.setEscHandler({final:"|"},(function(){return g.setgLevel(3)})),g._parser.setEscHandler({final:"}"},(function(){return g.setgLevel(2)})),g._parser.setEscHandler({final:"~"},(function(){return g.setgLevel(1)})),g._parser.setEscHandler({intermediates:"%",final:"@"},(function(){return g.selectDefaultCharset()})),g._parser.setEscHandler({intermediates:"%",final:"G"},(function(){return g.selectDefaultCharset()}));var y=function(e){b._parser.setEscHandler({intermediates:"(",final:e},(function(){return g.selectCharset("("+e)})),b._parser.setEscHandler({intermediates:")",final:e},(function(){return g.selectCharset(")"+e)})),b._parser.setEscHandler({intermediates:"*",final:e},(function(){return g.selectCharset("*"+e)})),b._parser.setEscHandler({intermediates:"+",final:e},(function(){return g.selectCharset("+"+e)})),b._parser.setEscHandler({intermediates:"-",final:e},(function(){return g.selectCharset("-"+e)})),b._parser.setEscHandler({intermediates:".",final:e},(function(){return g.selectCharset("."+e)})),b._parser.setEscHandler({intermediates:"/",final:e},(function(){return g.selectCharset("/"+e)}))},b=this;for(var C in a.CHARSETS)y(C);return g._parser.setEscHandler({intermediates:"#",final:"8"},(function(){return g.screenAlignmentPattern()})),g._parser.setErrorHandler((function(e){return g._logService.error("Parsing error: ",e),e})),g._parser.setDcsHandler({intermediates:"$",final:"q"},new w(g._bufferService,g._coreService,g._logService,g._optionsService)),g}return r(t,e),Object.defineProperty(t.prototype,"onRequestBell",{get:function(){return this._onRequestBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestRefreshRows",{get:function(){return this._onRequestRefreshRows.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestReset",{get:function(){return this._onRequestReset.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestScroll",{get:function(){return this._onRequestScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestSyncScrollBar",{get:function(){return this._onRequestSyncScrollBar.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestWindowsOptionsReport",{get:function(){return this._onRequestWindowsOptionsReport.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onA11yChar",{get:function(){return this._onA11yChar.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onA11yTab",{get:function(){return this._onA11yTab.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.parse=function(e){var t=this._bufferService.buffer,i=t.x,n=t.y;if(this._logService.debug("parsing data",e),this._parseBuffer.length<e.length&&this._parseBuffer.length<131072&&(this._parseBuffer=new Uint32Array(Math.min(e.length,131072))),this._dirtyRowService.clearRange(),e.length>131072)for(var r=0;r<e.length;r+=131072){var o=r+131072<e.length?r+131072:e.length,s="string"==typeof e?this._stringDecoder.decode(e.substring(r,o),this._parseBuffer):this._utf8Decoder.decode(e.subarray(r,o),this._parseBuffer);this._parser.parse(this._parseBuffer,s)}else s="string"==typeof e?this._stringDecoder.decode(e,this._parseBuffer):this._utf8Decoder.decode(e,this._parseBuffer),this._parser.parse(this._parseBuffer,s);(t=this._bufferService.buffer).x===i&&t.y===n||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowService.start,this._dirtyRowService.end)},t.prototype.print=function(e,t,i){var n,r,o=this._bufferService.buffer,s=this._charsetService.charset,a=this._optionsService.options.screenReaderMode,c=this._bufferService.cols,l=this._coreService.decPrivateModes.wraparound,u=this._coreService.modes.insertMode,d=this._curAttrData,f=o.lines.get(o.ybase+o.y);this._dirtyRowService.markDirty(o.y),o.x&&i-t>0&&2===f.getWidth(o.x-1)&&f.setCellFromCodePoint(o.x-1,0,1,d.fg,d.bg,d.extended);for(var _=t;_<i;++_){if(n=e[_],r=this._unicodeService.wcwidth(n),n<127&&s){var v=s[String.fromCharCode(n)];v&&(n=v.charCodeAt(0))}if(a&&this._onA11yChar.fire(h.stringFromCodePoint(n)),r||!o.x){if(o.x+r-1>=c)if(l){for(;o.x<c;)f.setCellFromCodePoint(o.x++,0,1,d.fg,d.bg,d.extended);o.x=0,o.y++,o.y===o.scrollBottom+1?(o.y--,this._onRequestScroll.fire(this._eraseAttrData(),!0)):(o.y>=this._bufferService.rows&&(o.y=this._bufferService.rows-1),o.lines.get(o.ybase+o.y).isWrapped=!0),f=o.lines.get(o.ybase+o.y)}else if(o.x=c-1,2===r)continue;if(u&&(f.insertCells(o.x,r,o.getNullCell(d),d),2===f.getWidth(c-1)&&f.setCellFromCodePoint(c-1,p.NULL_CELL_CODE,p.NULL_CELL_WIDTH,d.fg,d.bg,d.extended)),f.setCellFromCodePoint(o.x++,n,r,d.fg,d.bg,d.extended),r>0)for(;--r;)f.setCellFromCodePoint(o.x++,0,0,d.fg,d.bg,d.extended)}else f.getWidth(o.x-1)?f.addCodepointToCell(o.x-1,n):f.addCodepointToCell(o.x-2,n)}i-t>0&&(f.loadCell(o.x-1,this._workCell),2===this._workCell.getWidth()||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),o.x<c&&i-t>0&&0===f.getWidth(o.x)&&!f.hasContent(o.x)&&f.setCellFromCodePoint(o.x,0,1,d.fg,d.bg,d.extended),this._dirtyRowService.markDirty(o.y)},t.prototype.addCsiHandler=function(e,t){var i=this;return"t"!==e.final||e.prefix||e.intermediates?this._parser.addCsiHandler(e,t):this._parser.addCsiHandler(e,(function(e){return!b(e.params[0],i._optionsService.options.windowOptions)||t(e)}))},t.prototype.addDcsHandler=function(e,t){return this._parser.addDcsHandler(e,new g.DcsHandler(t))},t.prototype.addEscHandler=function(e,t){return this._parser.addEscHandler(e,t)},t.prototype.addOscHandler=function(e,t){return this._parser.addOscHandler(e,new m.OscHandler(t))},t.prototype.bell=function(){this._onRequestBell.fire()},t.prototype.lineFeed=function(){var e=this._bufferService.buffer;this._dirtyRowService.markDirty(e.y),this._optionsService.options.convertEol&&(e.x=0),e.y++,e.y===e.scrollBottom+1?(e.y--,this._onRequestScroll.fire(this._eraseAttrData())):e.y>=this._bufferService.rows&&(e.y=this._bufferService.rows-1),e.x>=this._bufferService.cols&&e.x--,this._dirtyRowService.markDirty(e.y),this._onLineFeed.fire()},t.prototype.carriageReturn=function(){this._bufferService.buffer.x=0},t.prototype.backspace=function(){var e,t=this._bufferService.buffer;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),void(t.x>0&&t.x--);if(this._restrictCursor(this._bufferService.cols),t.x>0)t.x--;else if(0===t.x&&t.y>t.scrollTop&&t.y<=t.scrollBottom&&(null===(e=t.lines.get(t.ybase+t.y))||void 0===e?void 0:e.isWrapped)){t.lines.get(t.ybase+t.y).isWrapped=!1,t.y--,t.x=this._bufferService.cols-1;var i=t.lines.get(t.ybase+t.y);i.hasWidth(t.x)&&!i.hasContent(t.x)&&t.x--}this._restrictCursor()},t.prototype.tab=function(){if(!(this._bufferService.buffer.x>=this._bufferService.cols)){var e=this._bufferService.buffer.x;this._bufferService.buffer.x=this._bufferService.buffer.nextStop(),this._optionsService.options.screenReaderMode&&this._onA11yTab.fire(this._bufferService.buffer.x-e)}},t.prototype.shiftOut=function(){this._charsetService.setgLevel(1)},t.prototype.shiftIn=function(){this._charsetService.setgLevel(0)},t.prototype._restrictCursor=function(e){void 0===e&&(e=this._bufferService.cols-1),this._bufferService.buffer.x=Math.min(e,Math.max(0,this._bufferService.buffer.x)),this._bufferService.buffer.y=this._coreService.decPrivateModes.origin?Math.min(this._bufferService.buffer.scrollBottom,Math.max(this._bufferService.buffer.scrollTop,this._bufferService.buffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._bufferService.buffer.y)),this._dirtyRowService.markDirty(this._bufferService.buffer.y)},t.prototype._setCursor=function(e,t){this._dirtyRowService.markDirty(this._bufferService.buffer.y),this._coreService.decPrivateModes.origin?(this._bufferService.buffer.x=e,this._bufferService.buffer.y=this._bufferService.buffer.scrollTop+t):(this._bufferService.buffer.x=e,this._bufferService.buffer.y=t),this._restrictCursor(),this._dirtyRowService.markDirty(this._bufferService.buffer.y)},t.prototype._moveCursor=function(e,t){this._restrictCursor(),this._setCursor(this._bufferService.buffer.x+e,this._bufferService.buffer.y+t)},t.prototype.cursorUp=function(e){var t=this._bufferService.buffer.y-this._bufferService.buffer.scrollTop;t>=0?this._moveCursor(0,-Math.min(t,e.params[0]||1)):this._moveCursor(0,-(e.params[0]||1))},t.prototype.cursorDown=function(e){var t=this._bufferService.buffer.scrollBottom-this._bufferService.buffer.y;t>=0?this._moveCursor(0,Math.min(t,e.params[0]||1)):this._moveCursor(0,e.params[0]||1)},t.prototype.cursorForward=function(e){this._moveCursor(e.params[0]||1,0)},t.prototype.cursorBackward=function(e){this._moveCursor(-(e.params[0]||1),0)},t.prototype.cursorNextLine=function(e){this.cursorDown(e),this._bufferService.buffer.x=0},t.prototype.cursorPrecedingLine=function(e){this.cursorUp(e),this._bufferService.buffer.x=0},t.prototype.cursorCharAbsolute=function(e){this._setCursor((e.params[0]||1)-1,this._bufferService.buffer.y)},t.prototype.cursorPosition=function(e){this._setCursor(e.length>=2?(e.params[1]||1)-1:0,(e.params[0]||1)-1)},t.prototype.charPosAbsolute=function(e){this._setCursor((e.params[0]||1)-1,this._bufferService.buffer.y)},t.prototype.hPositionRelative=function(e){this._moveCursor(e.params[0]||1,0)},t.prototype.linePosAbsolute=function(e){this._setCursor(this._bufferService.buffer.x,(e.params[0]||1)-1)},t.prototype.vPositionRelative=function(e){this._moveCursor(0,e.params[0]||1)},t.prototype.hVPosition=function(e){this.cursorPosition(e)},t.prototype.tabClear=function(e){var t=e.params[0];0===t?delete this._bufferService.buffer.tabs[this._bufferService.buffer.x]:3===t&&(this._bufferService.buffer.tabs={})},t.prototype.cursorForwardTab=function(e){if(!(this._bufferService.buffer.x>=this._bufferService.cols))for(var t=e.params[0]||1;t--;)this._bufferService.buffer.x=this._bufferService.buffer.nextStop()},t.prototype.cursorBackwardTab=function(e){if(!(this._bufferService.buffer.x>=this._bufferService.cols))for(var t=e.params[0]||1,i=this._bufferService.buffer;t--;)i.x=i.prevStop()},t.prototype._eraseInBufferLine=function(e,t,i,n){void 0===n&&(n=!1);var r=this._bufferService.buffer.lines.get(this._bufferService.buffer.ybase+e);r.replaceCells(t,i,this._bufferService.buffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),n&&(r.isWrapped=!1)},t.prototype._resetBufferLine=function(e){var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.ybase+e);t.fill(this._bufferService.buffer.getNullCell(this._eraseAttrData())),t.isWrapped=!1},t.prototype.eraseInDisplay=function(e){var t;switch(this._restrictCursor(),e.params[0]){case 0:for(t=this._bufferService.buffer.y,this._dirtyRowService.markDirty(t),this._eraseInBufferLine(t++,this._bufferService.buffer.x,this._bufferService.cols,0===this._bufferService.buffer.x);t<this._bufferService.rows;t++)this._resetBufferLine(t);this._dirtyRowService.markDirty(t);break;case 1:for(t=this._bufferService.buffer.y,this._dirtyRowService.markDirty(t),this._eraseInBufferLine(t,0,this._bufferService.buffer.x+1,!0),this._bufferService.buffer.x+1>=this._bufferService.cols&&(this._bufferService.buffer.lines.get(t+1).isWrapped=!1);t--;)this._resetBufferLine(t);this._dirtyRowService.markDirty(0);break;case 2:for(t=this._bufferService.rows,this._dirtyRowService.markDirty(t-1);t--;)this._resetBufferLine(t);this._dirtyRowService.markDirty(0);break;case 3:var i=this._bufferService.buffer.lines.length-this._bufferService.rows;i>0&&(this._bufferService.buffer.lines.trimStart(i),this._bufferService.buffer.ybase=Math.max(this._bufferService.buffer.ybase-i,0),this._bufferService.buffer.ydisp=Math.max(this._bufferService.buffer.ydisp-i,0),this._onScroll.fire(0))}},t.prototype.eraseInLine=function(e){switch(this._restrictCursor(),e.params[0]){case 0:this._eraseInBufferLine(this._bufferService.buffer.y,this._bufferService.buffer.x,this._bufferService.cols);break;case 1:this._eraseInBufferLine(this._bufferService.buffer.y,0,this._bufferService.buffer.x+1);break;case 2:this._eraseInBufferLine(this._bufferService.buffer.y,0,this._bufferService.cols)}this._dirtyRowService.markDirty(this._bufferService.buffer.y)},t.prototype.insertLines=function(e){this._restrictCursor();var t=e.params[0]||1,i=this._bufferService.buffer;if(!(i.y>i.scrollBottom||i.y<i.scrollTop)){for(var n=i.ybase+i.y,r=this._bufferService.rows-1-i.scrollBottom,o=this._bufferService.rows-1+i.ybase-r+1;t--;)i.lines.splice(o-1,1),i.lines.splice(n,0,i.getBlankLine(this._eraseAttrData()));this._dirtyRowService.markRangeDirty(i.y,i.scrollBottom),i.x=0}},t.prototype.deleteLines=function(e){this._restrictCursor();var t=e.params[0]||1,i=this._bufferService.buffer;if(!(i.y>i.scrollBottom||i.y<i.scrollTop)){var n,r=i.ybase+i.y;for(n=this._bufferService.rows-1-i.scrollBottom,n=this._bufferService.rows-1+i.ybase-n;t--;)i.lines.splice(r,1),i.lines.splice(n,0,i.getBlankLine(this._eraseAttrData()));this._dirtyRowService.markRangeDirty(i.y,i.scrollBottom),i.x=0}},t.prototype.insertChars=function(e){this._restrictCursor();var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.ybase+this._bufferService.buffer.y);t&&(t.insertCells(this._bufferService.buffer.x,e.params[0]||1,this._bufferService.buffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._bufferService.buffer.y))},t.prototype.deleteChars=function(e){this._restrictCursor();var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.ybase+this._bufferService.buffer.y);t&&(t.deleteCells(this._bufferService.buffer.x,e.params[0]||1,this._bufferService.buffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._bufferService.buffer.y))},t.prototype.scrollUp=function(e){for(var t=e.params[0]||1,i=this._bufferService.buffer;t--;)i.lines.splice(i.ybase+i.scrollTop,1),i.lines.splice(i.ybase+i.scrollBottom,0,i.getBlankLine(this._eraseAttrData()));this._dirtyRowService.markRangeDirty(i.scrollTop,i.scrollBottom)},t.prototype.scrollDown=function(e){for(var t=e.params[0]||1,i=this._bufferService.buffer;t--;)i.lines.splice(i.ybase+i.scrollBottom,1),i.lines.splice(i.ybase+i.scrollTop,0,i.getBlankLine(d.DEFAULT_ATTR_DATA));this._dirtyRowService.markRangeDirty(i.scrollTop,i.scrollBottom)},t.prototype.scrollLeft=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var i=e.params[0]||1,n=t.scrollTop;n<=t.scrollBottom;++n){var r=t.lines.get(t.ybase+n);r.deleteCells(0,i,t.getNullCell(this._eraseAttrData()),this._eraseAttrData()),r.isWrapped=!1}this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},t.prototype.scrollRight=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var i=e.params[0]||1,n=t.scrollTop;n<=t.scrollBottom;++n){var r=t.lines.get(t.ybase+n);r.insertCells(0,i,t.getNullCell(this._eraseAttrData()),this._eraseAttrData()),r.isWrapped=!1}this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},t.prototype.insertColumns=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var i=e.params[0]||1,n=t.scrollTop;n<=t.scrollBottom;++n){var r=this._bufferService.buffer.lines.get(t.ybase+n);r.insertCells(t.x,i,t.getNullCell(this._eraseAttrData()),this._eraseAttrData()),r.isWrapped=!1}this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},t.prototype.deleteColumns=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var i=e.params[0]||1,n=t.scrollTop;n<=t.scrollBottom;++n){var r=t.lines.get(t.ybase+n);r.deleteCells(t.x,i,t.getNullCell(this._eraseAttrData()),this._eraseAttrData()),r.isWrapped=!1}this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},t.prototype.eraseChars=function(e){this._restrictCursor();var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.ybase+this._bufferService.buffer.y);t&&(t.replaceCells(this._bufferService.buffer.x,this._bufferService.buffer.x+(e.params[0]||1),this._bufferService.buffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._bufferService.buffer.y))},t.prototype.repeatPrecedingCharacter=function(e){if(this._parser.precedingCodepoint){for(var t=e.params[0]||1,i=new Uint32Array(t),n=0;n<t;++n)i[n]=this._parser.precedingCodepoint;this.print(i,0,i.length)}},t.prototype.sendDeviceAttributesPrimary=function(e){e.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(s.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(s.C0.ESC+"[?6c"))},t.prototype.sendDeviceAttributesSecondary=function(e){e.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(s.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(s.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(e.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(s.C0.ESC+"[>83;40003;0c"))},t.prototype._is=function(e){return 0===(this._optionsService.options.termName+"").indexOf(e)},t.prototype.setMode=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!0}},t.prototype.setModePrivate=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,a.DEFAULT_CHARSET),this._charsetService.setgCharset(1,a.DEFAULT_CHARSET),this._charsetService.setgCharset(2,a.DEFAULT_CHARSET),this._charsetService.setgCharset(3,a.DEFAULT_CHARSET);break;case 3:this._optionsService.options.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0;break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}},t.prototype.resetMode=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!1}},t.prototype.resetModePrivate=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.options.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===e.params[t]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}},t.prototype._updateAttrColor=function(e,t,i,n,r){return 2===t?(e|=50331648,e&=-16777216,e|=v.AttributeData.fromColorRGB([i,n,r])):5===t&&(e&=-50331904,e|=33554432|255&i),e},t.prototype._extractColor=function(e,t,i){var n=[0,0,-1,0,0,0],r=0,o=0;do{if(n[o+r]=e.params[t+o],e.hasSubParams(t+o)){var s=e.getSubParams(t+o),a=0;do{5===n[1]&&(r=1),n[o+a+1+r]=s[a]}while(++a<s.length&&a+o+1+r<n.length);break}if(5===n[1]&&o+r>=2||2===n[1]&&o+r>=5)break;n[1]&&(r=1)}while(++o+t<e.length&&o+r<n.length);for(a=2;a<n.length;++a)-1===n[a]&&(n[a]=0);switch(n[0]){case 38:i.fg=this._updateAttrColor(i.fg,n[1],n[3],n[4],n[5]);break;case 48:i.bg=this._updateAttrColor(i.bg,n[1],n[3],n[4],n[5]);break;case 58:i.extended=i.extended.clone(),i.extended.underlineColor=this._updateAttrColor(i.extended.underlineColor,n[1],n[3],n[4],n[5])}return o},t.prototype._processUnderline=function(e,t){t.extended=t.extended.clone(),(!~e||e>5)&&(e=1),t.extended.underlineStyle=e,t.fg|=268435456,0===e&&(t.fg&=-268435457),t.updateExtended()},t.prototype.charAttributes=function(e){if(1===e.length&&0===e.params[0])return this._curAttrData.fg=d.DEFAULT_ATTR_DATA.fg,void(this._curAttrData.bg=d.DEFAULT_ATTR_DATA.bg);for(var t,i=e.length,n=this._curAttrData,r=0;r<i;r++)(t=e.params[r])>=30&&t<=37?(n.fg&=-50331904,n.fg|=16777216|t-30):t>=40&&t<=47?(n.bg&=-50331904,n.bg|=16777216|t-40):t>=90&&t<=97?(n.fg&=-50331904,n.fg|=16777224|t-90):t>=100&&t<=107?(n.bg&=-50331904,n.bg|=16777224|t-100):0===t?(n.fg=d.DEFAULT_ATTR_DATA.fg,n.bg=d.DEFAULT_ATTR_DATA.bg):1===t?n.fg|=134217728:3===t?n.bg|=67108864:4===t?(n.fg|=268435456,this._processUnderline(e.hasSubParams(r)?e.getSubParams(r)[0]:1,n)):5===t?n.fg|=536870912:7===t?n.fg|=67108864:8===t?n.fg|=1073741824:2===t?n.bg|=134217728:21===t?this._processUnderline(2,n):22===t?(n.fg&=-134217729,n.bg&=-134217729):23===t?n.bg&=-67108865:24===t?n.fg&=-268435457:25===t?n.fg&=-536870913:27===t?n.fg&=-67108865:28===t?n.fg&=-1073741825:39===t?(n.fg&=-67108864,n.fg|=16777215&d.DEFAULT_ATTR_DATA.fg):49===t?(n.bg&=-67108864,n.bg|=16777215&d.DEFAULT_ATTR_DATA.bg):38===t||48===t||58===t?r+=this._extractColor(e,r,n):59===t?(n.extended=n.extended.clone(),n.extended.underlineColor=-1,n.updateExtended()):100===t?(n.fg&=-67108864,n.fg|=16777215&d.DEFAULT_ATTR_DATA.fg,n.bg&=-67108864,n.bg|=16777215&d.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",t)},t.prototype.deviceStatus=function(e){switch(e.params[0]){case 5:this._coreService.triggerDataEvent(s.C0.ESC+"[0n");break;case 6:var t=this._bufferService.buffer.y+1,i=this._bufferService.buffer.x+1;this._coreService.triggerDataEvent(s.C0.ESC+"["+t+";"+i+"R")}},t.prototype.deviceStatusPrivate=function(e){switch(e.params[0]){case 6:var t=this._bufferService.buffer.y+1,i=this._bufferService.buffer.x+1;this._coreService.triggerDataEvent(s.C0.ESC+"[?"+t+";"+i+"R")}},t.prototype.softReset=function(e){this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._bufferService.buffer.scrollTop=0,this._bufferService.buffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._bufferService.buffer.savedX=0,this._bufferService.buffer.savedY=this._bufferService.buffer.ybase,this._bufferService.buffer.savedCurAttrData.fg=this._curAttrData.fg,this._bufferService.buffer.savedCurAttrData.bg=this._curAttrData.bg,this._bufferService.buffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1},t.prototype.setCursorStyle=function(e){var t=e.params[0]||1;switch(t){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}var i=t%2==1;this._optionsService.options.cursorBlink=i},t.prototype.setScrollRegion=function(e){var t,i=e.params[0]||1;(e.length<2||(t=e.params[1])>this._bufferService.rows||0===t)&&(t=this._bufferService.rows),t>i&&(this._bufferService.buffer.scrollTop=i-1,this._bufferService.buffer.scrollBottom=t-1,this._setCursor(0,0))},t.prototype.windowOptions=function(e){if(b(e.params[0],this._optionsService.options.windowOptions)){var t=e.length>1?e.params[1]:0;switch(e.params[0]){case 14:2!==t&&this._onRequestWindowsOptionsReport.fire(o.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(o.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(s.C0.ESC+"[8;"+this._bufferService.rows+";"+this._bufferService.cols+"t");break;case 22:0!==t&&2!==t||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==t&&1!==t||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==t&&2!==t||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==t&&1!==t||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}}},t.prototype.saveCursor=function(e){this._bufferService.buffer.savedX=this._bufferService.buffer.x,this._bufferService.buffer.savedY=this._bufferService.buffer.ybase+this._bufferService.buffer.y,this._bufferService.buffer.savedCurAttrData.fg=this._curAttrData.fg,this._bufferService.buffer.savedCurAttrData.bg=this._curAttrData.bg,this._bufferService.buffer.savedCharset=this._charsetService.charset},t.prototype.restoreCursor=function(e){this._bufferService.buffer.x=this._bufferService.buffer.savedX||0,this._bufferService.buffer.y=Math.max(this._bufferService.buffer.savedY-this._bufferService.buffer.ybase,0),this._curAttrData.fg=this._bufferService.buffer.savedCurAttrData.fg,this._curAttrData.bg=this._bufferService.buffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._bufferService.buffer.savedCharset&&(this._charsetService.charset=this._bufferService.buffer.savedCharset),this._restrictCursor()},t.prototype.setTitle=function(e){this._windowTitle=e,this._onTitleChange.fire(e)},t.prototype.setIconName=function(e){this._iconName=e},t.prototype.nextLine=function(){this._bufferService.buffer.x=0,this.index()},t.prototype.keypadApplicationMode=function(){this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire()},t.prototype.keypadNumericMode=function(){this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire()},t.prototype.selectDefaultCharset=function(){this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,a.DEFAULT_CHARSET)},t.prototype.selectCharset=function(e){2===e.length?"/"!==e[0]&&this._charsetService.setgCharset(y[e[0]],a.CHARSETS[e[1]]||a.DEFAULT_CHARSET):this.selectDefaultCharset()},t.prototype.index=function(){this._restrictCursor();var e=this._bufferService.buffer;this._bufferService.buffer.y++,e.y===e.scrollBottom+1?(e.y--,this._onRequestScroll.fire(this._eraseAttrData())):e.y>=this._bufferService.rows&&(e.y=this._bufferService.rows-1),this._restrictCursor()},t.prototype.tabSet=function(){this._bufferService.buffer.tabs[this._bufferService.buffer.x]=!0},t.prototype.reverseIndex=function(){this._restrictCursor();var e=this._bufferService.buffer;if(e.y===e.scrollTop){var t=e.scrollBottom-e.scrollTop;e.lines.shiftElements(e.ybase+e.y,t,1),e.lines.set(e.ybase+e.y,e.getBlankLine(this._eraseAttrData())),this._dirtyRowService.markRangeDirty(e.scrollTop,e.scrollBottom)}else e.y--,this._restrictCursor()},t.prototype.fullReset=function(){this._parser.reset(),this._onRequestReset.fire()},t.prototype.reset=function(){this._curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=d.DEFAULT_ATTR_DATA.clone()},t.prototype._eraseAttrData=function(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal},t.prototype.setgLevel=function(e){this._charsetService.setgLevel(e)},t.prototype.screenAlignmentPattern=function(){var e=new _.CellData;e.content=1<<22|"E".charCodeAt(0),e.fg=this._curAttrData.fg,e.bg=this._curAttrData.bg;var t=this._bufferService.buffer;this._setCursor(0,0);for(var i=0;i<this._bufferService.rows;++i){var n=t.ybase+t.y+i,r=t.lines.get(n);r&&(r.fill(e),r.isWrapped=!1)}this._dirtyRowService.markAllDirty(),this._setCursor(0,0)},t}(l.Disposable);t.InputHandler=C},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CHARSET=t.CHARSETS=void 0,t.CHARSETS={},t.DEFAULT_CHARSET=t.CHARSETS.B,t.CHARSETS[0]={"`":"◆",a:"▒",b:"␉",c:"␌",d:"␍",e:"␊",f:"°",g:"±",h:"␤",i:"␋",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},t.CHARSETS.A={"#":"£"},t.CHARSETS.B=void 0,t.CHARSETS[4]={"#":"£","@":"¾","[":"ij","\\":"½","]":"|","{":"¨","|":"f","}":"¼","~":"´"},t.CHARSETS.C=t.CHARSETS[5]={"[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},t.CHARSETS.R={"#":"£","@":"à","[":"°","\\":"ç","]":"§","{":"é","|":"ù","}":"è","~":"¨"},t.CHARSETS.Q={"@":"à","[":"â","\\":"ç","]":"ê","^":"î","`":"ô","{":"é","|":"ù","}":"è","~":"û"},t.CHARSETS.K={"@":"§","[":"Ä","\\":"Ö","]":"Ü","{":"ä","|":"ö","}":"ü","~":"ß"},t.CHARSETS.Y={"#":"£","@":"§","[":"°","\\":"ç","]":"é","`":"ù","{":"à","|":"ò","}":"è","~":"ì"},t.CHARSETS.E=t.CHARSETS[6]={"@":"Ä","[":"Æ","\\":"Ø","]":"Å","^":"Ü","`":"ä","{":"æ","|":"ø","}":"å","~":"ü"},t.CHARSETS.Z={"#":"£","@":"§","[":"¡","\\":"Ñ","]":"¿","{":"°","|":"ñ","}":"ç"},t.CHARSETS.H=t.CHARSETS[7]={"@":"É","[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},t.CHARSETS["="]={"#":"ù","@":"à","[":"é","\\":"ç","]":"ê","^":"î",_:"è","`":"ô","{":"ä","|":"ö","}":"ü","~":"û"}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.Params=void 0;var n=function(){function e(e,t){if(void 0===e&&(e=32),void 0===t&&(t=32),this.maxLength=e,this.maxSubParamsLength=t,t>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(e),this.length=0,this._subParams=new Int32Array(t),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(e),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}return e.fromArray=function(t){var i=new e;if(!t.length)return i;for(var n=t[0]instanceof Array?1:0;n<t.length;++n){var r=t[n];if(r instanceof Array)for(var o=0;o<r.length;++o)i.addSubParam(r[o]);else i.addParam(r)}return i},e.prototype.clone=function(){var t=new e(this.maxLength,this.maxSubParamsLength);return t.params.set(this.params),t.length=this.length,t._subParams.set(this._subParams),t._subParamsLength=this._subParamsLength,t._subParamsIdx.set(this._subParamsIdx),t._rejectDigits=this._rejectDigits,t._rejectSubDigits=this._rejectSubDigits,t._digitIsSub=this._digitIsSub,t},e.prototype.toArray=function(){for(var e=[],t=0;t<this.length;++t){e.push(this.params[t]);var i=this._subParamsIdx[t]>>8,n=255&this._subParamsIdx[t];n-i>0&&e.push(Array.prototype.slice.call(this._subParams,i,n))}return e},e.prototype.reset=function(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1},e.prototype.addParam=function(e){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=e>2147483647?2147483647:e}},e.prototype.addSubParam=function(e){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=e>2147483647?2147483647:e,this._subParamsIdx[this.length-1]++}},e.prototype.hasSubParams=function(e){return(255&this._subParamsIdx[e])-(this._subParamsIdx[e]>>8)>0},e.prototype.getSubParams=function(e){var t=this._subParamsIdx[e]>>8,i=255&this._subParamsIdx[e];return i-t>0?this._subParams.subarray(t,i):null},e.prototype.getSubParamsAll=function(){for(var e={},t=0;t<this.length;++t){var i=this._subParamsIdx[t]>>8,n=255&this._subParamsIdx[t];n-i>0&&(e[t]=this._subParams.slice(i,n))}return e},e.prototype.addDigit=function(e){var t;if(!(this._rejectDigits||!(t=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)){var i=this._digitIsSub?this._subParams:this.params,n=i[t-1];i[t-1]=~n?Math.min(10*n+e,2147483647):e}},e}();t.Params=n},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.OscHandler=t.OscParser=void 0;var n=i(22),r=i(8),o=function(){function e(){this._state=0,this._id=-1,this._handlers=Object.create(null),this._handlerFb=function(){}}return e.prototype.addHandler=function(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);var i=this._handlers[e];return i.push(t),{dispose:function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}}},e.prototype.setHandler=function(e,t){this._handlers[e]=[t]},e.prototype.clearHandler=function(e){this._handlers[e]&&delete this._handlers[e]},e.prototype.setHandlerFallback=function(e){this._handlerFb=e},e.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){}},e.prototype.reset=function(){2===this._state&&this.end(!1),this._id=-1,this._state=0},e.prototype._start=function(){var e=this._handlers[this._id];if(e)for(var t=e.length-1;t>=0;t--)e[t].start();else this._handlerFb(this._id,"START")},e.prototype._put=function(e,t,i){var n=this._handlers[this._id];if(n)for(var o=n.length-1;o>=0;o--)n[o].put(e,t,i);else this._handlerFb(this._id,"PUT",r.utf32ToString(e,t,i))},e.prototype._end=function(e){var t=this._handlers[this._id];if(t){for(var i=t.length-1;i>=0&&!1===t[i].end(e);i--);for(i--;i>=0;i--)t[i].end(!1)}else this._handlerFb(this._id,"END",e)},e.prototype.start=function(){this.reset(),this._id=-1,this._state=1},e.prototype.put=function(e,t,i){if(3!==this._state){if(1===this._state)for(;t<i;){var n=e[t++];if(59===n){this._state=2,this._start();break}if(n<48||57<n)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+n-48}2===this._state&&i-t>0&&this._put(e,t,i)}},e.prototype.end=function(e){0!==this._state&&(3!==this._state&&(1===this._state&&this._start(),this._end(e)),this._id=-1,this._state=0)},e}();t.OscParser=o;var s=function(){function e(e){this._handler=e,this._data="",this._hitLimit=!1}return e.prototype.start=function(){this._data="",this._hitLimit=!1},e.prototype.put=function(e,t,i){this._hitLimit||(this._data+=r.utf32ToString(e,t,i),this._data.length>n.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},e.prototype.end=function(e){var t;return this._hitLimit?t=!1:e&&(t=this._handler(this._data)),this._data="",this._hitLimit=!1,t},e}();t.OscHandler=s},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PAYLOAD_LIMIT=void 0,t.PAYLOAD_LIMIT=1e7},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.DcsHandler=t.DcsParser=void 0;var n=i(8),r=i(20),o=i(22),s=[],a=function(){function e(){this._handlers=Object.create(null),this._active=s,this._ident=0,this._handlerFb=function(){}}return e.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){}},e.prototype.addHandler=function(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);var i=this._handlers[e];return i.push(t),{dispose:function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}}},e.prototype.setHandler=function(e,t){this._handlers[e]=[t]},e.prototype.clearHandler=function(e){this._handlers[e]&&delete this._handlers[e]},e.prototype.setHandlerFallback=function(e){this._handlerFb=e},e.prototype.reset=function(){this._active.length&&this.unhook(!1),this._active=s,this._ident=0},e.prototype.hook=function(e,t){if(this.reset(),this._ident=e,this._active=this._handlers[e]||s,this._active.length)for(var i=this._active.length-1;i>=0;i--)this._active[i].hook(t);else this._handlerFb(this._ident,"HOOK",t)},e.prototype.put=function(e,t,i){if(this._active.length)for(var r=this._active.length-1;r>=0;r--)this._active[r].put(e,t,i);else this._handlerFb(this._ident,"PUT",n.utf32ToString(e,t,i))},e.prototype.unhook=function(e){if(this._active.length){for(var t=this._active.length-1;t>=0&&!1===this._active[t].unhook(e);t--);for(t--;t>=0;t--)this._active[t].unhook(!1)}else this._handlerFb(this._ident,"UNHOOK",e);this._active=s,this._ident=0},e}();t.DcsParser=a;var c=function(){function e(e){this._handler=e,this._data="",this._hitLimit=!1}return e.prototype.hook=function(e){this._params=e.clone(),this._data="",this._hitLimit=!1},e.prototype.put=function(e,t,i){this._hitLimit||(this._data+=n.utf32ToString(e,t,i),this._data.length>o.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},e.prototype.unhook=function(e){var t;return this._hitLimit?t=!1:e&&(t=this._handler(this._data,this._params?this._params:new r.Params)),this._params=void 0,this._data="",this._hitLimit=!1,t},e}();t.DcsHandler=c},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.removeTerminalFromCache=t.acquireCharAtlas=void 0;var n=i(25),r=i(42),o=[];t.acquireCharAtlas=function(e,t,i,s,a){for(var c=n.generateConfig(s,a,e,i),l=0;l<o.length;l++){var u=(h=o[l]).ownedBy.indexOf(t);if(u>=0){if(n.configEquals(h.config,c))return h.atlas;1===h.ownedBy.length?(h.atlas.dispose(),o.splice(l,1)):h.ownedBy.splice(u,1);break}}for(l=0;l<o.length;l++){var h=o[l];if(n.configEquals(h.config,c))return h.ownedBy.push(t),h.atlas}var d={atlas:new r.DynamicCharAtlas(document,c),config:c,ownedBy:[t]};return o.push(d),d.atlas},t.removeTerminalFromCache=function(e){for(var t=0;t<o.length;t++){var i=o[t].ownedBy.indexOf(e);if(-1!==i){1===o[t].ownedBy.length?(o[t].atlas.dispose(),o.splice(t,1)):o[t].ownedBy.splice(i,1);break}}}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.is256Color=t.configEquals=t.generateConfig=void 0;var n=i(3);t.generateConfig=function(e,t,i,n){var r={foreground:n.foreground,background:n.background,cursor:void 0,cursorAccent:void 0,selection:void 0,ansi:n.ansi.slice(0,16)};return{devicePixelRatio:window.devicePixelRatio,scaledCharWidth:e,scaledCharHeight:t,fontFamily:i.fontFamily,fontSize:i.fontSize,fontWeight:i.fontWeight,fontWeightBold:i.fontWeightBold,allowTransparency:i.allowTransparency,colors:r}},t.configEquals=function(e,t){for(var i=0;i<e.colors.ansi.length;i++)if(e.colors.ansi[i].rgba!==t.colors.ansi[i].rgba)return!1;return e.devicePixelRatio===t.devicePixelRatio&&e.fontFamily===t.fontFamily&&e.fontSize===t.fontSize&&e.fontWeight===t.fontWeight&&e.fontWeightBold===t.fontWeightBold&&e.allowTransparency===t.allowTransparency&&e.scaledCharWidth===t.scaledCharWidth&&e.scaledCharHeight===t.scaledCharHeight&&e.colors.foreground===t.colors.foreground&&e.colors.background===t.colors.background},t.is256Color=function(e){return e<n.DEFAULT_COLOR}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorManager=t.DEFAULT_ANSI_COLORS=void 0;var n=i(10),r=i(44),o=n.css.toColor("#ffffff"),s=n.css.toColor("#000000"),a=n.css.toColor("#ffffff"),c=n.css.toColor("#000000"),l={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};t.DEFAULT_ANSI_COLORS=function(){for(var e=[n.css.toColor("#2e3436"),n.css.toColor("#cc0000"),n.css.toColor("#4e9a06"),n.css.toColor("#c4a000"),n.css.toColor("#3465a4"),n.css.toColor("#75507b"),n.css.toColor("#06989a"),n.css.toColor("#d3d7cf"),n.css.toColor("#555753"),n.css.toColor("#ef2929"),n.css.toColor("#8ae234"),n.css.toColor("#fce94f"),n.css.toColor("#729fcf"),n.css.toColor("#ad7fa8"),n.css.toColor("#34e2e2"),n.css.toColor("#eeeeec")],t=[0,95,135,175,215,255],i=0;i<216;i++){var r=t[i/36%6|0],o=t[i/6%6|0],s=t[i%6];e.push({css:n.channels.toCss(r,o,s),rgba:n.channels.toRgba(r,o,s)})}for(i=0;i<24;i++){var a=8+10*i;e.push({css:n.channels.toCss(a,a,a),rgba:n.channels.toRgba(a,a,a)})}return e}();var u=function(){function e(e,i){this.allowTransparency=i;var u=e.createElement("canvas");u.width=1,u.height=1;var h=u.getContext("2d");if(!h)throw new Error("Could not get rendering context");this._ctx=h,this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this._contrastCache=new r.ColorContrastCache,this.colors={foreground:o,background:s,cursor:a,cursorAccent:c,selection:l,selectionOpaque:n.color.blend(s,l),ansi:t.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache}}return e.prototype.onOptionsChange=function(e){"minimumContrastRatio"===e&&this._contrastCache.clear()},e.prototype.setTheme=function(e){void 0===e&&(e={}),this.colors.foreground=this._parseColor(e.foreground,o),this.colors.background=this._parseColor(e.background,s),this.colors.cursor=this._parseColor(e.cursor,a,!0),this.colors.cursorAccent=this._parseColor(e.cursorAccent,c,!0),this.colors.selection=this._parseColor(e.selection,l,!0),this.colors.selectionOpaque=n.color.blend(this.colors.background,this.colors.selection),this.colors.ansi[0]=this._parseColor(e.black,t.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(e.red,t.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(e.green,t.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(e.yellow,t.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(e.blue,t.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(e.magenta,t.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(e.cyan,t.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(e.white,t.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(e.brightBlack,t.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(e.brightRed,t.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(e.brightGreen,t.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(e.brightYellow,t.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(e.brightBlue,t.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(e.brightMagenta,t.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(e.brightCyan,t.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(e.brightWhite,t.DEFAULT_ANSI_COLORS[15]),this._contrastCache.clear()},e.prototype._parseColor=function(e,t,i){if(void 0===i&&(i=this.allowTransparency),void 0===e)return t;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=e,"string"!=typeof this._ctx.fillStyle)return console.warn("Color: "+e+" is invalid using fallback "+t.css),t;this._ctx.fillRect(0,0,1,1);var r=this._ctx.getImageData(0,0,1,1).data;if(255!==r[3]){if(!i)return console.warn("Color: "+e+" is using transparency, but allowTransparency is false. Using fallback "+t.css+"."),t;var o=this._ctx.fillStyle.substring(5,this._ctx.fillStyle.length-1).split(",").map((function(e){return Number(e)})),s=o[0],a=o[1],c=o[2],l=o[3],u=Math.round(255*l);return{rgba:n.channels.toRgba(s,a,c,u),css:e}}return{css:this._ctx.fillStyle,rgba:n.channels.toRgba(r[0],r[1],r[2],r[3])}},e}();t.ColorManager=u},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.throwIfFalsy=void 0,t.throwIfFalsy=function(e){if(!e)throw new Error("value must not be falsy");return e}},function(e,t,i){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.CharacterJoinerRegistry=t.JoinedCellData=void 0;var o=i(6),s=i(3),a=i(4),c=function(e){function t(t,i,n){var r=e.call(this)||this;return r.content=0,r.combinedData="",r.fg=t.fg,r.bg=t.bg,r.combinedData=i,r._width=n,r}return r(t,e),t.prototype.isCombined=function(){return 2097152},t.prototype.getWidth=function(){return this._width},t.prototype.getChars=function(){return this.combinedData},t.prototype.getCode=function(){return 2097151},t.prototype.setFromCharData=function(e){throw new Error("not implemented")},t.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},t}(o.AttributeData);t.JoinedCellData=c;var l=function(){function e(e){this._bufferService=e,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new a.CellData}return e.prototype.registerCharacterJoiner=function(e){var t={id:this._nextCharacterJoinerId++,handler:e};return this._characterJoiners.push(t),t.id},e.prototype.deregisterCharacterJoiner=function(e){for(var t=0;t<this._characterJoiners.length;t++)if(this._characterJoiners[t].id===e)return this._characterJoiners.splice(t,1),!0;return!1},e.prototype.getJoinedCharacters=function(e){if(0===this._characterJoiners.length)return[];var t=this._bufferService.buffer.lines.get(e);if(!t||0===t.length)return[];for(var i=[],n=t.translateToString(!0),r=0,o=0,a=0,c=t.getFg(0),l=t.getBg(0),u=0;u<t.getTrimmedLength();u++)if(t.loadCell(u,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==c||this._workCell.bg!==l){if(u-r>1)for(var h=this._getJoinedRanges(n,a,o,t,r),d=0;d<h.length;d++)i.push(h[d]);r=u,a=o,c=this._workCell.fg,l=this._workCell.bg}o+=this._workCell.getChars().length||s.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-r>1)for(h=this._getJoinedRanges(n,a,o,t,r),d=0;d<h.length;d++)i.push(h[d]);return i},e.prototype._getJoinedRanges=function(t,i,n,r,o){for(var s=t.substring(i,n),a=this._characterJoiners[0].handler(s),c=1;c<this._characterJoiners.length;c++)for(var l=this._characterJoiners[c].handler(s),u=0;u<l.length;u++)e._mergeRanges(a,l[u]);return this._stringRangesToCellRanges(a,r,o),a},e.prototype._stringRangesToCellRanges=function(e,t,i){var n=0,r=!1,o=0,a=e[n];if(a){for(var c=i;c<this._bufferService.cols;c++){var l=t.getWidth(c),u=t.getString(c).length||s.WHITESPACE_CELL_CHAR.length;if(0!==l){if(!r&&a[0]<=o&&(a[0]=c,r=!0),a[1]<=o){if(a[1]=c,!(a=e[++n]))break;a[0]<=o?(a[0]=c,r=!0):r=!1}o+=u}}a&&(a[1]=this._bufferService.cols)}},e._mergeRanges=function(e,t){for(var i=!1,n=0;n<e.length;n++){var r=e[n];if(i){if(t[1]<=r[0])return e[n-1][1]=t[1],e;if(t[1]<=r[1])return e[n-1][1]=Math.max(t[1],r[1]),e.splice(n,1),e;e.splice(n,1),n--}else{if(t[1]<=r[0])return e.splice(n,0,t),e;if(t[1]<=r[1])return r[0]=Math.min(t[0],r[0]),e;t[0]<r[1]&&(r[0]=Math.min(t[0],r[0]),i=!0)}}return i?e[e.length-1][1]=t[1]:e.push(t),e},e}();t.CharacterJoinerRegistry=l},function(e,t,i){function n(e,t){var i=t.getBoundingClientRect();return[e.clientX-i.left,e.clientY-i.top]}Object.defineProperty(t,"__esModule",{value:!0}),t.getRawByteCoords=t.getCoords=t.getCoordsRelativeToElement=void 0,t.getCoordsRelativeToElement=n,t.getCoords=function(e,t,i,r,o,s,a,c){if(o){var l=n(e,t);if(l)return l[0]=Math.ceil((l[0]+(c?s/2:0))/s),l[1]=Math.ceil(l[1]/a),l[0]=Math.min(Math.max(l[0],1),i+(c?1:0)),l[1]=Math.min(Math.max(l[1],1),r),l}},t.getRawByteCoords=function(e){if(e)return{x:e[0]+32,y:e[1]+32}}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.RenderDebouncer=void 0;var n=function(){function e(e){this._renderCallback=e}return e.prototype.dispose=function(){this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.refresh=function(e,t,i){var n=this;this._rowCount=i,e=void 0!==e?e:0,t=void 0!==t?t:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,e):e,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,t):t,this._animationFrame||(this._animationFrame=window.requestAnimationFrame((function(){return n._innerRefresh()})))},e.prototype._innerRefresh=function(){if(void 0!==this._rowStart&&void 0!==this._rowEnd&&void 0!==this._rowCount){var e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._animationFrame=void 0,this._renderCallback(e,t)}},e}();t.RenderDebouncer=n},function(e,t,i){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenDprMonitor=void 0;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._currentDevicePixelRatio=window.devicePixelRatio,t}return r(t,e),t.prototype.setListener=function(e){var t=this;this._listener&&this.clearListener(),this._listener=e,this._outerListener=function(){t._listener&&(t._listener(window.devicePixelRatio,t._currentDevicePixelRatio),t._updateDpr())},this._updateDpr()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.clearListener()},t.prototype._updateDpr=function(){var e;this._outerListener&&(null===(e=this._resolutionMediaMatchList)||void 0===e||e.removeListener(this._outerListener),this._currentDevicePixelRatio=window.devicePixelRatio,this._resolutionMediaMatchList=window.matchMedia("screen and (resolution: "+window.devicePixelRatio+"dppx)"),this._resolutionMediaMatchList.addListener(this._outerListener))},t.prototype.clearListener=function(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)},t}(i(2).Disposable);t.ScreenDprMonitor=o},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.clone=void 0,t.clone=function e(t,i){if(void 0===i&&(i=5),"object"!=typeof t)return t;var n=Array.isArray(t)?[]:{};for(var r in t)n[r]=i<=1?t[r]:t[r]?e(t[r],i-1):t[r];return n}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.Terminal=void 0;var n=i(4),r=i(34),o=i(17),s=i(0),a=i(82),c=function(){function e(e){this._core=new r.Terminal(e),this._addonManager=new a.AddonManager}return e.prototype._checkProposedApi=function(){if(!this._core.optionsService.options.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")},Object.defineProperty(e.prototype,"onCursorMove",{get:function(){return this._core.onCursorMove},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onLineFeed",{get:function(){return this._core.onLineFeed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onSelectionChange",{get:function(){return this._core.onSelectionChange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onData",{get:function(){return this._core.onData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onBinary",{get:function(){return this._core.onBinary},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onTitleChange",{get:function(){return this._core.onTitleChange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onScroll",{get:function(){return this._core.onScroll},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onKey",{get:function(){return this._core.onKey},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRender",{get:function(){return this._core.onRender},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onResize",{get:function(){return this._core.onResize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._core.element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parser",{get:function(){return this._checkProposedApi(),this._parser||(this._parser=new d(this._core)),this._parser},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"unicode",{get:function(){return this._checkProposedApi(),new f(this._core)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textarea",{get:function(){return this._core.textarea},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._core.rows},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cols",{get:function(){return this._core.cols},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffer",{get:function(){return this._checkProposedApi(),new u(this._core.buffers)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"markers",{get:function(){return this._checkProposedApi(),this._core.markers},enumerable:!1,configurable:!0}),e.prototype.blur=function(){this._core.blur()},e.prototype.focus=function(){this._core.focus()},e.prototype.resize=function(e,t){this._verifyIntegers(e,t),this._core.resize(e,t)},e.prototype.open=function(e){this._core.open(e)},e.prototype.attachCustomKeyEventHandler=function(e){this._core.attachCustomKeyEventHandler(e)},e.prototype.registerLinkMatcher=function(e,t,i){return this._checkProposedApi(),this._core.registerLinkMatcher(e,t,i)},e.prototype.deregisterLinkMatcher=function(e){this._checkProposedApi(),this._core.deregisterLinkMatcher(e)},e.prototype.registerLinkProvider=function(e){return this._checkProposedApi(),this._core.registerLinkProvider(e)},e.prototype.registerCharacterJoiner=function(e){return this._checkProposedApi(),this._core.registerCharacterJoiner(e)},e.prototype.deregisterCharacterJoiner=function(e){this._checkProposedApi(),this._core.deregisterCharacterJoiner(e)},e.prototype.registerMarker=function(e){return this._checkProposedApi(),this._verifyIntegers(e),this._core.addMarker(e)},e.prototype.addMarker=function(e){return this.registerMarker(e)},e.prototype.hasSelection=function(){return this._core.hasSelection()},e.prototype.select=function(e,t,i){this._verifyIntegers(e,t,i),this._core.select(e,t,i)},e.prototype.getSelection=function(){return this._core.getSelection()},e.prototype.getSelectionPosition=function(){return this._core.getSelectionPosition()},e.prototype.clearSelection=function(){this._core.clearSelection()},e.prototype.selectAll=function(){this._core.selectAll()},e.prototype.selectLines=function(e,t){this._verifyIntegers(e,t),this._core.selectLines(e,t)},e.prototype.dispose=function(){this._addonManager.dispose(),this._core.dispose()},e.prototype.scrollLines=function(e){this._verifyIntegers(e),this._core.scrollLines(e)},e.prototype.scrollPages=function(e){this._verifyIntegers(e),this._core.scrollPages(e)},e.prototype.scrollToTop=function(){this._core.scrollToTop()},e.prototype.scrollToBottom=function(){this._core.scrollToBottom()},e.prototype.scrollToLine=function(e){this._verifyIntegers(e),this._core.scrollToLine(e)},e.prototype.clear=function(){this._core.clear()},e.prototype.write=function(e,t){this._core.write(e,t)},e.prototype.writeUtf8=function(e,t){this._core.write(e,t)},e.prototype.writeln=function(e,t){this._core.write(e),this._core.write("\r\n",t)},e.prototype.paste=function(e){this._core.paste(e)},e.prototype.getOption=function(e){return this._core.optionsService.getOption(e)},e.prototype.setOption=function(e,t){this._core.optionsService.setOption(e,t)},e.prototype.refresh=function(e,t){this._verifyIntegers(e,t),this._core.refresh(e,t)},e.prototype.reset=function(){this._core.reset()},e.prototype.loadAddon=function(e){return this._addonManager.loadAddon(this,e)},Object.defineProperty(e,"strings",{get:function(){return o},enumerable:!1,configurable:!0}),e.prototype._verifyIntegers=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.forEach((function(e){if(e===1/0||isNaN(e)||e%1!=0)throw new Error("This API only accepts integers")}))},e}();t.Terminal=c;var l=function(){function e(e,t){this._buffer=e,this.type=t}return e.prototype.init=function(e){return this._buffer=e,this},Object.defineProperty(e.prototype,"cursorY",{get:function(){return this._buffer.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursorX",{get:function(){return this._buffer.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewportY",{get:function(){return this._buffer.ydisp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseY",{get:function(){return this._buffer.ybase},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._buffer.lines.length},enumerable:!1,configurable:!0}),e.prototype.getLine=function(e){var t=this._buffer.lines.get(e);if(t)return new h(t)},e.prototype.getNullCell=function(){return new n.CellData},e}(),u=function(){function e(e){var t=this;this._buffers=e,this._onBufferChange=new s.EventEmitter,this._normal=new l(this._buffers.normal,"normal"),this._alternate=new l(this._buffers.alt,"alternate"),this._buffers.onBufferActivate((function(){return t._onBufferChange.fire(t.active)}))}return Object.defineProperty(e.prototype,"onBufferChange",{get:function(){return this._onBufferChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){if(this._buffers.active===this._buffers.normal)return this.normal;if(this._buffers.active===this._buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"normal",{get:function(){return this._normal.init(this._buffers.normal)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alternate",{get:function(){return this._alternate.init(this._buffers.alt)},enumerable:!1,configurable:!0}),e}(),h=function(){function e(e){this._line=e}return Object.defineProperty(e.prototype,"isWrapped",{get:function(){return this._line.isWrapped},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._line.length},enumerable:!1,configurable:!0}),e.prototype.getCell=function(e,t){if(!(e<0||e>=this._line.length))return t?(this._line.loadCell(e,t),t):this._line.loadCell(e,new n.CellData)},e.prototype.translateToString=function(e,t,i){return this._line.translateToString(e,t,i)},e}(),d=function(){function e(e){this._core=e}return e.prototype.registerCsiHandler=function(e,t){return this._core.addCsiHandler(e,(function(e){return t(e.toArray())}))},e.prototype.addCsiHandler=function(e,t){return this.registerCsiHandler(e,t)},e.prototype.registerDcsHandler=function(e,t){return this._core.addDcsHandler(e,(function(e,i){return t(e,i.toArray())}))},e.prototype.addDcsHandler=function(e,t){return this.registerDcsHandler(e,t)},e.prototype.registerEscHandler=function(e,t){return this._core.addEscHandler(e,t)},e.prototype.addEscHandler=function(e,t){return this.registerEscHandler(e,t)},e.prototype.registerOscHandler=function(e,t){return this._core.addOscHandler(e,t)},e.prototype.addOscHandler=function(e,t){return this.registerOscHandler(e,t)},e}(),f=function(){function e(e){this._core=e}return e.prototype.register=function(e){this._core.unicodeService.register(e)},Object.defineProperty(e.prototype,"versions",{get:function(){return this._core.unicodeService.versions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeVersion",{get:function(){return this._core.unicodeService.activeVersion},set:function(e){this._core.unicodeService.activeVersion=e},enumerable:!1,configurable:!0}),e}()},function(e,t,i){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.Terminal=void 0;var o=i(35),s=i(36),a=i(37),c=i(12),l=i(18),u=i(39),h=i(49),d=i(50),f=i(11),p=i(7),_=i(17),v=i(53),m=i(54),g=i(55),y=i(56),b=i(58),w=i(0),C=i(16),S=i(26),k=i(59),E=i(5),x=i(60),L=i(61),M=i(62),T=i(63),O=i(64),R="undefined"!=typeof window?window.document:null,A=function(e){function t(t){void 0===t&&(t={});var i=e.call(this,t)||this;return i.browser=f,i._keyDownHandled=!1,i._onCursorMove=new w.EventEmitter,i._onKey=new w.EventEmitter,i._onRender=new w.EventEmitter,i._onSelectionChange=new w.EventEmitter,i._onTitleChange=new w.EventEmitter,i._onFocus=new w.EventEmitter,i._onBlur=new w.EventEmitter,i._onA11yCharEmitter=new w.EventEmitter,i._onA11yTabEmitter=new w.EventEmitter,i._setup(),i.linkifier=i._instantiationService.createInstance(h.Linkifier),i.linkifier2=i.register(i._instantiationService.createInstance(M.Linkifier2)),i.register(i._inputHandler.onRequestBell((function(){return i.bell()}))),i.register(i._inputHandler.onRequestRefreshRows((function(e,t){return i.refresh(e,t)}))),i.register(i._inputHandler.onRequestReset((function(){return i.reset()}))),i.register(i._inputHandler.onRequestScroll((function(e,t){return i.scroll(e,t||void 0)}))),i.register(i._inputHandler.onRequestWindowsOptionsReport((function(e){return i._reportWindowsOptions(e)}))),i.register(w.forwardEvent(i._inputHandler.onCursorMove,i._onCursorMove)),i.register(w.forwardEvent(i._inputHandler.onTitleChange,i._onTitleChange)),i.register(w.forwardEvent(i._inputHandler.onA11yChar,i._onA11yCharEmitter)),i.register(w.forwardEvent(i._inputHandler.onA11yTab,i._onA11yTabEmitter)),i.register(i._bufferService.onResize((function(e){return i._afterResize(e.cols,e.rows)}))),i}return r(t,e),Object.defineProperty(t.prototype,"options",{get:function(){return this.optionsService.options},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onKey",{get:function(){return this._onKey.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onFocus",{get:function(){return this._onFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onBlur",{get:function(){return this._onBlur.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onA11yChar",{get:function(){return this._onA11yCharEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onA11yTab",{get:function(){return this._onA11yTabEmitter.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){var t,i,n;this._isDisposed||(e.prototype.dispose.call(this),null===(t=this._renderService)||void 0===t||t.dispose(),this._customKeyEventHandler=void 0,this.write=function(){},null===(n=null===(i=this.element)||void 0===i?void 0:i.parentNode)||void 0===n||n.removeChild(this.element))},t.prototype._setup=function(){e.prototype._setup.call(this),this._customKeyEventHandler=void 0},Object.defineProperty(t.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),t.prototype.focus=function(){this.textarea&&this.textarea.focus({preventScroll:!0})},t.prototype._updateOptions=function(t){var i,n,r,o;switch(e.prototype._updateOptions.call(this,t),t){case"fontFamily":case"fontSize":null===(i=this._renderService)||void 0===i||i.clear(),null===(n=this._charSizeService)||void 0===n||n.measure();break;case"cursorBlink":case"cursorStyle":this.refresh(this.buffer.y,this.buffer.y);break;case"drawBoldTextInBrightColors":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":case"minimumContrastRatio":this._renderService&&(this._renderService.clear(),this._renderService.onResize(this.cols,this.rows),this.refresh(0,this.rows-1));break;case"rendererType":this._renderService&&(this._renderService.setRenderer(this._createRenderer()),this._renderService.onResize(this.cols,this.rows));break;case"scrollback":null===(r=this.viewport)||void 0===r||r.syncScrollArea();break;case"screenReaderMode":this.optionsService.options.screenReaderMode?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new g.AccessibilityManager(this,this._renderService)):(null===(o=this._accessibilityManager)||void 0===o||o.dispose(),this._accessibilityManager=void 0);break;case"tabStopWidth":this.buffers.setupTabStops();break;case"theme":this._setTheme(this.optionsService.options.theme)}},t.prototype._onTextAreaFocus=function(e){this._coreService.decPrivateModes.sendFocus&&this._coreService.triggerDataEvent(c.C0.ESC+"[I"),this.updateCursorStyle(e),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()},t.prototype.blur=function(){var e;return null===(e=this.textarea)||void 0===e?void 0:e.blur()},t.prototype._onTextAreaBlur=function(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this._coreService.decPrivateModes.sendFocus&&this._coreService.triggerDataEvent(c.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()},t.prototype._initGlobal=function(){var e=this;this._bindKeys(),this.register(p.addDisposableDomListener(this.element,"copy",(function(t){e.hasSelection()&&a.copyHandler(t,e._selectionService)})));var t=function(t){return a.handlePasteEvent(t,e.textarea,e._coreService)};this.register(p.addDisposableDomListener(this.textarea,"paste",t)),this.register(p.addDisposableDomListener(this.element,"paste",t)),f.isFirefox?this.register(p.addDisposableDomListener(this.element,"mousedown",(function(t){2===t.button&&a.rightClickHandler(t,e.textarea,e.screenElement,e._selectionService,e.options.rightClickSelectsWord)}))):this.register(p.addDisposableDomListener(this.element,"contextmenu",(function(t){a.rightClickHandler(t,e.textarea,e.screenElement,e._selectionService,e.options.rightClickSelectsWord)}))),f.isLinux&&this.register(p.addDisposableDomListener(this.element,"auxclick",(function(t){1===t.button&&a.moveTextAreaUnderMouseCursor(t,e.textarea,e.screenElement)})))},t.prototype._bindKeys=function(){var e=this;this.register(p.addDisposableDomListener(this.textarea,"keyup",(function(t){return e._keyUp(t)}),!0)),this.register(p.addDisposableDomListener(this.textarea,"keydown",(function(t){return e._keyDown(t)}),!0)),this.register(p.addDisposableDomListener(this.textarea,"keypress",(function(t){return e._keyPress(t)}),!0)),this.register(p.addDisposableDomListener(this.textarea,"compositionstart",(function(){return e._compositionHelper.compositionstart()}))),this.register(p.addDisposableDomListener(this.textarea,"compositionupdate",(function(t){return e._compositionHelper.compositionupdate(t)}))),this.register(p.addDisposableDomListener(this.textarea,"compositionend",(function(){return e._compositionHelper.compositionend()}))),this.register(this.onRender((function(){return e._compositionHelper.updateCompositionElements()}))),this.register(this.onRender((function(t){return e._queueLinkification(t.start,t.end)})))},t.prototype.open=function(e){var t=this;if(!e)throw new Error("Terminal requires a parent element.");R.body.contains(e)||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=e.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),e.appendChild(this.element);var i=R.createDocumentFragment();this._viewportElement=R.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),i.appendChild(this._viewportElement),this._viewportScrollArea=R.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=R.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=R.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),i.appendChild(this.screenElement),this.textarea=R.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",_.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register(p.addDisposableDomListener(this.textarea,"focus",(function(e){return t._onTextAreaFocus(e)}))),this.register(p.addDisposableDomListener(this.textarea,"blur",(function(){return t._onTextAreaBlur()}))),this._helperContainer.appendChild(this.textarea);var n=this._instantiationService.createInstance(T.CoreBrowserService,this.textarea);this._instantiationService.setService(E.ICoreBrowserService,n),this._charSizeService=this._instantiationService.createInstance(x.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(E.ICharSizeService,this._charSizeService),this._compositionView=R.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(o.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(i),this._theme=this.options.theme||this._theme,this._colorManager=new S.ColorManager(R,this.options.allowTransparency),this.register(this.optionsService.onOptionChange((function(e){return t._colorManager.onOptionsChange(e)}))),this._colorManager.setTheme(this._theme);var r=this._createRenderer();this._renderService=this.register(this._instantiationService.createInstance(k.RenderService,r,this.rows,this.screenElement)),this._instantiationService.setService(E.IRenderService,this._renderService),this.register(this._renderService.onRenderedBufferChange((function(e){return t._onRender.fire(e)}))),this.onResize((function(e){return t._renderService.resize(e.cols,e.rows)})),this._soundService=this._instantiationService.createInstance(v.SoundService),this._instantiationService.setService(E.ISoundService,this._soundService),this._mouseService=this._instantiationService.createInstance(L.MouseService),this._instantiationService.setService(E.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(s.Viewport,(function(e,i){return t.scrollLines(e,i)}),this._viewportElement,this._viewportScrollArea),this.viewport.onThemeChange(this._colorManager.colors),this.register(this._inputHandler.onRequestSyncScrollBar((function(){return t.viewport.syncScrollArea()}))),this.register(this.viewport),this.register(this.onCursorMove((function(){return t._renderService.onCursorMove()}))),this.register(this.onResize((function(){return t._renderService.onResize(t.cols,t.rows)}))),this.register(this.onBlur((function(){return t._renderService.onBlur()}))),this.register(this.onFocus((function(){return t._renderService.onFocus()}))),this.register(this._renderService.onDimensionsChange((function(){return t.viewport.syncScrollArea()}))),this._selectionService=this.register(this._instantiationService.createInstance(d.SelectionService,this.element,this.screenElement)),this._instantiationService.setService(E.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((function(e){return t.scrollLines(e.amount,e.suppressScrollEvent)}))),this.register(this._selectionService.onSelectionChange((function(){return t._onSelectionChange.fire()}))),this.register(this._selectionService.onRequestRedraw((function(e){return t._renderService.onSelectionChanged(e.start,e.end,e.columnSelectMode)}))),this.register(this._selectionService.onLinuxMouseSelection((function(e){t.textarea.value=e,t.textarea.focus(),t.textarea.select()}))),this.register(this.onScroll((function(){t.viewport.syncScrollArea(),t._selectionService.refresh()}))),this.register(p.addDisposableDomListener(this._viewportElement,"scroll",(function(){return t._selectionService.refresh()}))),this._mouseZoneManager=this._instantiationService.createInstance(m.MouseZoneManager,this.element,this.screenElement),this.register(this._mouseZoneManager),this.register(this.onScroll((function(){return t._mouseZoneManager.clearAll()}))),this.linkifier.attachToDom(this.element,this._mouseZoneManager),this.linkifier2.attachToDom(this.element,this._mouseService,this._renderService),this.register(p.addDisposableDomListener(this.element,"mousedown",(function(e){return t._selectionService.onMouseDown(e)}))),this._coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new g.AccessibilityManager(this,this._renderService)),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()},t.prototype._createRenderer=function(){switch(this.options.rendererType){case"canvas":return this._instantiationService.createInstance(u.Renderer,this._colorManager.colors,this.screenElement,this.linkifier,this.linkifier2);case"dom":return this._instantiationService.createInstance(y.DomRenderer,this._colorManager.colors,this.element,this.screenElement,this._viewportElement,this.linkifier,this.linkifier2);default:throw new Error('Unrecognized rendererType "'+this.options.rendererType+'"')}},t.prototype._setTheme=function(e){var t,i,n;this._theme=e,null===(t=this._colorManager)||void 0===t||t.setTheme(e),null===(i=this._renderService)||void 0===i||i.setColors(this._colorManager.colors),null===(n=this.viewport)||void 0===n||n.onThemeChange(this._colorManager.colors)},t.prototype.bindMouse=function(){var e=this,t=this,i=this.element;function n(e){var i,n,r=t._mouseService.getRawByteCoords(e,t.screenElement,t.cols,t.rows);if(!r)return!1;switch(e.overrideType||e.type){case"mousemove":n=32,void 0===e.buttons?(i=3,void 0!==e.button&&(i=e.button<3?e.button:3)):i=1&e.buttons?0:4&e.buttons?1:2&e.buttons?2:3;break;case"mouseup":n=0,i=e.button<3?e.button:3;break;case"mousedown":n=1,i=e.button<3?e.button:3;break;case"wheel":0!==e.deltaY&&(n=e.deltaY<0?0:1),i=4;break;default:return!1}return!(void 0===n||void 0===i||i>4)&&t._coreMouseService.triggerMouseEvent({col:r.x-33,row:r.y-33,button:i,action:n,ctrl:e.ctrlKey,alt:e.altKey,shift:e.shiftKey})}var r={mouseup:null,wheel:null,mousedrag:null,mousemove:null},o=function(t){return n(t),t.buttons||(e._document.removeEventListener("mouseup",r.mouseup),r.mousedrag&&e._document.removeEventListener("mousemove",r.mousedrag)),e.cancel(t)},s=function(t){return n(t),t.preventDefault(),e.cancel(t)},a=function(e){e.buttons&&n(e)},l=function(e){e.buttons||n(e)};this.register(this._coreMouseService.onProtocolChange((function(t){t?("debug"===e.optionsService.options.logLevel&&e._logService.debug("Binding to mouse events:",e._coreMouseService.explainEvents(t)),e.element.classList.add("enable-mouse-events"),e._selectionService.disable()):(e._logService.debug("Unbinding from mouse events."),e.element.classList.remove("enable-mouse-events"),e._selectionService.enable()),8&t?r.mousemove||(i.addEventListener("mousemove",l),r.mousemove=l):(i.removeEventListener("mousemove",r.mousemove),r.mousemove=null),16&t?r.wheel||(i.addEventListener("wheel",s),r.wheel=s):(i.removeEventListener("wheel",r.wheel),r.wheel=null),2&t?r.mouseup||(r.mouseup=o):(e._document.removeEventListener("mouseup",r.mouseup),r.mouseup=null),4&t?r.mousedrag||(r.mousedrag=a):(e._document.removeEventListener("mousemove",r.mousedrag),r.mousedrag=null)}))),this._coreMouseService.activeProtocol=this._coreMouseService.activeProtocol,this.register(p.addDisposableDomListener(i,"mousedown",(function(t){if(t.preventDefault(),e.focus(),e._coreMouseService.areMouseEventsActive&&!e._selectionService.shouldForceSelection(t))return n(t),r.mouseup&&e._document.addEventListener("mouseup",r.mouseup),r.mousedrag&&e._document.addEventListener("mousemove",r.mousedrag),e.cancel(t)}))),this.register(p.addDisposableDomListener(i,"wheel",(function(t){if(r.wheel);else if(!e.buffer.hasScrollback){var i=e.viewport.getLinesScrolled(t);if(0===i)return;for(var n=c.C0.ESC+(e._coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(t.deltaY<0?"A":"B"),o="",s=0;s<Math.abs(i);s++)o+=n;e._coreService.triggerDataEvent(o,!0)}}))),this.register(p.addDisposableDomListener(i,"wheel",(function(t){if(!r.wheel)return e.viewport.onWheel(t)?void 0:e.cancel(t)}))),this.register(p.addDisposableDomListener(i,"touchstart",(function(t){if(!e._coreMouseService.areMouseEventsActive)return e.viewport.onTouchStart(t),e.cancel(t)}))),this.register(p.addDisposableDomListener(i,"touchmove",(function(t){if(!e._coreMouseService.areMouseEventsActive)return e.viewport.onTouchMove(t)?void 0:e.cancel(t)})))},t.prototype.refresh=function(e,t){var i;null===(i=this._renderService)||void 0===i||i.refreshRows(e,t)},t.prototype._queueLinkification=function(e,t){var i;null===(i=this.linkifier)||void 0===i||i.linkifyRows(e,t)},t.prototype.updateCursorStyle=function(e){this._selectionService&&this._selectionService.shouldColumnSelect(e)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")},t.prototype._showCursor=function(){this._coreService.isCursorInitialized||(this._coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))},t.prototype.scrollLines=function(t,i){e.prototype.scrollLines.call(this,t,i),this.refresh(0,this.rows-1)},t.prototype.paste=function(e){a.paste(e,this.textarea,this._coreService)},t.prototype.attachCustomKeyEventHandler=function(e){this._customKeyEventHandler=e},t.prototype.registerLinkMatcher=function(e,t,i){var n=this.linkifier.registerLinkMatcher(e,t,i);return this.refresh(0,this.rows-1),n},t.prototype.deregisterLinkMatcher=function(e){this.linkifier.deregisterLinkMatcher(e)&&this.refresh(0,this.rows-1)},t.prototype.registerLinkProvider=function(e){return this.linkifier2.registerLinkProvider(e)},t.prototype.registerCharacterJoiner=function(e){var t=this._renderService.registerCharacterJoiner(e);return this.refresh(0,this.rows-1),t},t.prototype.deregisterCharacterJoiner=function(e){this._renderService.deregisterCharacterJoiner(e)&&this.refresh(0,this.rows-1)},Object.defineProperty(t.prototype,"markers",{get:function(){return this.buffer.markers},enumerable:!1,configurable:!0}),t.prototype.addMarker=function(e){if(this.buffer===this.buffers.normal)return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+e)},t.prototype.hasSelection=function(){return!!this._selectionService&&this._selectionService.hasSelection},t.prototype.select=function(e,t,i){this._selectionService.setSelection(e,t,i)},t.prototype.getSelection=function(){return this._selectionService?this._selectionService.selectionText:""},t.prototype.getSelectionPosition=function(){if(this._selectionService&&this._selectionService.hasSelection)return{startColumn:this._selectionService.selectionStart[0],startRow:this._selectionService.selectionStart[1],endColumn:this._selectionService.selectionEnd[0],endRow:this._selectionService.selectionEnd[1]}},t.prototype.clearSelection=function(){var e;null===(e=this._selectionService)||void 0===e||e.clearSelection()},t.prototype.selectAll=function(){var e;null===(e=this._selectionService)||void 0===e||e.selectAll()},t.prototype.selectLines=function(e,t){var i;null===(i=this._selectionService)||void 0===i||i.selectLines(e,t)},t.prototype._keyDown=function(e){if(this._keyDownHandled=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;if(!this._compositionHelper.keydown(e))return this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;var t=b.evaluateKeyboardEvent(e,this._coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(e),3===t.type||2===t.type){var i=this.rows-1;return this.scrollLines(2===t.type?-i:i),this.cancel(e,!0)}return 1===t.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,e)||(t.cancel&&this.cancel(e,!0),!t.key||(t.key!==c.C0.ETX&&t.key!==c.C0.CR||(this.textarea.value=""),this._onKey.fire({key:t.key,domEvent:e}),this._showCursor(),this._coreService.triggerDataEvent(t.key,!0),this.optionsService.options.screenReaderMode?void(this._keyDownHandled=!0):this.cancel(e,!0)))},t.prototype._isThirdLevelShift=function(e,t){var i=e.isMac&&!this.options.macOptionIsMeta&&t.altKey&&!t.ctrlKey&&!t.metaKey||e.isWindows&&t.altKey&&t.ctrlKey&&!t.metaKey;return"keypress"===t.type?i:i&&(!t.keyCode||t.keyCode>47)},t.prototype._keyUp=function(e){this._customKeyEventHandler&&!1===this._customKeyEventHandler(e)||(function(e){return 16===e.keyCode||17===e.keyCode||18===e.keyCode}(e)||this.focus(),this.updateCursorStyle(e))},t.prototype._keyPress=function(e){var t;if(this._keyDownHandled)return!1;if(this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;if(this.cancel(e),e.charCode)t=e.charCode;else if(null===e.which||void 0===e.which)t=e.keyCode;else{if(0===e.which||0===e.charCode)return!1;t=e.which}return!(!t||(e.altKey||e.ctrlKey||e.metaKey)&&!this._isThirdLevelShift(this.browser,e)||(t=String.fromCharCode(t),this._onKey.fire({key:t,domEvent:e}),this._showCursor(),this._coreService.triggerDataEvent(t,!0),0))},t.prototype.bell=function(){this._soundBell()&&this._soundService.playBellSound()},t.prototype.resize=function(t,i){t!==this.cols||i!==this.rows?e.prototype.resize.call(this,t,i):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()},t.prototype._afterResize=function(e,t){var i,n;null===(i=this._charSizeService)||void 0===i||i.measure(),null===(n=this.viewport)||void 0===n||n.syncScrollArea(!0)},t.prototype.clear=function(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var e=1;e<this.rows;e++)this.buffer.lines.push(this.buffer.getBlankLine(C.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire(this.buffer.ydisp)}},t.prototype.reset=function(){var t,i;this.options.rows=this.rows,this.options.cols=this.cols;var n=this._customKeyEventHandler;this._setup(),e.prototype.reset.call(this),null===(t=this._selectionService)||void 0===t||t.reset(),this._customKeyEventHandler=n,this.refresh(0,this.rows-1),null===(i=this.viewport)||void 0===i||i.syncScrollArea()},t.prototype._reportWindowsOptions=function(e){if(this._renderService)switch(e){case l.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:var t=this._renderService.dimensions.scaledCanvasWidth.toFixed(0),i=this._renderService.dimensions.scaledCanvasHeight.toFixed(0);this._coreService.triggerDataEvent(c.C0.ESC+"[4;"+i+";"+t+"t");break;case l.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:var n=this._renderService.dimensions.scaledCellWidth.toFixed(0),r=this._renderService.dimensions.scaledCellHeight.toFixed(0);this._coreService.triggerDataEvent(c.C0.ESC+"[6;"+r+";"+n+"t")}},t.prototype.cancel=function(e,t){if(this.options.cancelEvents||t)return e.preventDefault(),e.stopPropagation(),!1},t.prototype._visualBell=function(){return!1},t.prototype._soundBell=function(){return"sound"===this.options.bellStyle},t}(O.CoreTerminal);t.Terminal=A},function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CompositionHelper=void 0;var o=i(5),s=i(1),a=function(){function e(e,t,i,n,r,o){this._textarea=e,this._compositionView=t,this._bufferService=i,this._optionsService=n,this._charSizeService=r,this._coreService=o,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0}}return e.prototype.compositionstart=function(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._compositionView.classList.add("active")},e.prototype.compositionupdate=function(e){var t=this;this._compositionView.textContent=e.data,this.updateCompositionElements(),setTimeout((function(){t._compositionPosition.end=t._textarea.value.length}),0)},e.prototype.compositionend=function(){this._finalizeComposition(!0)},e.prototype.keydown=function(e){if(this._isComposing||this._isSendingComposition){if(229===e.keyCode)return!1;if(16===e.keyCode||17===e.keyCode||18===e.keyCode)return!1;this._finalizeComposition(!1)}return 229!==e.keyCode||(this._handleAnyTextareaChanges(),!1)},e.prototype._finalizeComposition=function(e){var t=this;if(this._compositionView.classList.remove("active"),this._isComposing=!1,this._clearTextareaPosition(),e){var i={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((function(){var e;t._isSendingComposition&&(t._isSendingComposition=!1,e=t._isComposing?t._textarea.value.substring(i.start,i.end):t._textarea.value.substring(i.start),t._coreService.triggerDataEvent(e,!0))}),0)}else{this._isSendingComposition=!1;var n=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(n,!0)}},e.prototype._handleAnyTextareaChanges=function(){var e=this,t=this._textarea.value;setTimeout((function(){if(!e._isComposing){var i=e._textarea.value.replace(t,"");i.length>0&&e._coreService.triggerDataEvent(i,!0)}}),0)},e.prototype.updateCompositionElements=function(e){var t=this;if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){var i=Math.ceil(this._charSizeService.height*this._optionsService.options.lineHeight),n=this._bufferService.buffer.y*i,r=this._bufferService.buffer.x*this._charSizeService.width;this._compositionView.style.left=r+"px",this._compositionView.style.top=n+"px",this._compositionView.style.height=i+"px",this._compositionView.style.lineHeight=i+"px",this._compositionView.style.fontFamily=this._optionsService.options.fontFamily,this._compositionView.style.fontSize=this._optionsService.options.fontSize+"px";var o=this._compositionView.getBoundingClientRect();this._textarea.style.left=r+"px",this._textarea.style.top=n+"px",this._textarea.style.width=o.width+"px",this._textarea.style.height=o.height+"px",this._textarea.style.lineHeight=o.height+"px"}e||setTimeout((function(){return t.updateCompositionElements(!0)}),0)}},e.prototype._clearTextareaPosition=function(){this._textarea.style.left="",this._textarea.style.top=""},n([r(2,s.IBufferService),r(3,s.IOptionsService),r(4,o.ICharSizeService),r(5,s.ICoreService)],e)}();t.CompositionHelper=a},function(e,t,i){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Viewport=void 0;var a=i(2),c=i(7),l=i(5),u=i(1),h=function(e){function t(t,i,n,r,o,s,a){var l=e.call(this)||this;return l._scrollLines=t,l._viewportElement=i,l._scrollArea=n,l._bufferService=r,l._optionsService=o,l._charSizeService=s,l._renderService=a,l.scrollBarWidth=0,l._currentRowHeight=0,l._lastRecordedBufferLength=0,l._lastRecordedViewportHeight=0,l._lastRecordedBufferHeight=0,l._lastTouchY=0,l._lastScrollTop=0,l._wheelPartialScroll=0,l._refreshAnimationFrame=null,l._ignoreNextScrollEvent=!1,l.scrollBarWidth=l._viewportElement.offsetWidth-l._scrollArea.offsetWidth||15,l.register(c.addDisposableDomListener(l._viewportElement,"scroll",l._onScroll.bind(l))),setTimeout((function(){return l.syncScrollArea()}),0),l}return r(t,e),t.prototype.onThemeChange=function(e){this._viewportElement.style.backgroundColor=e.background.css},t.prototype._refresh=function(e){var t=this;if(e)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=requestAnimationFrame((function(){return t._innerRefresh()})))},t.prototype._innerRefresh=function(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;var e=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.canvasHeight);this._lastRecordedBufferHeight!==e&&(this._lastRecordedBufferHeight=e,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}var t=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==t&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=t),this._refreshAnimationFrame=null},t.prototype.syncScrollArea=function(e){if(void 0===e&&(e=!1),this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(e);if(this._lastRecordedViewportHeight===this._renderService.dimensions.canvasHeight){var t=this._bufferService.buffer.ydisp*this._currentRowHeight;this._lastScrollTop===t&&this._lastScrollTop===this._viewportElement.scrollTop&&this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio===this._currentRowHeight||this._refresh(e)}else this._refresh(e)},t.prototype._onScroll=function(e){if(this._lastScrollTop=this._viewportElement.scrollTop,this._viewportElement.offsetParent)if(this._ignoreNextScrollEvent)this._ignoreNextScrollEvent=!1;else{var t=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(t,!0)}},t.prototype._bubbleScroll=function(e,t){var i=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(t<0&&0!==this._viewportElement.scrollTop||t>0&&i<this._lastRecordedBufferHeight)||(e.cancelable&&e.preventDefault(),!1)},t.prototype.onWheel=function(e){var t=this._getPixelsScrolled(e);return 0!==t&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))},t.prototype._getPixelsScrolled=function(e){if(0===e.deltaY)return 0;var t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_LINE?t*=this._currentRowHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._currentRowHeight*this._bufferService.rows),t},t.prototype.getLinesScrolled=function(e){if(0===e.deltaY)return 0;var t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(t/=this._currentRowHeight+0,this._wheelPartialScroll+=t,t=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._bufferService.rows),t},t.prototype._applyScrollModifier=function(e,t){var i=this._optionsService.options.fastScrollModifier;return"alt"===i&&t.altKey||"ctrl"===i&&t.ctrlKey||"shift"===i&&t.shiftKey?e*this._optionsService.options.fastScrollSensitivity*this._optionsService.options.scrollSensitivity:e*this._optionsService.options.scrollSensitivity},t.prototype.onTouchStart=function(e){this._lastTouchY=e.touches[0].pageY},t.prototype.onTouchMove=function(e){var t=this._lastTouchY-e.touches[0].pageY;return this._lastTouchY=e.touches[0].pageY,0!==t&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))},o([s(3,u.IBufferService),s(4,u.IOptionsService),s(5,l.ICharSizeService),s(6,l.IRenderService)],t)}(a.Disposable);t.Viewport=h},function(e,t,i){function n(e){return e.replace(/\r?\n/g,"\r")}function r(e,t){return t?"[200~"+e+"[201~":e}function o(e,t,i){e=r(e=n(e),i.decPrivateModes.bracketedPasteMode),i.triggerDataEvent(e,!0),t.value=""}function s(e,t,i){var n=i.getBoundingClientRect(),r=e.clientX-n.left-10,o=e.clientY-n.top-10;t.style.position="absolute",t.style.width="20px",t.style.height="20px",t.style.left=r+"px",t.style.top=o+"px",t.style.zIndex="1000",t.focus(),setTimeout((function(){t.style.position="",t.style.width="",t.style.height="",t.style.left="",t.style.top="",t.style.zIndex=""}),200)}Object.defineProperty(t,"__esModule",{value:!0}),t.rightClickHandler=t.moveTextAreaUnderMouseCursor=t.paste=t.handlePasteEvent=t.copyHandler=t.bracketTextForPaste=t.prepareTextForTerminal=void 0,t.prepareTextForTerminal=n,t.bracketTextForPaste=r,t.copyHandler=function(e,t){e.clipboardData&&e.clipboardData.setData("text/plain",t.selectionText),e.preventDefault()},t.handlePasteEvent=function(e,t,i){e.stopPropagation(),e.clipboardData&&o(e.clipboardData.getData("text/plain"),t,i)},t.paste=o,t.moveTextAreaUnderMouseCursor=s,t.rightClickHandler=function(e,t,i,n,r){s(e,t,i),r&&!n.isClickInSelection(e)&&n.selectWordAtCursor(e),t.value=n.selectionText,t.select()}},function(e,t,i){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.EscapeSequenceParser=t.VT500_TRANSITION_TABLE=t.TransitionTable=void 0;var o=i(2),s=i(15),a=i(20),c=i(21),l=i(23),u=function(){function e(e){this.table=new Uint8Array(e)}return e.prototype.setDefault=function(e,t){s.fill(this.table,e<<4|t)},e.prototype.add=function(e,t,i,n){this.table[t<<8|e]=i<<4|n},e.prototype.addMany=function(e,t,i,n){for(var r=0;r<e.length;r++)this.table[t<<8|e[r]]=i<<4|n},e}();t.TransitionTable=u,t.VT500_TRANSITION_TABLE=function(){var e=new u(4095),t=Array.apply(null,Array(256)).map((function(e,t){return t})),i=function(e,i){return t.slice(e,i)},n=i(32,127),r=i(0,24);r.push(25),r.push.apply(r,i(28,32));var o,s=i(0,14);for(o in e.setDefault(1,0),e.addMany(n,0,2,0),s)e.addMany([24,26,153,154],o,3,0),e.addMany(i(128,144),o,3,0),e.addMany(i(144,152),o,3,0),e.add(156,o,0,0),e.add(27,o,11,1),e.add(157,o,4,8),e.addMany([152,158,159],o,0,7),e.add(155,o,11,3),e.add(144,o,11,9);return e.addMany(r,0,3,0),e.addMany(r,1,3,1),e.add(127,1,0,1),e.addMany(r,8,0,8),e.addMany(r,3,3,3),e.add(127,3,0,3),e.addMany(r,4,3,4),e.add(127,4,0,4),e.addMany(r,6,3,6),e.addMany(r,5,3,5),e.add(127,5,0,5),e.addMany(r,2,3,2),e.add(127,2,0,2),e.add(93,1,4,8),e.addMany(n,8,5,8),e.add(127,8,5,8),e.addMany([156,27,24,26,7],8,6,0),e.addMany(i(28,32),8,0,8),e.addMany([88,94,95],1,0,7),e.addMany(n,7,0,7),e.addMany(r,7,0,7),e.add(156,7,0,0),e.add(127,7,0,7),e.add(91,1,11,3),e.addMany(i(64,127),3,7,0),e.addMany(i(48,60),3,8,4),e.addMany([60,61,62,63],3,9,4),e.addMany(i(48,60),4,8,4),e.addMany(i(64,127),4,7,0),e.addMany([60,61,62,63],4,0,6),e.addMany(i(32,64),6,0,6),e.add(127,6,0,6),e.addMany(i(64,127),6,0,0),e.addMany(i(32,48),3,9,5),e.addMany(i(32,48),5,9,5),e.addMany(i(48,64),5,0,6),e.addMany(i(64,127),5,7,0),e.addMany(i(32,48),4,9,5),e.addMany(i(32,48),1,9,2),e.addMany(i(32,48),2,9,2),e.addMany(i(48,127),2,10,0),e.addMany(i(48,80),1,10,0),e.addMany(i(81,88),1,10,0),e.addMany([89,90,92],1,10,0),e.addMany(i(96,127),1,10,0),e.add(80,1,11,9),e.addMany(r,9,0,9),e.add(127,9,0,9),e.addMany(i(28,32),9,0,9),e.addMany(i(32,48),9,9,12),e.addMany(i(48,60),9,8,10),e.addMany([60,61,62,63],9,9,10),e.addMany(r,11,0,11),e.addMany(i(32,128),11,0,11),e.addMany(i(28,32),11,0,11),e.addMany(r,10,0,10),e.add(127,10,0,10),e.addMany(i(28,32),10,0,10),e.addMany(i(48,60),10,8,10),e.addMany([60,61,62,63],10,0,11),e.addMany(i(32,48),10,9,12),e.addMany(r,12,0,12),e.add(127,12,0,12),e.addMany(i(28,32),12,0,12),e.addMany(i(32,48),12,9,12),e.addMany(i(48,64),12,0,11),e.addMany(i(64,127),12,12,13),e.addMany(i(64,127),10,12,13),e.addMany(i(64,127),9,12,13),e.addMany(r,13,13,13),e.addMany(n,13,13,13),e.add(127,13,0,13),e.addMany([27,156,24,26],13,14,0),e.add(160,0,2,0),e.add(160,8,5,8),e.add(160,6,0,6),e.add(160,11,0,11),e.add(160,13,13,13),e}();var h=function(e){function i(i){void 0===i&&(i=t.VT500_TRANSITION_TABLE);var n=e.call(this)||this;return n._transitions=i,n.initialState=0,n.currentState=n.initialState,n._params=new a.Params,n._params.addParam(0),n._collect=0,n.precedingCodepoint=0,n._printHandlerFb=function(e,t,i){},n._executeHandlerFb=function(e){},n._csiHandlerFb=function(e,t){},n._escHandlerFb=function(e){},n._errorHandlerFb=function(e){return e},n._printHandler=n._printHandlerFb,n._executeHandlers=Object.create(null),n._csiHandlers=Object.create(null),n._escHandlers=Object.create(null),n._oscParser=new c.OscParser,n._dcsParser=new l.DcsParser,n._errorHandler=n._errorHandlerFb,n.setEscHandler({final:"\\"},(function(){})),n}return r(i,e),i.prototype._identifier=function(e,t){void 0===t&&(t=[64,126]);var i=0;if(e.prefix){if(e.prefix.length>1)throw new Error("only one byte as prefix supported");if((i=e.prefix.charCodeAt(0))&&60>i||i>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(e.intermediates){if(e.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(var n=0;n<e.intermediates.length;++n){var r=e.intermediates.charCodeAt(n);if(32>r||r>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");i<<=8,i|=r}}if(1!==e.final.length)throw new Error("final must be a single byte");var o=e.final.charCodeAt(0);if(t[0]>o||o>t[1])throw new Error("final must be in range "+t[0]+" .. "+t[1]);return(i<<=8)|o},i.prototype.identToString=function(e){for(var t=[];e;)t.push(String.fromCharCode(255&e)),e>>=8;return t.reverse().join("")},i.prototype.dispose=function(){this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser.dispose(),this._dcsParser.dispose()},i.prototype.setPrintHandler=function(e){this._printHandler=e},i.prototype.clearPrintHandler=function(){this._printHandler=this._printHandlerFb},i.prototype.addEscHandler=function(e,t){var i=this._identifier(e,[48,126]);void 0===this._escHandlers[i]&&(this._escHandlers[i]=[]);var n=this._escHandlers[i];return n.push(t),{dispose:function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}},i.prototype.setEscHandler=function(e,t){this._escHandlers[this._identifier(e,[48,126])]=[t]},i.prototype.clearEscHandler=function(e){this._escHandlers[this._identifier(e,[48,126])]&&delete this._escHandlers[this._identifier(e,[48,126])]},i.prototype.setEscHandlerFallback=function(e){this._escHandlerFb=e},i.prototype.setExecuteHandler=function(e,t){this._executeHandlers[e.charCodeAt(0)]=t},i.prototype.clearExecuteHandler=function(e){this._executeHandlers[e.charCodeAt(0)]&&delete this._executeHandlers[e.charCodeAt(0)]},i.prototype.setExecuteHandlerFallback=function(e){this._executeHandlerFb=e},i.prototype.addCsiHandler=function(e,t){var i=this._identifier(e);void 0===this._csiHandlers[i]&&(this._csiHandlers[i]=[]);var n=this._csiHandlers[i];return n.push(t),{dispose:function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}},i.prototype.setCsiHandler=function(e,t){this._csiHandlers[this._identifier(e)]=[t]},i.prototype.clearCsiHandler=function(e){this._csiHandlers[this._identifier(e)]&&delete this._csiHandlers[this._identifier(e)]},i.prototype.setCsiHandlerFallback=function(e){this._csiHandlerFb=e},i.prototype.addDcsHandler=function(e,t){return this._dcsParser.addHandler(this._identifier(e),t)},i.prototype.setDcsHandler=function(e,t){this._dcsParser.setHandler(this._identifier(e),t)},i.prototype.clearDcsHandler=function(e){this._dcsParser.clearHandler(this._identifier(e))},i.prototype.setDcsHandlerFallback=function(e){this._dcsParser.setHandlerFallback(e)},i.prototype.addOscHandler=function(e,t){return this._oscParser.addHandler(e,t)},i.prototype.setOscHandler=function(e,t){this._oscParser.setHandler(e,t)},i.prototype.clearOscHandler=function(e){this._oscParser.clearHandler(e)},i.prototype.setOscHandlerFallback=function(e){this._oscParser.setHandlerFallback(e)},i.prototype.setErrorHandler=function(e){this._errorHandler=e},i.prototype.clearErrorHandler=function(){this._errorHandler=this._errorHandlerFb},i.prototype.reset=function(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0},i.prototype.parse=function(e,t){for(var i=0,n=0,r=this.currentState,o=this._oscParser,s=this._dcsParser,a=this._collect,c=this._params,l=this._transitions.table,u=0;u<t;++u){switch((n=l[r<<8|((i=e[u])<160?i:160)])>>4){case 2:for(var h=u+1;;++h){if(h>=t||(i=e[h])<32||i>126&&i<160){this._printHandler(e,u,h),u=h-1;break}if(++h>=t||(i=e[h])<32||i>126&&i<160){this._printHandler(e,u,h),u=h-1;break}if(++h>=t||(i=e[h])<32||i>126&&i<160){this._printHandler(e,u,h),u=h-1;break}if(++h>=t||(i=e[h])<32||i>126&&i<160){this._printHandler(e,u,h),u=h-1;break}}break;case 3:this._executeHandlers[i]?this._executeHandlers[i]():this._executeHandlerFb(i),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:u,code:i,currentState:r,collect:a,params:c,abort:!1}).abort)return;break;case 7:for(var d=this._csiHandlers[a<<8|i],f=d?d.length-1:-1;f>=0&&!1===d[f](c);f--);f<0&&this._csiHandlerFb(a<<8|i,c),this.precedingCodepoint=0;break;case 8:do{switch(i){case 59:c.addParam(0);break;case 58:c.addSubParam(-1);break;default:c.addDigit(i-48)}}while(++u<t&&(i=e[u])>47&&i<60);u--;break;case 9:a<<=8,a|=i;break;case 10:for(var p=this._escHandlers[a<<8|i],_=p?p.length-1:-1;_>=0&&!1===p[_]();_--);_<0&&this._escHandlerFb(a<<8|i),this.precedingCodepoint=0;break;case 11:c.reset(),c.addParam(0),a=0;break;case 12:s.hook(a<<8|i,c);break;case 13:for(var v=u+1;;++v)if(v>=t||24===(i=e[v])||26===i||27===i||i>127&&i<160){s.put(e,u,v),u=v-1;break}break;case 14:s.unhook(24!==i&&26!==i),27===i&&(n|=1),c.reset(),c.addParam(0),a=0,this.precedingCodepoint=0;break;case 4:o.start();break;case 5:for(var m=u+1;;m++)if(m>=t||(i=e[m])<32||i>127&&i<=159){o.put(e,u,m),u=m-1;break}break;case 6:o.end(24!==i&&26!==i),27===i&&(n|=1),c.reset(),c.addParam(0),a=0,this.precedingCodepoint=0}r=15&n}this._collect=a,this.currentState=r},i}(o.Disposable);t.EscapeSequenceParser=h},function(e,t,i){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=void 0;var a=i(40),c=i(46),l=i(47),u=i(48),h=i(28),d=i(2),f=i(5),p=i(1),_=i(24),v=i(0),m=1,g=function(e){function t(t,i,n,r,o,s,d,f,p){var _=e.call(this)||this;_._colors=t,_._screenElement=i,_._bufferService=o,_._charSizeService=s,_._optionsService=d,_._id=m++,_._onRequestRedraw=new v.EventEmitter;var g=_._optionsService.options.allowTransparency;return _._characterJoinerRegistry=new h.CharacterJoinerRegistry(_._bufferService),_._renderLayers=[new a.TextRenderLayer(_._screenElement,0,_._colors,_._characterJoinerRegistry,g,_._id,_._bufferService,d),new c.SelectionRenderLayer(_._screenElement,1,_._colors,_._id,_._bufferService,d),new u.LinkRenderLayer(_._screenElement,2,_._colors,_._id,n,r,_._bufferService,d),new l.CursorRenderLayer(_._screenElement,3,_._colors,_._id,_._onRequestRedraw,_._bufferService,d,f,p)],_.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},_._devicePixelRatio=window.devicePixelRatio,_._updateDimensions(),_.onOptionsChanged(),_}return r(t,e),Object.defineProperty(t.prototype,"onRequestRedraw",{get:function(){return this._onRequestRedraw.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this._renderLayers.forEach((function(e){return e.dispose()})),e.prototype.dispose.call(this),_.removeTerminalFromCache(this._id)},t.prototype.onDevicePixelRatioChange=function(){this._devicePixelRatio!==window.devicePixelRatio&&(this._devicePixelRatio=window.devicePixelRatio,this.onResize(this._bufferService.cols,this._bufferService.rows))},t.prototype.setColors=function(e){var t=this;this._colors=e,this._renderLayers.forEach((function(e){e.setColors(t._colors),e.reset()}))},t.prototype.onResize=function(e,t){var i=this;this._updateDimensions(),this._renderLayers.forEach((function(e){return e.resize(i.dimensions)})),this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},t.prototype.onCharSizeChanged=function(){this.onResize(this._bufferService.cols,this._bufferService.rows)},t.prototype.onBlur=function(){this._runOperation((function(e){return e.onBlur()}))},t.prototype.onFocus=function(){this._runOperation((function(e){return e.onFocus()}))},t.prototype.onSelectionChanged=function(e,t,i){void 0===i&&(i=!1),this._runOperation((function(n){return n.onSelectionChanged(e,t,i)}))},t.prototype.onCursorMove=function(){this._runOperation((function(e){return e.onCursorMove()}))},t.prototype.onOptionsChanged=function(){this._runOperation((function(e){return e.onOptionsChanged()}))},t.prototype.clear=function(){this._runOperation((function(e){return e.reset()}))},t.prototype._runOperation=function(e){this._renderLayers.forEach((function(t){return e(t)}))},t.prototype.renderRows=function(e,t){this._renderLayers.forEach((function(i){return i.onGridChanged(e,t)}))},t.prototype._updateDimensions=function(){this._charSizeService.hasValidSize&&(this.dimensions.scaledCharWidth=Math.floor(this._charSizeService.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.options.lineHeight),this.dimensions.scaledCharTop=1===this._optionsService.options.lineHeight?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.options.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._optionsService.options.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._bufferService.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._bufferService.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols)},t.prototype.registerCharacterJoiner=function(e){return this._characterJoinerRegistry.registerCharacterJoiner(e)},t.prototype.deregisterCharacterJoiner=function(e){return this._characterJoinerRegistry.deregisterCharacterJoiner(e)},o([s(4,p.IBufferService),s(5,f.ICharSizeService),s(6,p.IOptionsService),s(7,p.ICoreService),s(8,f.ICoreBrowserService)],t)}(d.Disposable);t.Renderer=g},function(e,t,i){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.TextRenderLayer=void 0;var o=i(41),s=i(13),a=i(6),c=i(3),l=i(28),u=i(4),h=function(e){function t(t,i,n,r,s,a,c,l){var h=e.call(this,t,"text",i,s,n,a,c,l)||this;return h._characterWidth=0,h._characterFont="",h._characterOverlapCache={},h._workCell=new u.CellData,h._state=new o.GridCache,h._characterJoinerRegistry=r,h}return r(t,e),t.prototype.resize=function(t){e.prototype.resize.call(this,t);var i=this._getFont(!1,!1);this._characterWidth===t.scaledCharWidth&&this._characterFont===i||(this._characterWidth=t.scaledCharWidth,this._characterFont=i,this._characterOverlapCache={}),this._state.clear(),this._state.resize(this._bufferService.cols,this._bufferService.rows)},t.prototype.reset=function(){this._state.clear(),this._clearAll()},t.prototype._forEachCell=function(e,t,i,n){for(var r=e;r<=t;r++)for(var o=r+this._bufferService.buffer.ydisp,s=this._bufferService.buffer.lines.get(o),a=i?i.getJoinedCharacters(o):[],u=0;u<this._bufferService.cols;u++){s.loadCell(u,this._workCell);var h=this._workCell,d=!1,f=u;if(0!==h.getWidth()){if(a.length>0&&u===a[0][0]){d=!0;var p=a.shift();h=new l.JoinedCellData(this._workCell,s.translateToString(!0,p[0],p[1]),p[1]-p[0]),f=p[1]-1}!d&&this._isOverlapping(h)&&f<s.length-1&&s.getCodePoint(f+1)===c.NULL_CELL_CODE&&(h.content&=-12582913,h.content|=2<<22),n(h,u,r),u=f}}},t.prototype._drawBackground=function(e,t){var i=this,n=this._ctx,r=this._bufferService.cols,o=0,s=0,c=null;n.save(),this._forEachCell(e,t,null,(function(e,t,l){var u=null;e.isInverse()?u=e.isFgDefault()?i._colors.foreground.css:e.isFgRGB()?"rgb("+a.AttributeData.toColorRGB(e.getFgColor()).join(",")+")":i._colors.ansi[e.getFgColor()].css:e.isBgRGB()?u="rgb("+a.AttributeData.toColorRGB(e.getBgColor()).join(",")+")":e.isBgPalette()&&(u=i._colors.ansi[e.getBgColor()].css),null===c&&(o=t,s=l),l!==s?(n.fillStyle=c||"",i._fillCells(o,s,r-o,1),o=t,s=l):c!==u&&(n.fillStyle=c||"",i._fillCells(o,s,t-o,1),o=t,s=l),c=u})),null!==c&&(n.fillStyle=c,this._fillCells(o,s,r-o,1)),n.restore()},t.prototype._drawForeground=function(e,t){var i=this;this._forEachCell(e,t,this._characterJoinerRegistry,(function(e,t,n){if(!e.isInvisible()&&(i._drawChars(e,t,n),e.isUnderline())){if(i._ctx.save(),e.isInverse())if(e.isBgDefault())i._ctx.fillStyle=i._colors.background.css;else if(e.isBgRGB())i._ctx.fillStyle="rgb("+a.AttributeData.toColorRGB(e.getBgColor()).join(",")+")";else{var r=e.getBgColor();i._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&r<8&&(r+=8),i._ctx.fillStyle=i._colors.ansi[r].css}else if(e.isFgDefault())i._ctx.fillStyle=i._colors.foreground.css;else if(e.isFgRGB())i._ctx.fillStyle="rgb("+a.AttributeData.toColorRGB(e.getFgColor()).join(",")+")";else{var o=e.getFgColor();i._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&o<8&&(o+=8),i._ctx.fillStyle=i._colors.ansi[o].css}i._fillBottomLineAtCells(t,n,e.getWidth()),i._ctx.restore()}}))},t.prototype.onGridChanged=function(e,t){0!==this._state.cache.length&&(this._charAtlas&&this._charAtlas.beginFrame(),this._clearCells(0,e,this._bufferService.cols,t-e+1),this._drawBackground(e,t),this._drawForeground(e,t))},t.prototype.onOptionsChanged=function(){this._setTransparency(this._optionsService.options.allowTransparency)},t.prototype._isOverlapping=function(e){if(1!==e.getWidth())return!1;if(e.getCode()<256)return!1;var t=e.getChars();if(this._characterOverlapCache.hasOwnProperty(t))return this._characterOverlapCache[t];this._ctx.save(),this._ctx.font=this._characterFont;var i=Math.floor(this._ctx.measureText(t).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[t]=i,i},t}(s.BaseRenderLayer);t.TextRenderLayer=h},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.GridCache=void 0;var n=function(){function e(){this.cache=[]}return e.prototype.resize=function(e,t){for(var i=0;i<e;i++){this.cache.length<=i&&this.cache.push([]);for(var n=this.cache[i].length;n<t;n++)this.cache[i].push(void 0);this.cache[i].length=t}this.cache.length=e},e.prototype.clear=function(){for(var e=0;e<this.cache.length;e++)for(var t=0;t<this.cache[e].length;t++)this.cache[e][t]=void 0},e}();t.GridCache=n},function(e,t,i){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.NoneCharAtlas=t.DynamicCharAtlas=t.getGlyphCacheKey=void 0;var o=i(9),s=i(43),a=i(26),c=i(45),l=i(11),u=i(27),h=i(10),d={css:"rgba(0, 0, 0, 0)",rgba:0};function f(e){return e.code<<21|e.bg<<12|e.fg<<3|(e.bold?0:4)+(e.dim?0:2)+(e.italic?0:1)}t.getGlyphCacheKey=f;var p=function(e){function t(t,i){var n=e.call(this)||this;n._config=i,n._drawToCacheCount=0,n._glyphsWaitingOnBitmap=[],n._bitmapCommitTimeout=null,n._bitmap=null,n._cacheCanvas=t.createElement("canvas"),n._cacheCanvas.width=1024,n._cacheCanvas.height=1024,n._cacheCtx=u.throwIfFalsy(n._cacheCanvas.getContext("2d",{alpha:!0}));var r=t.createElement("canvas");r.width=n._config.scaledCharWidth,r.height=n._config.scaledCharHeight,n._tmpCtx=u.throwIfFalsy(r.getContext("2d",{alpha:n._config.allowTransparency})),n._width=Math.floor(1024/n._config.scaledCharWidth),n._height=Math.floor(1024/n._config.scaledCharHeight);var o=n._width*n._height;return n._cacheMap=new c.LRUMap(o),n._cacheMap.prealloc(o),n}return r(t,e),t.prototype.dispose=function(){null!==this._bitmapCommitTimeout&&(window.clearTimeout(this._bitmapCommitTimeout),this._bitmapCommitTimeout=null)},t.prototype.beginFrame=function(){this._drawToCacheCount=0},t.prototype.draw=function(e,t,i,n){if(32===t.code)return!0;if(!this._canCache(t))return!1;var r=f(t),o=this._cacheMap.get(r);if(null!=o)return this._drawFromCache(e,o,i,n),!0;if(this._drawToCacheCount<100){var s;s=this._cacheMap.size<this._cacheMap.capacity?this._cacheMap.size:this._cacheMap.peek().index;var a=this._drawToCache(t,s);return this._cacheMap.set(r,a),this._drawFromCache(e,a,i,n),!0}return!1},t.prototype._canCache=function(e){return e.code<256},t.prototype._toCoordinateX=function(e){return e%this._width*this._config.scaledCharWidth},t.prototype._toCoordinateY=function(e){return Math.floor(e/this._width)*this._config.scaledCharHeight},t.prototype._drawFromCache=function(e,t,i,n){if(!t.isEmpty){var r=this._toCoordinateX(t.index),o=this._toCoordinateY(t.index);e.drawImage(t.inBitmap?this._bitmap:this._cacheCanvas,r,o,this._config.scaledCharWidth,this._config.scaledCharHeight,i,n,this._config.scaledCharWidth,this._config.scaledCharHeight)}},t.prototype._getColorFromAnsiIndex=function(e){return e<this._config.colors.ansi.length?this._config.colors.ansi[e]:a.DEFAULT_ANSI_COLORS[e]},t.prototype._getBackgroundColor=function(e){return this._config.allowTransparency?d:e.bg===o.INVERTED_DEFAULT_COLOR?this._config.colors.foreground:e.bg<256?this._getColorFromAnsiIndex(e.bg):this._config.colors.background},t.prototype._getForegroundColor=function(e){return e.fg===o.INVERTED_DEFAULT_COLOR?h.color.opaque(this._config.colors.background):e.fg<256?this._getColorFromAnsiIndex(e.fg):this._config.colors.foreground},t.prototype._drawToCache=function(e,t){this._drawToCacheCount++,this._tmpCtx.save();var i=this._getBackgroundColor(e);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=i.css,this._tmpCtx.fillRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),this._tmpCtx.globalCompositeOperation="source-over";var n=e.bold?this._config.fontWeightBold:this._config.fontWeight,r=e.italic?"italic":"";this._tmpCtx.font=r+" "+n+" "+this._config.fontSize*this._config.devicePixelRatio+"px "+this._config.fontFamily,this._tmpCtx.textBaseline="middle",this._tmpCtx.fillStyle=this._getForegroundColor(e).css,e.dim&&(this._tmpCtx.globalAlpha=o.DIM_OPACITY),this._tmpCtx.fillText(e.chars,0,this._config.scaledCharHeight/2),this._tmpCtx.restore();var s=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),a=!1;this._config.allowTransparency||(a=function(e,t){for(var i=!0,n=t.rgba>>>24,r=t.rgba>>>16&255,o=t.rgba>>>8&255,s=0;s<e.data.length;s+=4)e.data[s]===n&&e.data[s+1]===r&&e.data[s+2]===o?e.data[s+3]=0:i=!1;return i}(s,i));var c=this._toCoordinateX(t),l=this._toCoordinateY(t);this._cacheCtx.putImageData(s,c,l);var u={index:t,isEmpty:a,inBitmap:!1};return this._addGlyphToBitmap(u),u},t.prototype._addGlyphToBitmap=function(e){var t=this;!("createImageBitmap"in window)||l.isFirefox||l.isSafari||(this._glyphsWaitingOnBitmap.push(e),null===this._bitmapCommitTimeout&&(this._bitmapCommitTimeout=window.setTimeout((function(){return t._generateBitmap()}),100)))},t.prototype._generateBitmap=function(){var e=this,t=this._glyphsWaitingOnBitmap;this._glyphsWaitingOnBitmap=[],window.createImageBitmap(this._cacheCanvas).then((function(i){e._bitmap=i;for(var n=0;n<t.length;n++)t[n].inBitmap=!0})),this._bitmapCommitTimeout=null},t}(s.BaseCharAtlas);t.DynamicCharAtlas=p;var _=function(e){function t(t,i){return e.call(this)||this}return r(t,e),t.prototype.draw=function(e,t,i,n){return!1},t}(s.BaseCharAtlas);t.NoneCharAtlas=_},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.BaseCharAtlas=void 0;var n=function(){function e(){this._didWarmUp=!1}return e.prototype.dispose=function(){},e.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},e.prototype._doWarmUp=function(){},e.prototype.beginFrame=function(){},e}();t.BaseCharAtlas=n},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorContrastCache=void 0;var n=function(){function e(){this._color={},this._rgba={}}return e.prototype.clear=function(){this._color={},this._rgba={}},e.prototype.setCss=function(e,t,i){this._rgba[e]||(this._rgba[e]={}),this._rgba[e][t]=i},e.prototype.getCss=function(e,t){return this._rgba[e]?this._rgba[e][t]:void 0},e.prototype.setColor=function(e,t,i){this._color[e]||(this._color[e]={}),this._color[e][t]=i},e.prototype.getColor=function(e,t){return this._color[e]?this._color[e][t]:void 0},e}();t.ColorContrastCache=n},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.LRUMap=void 0;var n=function(){function e(e){this.capacity=e,this._map={},this._head=null,this._tail=null,this._nodePool=[],this.size=0}return e.prototype._unlinkNode=function(e){var t=e.prev,i=e.next;e===this._head&&(this._head=i),e===this._tail&&(this._tail=t),null!==t&&(t.next=i),null!==i&&(i.prev=t)},e.prototype._appendNode=function(e){var t=this._tail;null!==t&&(t.next=e),e.prev=t,e.next=null,this._tail=e,null===this._head&&(this._head=e)},e.prototype.prealloc=function(e){for(var t=this._nodePool,i=0;i<e;i++)t.push({prev:null,next:null,key:null,value:null})},e.prototype.get=function(e){var t=this._map[e];return void 0!==t?(this._unlinkNode(t),this._appendNode(t),t.value):null},e.prototype.peekValue=function(e){var t=this._map[e];return void 0!==t?t.value:null},e.prototype.peek=function(){var e=this._head;return null===e?null:e.value},e.prototype.set=function(e,t){var i=this._map[e];if(void 0!==i)i=this._map[e],this._unlinkNode(i),i.value=t;else if(this.size>=this.capacity)i=this._head,this._unlinkNode(i),delete this._map[i.key],i.key=e,i.value=t,this._map[e]=i;else{var n=this._nodePool;n.length>0?((i=n.pop()).key=e,i.value=t):i={prev:null,next:null,key:e,value:t},this._map[e]=i,this.size++}this._appendNode(i)},e}();t.LRUMap=n},function(e,t,i){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRenderLayer=void 0;var o=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,"selection",i,!0,n,r,o,s)||this;return a._clearState(),a}return r(t,e),t.prototype._clearState=function(){this._state={start:void 0,end:void 0,columnSelectMode:void 0,ydisp:void 0}},t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._clearState()},t.prototype.reset=function(){this._state.start&&this._state.end&&(this._clearState(),this._clearAll())},t.prototype.onSelectionChanged=function(e,t,i){if(this._didStateChange(e,t,i,this._bufferService.buffer.ydisp))if(this._clearAll(),e&&t){var n=e[1]-this._bufferService.buffer.ydisp,r=t[1]-this._bufferService.buffer.ydisp,o=Math.max(n,0),s=Math.min(r,this._bufferService.rows-1);if(!(o>=this._bufferService.rows||s<0)){if(this._ctx.fillStyle=this._colors.selection.css,i){var a=e[0],c=t[0]-a,l=s-o+1;this._fillCells(a,o,c,l)}else{a=n===o?e[0]:0;var u=o===s?t[0]:this._bufferService.cols;this._fillCells(a,o,u-a,1);var h=Math.max(s-o-1,0);if(this._fillCells(0,o+1,this._bufferService.cols,h),o!==s){var d=r===s?t[0]:this._bufferService.cols;this._fillCells(0,s,d,1)}}this._state.start=[e[0],e[1]],this._state.end=[t[0],t[1]],this._state.columnSelectMode=i,this._state.ydisp=this._bufferService.buffer.ydisp}}else this._clearState()},t.prototype._didStateChange=function(e,t,i,n){return!this._areCoordinatesEqual(e,this._state.start)||!this._areCoordinatesEqual(t,this._state.end)||i!==this._state.columnSelectMode||n!==this._state.ydisp},t.prototype._areCoordinatesEqual=function(e,t){return!(!e||!t)&&e[0]===t[0]&&e[1]===t[1]},t}(i(13).BaseRenderLayer);t.SelectionRenderLayer=o},function(e,t,i){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.CursorRenderLayer=void 0;var o=i(13),s=i(4),a=function(e){function t(t,i,n,r,o,a,c,l,u){var h=e.call(this,t,"cursor",i,!0,n,r,a,c)||this;return h._onRequestRedraw=o,h._coreService=l,h._coreBrowserService=u,h._cell=new s.CellData,h._state={x:0,y:0,isFocused:!1,style:"",width:0},h._cursorRenderers={bar:h._renderBarCursor.bind(h),block:h._renderBlockCursor.bind(h),underline:h._renderUnderlineCursor.bind(h)},h}return r(t,e),t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._state={x:0,y:0,isFocused:!1,style:"",width:0}},t.prototype.reset=function(){this._clearCursor(),this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=void 0,this.onOptionsChanged())},t.prototype.onBlur=function(){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.pause(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onFocus=function(){this._cursorBlinkStateManager?this._cursorBlinkStateManager.resume():this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onOptionsChanged=function(){var e,t=this;this._optionsService.options.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new c(this._coreBrowserService.isFocused,(function(){t._render(!0)}))):(null===(e=this._cursorBlinkStateManager)||void 0===e||e.dispose(),this._cursorBlinkStateManager=void 0),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onCursorMove=function(){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.restartBlinkAnimation()},t.prototype.onGridChanged=function(e,t){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(!1):this._cursorBlinkStateManager.restartBlinkAnimation()},t.prototype._render=function(e){if(this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden){var t=this._bufferService.buffer.ybase+this._bufferService.buffer.y,i=t-this._bufferService.buffer.ydisp;if(i<0||i>=this._bufferService.rows)this._clearCursor();else{var n=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1);if(this._bufferService.buffer.lines.get(t).loadCell(n,this._cell),void 0!==this._cell.content){if(!this._coreBrowserService.isFocused){this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css;var r=this._optionsService.options.cursorStyle;return r&&"block"!==r?this._cursorRenderers[r](n,i,this._cell):this._renderBlurCursor(n,i,this._cell),this._ctx.restore(),this._state.x=n,this._state.y=i,this._state.isFocused=!1,this._state.style=r,void(this._state.width=this._cell.getWidth())}if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===n&&this._state.y===i&&this._state.isFocused===this._coreBrowserService.isFocused&&this._state.style===this._optionsService.options.cursorStyle&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[this._optionsService.options.cursorStyle||"block"](n,i,this._cell),this._ctx.restore(),this._state.x=n,this._state.y=i,this._state.isFocused=!1,this._state.style=this._optionsService.options.cursorStyle,this._state.width=this._cell.getWidth()}else this._clearCursor()}}}else this._clearCursor()},t.prototype._clearCursor=function(){this._state&&(this._clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:0,y:0,isFocused:!1,style:"",width:0})},t.prototype._renderBarCursor=function(e,t,i){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillLeftLineAtCell(e,t,this._optionsService.options.cursorWidth),this._ctx.restore()},t.prototype._renderBlockCursor=function(e,t,i){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillCells(e,t,i.getWidth(),1),this._ctx.fillStyle=this._colors.cursorAccent.css,this._fillCharTrueColor(i,e,t),this._ctx.restore()},t.prototype._renderUnderlineCursor=function(e,t,i){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillBottomLineAtCells(e,t),this._ctx.restore()},t.prototype._renderBlurCursor=function(e,t,i){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this._strokeRectAtCell(e,t,i.getWidth(),1),this._ctx.restore()},t}(o.BaseRenderLayer);t.CursorRenderLayer=a;var c=function(){function e(e,t){this._renderCallback=t,this.isCursorVisible=!0,e&&this._restartInterval()}return Object.defineProperty(e.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.restartBlinkAnimation=function(){var e=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame((function(){e._renderCallback(),e._animationFrame=void 0}))))},e.prototype._restartInterval=function(e){var t=this;void 0===e&&(e=600),this._blinkInterval&&window.clearInterval(this._blinkInterval),this._blinkStartTimeout=window.setTimeout((function(){if(t._animationTimeRestarted){var e=600-(Date.now()-t._animationTimeRestarted);if(t._animationTimeRestarted=void 0,e>0)return void t._restartInterval(e)}t.isCursorVisible=!1,t._animationFrame=window.requestAnimationFrame((function(){t._renderCallback(),t._animationFrame=void 0})),t._blinkInterval=window.setInterval((function(){if(t._animationTimeRestarted){var e=600-(Date.now()-t._animationTimeRestarted);return t._animationTimeRestarted=void 0,void t._restartInterval(e)}t.isCursorVisible=!t.isCursorVisible,t._animationFrame=window.requestAnimationFrame((function(){t._renderCallback(),t._animationFrame=void 0}))}),600)}),e)},e.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.resume=function(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()},e}()},function(e,t,i){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.LinkRenderLayer=void 0;var o=i(13),s=i(9),a=i(25),c=function(e){function t(t,i,n,r,o,s,a,c){var l=e.call(this,t,"link",i,!0,n,r,a,c)||this;return o.onShowLinkUnderline((function(e){return l._onShowLinkUnderline(e)})),o.onHideLinkUnderline((function(e){return l._onHideLinkUnderline(e)})),s.onShowLinkUnderline((function(e){return l._onShowLinkUnderline(e)})),s.onHideLinkUnderline((function(e){return l._onHideLinkUnderline(e)})),l}return r(t,e),t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._state=void 0},t.prototype.reset=function(){this._clearCurrentLink()},t.prototype._clearCurrentLink=function(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var e=this._state.y2-this._state.y1-1;e>0&&this._clearCells(0,this._state.y1+1,this._state.cols,e),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}},t.prototype._onShowLinkUnderline=function(e){if(e.fg===s.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background.css:e.fg&&a.is256Color(e.fg)?this._ctx.fillStyle=this._colors.ansi[e.fg].css:this._ctx.fillStyle=this._colors.foreground.css,e.y1===e.y2)this._fillBottomLineAtCells(e.x1,e.y1,e.x2-e.x1);else{this._fillBottomLineAtCells(e.x1,e.y1,e.cols-e.x1);for(var t=e.y1+1;t<e.y2;t++)this._fillBottomLineAtCells(0,t,e.cols);this._fillBottomLineAtCells(0,e.y2,e.x2)}this._state=e},t.prototype._onHideLinkUnderline=function(e){this._clearCurrentLink()},t}(o.BaseRenderLayer);t.LinkRenderLayer=c},function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseZone=t.Linkifier=void 0;var o=i(0),s=i(1),a=function(){function e(e,t,i){this._bufferService=e,this._logService=t,this._unicodeService=i,this._linkMatchers=[],this._nextLinkMatcherId=0,this._onShowLinkUnderline=new o.EventEmitter,this._onHideLinkUnderline=new o.EventEmitter,this._onLinkTooltip=new o.EventEmitter,this._rowsToLinkify={start:void 0,end:void 0}}return Object.defineProperty(e.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onLinkTooltip",{get:function(){return this._onLinkTooltip.event},enumerable:!1,configurable:!0}),e.prototype.attachToDom=function(e,t){this._element=e,this._mouseZoneManager=t},e.prototype.linkifyRows=function(t,i){var n=this;this._mouseZoneManager&&(void 0===this._rowsToLinkify.start||void 0===this._rowsToLinkify.end?(this._rowsToLinkify.start=t,this._rowsToLinkify.end=i):(this._rowsToLinkify.start=Math.min(this._rowsToLinkify.start,t),this._rowsToLinkify.end=Math.max(this._rowsToLinkify.end,i)),this._mouseZoneManager.clearAll(t,i),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout((function(){return n._linkifyRows()}),e._timeBeforeLatency))},e.prototype._linkifyRows=function(){this._rowsTimeoutId=void 0;var e=this._bufferService.buffer;if(void 0!==this._rowsToLinkify.start&&void 0!==this._rowsToLinkify.end){var t=e.ydisp+this._rowsToLinkify.start;if(!(t>=e.lines.length)){for(var i=e.ydisp+Math.min(this._rowsToLinkify.end,this._bufferService.rows)+1,n=Math.ceil(2e3/this._bufferService.cols),r=this._bufferService.buffer.iterator(!1,t,i,n,n);r.hasNext();)for(var o=r.next(),s=0;s<this._linkMatchers.length;s++)this._doLinkifyRow(o.range.first,o.content,this._linkMatchers[s]);this._rowsToLinkify.start=void 0,this._rowsToLinkify.end=void 0}}else this._logService.debug("_rowToLinkify was unset before _linkifyRows was called")},e.prototype.registerLinkMatcher=function(e,t,i){if(void 0===i&&(i={}),!t)throw new Error("handler must be defined");var n={id:this._nextLinkMatcherId++,regex:e,handler:t,matchIndex:i.matchIndex,validationCallback:i.validationCallback,hoverTooltipCallback:i.tooltipCallback,hoverLeaveCallback:i.leaveCallback,willLinkActivate:i.willLinkActivate,priority:i.priority||0};return this._addLinkMatcherToList(n),n.id},e.prototype._addLinkMatcherToList=function(e){if(0!==this._linkMatchers.length){for(var t=this._linkMatchers.length-1;t>=0;t--)if(e.priority<=this._linkMatchers[t].priority)return void this._linkMatchers.splice(t+1,0,e);this._linkMatchers.splice(0,0,e)}else this._linkMatchers.push(e)},e.prototype.deregisterLinkMatcher=function(e){for(var t=0;t<this._linkMatchers.length;t++)if(this._linkMatchers[t].id===e)return this._linkMatchers.splice(t,1),!0;return!1},e.prototype._doLinkifyRow=function(e,t,i){for(var n,r=this,o=new RegExp(i.regex.source,(i.regex.flags||"")+"g"),s=-1,a=function(){var a=n["number"!=typeof i.matchIndex?0:i.matchIndex];if(!a)return c._logService.debug("match found without corresponding matchIndex",n,i),"break";if(s=t.indexOf(a,s+1),o.lastIndex=s+a.length,s<0)return"break";var l=c._bufferService.buffer.stringIndexToBufferIndex(e,s);if(l[0]<0)return"break";var u=c._bufferService.buffer.lines.get(l[0]);if(!u)return"break";var h=u.getFg(l[1]),d=h?h>>9&511:void 0;i.validationCallback?i.validationCallback(a,(function(e){r._rowsTimeoutId||e&&r._addLink(l[1],l[0]-r._bufferService.buffer.ydisp,a,i,d)})):c._addLink(l[1],l[0]-c._bufferService.buffer.ydisp,a,i,d)},c=this;null!==(n=o.exec(t))&&"break"!==a(););},e.prototype._addLink=function(e,t,i,n,r){var o=this;if(this._mouseZoneManager&&this._element){var s=this._unicodeService.getStringCellWidth(i),a=e%this._bufferService.cols,l=t+Math.floor(e/this._bufferService.cols),u=(a+s)%this._bufferService.cols,h=l+Math.floor((a+s)/this._bufferService.cols);0===u&&(u=this._bufferService.cols,h--),this._mouseZoneManager.add(new c(a+1,l+1,u+1,h+1,(function(e){if(n.handler)return n.handler(e,i);var t=window.open();t?(t.opener=null,t.location.href=i):console.warn("Opening link blocked as opener could not be cleared")}),(function(){o._onShowLinkUnderline.fire(o._createLinkHoverEvent(a,l,u,h,r)),o._element.classList.add("xterm-cursor-pointer")}),(function(e){o._onLinkTooltip.fire(o._createLinkHoverEvent(a,l,u,h,r)),n.hoverTooltipCallback&&n.hoverTooltipCallback(e,i,{start:{x:a,y:l},end:{x:u,y:h}})}),(function(){o._onHideLinkUnderline.fire(o._createLinkHoverEvent(a,l,u,h,r)),o._element.classList.remove("xterm-cursor-pointer"),n.hoverLeaveCallback&&n.hoverLeaveCallback()}),(function(e){return!n.willLinkActivate||n.willLinkActivate(e,i)})))}},e.prototype._createLinkHoverEvent=function(e,t,i,n,r){return{x1:e,y1:t,x2:i,y2:n,cols:this._bufferService.cols,fg:r}},e._timeBeforeLatency=200,e=n([r(0,s.IBufferService),r(1,s.ILogService),r(2,s.IUnicodeService)],e)}();t.Linkifier=a;var c=function(e,t,i,n,r,o,s,a,c){this.x1=e,this.y1=t,this.x2=i,this.y2=n,this.clickCallback=r,this.hoverCallback=o,this.tooltipCallback=s,this.leaveCallback=a,this.willLinkActivate=c};t.MouseZone=c},function(e,t,i){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionService=void 0;var a=i(11),c=i(51),l=i(4),u=i(0),h=i(5),d=i(1),f=i(29),p=i(52),_=i(2),v=String.fromCharCode(160),m=new RegExp(v,"g"),g=function(e){function t(t,i,n,r,o,s,a){var h=e.call(this)||this;return h._element=t,h._screenElement=i,h._bufferService=n,h._coreService=r,h._mouseService=o,h._optionsService=s,h._renderService=a,h._dragScrollAmount=0,h._enabled=!0,h._workCell=new l.CellData,h._mouseDownTimeStamp=0,h._onLinuxMouseSelection=h.register(new u.EventEmitter),h._onRedrawRequest=h.register(new u.EventEmitter),h._onSelectionChange=h.register(new u.EventEmitter),h._onRequestScrollLines=h.register(new u.EventEmitter),h._mouseMoveListener=function(e){return h._onMouseMove(e)},h._mouseUpListener=function(e){return h._onMouseUp(e)},h._coreService.onUserInput((function(){h.hasSelection&&h.clearSelection()})),h._trimListener=h._bufferService.buffer.lines.onTrim((function(e){return h._onTrim(e)})),h.register(h._bufferService.buffers.onBufferActivate((function(e){return h._onBufferActivate(e)}))),h.enable(),h._model=new c.SelectionModel(h._bufferService),h._activeSelectionMode=0,h}return r(t,e),Object.defineProperty(t.prototype,"onLinuxMouseSelection",{get:function(){return this._onLinuxMouseSelection.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestRedraw",{get:function(){return this._onRedrawRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestScrollLines",{get:function(){return this._onRequestScrollLines.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this._removeMouseDownListeners()},t.prototype.reset=function(){this.clearSelection()},t.prototype.disable=function(){this.clearSelection(),this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},Object.defineProperty(t.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSelection",{get:function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;return!(!e||!t||e[0]===t[0]&&e[1]===t[1])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectionText",{get:function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;if(!e||!t)return"";var i=this._bufferService.buffer,n=[];if(3===this._activeSelectionMode){if(e[0]===t[0])return"";for(var r=e[1];r<=t[1];r++){var o=i.translateBufferLineToString(r,!0,e[0],t[0]);n.push(o)}}else{var s=e[1]===t[1]?t[0]:void 0;for(n.push(i.translateBufferLineToString(e[1],!0,e[0],s)),r=e[1]+1;r<=t[1]-1;r++){var c=i.lines.get(r);o=i.translateBufferLineToString(r,!0),c&&c.isWrapped?n[n.length-1]+=o:n.push(o)}e[1]!==t[1]&&(c=i.lines.get(t[1]),o=i.translateBufferLineToString(t[1],!0,0,t[0]),c&&c.isWrapped?n[n.length-1]+=o:n.push(o))}return n.map((function(e){return e.replace(m," ")})).join(a.isWindows?"\r\n":"\n")},enumerable:!1,configurable:!0}),t.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()},t.prototype.refresh=function(e){var t=this;this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame((function(){return t._refresh()}))),a.isLinux&&e&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)},t.prototype._refresh=function(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})},t.prototype.isClickInSelection=function(e){var t=this._getMouseBufferCoords(e),i=this._model.finalSelectionStart,n=this._model.finalSelectionEnd;return!!(i&&n&&t)&&this._areCoordsInSelection(t,i,n)},t.prototype._areCoordsInSelection=function(e,t,i){return e[1]>t[1]&&e[1]<i[1]||t[1]===i[1]&&e[1]===t[1]&&e[0]>=t[0]&&e[0]<i[0]||t[1]<i[1]&&e[1]===i[1]&&e[0]<i[0]||t[1]<i[1]&&e[1]===t[1]&&e[0]>=t[0]},t.prototype.selectWordAtCursor=function(e){var t=this._getMouseBufferCoords(e);t&&(this._selectWordAt(t,!1),this._model.selectionEnd=void 0,this.refresh(!0))},t.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()},t.prototype.selectLines=function(e,t){this._model.clearSelection(),e=Math.max(e,0),t=Math.min(t,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,e],this._model.selectionEnd=[this._bufferService.cols,t],this.refresh(),this._onSelectionChange.fire()},t.prototype._onTrim=function(e){this._model.onTrim(e)&&this.refresh()},t.prototype._getMouseBufferCoords=function(e){var t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(t)return t[0]--,t[1]--,t[1]+=this._bufferService.buffer.ydisp,t},t.prototype._getMouseEventScrollAmount=function(e){var t=f.getCoordsRelativeToElement(e,this._screenElement)[1],i=this._renderService.dimensions.canvasHeight;return t>=0&&t<=i?0:(t>i&&(t-=i),t=Math.min(Math.max(t,-50),50),(t/=50)/Math.abs(t)+Math.round(14*t))},t.prototype.shouldForceSelection=function(e){return a.isMac?e.altKey&&this._optionsService.options.macOptionClickForcesSelection:e.shiftKey},t.prototype.onMouseDown=function(e){if(this._mouseDownTimeStamp=e.timeStamp,(2!==e.button||!this.hasSelection)&&0===e.button){if(!this._enabled){if(!this.shouldForceSelection(e))return;e.stopPropagation()}e.preventDefault(),this._dragScrollAmount=0,this._enabled&&e.shiftKey?this._onIncrementalClick(e):1===e.detail?this._onSingleClick(e):2===e.detail?this._onDoubleClick(e):3===e.detail&&this._onTripleClick(e),this._addMouseDownListeners(),this.refresh(!0)}},t.prototype._addMouseDownListeners=function(){var e=this;this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=window.setInterval((function(){return e._dragScroll()}),50)},t.prototype._removeMouseDownListeners=function(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0},t.prototype._onIncrementalClick=function(e){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(e))},t.prototype._onSingleClick=function(e){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(e)?3:0,this._model.selectionStart=this._getMouseBufferCoords(e),this._model.selectionStart){this._model.selectionEnd=void 0;var t=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);t&&t.length!==this._model.selectionStart[0]&&0===t.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}},t.prototype._onDoubleClick=function(e){var t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=1,this._selectWordAt(t,!0))},t.prototype._onTripleClick=function(e){var t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=2,this._selectLineAt(t[1]))},t.prototype.shouldColumnSelect=function(e){return e.altKey&&!(a.isMac&&this._optionsService.options.macOptionClickForcesSelection)},t.prototype._onMouseMove=function(e){if(e.stopImmediatePropagation(),this._model.selectionStart){var t=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(e),this._model.selectionEnd){2===this._activeSelectionMode?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(e),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));var i=this._bufferService.buffer;if(this._model.selectionEnd[1]<i.lines.length){var n=i.lines.get(this._model.selectionEnd[1]);n&&0===n.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}t&&t[0]===this._model.selectionEnd[0]&&t[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)}},t.prototype._dragScroll=function(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});var e=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(e.ydisp+this._bufferService.rows,e.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=e.ydisp),this.refresh()}},t.prototype._onMouseUp=function(e){var t=e.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&t<500){if(e.altKey&&this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){var i=this._mouseService.getCoords(e,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(i&&void 0!==i[0]&&void 0!==i[1]){var n=p.moveToCellSequence(i[0]-1,i[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(n,!0)}}}else this.hasSelection&&this._onSelectionChange.fire()},t.prototype._onBufferActivate=function(e){var t=this;this.clearSelection(),this._trimListener.dispose(),this._trimListener=e.activeBuffer.lines.onTrim((function(e){return t._onTrim(e)}))},t.prototype._convertViewportColToCharacterIndex=function(e,t){for(var i=t[0],n=0;t[0]>=n;n++){var r=e.loadCell(n,this._workCell).getChars().length;0===this._workCell.getWidth()?i--:r>1&&t[0]!==n&&(i+=r-1)}return i},t.prototype.setSelection=function(e,t,i){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[e,t],this._model.selectionStartLength=i,this.refresh()},t.prototype._getWordAt=function(e,t,i,n){if(void 0===i&&(i=!0),void 0===n&&(n=!0),!(e[0]>=this._bufferService.cols)){var r=this._bufferService.buffer,o=r.lines.get(e[1]);if(o){var s=r.translateBufferLineToString(e[1],!1),a=this._convertViewportColToCharacterIndex(o,e),c=a,l=e[0]-a,u=0,h=0,d=0,f=0;if(" "===s.charAt(a)){for(;a>0&&" "===s.charAt(a-1);)a--;for(;c<s.length&&" "===s.charAt(c+1);)c++}else{var p=e[0],_=e[0];0===o.getWidth(p)&&(u++,p--),2===o.getWidth(_)&&(h++,_++);var v=o.getString(_).length;for(v>1&&(f+=v-1,c+=v-1);p>0&&a>0&&!this._isCharWordSeparator(o.loadCell(p-1,this._workCell));){o.loadCell(p-1,this._workCell);var m=this._workCell.getChars().length;0===this._workCell.getWidth()?(u++,p--):m>1&&(d+=m-1,a-=m-1),a--,p--}for(;_<o.length&&c+1<s.length&&!this._isCharWordSeparator(o.loadCell(_+1,this._workCell));){o.loadCell(_+1,this._workCell);var g=this._workCell.getChars().length;2===this._workCell.getWidth()?(h++,_++):g>1&&(f+=g-1,c+=g-1),c++,_++}}c++;var y=a+l-u+d,b=Math.min(this._bufferService.cols,c-a+u+h-d-f);if(t||""!==s.slice(a,c).trim()){if(i&&0===y&&32!==o.getCodePoint(0)){var w=r.lines.get(e[1]-1);if(w&&o.isWrapped&&32!==w.getCodePoint(this._bufferService.cols-1)){var C=this._getWordAt([this._bufferService.cols-1,e[1]-1],!1,!0,!1);if(C){var S=this._bufferService.cols-C.start;y-=S,b+=S}}}if(n&&y+b===this._bufferService.cols&&32!==o.getCodePoint(this._bufferService.cols-1)){var k=r.lines.get(e[1]+1);if(k&&k.isWrapped&&32!==k.getCodePoint(0)){var E=this._getWordAt([0,e[1]+1],!1,!1,!0);E&&(b+=E.length)}}return{start:y,length:b}}}}},t.prototype._selectWordAt=function(e,t){var i=this._getWordAt(e,t);if(i){for(;i.start<0;)i.start+=this._bufferService.cols,e[1]--;this._model.selectionStart=[i.start,e[1]],this._model.selectionStartLength=i.length}},t.prototype._selectToWordAt=function(e){var t=this._getWordAt(e,!0);if(t){for(var i=e[1];t.start<0;)t.start+=this._bufferService.cols,i--;if(!this._model.areSelectionValuesReversed())for(;t.start+t.length>this._bufferService.cols;)t.length-=this._bufferService.cols,i++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?t.start:t.start+t.length,i]}},t.prototype._isCharWordSeparator=function(e){return 0!==e.getWidth()&&this._optionsService.options.wordSeparator.indexOf(e.getChars())>=0},t.prototype._selectLineAt=function(e){var t=this._bufferService.buffer.getWrappedRangeForLine(e);this._model.selectionStart=[0,t.first],this._model.selectionEnd=[this._bufferService.cols,t.last],this._model.selectionStartLength=0},o([s(2,d.IBufferService),s(3,d.ICoreService),s(4,h.IMouseService),s(5,d.IOptionsService),s(6,h.IRenderService)],t)}(_.Disposable);t.SelectionService=g},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionModel=void 0;var n=function(){function e(e){this._bufferService=e,this.isSelectAllActive=!1,this.selectionStartLength=0}return e.prototype.clearSelection=function(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(e.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"finalSelectionEnd",{get:function(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){var e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[e,this.selectionStart[1]]}return this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?[Math.max(this.selectionStart[0]+this.selectionStartLength,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd}},enumerable:!1,configurable:!0}),e.prototype.areSelectionValuesReversed=function(){var e=this.selectionStart,t=this.selectionEnd;return!(!e||!t)&&(e[1]>t[1]||e[1]===t[1]&&e[0]>t[0])},e.prototype.onTrim=function(e){return this.selectionStart&&(this.selectionStart[1]-=e),this.selectionEnd&&(this.selectionEnd[1]-=e),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},e}();t.SelectionModel=n},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.moveToCellSequence=void 0;var n=i(12);function r(e,t,i,n){var r=e-o(i,e),a=t-o(i,t);return l(Math.abs(r-a)-function(e,t,i){for(var n=0,r=e-o(i,e),a=t-o(i,t),c=0;c<Math.abs(r-a);c++){var l="A"===s(e,t)?-1:1,u=i.buffer.lines.get(r+l*c);u&&u.isWrapped&&n++}return n}(e,t,i),c(s(e,t),n))}function o(e,t){for(var i=0,n=e.buffer.lines.get(t),r=n&&n.isWrapped;r&&t>=0&&t<e.rows;)i++,r=(n=e.buffer.lines.get(--t))&&n.isWrapped;return i}function s(e,t){return e>t?"A":"B"}function a(e,t,i,n,r,o){for(var s=e,a=t,c="";s!==i||a!==n;)s+=r?1:-1,r&&s>o.cols-1?(c+=o.buffer.translateBufferLineToString(a,!1,e,s),s=0,e=0,a++):!r&&s<0&&(c+=o.buffer.translateBufferLineToString(a,!1,0,e+1),e=s=o.cols-1,a--);return c+o.buffer.translateBufferLineToString(a,!1,e,s)}function c(e,t){var i=t?"O":"[";return n.C0.ESC+i+e}function l(e,t){e=Math.floor(e);for(var i="",n=0;n<e;n++)i+=t;return i}t.moveToCellSequence=function(e,t,i,n){var s,u=i.buffer.x,h=i.buffer.y;if(!i.buffer.hasScrollback)return function(e,t,i,n,s,u){return 0===r(t,n,s,u).length?"":l(a(e,t,e,t-o(s,t),!1,s).length,c("D",u))}(u,h,0,t,i,n)+r(h,t,i,n)+function(e,t,i,n,s,u){var h;h=r(t,n,s,u).length>0?n-o(s,n):t;var d=n,f=function(e,t,i,n,s,a){var c;return c=r(i,n,s,a).length>0?n-o(s,n):t,e<i&&c<=n||e>=i&&c<n?"C":"D"}(e,t,i,n,s,u);return l(a(e,h,i,d,"C"===f,s).length,c(f,u))}(u,h,e,t,i,n);if(h===t)return s=u>e?"D":"C",l(Math.abs(u-e),c(s,n));s=h>t?"D":"C";var d=Math.abs(h-t);return l(function(e,t){return t.cols-e}(h>t?e:u,i)+(d-1)*i.cols+1+((h>t?u:e)-1),c(s,n))}},function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SoundService=void 0;var o=i(1),s=function(){function e(e){this._optionsService=e}return Object.defineProperty(e,"audioContext",{get:function(){if(!e._audioContext){var t=window.AudioContext||window.webkitAudioContext;if(!t)return console.warn("Web Audio API is not supported by this browser. Consider upgrading to the latest version"),null;e._audioContext=new t}return e._audioContext},enumerable:!1,configurable:!0}),e.prototype.playBellSound=function(){var t=e.audioContext;if(t){var i=t.createBufferSource();t.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._optionsService.options.bellSound)),(function(e){i.buffer=e,i.connect(t.destination),i.start(0)}))}},e.prototype._base64ToArrayBuffer=function(e){for(var t=window.atob(e),i=t.length,n=new Uint8Array(i),r=0;r<i;r++)n[r]=t.charCodeAt(r);return n.buffer},e.prototype._removeMimeType=function(e){return e.split(",")[1]},e=n([r(0,o.IOptionsService)],e)}();t.SoundService=s},function(e,t,i){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseZoneManager=void 0;var a=i(2),c=i(7),l=i(5),u=i(1),h=function(e){function t(t,i,n,r,o,s){var a=e.call(this)||this;return a._element=t,a._screenElement=i,a._bufferService=n,a._mouseService=r,a._selectionService=o,a._optionsService=s,a._zones=[],a._areZonesActive=!1,a._lastHoverCoords=[void 0,void 0],a._initialSelectionLength=0,a.register(c.addDisposableDomListener(a._element,"mousedown",(function(e){return a._onMouseDown(e)}))),a._mouseMoveListener=function(e){return a._onMouseMove(e)},a._mouseLeaveListener=function(e){return a._onMouseLeave(e)},a._clickListener=function(e){return a._onClick(e)},a}return r(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._deactivate()},t.prototype.add=function(e){this._zones.push(e),1===this._zones.length&&this._activate()},t.prototype.clearAll=function(e,t){if(0!==this._zones.length){e&&t||(e=0,t=this._bufferService.rows-1);for(var i=0;i<this._zones.length;i++){var n=this._zones[i];(n.y1>e&&n.y1<=t+1||n.y2>e&&n.y2<=t+1||n.y1<e&&n.y2>t+1)&&(this._currentZone&&this._currentZone===n&&(this._currentZone.leaveCallback(),this._currentZone=void 0),this._zones.splice(i--,1))}0===this._zones.length&&this._deactivate()}},t.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._element.addEventListener("mousemove",this._mouseMoveListener),this._element.addEventListener("mouseleave",this._mouseLeaveListener),this._element.addEventListener("click",this._clickListener))},t.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._element.removeEventListener("mousemove",this._mouseMoveListener),this._element.removeEventListener("mouseleave",this._mouseLeaveListener),this._element.removeEventListener("click",this._clickListener))},t.prototype._onMouseMove=function(e){this._lastHoverCoords[0]===e.pageX&&this._lastHoverCoords[1]===e.pageY||(this._onHover(e),this._lastHoverCoords=[e.pageX,e.pageY])},t.prototype._onHover=function(e){var t=this,i=this._findZoneEventAt(e);i!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),i&&(this._currentZone=i,i.hoverCallback&&i.hoverCallback(e),this._tooltipTimeout=window.setTimeout((function(){return t._onTooltip(e)}),this._optionsService.options.linkTooltipHoverDuration)))},t.prototype._onTooltip=function(e){this._tooltipTimeout=void 0;var t=this._findZoneEventAt(e);t&&t.tooltipCallback&&t.tooltipCallback(e)},t.prototype._onMouseDown=function(e){if(this._initialSelectionLength=this._getSelectionLength(),this._areZonesActive){var t=this._findZoneEventAt(e);(null==t?void 0:t.willLinkActivate(e))&&(e.preventDefault(),e.stopImmediatePropagation())}},t.prototype._onMouseLeave=function(e){this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout))},t.prototype._onClick=function(e){var t=this._findZoneEventAt(e),i=this._getSelectionLength();t&&i===this._initialSelectionLength&&(t.clickCallback(e),e.preventDefault(),e.stopImmediatePropagation())},t.prototype._getSelectionLength=function(){var e=this._selectionService.selectionText;return e?e.length:0},t.prototype._findZoneEventAt=function(e){var t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows);if(t)for(var i=t[0],n=t[1],r=0;r<this._zones.length;r++){var o=this._zones[r];if(o.y1===o.y2){if(n===o.y1&&i>=o.x1&&i<o.x2)return o}else if(n===o.y1&&i>=o.x1||n===o.y2&&i<o.x2||n>o.y1&&n<o.y2)return o}},o([s(2,u.IBufferService),s(3,l.IMouseService),s(4,l.ISelectionService),s(5,u.IOptionsService)],t)}(a.Disposable);t.MouseZoneManager=h},function(e,t,i){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibilityManager=void 0;var o=i(17),s=i(11),a=i(30),c=i(7),l=i(2),u=i(31),h=function(e){function t(t,i){var n=e.call(this)||this;n._terminal=t,n._renderService=i,n._liveRegionLineCount=0,n._charsToConsume=[],n._charsToAnnounce="",n._accessibilityTreeRoot=document.createElement("div"),n._accessibilityTreeRoot.classList.add("xterm-accessibility"),n._rowContainer=document.createElement("div"),n._rowContainer.classList.add("xterm-accessibility-tree"),n._rowContainer.setAttribute("role","list"),n._rowElements=[];for(var r=0;r<n._terminal.rows;r++)n._rowElements[r]=n._createAccessibilityTreeNode(),n._rowContainer.appendChild(n._rowElements[r]);if(n._topBoundaryFocusListener=function(e){return n._onBoundaryFocus(e,0)},n._bottomBoundaryFocusListener=function(e){return n._onBoundaryFocus(e,1)},n._rowElements[0].addEventListener("focus",n._topBoundaryFocusListener),n._rowElements[n._rowElements.length-1].addEventListener("focus",n._bottomBoundaryFocusListener),n._refreshRowsDimensions(),n._accessibilityTreeRoot.appendChild(n._rowContainer),n._renderRowsDebouncer=new a.RenderDebouncer(n._renderRows.bind(n)),n._refreshRows(),n._liveRegion=document.createElement("div"),n._liveRegion.classList.add("live-region"),n._liveRegion.setAttribute("aria-live","assertive"),n._accessibilityTreeRoot.appendChild(n._liveRegion),!n._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");return n._terminal.element.insertAdjacentElement("afterbegin",n._accessibilityTreeRoot),n.register(n._renderRowsDebouncer),n.register(n._terminal.onResize((function(e){return n._onResize(e.rows)}))),n.register(n._terminal.onRender((function(e){return n._refreshRows(e.start,e.end)}))),n.register(n._terminal.onScroll((function(){return n._refreshRows()}))),n.register(n._terminal.onA11yChar((function(e){return n._onChar(e)}))),n.register(n._terminal.onLineFeed((function(){return n._onChar("\n")}))),n.register(n._terminal.onA11yTab((function(e){return n._onTab(e)}))),n.register(n._terminal.onKey((function(e){return n._onKey(e.key)}))),n.register(n._terminal.onBlur((function(){return n._clearLiveRegion()}))),n.register(n._renderService.onDimensionsChange((function(){return n._refreshRowsDimensions()}))),n._screenDprMonitor=new u.ScreenDprMonitor,n.register(n._screenDprMonitor),n._screenDprMonitor.setListener((function(){return n._refreshRowsDimensions()})),n.register(c.addDisposableDomListener(window,"resize",(function(){return n._refreshRowsDimensions()}))),n}return r(t,e),t.prototype.dispose=function(){var t;e.prototype.dispose.call(this),null===(t=this._terminal.element)||void 0===t||t.removeChild(this._accessibilityTreeRoot),this._rowElements.length=0},t.prototype._onBoundaryFocus=function(e,t){var i=e.target,n=this._rowElements[0===t?1:this._rowElements.length-2];if(i.getAttribute("aria-posinset")!==(0===t?"1":""+this._terminal.buffer.lines.length)&&e.relatedTarget===n){var r,o;if(0===t?(r=i,o=this._rowElements.pop(),this._rowContainer.removeChild(o)):(r=this._rowElements.shift(),o=i,this._rowContainer.removeChild(r)),r.removeEventListener("focus",this._topBoundaryFocusListener),o.removeEventListener("focus",this._bottomBoundaryFocusListener),0===t){var s=this._createAccessibilityTreeNode();this._rowElements.unshift(s),this._rowContainer.insertAdjacentElement("afterbegin",s)}else s=this._createAccessibilityTreeNode(),this._rowElements.push(s),this._rowContainer.appendChild(s);this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===t?-1:1),this._rowElements[0===t?1:this._rowElements.length-2].focus(),e.preventDefault(),e.stopImmediatePropagation()}},t.prototype._onResize=function(e){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(var t=this._rowContainer.children.length;t<this._terminal.rows;t++)this._rowElements[t]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[t]);for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()},t.prototype._createAccessibilityTreeNode=function(){var e=document.createElement("div");return e.setAttribute("role","listitem"),e.tabIndex=-1,this._refreshRowDimensions(e),e},t.prototype._onTab=function(e){for(var t=0;t<e;t++)this._onChar(" ")},t.prototype._onChar=function(e){var t=this;this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==e&&(this._charsToAnnounce+=e):this._charsToAnnounce+=e,"\n"===e&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=o.tooMuchOutput)),s.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout((function(){t._accessibilityTreeRoot.appendChild(t._liveRegion)}),0))},t.prototype._clearLiveRegion=function(){this._liveRegion.textContent="",this._liveRegionLineCount=0,s.isMac&&this._liveRegion.parentNode&&this._accessibilityTreeRoot.removeChild(this._liveRegion)},t.prototype._onKey=function(e){this._clearLiveRegion(),this._charsToConsume.push(e)},t.prototype._refreshRows=function(e,t){this._renderRowsDebouncer.refresh(e,t,this._terminal.rows)},t.prototype._renderRows=function(e,t){for(var i=this._terminal.buffer,n=i.lines.length.toString(),r=e;r<=t;r++){var o=i.translateBufferLineToString(i.ydisp+r,!0),s=(i.ydisp+r+1).toString(),a=this._rowElements[r];a&&(0===o.length?a.innerHTML="&nbsp;":a.textContent=o,a.setAttribute("aria-posinset",s),a.setAttribute("aria-setsize",n))}this._announceCharacters()},t.prototype._refreshRowsDimensions=function(){if(this._renderService.dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(var e=0;e<this._terminal.rows;e++)this._refreshRowDimensions(this._rowElements[e])}},t.prototype._refreshRowDimensions=function(e){e.style.height=this._renderService.dimensions.actualCellHeight+"px"},t.prototype._announceCharacters=function(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")},t}(l.Disposable);t.AccessibilityManager=h},function(e,t,i){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomRenderer=void 0;var a=i(57),c=i(9),l=i(2),u=i(5),h=i(1),d=i(0),f=i(10),p=1,_=function(e){function t(t,i,n,r,o,s,c,l,u){var h=e.call(this)||this;return h._colors=t,h._element=i,h._screenElement=n,h._viewportElement=r,h._linkifier=o,h._linkifier2=s,h._charSizeService=c,h._optionsService=l,h._bufferService=u,h._terminalClass=p++,h._rowElements=[],h._rowContainer=document.createElement("div"),h._rowContainer.classList.add("xterm-rows"),h._rowContainer.style.lineHeight="normal",h._rowContainer.setAttribute("aria-hidden","true"),h._refreshRowElements(h._bufferService.cols,h._bufferService.rows),h._selectionContainer=document.createElement("div"),h._selectionContainer.classList.add("xterm-selection"),h._selectionContainer.setAttribute("aria-hidden","true"),h.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},h._updateDimensions(),h._injectCss(),h._rowFactory=new a.DomRendererRowFactory(document,h._optionsService,h._colors),h._element.classList.add("xterm-dom-renderer-owner-"+h._terminalClass),h._screenElement.appendChild(h._rowContainer),h._screenElement.appendChild(h._selectionContainer),h._linkifier.onShowLinkUnderline((function(e){return h._onLinkHover(e)})),h._linkifier.onHideLinkUnderline((function(e){return h._onLinkLeave(e)})),h._linkifier2.onShowLinkUnderline((function(e){return h._onLinkHover(e)})),h._linkifier2.onHideLinkUnderline((function(e){return h._onLinkLeave(e)})),h}return r(t,e),Object.defineProperty(t.prototype,"onRequestRedraw",{get:function(){return(new d.EventEmitter).event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this._element.classList.remove("xterm-dom-renderer-owner-"+this._terminalClass),this._screenElement.removeChild(this._rowContainer),this._screenElement.removeChild(this._selectionContainer),this._screenElement.removeChild(this._themeStyleElement),this._screenElement.removeChild(this._dimensionsStyleElement),e.prototype.dispose.call(this)},t.prototype._updateDimensions=function(){var e=this;this.dimensions.scaledCharWidth=this._charSizeService.width*window.devicePixelRatio,this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.options.letterSpacing),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.options.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._bufferService.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._bufferService.rows,this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows,this._rowElements.forEach((function(t){t.style.width=e.dimensions.canvasWidth+"px",t.style.height=e.dimensions.actualCellHeight+"px",t.style.lineHeight=e.dimensions.actualCellHeight+"px",t.style.overflow="hidden"})),this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));var t=this._terminalSelector+" .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: "+this.dimensions.actualCellWidth+"px}";this._dimensionsStyleElement.innerHTML=t,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},t.prototype.setColors=function(e){this._colors=e,this._injectCss()},t.prototype._injectCss=function(){var e=this;this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));var t=this._terminalSelector+" .xterm-rows { color: "+this._colors.foreground.css+"; font-family: "+this._optionsService.options.fontFamily+"; font-size: "+this._optionsService.options.fontSize+"px;}";t+=this._terminalSelector+" span:not(."+a.BOLD_CLASS+") { font-weight: "+this._optionsService.options.fontWeight+";}"+this._terminalSelector+" span."+a.BOLD_CLASS+" { font-weight: "+this._optionsService.options.fontWeightBold+";}"+this._terminalSelector+" span."+a.ITALIC_CLASS+" { font-style: italic;}",t+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",t+="@keyframes blink_block_"+this._terminalClass+" { 0% {  background-color: "+this._colors.cursor.css+";  color: "+this._colors.cursorAccent.css+"; } 50% {  background-color: "+this._colors.cursorAccent.css+";  color: "+this._colors.cursor.css+"; }}",t+=this._terminalSelector+" .xterm-rows:not(.xterm-focus) ."+a.CURSOR_CLASS+"."+a.CURSOR_STYLE_BLOCK_CLASS+" { outline: 1px solid "+this._colors.cursor.css+"; outline-offset: -1px;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+a.CURSOR_CLASS+"."+a.CURSOR_BLINK_CLASS+":not(."+a.CURSOR_STYLE_BLOCK_CLASS+") { animation: blink_box_shadow_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+a.CURSOR_CLASS+"."+a.CURSOR_BLINK_CLASS+"."+a.CURSOR_STYLE_BLOCK_CLASS+" { animation: blink_block_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+a.CURSOR_CLASS+"."+a.CURSOR_STYLE_BLOCK_CLASS+" { background-color: "+this._colors.cursor.css+"; color: "+this._colors.cursorAccent.css+";}"+this._terminalSelector+" .xterm-rows ."+a.CURSOR_CLASS+"."+a.CURSOR_STYLE_BAR_CLASS+" { box-shadow: "+this._optionsService.options.cursorWidth+"px 0 0 "+this._colors.cursor.css+" inset;}"+this._terminalSelector+" .xterm-rows ."+a.CURSOR_CLASS+"."+a.CURSOR_STYLE_UNDERLINE_CLASS+" { box-shadow: 0 -1px 0 "+this._colors.cursor.css+" inset;}",t+=this._terminalSelector+" .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}"+this._terminalSelector+" .xterm-selection div { position: absolute; background-color: "+this._colors.selection.css+";}",this._colors.ansi.forEach((function(i,n){t+=e._terminalSelector+" .xterm-fg-"+n+" { color: "+i.css+"; }"+e._terminalSelector+" .xterm-bg-"+n+" { background-color: "+i.css+"; }"})),t+=this._terminalSelector+" .xterm-fg-"+c.INVERTED_DEFAULT_COLOR+" { color: "+f.color.opaque(this._colors.background).css+"; }"+this._terminalSelector+" .xterm-bg-"+c.INVERTED_DEFAULT_COLOR+" { background-color: "+this._colors.foreground.css+"; }",this._themeStyleElement.innerHTML=t},t.prototype.onDevicePixelRatioChange=function(){this._updateDimensions()},t.prototype._refreshRowElements=function(e,t){for(var i=this._rowElements.length;i<=t;i++){var n=document.createElement("div");this._rowContainer.appendChild(n),this._rowElements.push(n)}for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop())},t.prototype.onResize=function(e,t){this._refreshRowElements(e,t),this._updateDimensions()},t.prototype.onCharSizeChanged=function(){this._updateDimensions()},t.prototype.onBlur=function(){this._rowContainer.classList.remove("xterm-focus")},t.prototype.onFocus=function(){this._rowContainer.classList.add("xterm-focus")},t.prototype.onSelectionChanged=function(e,t,i){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(e&&t){var n=e[1]-this._bufferService.buffer.ydisp,r=t[1]-this._bufferService.buffer.ydisp,o=Math.max(n,0),s=Math.min(r,this._bufferService.rows-1);if(!(o>=this._bufferService.rows||s<0)){var a=document.createDocumentFragment();if(i)a.appendChild(this._createSelectionElement(o,e[0],t[0],s-o+1));else{var c=n===o?e[0]:0,l=o===s?t[0]:this._bufferService.cols;a.appendChild(this._createSelectionElement(o,c,l));var u=s-o-1;if(a.appendChild(this._createSelectionElement(o+1,0,this._bufferService.cols,u)),o!==s){var h=r===s?t[0]:this._bufferService.cols;a.appendChild(this._createSelectionElement(s,0,h))}}this._selectionContainer.appendChild(a)}}},t.prototype._createSelectionElement=function(e,t,i,n){void 0===n&&(n=1);var r=document.createElement("div");return r.style.height=n*this.dimensions.actualCellHeight+"px",r.style.top=e*this.dimensions.actualCellHeight+"px",r.style.left=t*this.dimensions.actualCellWidth+"px",r.style.width=this.dimensions.actualCellWidth*(i-t)+"px",r},t.prototype.onCursorMove=function(){},t.prototype.onOptionsChanged=function(){this._updateDimensions(),this._injectCss()},t.prototype.clear=function(){this._rowElements.forEach((function(e){return e.innerHTML=""}))},t.prototype.renderRows=function(e,t){for(var i=this._bufferService.buffer.ybase+this._bufferService.buffer.y,n=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),r=this._optionsService.options.cursorBlink,o=e;o<=t;o++){var s=this._rowElements[o];s.innerHTML="";var a=o+this._bufferService.buffer.ydisp,c=this._bufferService.buffer.lines.get(a),l=this._optionsService.options.cursorStyle;s.appendChild(this._rowFactory.createRow(c,a===i,l,n,r,this.dimensions.actualCellWidth,this._bufferService.cols))}},Object.defineProperty(t.prototype,"_terminalSelector",{get:function(){return".xterm-dom-renderer-owner-"+this._terminalClass},enumerable:!1,configurable:!0}),t.prototype.registerCharacterJoiner=function(e){return-1},t.prototype.deregisterCharacterJoiner=function(e){return!1},t.prototype._onLinkHover=function(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!0)},t.prototype._onLinkLeave=function(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!1)},t.prototype._setCellUnderline=function(e,t,i,n,r,o){for(;e!==t||i!==n;){var s=this._rowElements[i];if(!s)return;var a=s.children[e];a&&(a.style.textDecoration=o?"underline":"none"),++e>=r&&(e=0,i++)}},o([s(6,u.ICharSizeService),s(7,h.IOptionsService),s(8,h.IBufferService)],t)}(l.Disposable);t.DomRenderer=_},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.DomRendererRowFactory=t.CURSOR_STYLE_UNDERLINE_CLASS=t.CURSOR_STYLE_BAR_CLASS=t.CURSOR_STYLE_BLOCK_CLASS=t.CURSOR_BLINK_CLASS=t.CURSOR_CLASS=t.UNDERLINE_CLASS=t.ITALIC_CLASS=t.DIM_CLASS=t.BOLD_CLASS=void 0;var n=i(9),r=i(3),o=i(4),s=i(10);t.BOLD_CLASS="xterm-bold",t.DIM_CLASS="xterm-dim",t.ITALIC_CLASS="xterm-italic",t.UNDERLINE_CLASS="xterm-underline",t.CURSOR_CLASS="xterm-cursor",t.CURSOR_BLINK_CLASS="xterm-cursor-blink",t.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",t.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",t.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";var a=function(){function e(e,t,i){this._document=e,this._optionsService=t,this._colors=i,this._workCell=new o.CellData}return e.prototype.setColors=function(e){this._colors=e},e.prototype.createRow=function(e,i,o,a,l,u,h){for(var d=this._document.createDocumentFragment(),f=0,p=Math.min(e.length,h)-1;p>=0;p--)if(e.loadCell(p,this._workCell).getCode()!==r.NULL_CELL_CODE||i&&p===a){f=p+1;break}for(p=0;p<f;p++){e.loadCell(p,this._workCell);var _=this._workCell.getWidth();if(0!==_){var v=this._document.createElement("span");if(_>1&&(v.style.width=u*_+"px"),i&&p===a)switch(v.classList.add(t.CURSOR_CLASS),l&&v.classList.add(t.CURSOR_BLINK_CLASS),o){case"bar":v.classList.add(t.CURSOR_STYLE_BAR_CLASS);break;case"underline":v.classList.add(t.CURSOR_STYLE_UNDERLINE_CLASS);break;default:v.classList.add(t.CURSOR_STYLE_BLOCK_CLASS)}this._workCell.isBold()&&v.classList.add(t.BOLD_CLASS),this._workCell.isItalic()&&v.classList.add(t.ITALIC_CLASS),this._workCell.isDim()&&v.classList.add(t.DIM_CLASS),this._workCell.isUnderline()&&v.classList.add(t.UNDERLINE_CLASS),this._workCell.isInvisible()?v.textContent=r.WHITESPACE_CELL_CHAR:v.textContent=this._workCell.getChars()||r.WHITESPACE_CELL_CHAR;var m=this._workCell.getFgColor(),g=this._workCell.getFgColorMode(),y=this._workCell.getBgColor(),b=this._workCell.getBgColorMode(),w=!!this._workCell.isInverse();if(w){var C=m;m=y,y=C;var S=g;g=b,b=S}switch(g){case 16777216:case 33554432:this._workCell.isBold()&&m<8&&this._optionsService.options.drawBoldTextInBrightColors&&(m+=8),this._applyMinimumContrast(v,this._colors.background,this._colors.ansi[m])||v.classList.add("xterm-fg-"+m);break;case 50331648:var k=s.rgba.toColor(m>>16&255,m>>8&255,255&m);this._applyMinimumContrast(v,this._colors.background,k)||this._addStyle(v,"color:#"+c(m.toString(16),"0",6));break;case 0:default:this._applyMinimumContrast(v,this._colors.background,this._colors.foreground)||w&&v.classList.add("xterm-fg-"+n.INVERTED_DEFAULT_COLOR)}switch(b){case 16777216:case 33554432:v.classList.add("xterm-bg-"+y);break;case 50331648:this._addStyle(v,"background-color:#"+c(y.toString(16),"0",6));break;case 0:default:w&&v.classList.add("xterm-bg-"+n.INVERTED_DEFAULT_COLOR)}d.appendChild(v)}}return d},e.prototype._applyMinimumContrast=function(e,t,i){if(1===this._optionsService.options.minimumContrastRatio)return!1;var n=this._colors.contrastCache.getColor(this._workCell.bg,this._workCell.fg);return void 0===n&&(n=s.color.ensureContrastRatio(t,i,this._optionsService.options.minimumContrastRatio),this._colors.contrastCache.setColor(this._workCell.bg,this._workCell.fg,null!=n?n:null)),!!n&&(this._addStyle(e,"color:"+n.css),!0)},e.prototype._addStyle=function(e,t){e.setAttribute("style",""+(e.getAttribute("style")||"")+t+";")},e}();function c(e,t,i){for(;e.length<i;)e=t+e;return e}t.DomRendererRowFactory=a},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateKeyboardEvent=void 0;var n=i(12),r={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};t.evaluateKeyboardEvent=function(e,t,i,o){var s={type:0,cancel:!1,key:void 0},a=(e.shiftKey?1:0)|(e.altKey?2:0)|(e.ctrlKey?4:0)|(e.metaKey?8:0);switch(e.keyCode){case 0:"UIKeyInputUpArrow"===e.key?s.key=t?n.C0.ESC+"OA":n.C0.ESC+"[A":"UIKeyInputLeftArrow"===e.key?s.key=t?n.C0.ESC+"OD":n.C0.ESC+"[D":"UIKeyInputRightArrow"===e.key?s.key=t?n.C0.ESC+"OC":n.C0.ESC+"[C":"UIKeyInputDownArrow"===e.key&&(s.key=t?n.C0.ESC+"OB":n.C0.ESC+"[B");break;case 8:if(e.shiftKey){s.key=n.C0.BS;break}if(e.altKey){s.key=n.C0.ESC+n.C0.DEL;break}s.key=n.C0.DEL;break;case 9:if(e.shiftKey){s.key=n.C0.ESC+"[Z";break}s.key=n.C0.HT,s.cancel=!0;break;case 13:s.key=e.altKey?n.C0.ESC+n.C0.CR:n.C0.CR,s.cancel=!0;break;case 27:s.key=n.C0.ESC,e.altKey&&(s.key=n.C0.ESC+n.C0.ESC),s.cancel=!0;break;case 37:if(e.metaKey)break;a?(s.key=n.C0.ESC+"[1;"+(a+1)+"D",s.key===n.C0.ESC+"[1;3D"&&(s.key=n.C0.ESC+(i?"b":"[1;5D"))):s.key=t?n.C0.ESC+"OD":n.C0.ESC+"[D";break;case 39:if(e.metaKey)break;a?(s.key=n.C0.ESC+"[1;"+(a+1)+"C",s.key===n.C0.ESC+"[1;3C"&&(s.key=n.C0.ESC+(i?"f":"[1;5C"))):s.key=t?n.C0.ESC+"OC":n.C0.ESC+"[C";break;case 38:if(e.metaKey)break;a?(s.key=n.C0.ESC+"[1;"+(a+1)+"A",i||s.key!==n.C0.ESC+"[1;3A"||(s.key=n.C0.ESC+"[1;5A")):s.key=t?n.C0.ESC+"OA":n.C0.ESC+"[A";break;case 40:if(e.metaKey)break;a?(s.key=n.C0.ESC+"[1;"+(a+1)+"B",i||s.key!==n.C0.ESC+"[1;3B"||(s.key=n.C0.ESC+"[1;5B")):s.key=t?n.C0.ESC+"OB":n.C0.ESC+"[B";break;case 45:e.shiftKey||e.ctrlKey||(s.key=n.C0.ESC+"[2~");break;case 46:s.key=a?n.C0.ESC+"[3;"+(a+1)+"~":n.C0.ESC+"[3~";break;case 36:s.key=a?n.C0.ESC+"[1;"+(a+1)+"H":t?n.C0.ESC+"OH":n.C0.ESC+"[H";break;case 35:s.key=a?n.C0.ESC+"[1;"+(a+1)+"F":t?n.C0.ESC+"OF":n.C0.ESC+"[F";break;case 33:e.shiftKey?s.type=2:s.key=n.C0.ESC+"[5~";break;case 34:e.shiftKey?s.type=3:s.key=n.C0.ESC+"[6~";break;case 112:s.key=a?n.C0.ESC+"[1;"+(a+1)+"P":n.C0.ESC+"OP";break;case 113:s.key=a?n.C0.ESC+"[1;"+(a+1)+"Q":n.C0.ESC+"OQ";break;case 114:s.key=a?n.C0.ESC+"[1;"+(a+1)+"R":n.C0.ESC+"OR";break;case 115:s.key=a?n.C0.ESC+"[1;"+(a+1)+"S":n.C0.ESC+"OS";break;case 116:s.key=a?n.C0.ESC+"[15;"+(a+1)+"~":n.C0.ESC+"[15~";break;case 117:s.key=a?n.C0.ESC+"[17;"+(a+1)+"~":n.C0.ESC+"[17~";break;case 118:s.key=a?n.C0.ESC+"[18;"+(a+1)+"~":n.C0.ESC+"[18~";break;case 119:s.key=a?n.C0.ESC+"[19;"+(a+1)+"~":n.C0.ESC+"[19~";break;case 120:s.key=a?n.C0.ESC+"[20;"+(a+1)+"~":n.C0.ESC+"[20~";break;case 121:s.key=a?n.C0.ESC+"[21;"+(a+1)+"~":n.C0.ESC+"[21~";break;case 122:s.key=a?n.C0.ESC+"[23;"+(a+1)+"~":n.C0.ESC+"[23~";break;case 123:s.key=a?n.C0.ESC+"[24;"+(a+1)+"~":n.C0.ESC+"[24~";break;default:if(!e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)if(i&&!o||!e.altKey||e.metaKey)i&&!e.altKey&&!e.ctrlKey&&e.metaKey?65===e.keyCode&&(s.type=1):e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.keyCode>=48&&1===e.key.length?s.key=e.key:e.key&&e.ctrlKey&&"_"===e.key&&(s.key=n.C0.US);else{var c=r[e.keyCode],l=c&&c[e.shiftKey?1:0];if(l)s.key=n.C0.ESC+l;else if(e.keyCode>=65&&e.keyCode<=90){var u=e.ctrlKey?e.keyCode-64:e.keyCode+32;s.key=n.C0.ESC+String.fromCharCode(u)}}else e.keyCode>=65&&e.keyCode<=90?s.key=String.fromCharCode(e.keyCode-64):32===e.keyCode?s.key=n.C0.NUL:e.keyCode>=51&&e.keyCode<=55?s.key=String.fromCharCode(e.keyCode-51+27):56===e.keyCode?s.key=n.C0.DEL:219===e.keyCode?s.key=n.C0.ESC:220===e.keyCode?s.key=n.C0.FS:221===e.keyCode&&(s.key=n.C0.GS)}return s}},function(e,t,i){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RenderService=void 0;var a=i(30),c=i(0),l=i(2),u=i(31),h=i(7),d=i(1),f=i(5),p=function(e){function t(t,i,n,r,o,s){var l=e.call(this)||this;if(l._renderer=t,l._rowCount=i,l._isPaused=!1,l._needsFullRefresh=!1,l._isNextRenderRedrawOnly=!0,l._needsSelectionRefresh=!1,l._canvasWidth=0,l._canvasHeight=0,l._selectionState={start:void 0,end:void 0,columnSelectMode:!1},l._onDimensionsChange=new c.EventEmitter,l._onRender=new c.EventEmitter,l._onRefreshRequest=new c.EventEmitter,l._renderDebouncer=new a.RenderDebouncer((function(e,t){return l._renderRows(e,t)})),l.register(l._renderDebouncer),l._screenDprMonitor=new u.ScreenDprMonitor,l._screenDprMonitor.setListener((function(){return l.onDevicePixelRatioChange()})),l.register(l._screenDprMonitor),l.register(s.onResize((function(e){return l._fullRefresh()}))),l.register(r.onOptionChange((function(){return l._renderer.onOptionsChanged()}))),l.register(o.onCharSizeChange((function(){return l.onCharSizeChanged()}))),l._renderer.onRequestRedraw((function(e){return l.refreshRows(e.start,e.end,!0)})),l.register(h.addDisposableDomListener(window,"resize",(function(){return l.onDevicePixelRatioChange()}))),"IntersectionObserver"in window){var d=new IntersectionObserver((function(e){return l._onIntersectionChange(e[e.length-1])}),{threshold:0});d.observe(n),l.register({dispose:function(){return d.disconnect()}})}return l}return r(t,e),Object.defineProperty(t.prototype,"onDimensionsChange",{get:function(){return this._onDimensionsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRenderedBufferChange",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRefreshRequest",{get:function(){return this._onRefreshRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dimensions",{get:function(){return this._renderer.dimensions},enumerable:!1,configurable:!0}),t.prototype._onIntersectionChange=function(e){this._isPaused=0===e.intersectionRatio,!this._isPaused&&this._needsFullRefresh&&(this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)},t.prototype.refreshRows=function(e,t,i){void 0===i&&(i=!1),this._isPaused?this._needsFullRefresh=!0:(i||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(e,t,this._rowCount))},t.prototype._renderRows=function(e,t){this._renderer.renderRows(e,t),this._needsSelectionRefresh&&(this._renderer.onSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRender.fire({start:e,end:t}),this._isNextRenderRedrawOnly=!0},t.prototype.resize=function(e,t){this._rowCount=t,this._fireOnCanvasResize()},t.prototype.changeOptions=function(){this._renderer.onOptionsChanged(),this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize()},t.prototype._fireOnCanvasResize=function(){this._renderer.dimensions.canvasWidth===this._canvasWidth&&this._renderer.dimensions.canvasHeight===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions)},t.prototype.dispose=function(){this._renderer.dispose(),e.prototype.dispose.call(this)},t.prototype.setRenderer=function(e){var t=this;this._renderer.dispose(),this._renderer=e,this._renderer.onRequestRedraw((function(e){return t.refreshRows(e.start,e.end,!0)})),this._needsSelectionRefresh=!0,this._fullRefresh()},t.prototype._fullRefresh=function(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)},t.prototype.setColors=function(e){this._renderer.setColors(e),this._fullRefresh()},t.prototype.onDevicePixelRatioChange=function(){this._renderer.onDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1)},t.prototype.onResize=function(e,t){this._renderer.onResize(e,t),this._fullRefresh()},t.prototype.onCharSizeChanged=function(){this._renderer.onCharSizeChanged()},t.prototype.onBlur=function(){this._renderer.onBlur()},t.prototype.onFocus=function(){this._renderer.onFocus()},t.prototype.onSelectionChanged=function(e,t,i){this._selectionState.start=e,this._selectionState.end=t,this._selectionState.columnSelectMode=i,this._renderer.onSelectionChanged(e,t,i)},t.prototype.onCursorMove=function(){this._renderer.onCursorMove()},t.prototype.clear=function(){this._renderer.clear()},t.prototype.registerCharacterJoiner=function(e){return this._renderer.registerCharacterJoiner(e)},t.prototype.deregisterCharacterJoiner=function(e){return this._renderer.deregisterCharacterJoiner(e)},o([s(3,d.IOptionsService),s(4,f.ICharSizeService),s(5,d.IBufferService)],t)}(l.Disposable);t.RenderService=p},function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharSizeService=void 0;var o=i(1),s=i(0),a=function(){function e(e,t,i){this._optionsService=i,this.width=0,this.height=0,this._onCharSizeChange=new s.EventEmitter,this._measureStrategy=new c(e,t,this._optionsService)}return Object.defineProperty(e.prototype,"hasValidSize",{get:function(){return this.width>0&&this.height>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onCharSizeChange",{get:function(){return this._onCharSizeChange.event},enumerable:!1,configurable:!0}),e.prototype.measure=function(){var e=this._measureStrategy.measure();e.width===this.width&&e.height===this.height||(this.width=e.width,this.height=e.height,this._onCharSizeChange.fire())},n([r(2,o.IOptionsService)],e)}();t.CharSizeService=a;var c=function(){function e(e,t,i){this._document=e,this._parentElement=t,this._optionsService=i,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}return e.prototype.measure=function(){this._measureElement.style.fontFamily=this._optionsService.options.fontFamily,this._measureElement.style.fontSize=this._optionsService.options.fontSize+"px";var e=this._measureElement.getBoundingClientRect();return 0!==e.width&&0!==e.height&&(this._result.width=e.width,this._result.height=Math.ceil(e.height)),this._result},e}()},function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseService=void 0;var o=i(5),s=i(29),a=function(){function e(e,t){this._renderService=e,this._charSizeService=t}return e.prototype.getCoords=function(e,t,i,n,r){return s.getCoords(e,t,i,n,this._charSizeService.hasValidSize,this._renderService.dimensions.actualCellWidth,this._renderService.dimensions.actualCellHeight,r)},e.prototype.getRawByteCoords=function(e,t,i,n){var r=this.getCoords(e,t,i,n);return s.getRawByteCoords(r)},n([r(0,o.IRenderService),r(1,o.ICharSizeService)],e)}();t.MouseService=a},function(e,t,i){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Linkifier2=void 0;var a=i(1),c=i(0),l=i(2),u=i(7),h=function(e){function t(t){var i=e.call(this)||this;return i._bufferService=t,i._linkProviders=[],i._linkCacheDisposables=[],i._isMouseOut=!0,i._activeLine=-1,i._onShowLinkUnderline=i.register(new c.EventEmitter),i._onHideLinkUnderline=i.register(new c.EventEmitter),i.register(l.getDisposeArrayDisposable(i._linkCacheDisposables)),i}return r(t,e),Object.defineProperty(t.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),t.prototype.registerLinkProvider=function(e){var t=this;return this._linkProviders.push(e),{dispose:function(){var i=t._linkProviders.indexOf(e);-1!==i&&t._linkProviders.splice(i,1)}}},t.prototype.attachToDom=function(e,t,i){var n=this;this._element=e,this._mouseService=t,this._renderService=i,this.register(u.addDisposableDomListener(this._element,"mouseleave",(function(){n._isMouseOut=!0,n._clearCurrentLink()}))),this.register(u.addDisposableDomListener(this._element,"mousemove",this._onMouseMove.bind(this))),this.register(u.addDisposableDomListener(this._element,"click",this._onClick.bind(this)))},t.prototype._onMouseMove=function(e){if(this._lastMouseEvent=e,this._element&&this._mouseService){var t=this._positionFromMouseEvent(e,this._element,this._mouseService);if(t){this._isMouseOut=!1;for(var i=e.composedPath(),n=0;n<i.length;n++){var r=i[n];if(r.classList.contains("xterm"))break;if(r.classList.contains("xterm-hover"))return}this._lastBufferCell&&t.x===this._lastBufferCell.x&&t.y===this._lastBufferCell.y||(this._onHover(t),this._lastBufferCell=t)}}},t.prototype._onHover=function(e){if(this._activeLine!==e.y)return this._clearCurrentLink(),void this._askForLink(e,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,e)||(this._clearCurrentLink(),this._askForLink(e,!0))},t.prototype._askForLink=function(e,t){var i=this;this._activeProviderReplies&&t||(this._activeProviderReplies=new Map,this._activeLine=e.y);var n=!1;this._linkProviders.forEach((function(r,o){var s;t?(null===(s=i._activeProviderReplies)||void 0===s?void 0:s.get(o))&&(n=i._checkLinkProviderResult(o,e,n)):r.provideLinks(e.y,(function(t){var r,s;if(!i._isMouseOut){var a=null==t?void 0:t.map((function(e){return{link:e}}));null===(r=i._activeProviderReplies)||void 0===r||r.set(o,a),n=i._checkLinkProviderResult(o,e,n),(null===(s=i._activeProviderReplies)||void 0===s?void 0:s.size)===i._linkProviders.length&&i._removeIntersectingLinks(e.y,i._activeProviderReplies)}}))}))},t.prototype._removeIntersectingLinks=function(e,t){for(var i=new Set,n=0;n<t.size;n++){var r=t.get(n);if(r)for(var o=0;o<r.length;o++)for(var s=r[o],a=s.link.range.start.y<e?0:s.link.range.start.x,c=s.link.range.end.y>e?this._bufferService.cols:s.link.range.end.x,l=a;l<=c;l++){if(i.has(l)){r.splice(o--,1);break}i.add(l)}}},t.prototype._checkLinkProviderResult=function(e,t,i){var n,r=this;if(!this._activeProviderReplies)return i;for(var o=this._activeProviderReplies.get(e),s=!1,a=0;a<e;a++)this._activeProviderReplies.has(a)&&!this._activeProviderReplies.get(a)||(s=!0);if(!s&&o){var c=o.find((function(e){return r._linkAtPosition(e.link,t)}));c&&(i=!0,this._handleNewLink(c))}if(this._activeProviderReplies.size===this._linkProviders.length&&!i)for(a=0;a<this._activeProviderReplies.size;a++){var l=null===(n=this._activeProviderReplies.get(a))||void 0===n?void 0:n.find((function(e){return r._linkAtPosition(e.link,t)}));if(l){i=!0,this._handleNewLink(l);break}}return i},t.prototype._onClick=function(e){if(this._element&&this._mouseService&&this._currentLink){var t=this._positionFromMouseEvent(e,this._element,this._mouseService);t&&this._linkAtPosition(this._currentLink.link,t)&&this._currentLink.link.activate(e,this._currentLink.link.text)}},t.prototype._clearCurrentLink=function(e,t){this._element&&this._currentLink&&this._lastMouseEvent&&(!e||!t||this._currentLink.link.range.start.y>=e&&this._currentLink.link.range.end.y<=t)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,l.disposeArray(this._linkCacheDisposables))},t.prototype._handleNewLink=function(e){var t=this;if(this._element&&this._lastMouseEvent&&this._mouseService){var i=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);i&&this._linkAtPosition(e.link,i)&&(this._currentLink=e,this._currentLink.state={decorations:{underline:void 0===e.link.decorations||e.link.decorations.underline,pointerCursor:void 0===e.link.decorations||e.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,e.link,this._lastMouseEvent),e.link.decorations={},Object.defineProperties(e.link.decorations,{pointerCursor:{get:function(){var e,i;return null===(i=null===(e=t._currentLink)||void 0===e?void 0:e.state)||void 0===i?void 0:i.decorations.pointerCursor},set:function(e){var i,n;(null===(i=t._currentLink)||void 0===i?void 0:i.state)&&t._currentLink.state.decorations.pointerCursor!==e&&(t._currentLink.state.decorations.pointerCursor=e,t._currentLink.state.isHovered&&(null===(n=t._element)||void 0===n||n.classList.toggle("xterm-cursor-pointer",e)))}},underline:{get:function(){var e,i;return null===(i=null===(e=t._currentLink)||void 0===e?void 0:e.state)||void 0===i?void 0:i.decorations.underline},set:function(i){var n,r,o;(null===(n=t._currentLink)||void 0===n?void 0:n.state)&&(null===(o=null===(r=t._currentLink)||void 0===r?void 0:r.state)||void 0===o?void 0:o.decorations.underline)!==i&&(t._currentLink.state.decorations.underline=i,t._currentLink.state.isHovered&&t._fireUnderlineEvent(e.link,i))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedBufferChange((function(e){var i=0===e.start?0:e.start+1+t._bufferService.buffer.ydisp;t._clearCurrentLink(i,e.end+1+t._bufferService.buffer.ydisp)}))))}},t.prototype._linkHover=function(e,t,i){var n;(null===(n=this._currentLink)||void 0===n?void 0:n.state)&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!0),this._currentLink.state.decorations.pointerCursor&&e.classList.add("xterm-cursor-pointer")),t.hover&&t.hover(i,t.text)},t.prototype._fireUnderlineEvent=function(e,t){var i=e.range,n=this._bufferService.buffer.ydisp,r=this._createLinkUnderlineEvent(i.start.x-1,i.start.y-n-1,i.end.x,i.end.y-n-1,void 0);(t?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(r)},t.prototype._linkLeave=function(e,t,i){var n;(null===(n=this._currentLink)||void 0===n?void 0:n.state)&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!1),this._currentLink.state.decorations.pointerCursor&&e.classList.remove("xterm-cursor-pointer")),t.leave&&t.leave(i,t.text)},t.prototype._linkAtPosition=function(e,t){var i=e.range.start.y===e.range.end.y,n=e.range.start.y<t.y,r=e.range.end.y>t.y;return(i&&e.range.start.x<=t.x&&e.range.end.x>=t.x||n&&e.range.end.x>=t.x||r&&e.range.start.x<=t.x||n&&r)&&e.range.start.y<=t.y&&e.range.end.y>=t.y},t.prototype._positionFromMouseEvent=function(e,t,i){var n=i.getCoords(e,t,this._bufferService.cols,this._bufferService.rows);if(n)return{x:n[0],y:n[1]+this._bufferService.buffer.ydisp}},t.prototype._createLinkUnderlineEvent=function(e,t,i,n,r){return{x1:e,y1:t,x2:i,y2:n,cols:this._bufferService.cols,fg:r}},o([s(0,a.IBufferService)],t)}(l.Disposable);t.Linkifier2=h},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CoreBrowserService=void 0;var n=function(){function e(e){this._textarea=e}return Object.defineProperty(e.prototype,"isFocused",{get:function(){return document.activeElement===this._textarea&&document.hasFocus()},enumerable:!1,configurable:!0}),e}();t.CoreBrowserService=n},function(e,t,i){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.CoreTerminal=void 0;var o=i(2),s=i(1),a=i(65),c=i(66),l=i(67),u=i(73),h=i(74),d=i(0),f=i(75),p=i(76),_=i(77),v=i(79),m=i(80),g=i(18),y=i(81),b=function(e){function t(t){var i=e.call(this)||this;return i._onBinary=new d.EventEmitter,i._onData=new d.EventEmitter,i._onLineFeed=new d.EventEmitter,i._onResize=new d.EventEmitter,i._onScroll=new d.EventEmitter,i._instantiationService=new a.InstantiationService,i.optionsService=new u.OptionsService(t),i._instantiationService.setService(s.IOptionsService,i.optionsService),i._bufferService=i.register(i._instantiationService.createInstance(l.BufferService)),i._instantiationService.setService(s.IBufferService,i._bufferService),i._logService=i._instantiationService.createInstance(c.LogService),i._instantiationService.setService(s.ILogService,i._logService),i._coreService=i.register(i._instantiationService.createInstance(h.CoreService,(function(){return i.scrollToBottom()}))),i._instantiationService.setService(s.ICoreService,i._coreService),i._coreMouseService=i._instantiationService.createInstance(f.CoreMouseService),i._instantiationService.setService(s.ICoreMouseService,i._coreMouseService),i._dirtyRowService=i._instantiationService.createInstance(p.DirtyRowService),i._instantiationService.setService(s.IDirtyRowService,i._dirtyRowService),i.unicodeService=i._instantiationService.createInstance(_.UnicodeService),i._instantiationService.setService(s.IUnicodeService,i.unicodeService),i._charsetService=i._instantiationService.createInstance(v.CharsetService),i._instantiationService.setService(s.ICharsetService,i._charsetService),i._inputHandler=new g.InputHandler(i._bufferService,i._charsetService,i._coreService,i._dirtyRowService,i._logService,i.optionsService,i._coreMouseService,i.unicodeService),i.register(d.forwardEvent(i._inputHandler.onLineFeed,i._onLineFeed)),i.register(i._inputHandler),i.register(d.forwardEvent(i._bufferService.onResize,i._onResize)),i.register(d.forwardEvent(i._coreService.onData,i._onData)),i.register(d.forwardEvent(i._coreService.onBinary,i._onBinary)),i.register(i.optionsService.onOptionChange((function(e){return i._updateOptions(e)}))),i._writeBuffer=new y.WriteBuffer((function(e){return i._inputHandler.parse(e)})),i}return r(t,e),Object.defineProperty(t.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cols",{get:function(){return this._bufferService.cols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._bufferService.rows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buffers",{get:function(){return this._bufferService.buffers},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){var t;this._isDisposed||(e.prototype.dispose.call(this),null===(t=this._windowsMode)||void 0===t||t.dispose(),this._windowsMode=void 0)},t.prototype.write=function(e,t){this._writeBuffer.write(e,t)},t.prototype.writeSync=function(e){this._writeBuffer.writeSync(e)},t.prototype.resize=function(e,t){isNaN(e)||isNaN(t)||(e=Math.max(e,l.MINIMUM_COLS),t=Math.max(t,l.MINIMUM_ROWS),this._bufferService.resize(e,t))},t.prototype.scroll=function(e,t){void 0===t&&(t=!1);var i,n=this._bufferService.buffer;(i=this._cachedBlankLine)&&i.length===this.cols&&i.getFg(0)===e.fg&&i.getBg(0)===e.bg||(i=n.getBlankLine(e,t),this._cachedBlankLine=i),i.isWrapped=t;var r=n.ybase+n.scrollTop,o=n.ybase+n.scrollBottom;if(0===n.scrollTop){var s=n.lines.isFull;o===n.lines.length-1?s?n.lines.recycle().copyFrom(i):n.lines.push(i.clone()):n.lines.splice(o+1,0,i.clone()),s?this._bufferService.isUserScrolling&&(n.ydisp=Math.max(n.ydisp-1,0)):(n.ybase++,this._bufferService.isUserScrolling||n.ydisp++)}else{var a=o-r+1;n.lines.shiftElements(r+1,a-1,-1),n.lines.set(o,i.clone())}this._bufferService.isUserScrolling||(n.ydisp=n.ybase),this._dirtyRowService.markRangeDirty(n.scrollTop,n.scrollBottom),this._onScroll.fire(n.ydisp)},t.prototype.scrollLines=function(e,t){var i=this._bufferService.buffer;if(e<0){if(0===i.ydisp)return;this._bufferService.isUserScrolling=!0}else e+i.ydisp>=i.ybase&&(this._bufferService.isUserScrolling=!1);var n=i.ydisp;i.ydisp=Math.max(Math.min(i.ydisp+e,i.ybase),0),n!==i.ydisp&&(t||this._onScroll.fire(i.ydisp))},t.prototype.scrollPages=function(e){this.scrollLines(e*(this.rows-1))},t.prototype.scrollToTop=function(){this.scrollLines(-this._bufferService.buffer.ydisp)},t.prototype.scrollToBottom=function(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)},t.prototype.scrollToLine=function(e){var t=e-this._bufferService.buffer.ydisp;0!==t&&this.scrollLines(t)},t.prototype.addEscHandler=function(e,t){return this._inputHandler.addEscHandler(e,t)},t.prototype.addDcsHandler=function(e,t){return this._inputHandler.addDcsHandler(e,t)},t.prototype.addCsiHandler=function(e,t){return this._inputHandler.addCsiHandler(e,t)},t.prototype.addOscHandler=function(e,t){return this._inputHandler.addOscHandler(e,t)},t.prototype._setup=function(){this.optionsService.options.windowsMode&&this._enableWindowsMode()},t.prototype.reset=function(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this._coreService.reset(),this._coreMouseService.reset()},t.prototype._updateOptions=function(e){var t;switch(e){case"scrollback":this.buffers.resize(this.cols,this.rows);break;case"windowsMode":this.optionsService.options.windowsMode?this._enableWindowsMode():(null===(t=this._windowsMode)||void 0===t||t.dispose(),this._windowsMode=void 0)}},t.prototype._enableWindowsMode=function(){var e=this;if(!this._windowsMode){var t=[];t.push(this.onLineFeed(m.updateWindowsModeWrappedState.bind(null,this._bufferService))),t.push(this.addCsiHandler({final:"H"},(function(){return m.updateWindowsModeWrappedState(e._bufferService),!1}))),this._windowsMode={dispose:function(){t.forEach((function(e){return e.dispose()}))}}}},t}(o.Disposable);t.CoreTerminal=b},function(e,t,i){var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<i;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)n[r]=o[s];return n};Object.defineProperty(t,"__esModule",{value:!0}),t.InstantiationService=t.ServiceCollection=void 0;var r=i(1),o=i(14),s=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._entries=new Map;for(var i=0,n=e;i<n.length;i++){var r=n[i],o=r[0],s=r[1];this.set(o,s)}}return e.prototype.set=function(e,t){var i=this._entries.get(e);return this._entries.set(e,t),i},e.prototype.forEach=function(e){this._entries.forEach((function(t,i){return e(i,t)}))},e.prototype.has=function(e){return this._entries.has(e)},e.prototype.get=function(e){return this._entries.get(e)},e}();t.ServiceCollection=s;var a=function(){function e(){this._services=new s,this._services.set(r.IInstantiationService,this)}return e.prototype.setService=function(e,t){this._services.set(e,t)},e.prototype.getService=function(e){return this._services.get(e)},e.prototype.createInstance=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];for(var r=o.getServiceDependencies(e).sort((function(e,t){return e.index-t.index})),s=[],a=0,c=r;a<c.length;a++){var l=c[a],u=this._services.get(l.id);if(!u)throw new Error("[createInstance] "+e.name+" depends on UNKNOWN service "+l.id+".");s.push(u)}var h=r.length>0?r[0].index:t.length;if(t.length!==h)throw new Error("[createInstance] First service dependency of "+e.name+" at position "+(h+1)+" conflicts with "+t.length+" static arguments");return new(e.bind.apply(e,n([void 0],n(t,s))))},e}();t.InstantiationService=a},function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<i;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)n[r]=o[s];return n};Object.defineProperty(t,"__esModule",{value:!0}),t.LogService=t.LogLevel=void 0;var s,a=i(1);!function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e[e.OFF=4]="OFF"}(s=t.LogLevel||(t.LogLevel={}));var c={debug:s.DEBUG,info:s.INFO,warn:s.WARN,error:s.ERROR,off:s.OFF},l=function(){function e(e){var t=this;this._optionsService=e,this._updateLogLevel(),this._optionsService.onOptionChange((function(e){"logLevel"===e&&t._updateLogLevel()}))}return e.prototype._updateLogLevel=function(){this._logLevel=c[this._optionsService.options.logLevel]},e.prototype._evalLazyOptionalParams=function(e){for(var t=0;t<e.length;t++)"function"==typeof e[t]&&(e[t]=e[t]())},e.prototype._log=function(e,t,i){this._evalLazyOptionalParams(i),e.call.apply(e,o([console,"xterm.js: "+t],i))},e.prototype.debug=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];this._logLevel<=s.DEBUG&&this._log(console.log,e,t)},e.prototype.info=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];this._logLevel<=s.INFO&&this._log(console.info,e,t)},e.prototype.warn=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];this._logLevel<=s.WARN&&this._log(console.warn,e,t)},e.prototype.error=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];this._logLevel<=s.ERROR&&this._log(console.error,e,t)},n([r(0,a.IOptionsService)],e)}();t.LogService=l},function(e,t,i){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferService=t.MINIMUM_ROWS=t.MINIMUM_COLS=void 0;var a=i(1),c=i(68),l=i(0),u=i(2);t.MINIMUM_COLS=2,t.MINIMUM_ROWS=1;var h=function(e){function i(i){var n=e.call(this)||this;return n._optionsService=i,n.isUserScrolling=!1,n._onResize=new l.EventEmitter,n.cols=Math.max(i.options.cols,t.MINIMUM_COLS),n.rows=Math.max(i.options.rows,t.MINIMUM_ROWS),n.buffers=new c.BufferSet(i,n),n}return r(i,e),Object.defineProperty(i.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),i.prototype.dispose=function(){e.prototype.dispose.call(this),this.buffers.dispose()},i.prototype.resize=function(e,t){this.cols=e,this.rows=t,this.buffers.resize(e,t),this.buffers.setupTabStops(this.cols),this._onResize.fire({cols:e,rows:t})},i.prototype.reset=function(){this.buffers.dispose(),this.buffers=new c.BufferSet(this._optionsService,this),this.isUserScrolling=!1},o([s(0,a.IOptionsService)],i)}(u.Disposable);t.BufferService=h},function(e,t,i){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.BufferSet=void 0;var o=i(69),s=i(0),a=function(e){function t(t,i){var n=e.call(this)||this;return n._onBufferActivate=n.register(new s.EventEmitter),n._normal=new o.Buffer(!0,t,i),n._normal.fillViewportRows(),n._alt=new o.Buffer(!1,t,i),n._activeBuffer=n._normal,n.setupTabStops(),n}return r(t,e),Object.defineProperty(t.prototype,"onBufferActivate",{get:function(){return this._onBufferActivate.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alt",{get:function(){return this._alt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"normal",{get:function(){return this._normal},enumerable:!1,configurable:!0}),t.prototype.activateNormalBuffer=function(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))},t.prototype.activateAltBuffer=function(e){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(e),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))},t.prototype.resize=function(e,t){this._normal.resize(e,t),this._alt.resize(e,t)},t.prototype.setupTabStops=function(e){this._normal.setupTabStops(e),this._alt.setupTabStops(e)},t}(i(2).Disposable);t.BufferSet=a},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.BufferStringIterator=t.Buffer=t.MAX_BUFFER_SIZE=void 0;var n=i(70),r=i(16),o=i(4),s=i(3),a=i(71),c=i(72),l=i(19),u=i(6);t.MAX_BUFFER_SIZE=4294967295;var h=function(){function e(e,t,i){this._hasScrollback=e,this._optionsService=t,this._bufferService=i,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.savedY=0,this.savedX=0,this.savedCurAttrData=r.DEFAULT_ATTR_DATA.clone(),this.savedCharset=l.DEFAULT_CHARSET,this.markers=[],this._nullCell=o.CellData.fromCharData([0,s.NULL_CELL_CHAR,s.NULL_CELL_WIDTH,s.NULL_CELL_CODE]),this._whitespaceCell=o.CellData.fromCharData([0,s.WHITESPACE_CELL_CHAR,s.WHITESPACE_CELL_WIDTH,s.WHITESPACE_CELL_CODE]),this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new n.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}return e.prototype.getNullCell=function(e){return e?(this._nullCell.fg=e.fg,this._nullCell.bg=e.bg,this._nullCell.extended=e.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new u.ExtendedAttrs),this._nullCell},e.prototype.getWhitespaceCell=function(e){return e?(this._whitespaceCell.fg=e.fg,this._whitespaceCell.bg=e.bg,this._whitespaceCell.extended=e.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new u.ExtendedAttrs),this._whitespaceCell},e.prototype.getBlankLine=function(e,t){return new r.BufferLine(this._bufferService.cols,this.getNullCell(e),t)},Object.defineProperty(e.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._rows},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCursorInViewport",{get:function(){var e=this.ybase+this.y-this.ydisp;return e>=0&&e<this._rows},enumerable:!1,configurable:!0}),e.prototype._getCorrectBufferLength=function(e){if(!this._hasScrollback)return e;var i=e+this._optionsService.options.scrollback;return i>t.MAX_BUFFER_SIZE?t.MAX_BUFFER_SIZE:i},e.prototype.fillViewportRows=function(e){if(0===this.lines.length){void 0===e&&(e=r.DEFAULT_ATTR_DATA);for(var t=this._rows;t--;)this.lines.push(this.getBlankLine(e))}},e.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new n.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()},e.prototype.resize=function(e,t){var i=this.getNullCell(r.DEFAULT_ATTR_DATA),n=this._getCorrectBufferLength(t);if(n>this.lines.maxLength&&(this.lines.maxLength=n),this.lines.length>0){if(this._cols<e)for(var o=0;o<this.lines.length;o++)this.lines.get(o).resize(e,i);var s=0;if(this._rows<t)for(var a=this._rows;a<t;a++)this.lines.length<t+this.ybase&&(this._optionsService.options.windowsMode?this.lines.push(new r.BufferLine(e,i)):this.ybase>0&&this.lines.length<=this.ybase+this.y+s+1?(this.ybase--,s++,this.ydisp>0&&this.ydisp--):this.lines.push(new r.BufferLine(e,i)));else for(a=this._rows;a>t;a--)this.lines.length>t+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(n<this.lines.maxLength){var c=this.lines.length-n;c>0&&(this.lines.trimStart(c),this.ybase=Math.max(this.ybase-c,0),this.ydisp=Math.max(this.ydisp-c,0),this.savedY=Math.max(this.savedY-c,0)),this.lines.maxLength=n}this.x=Math.min(this.x,e-1),this.y=Math.min(this.y,t-1),s&&(this.y+=s),this.savedX=Math.min(this.savedX,e-1),this.scrollTop=0}if(this.scrollBottom=t-1,this._isReflowEnabled&&(this._reflow(e,t),this._cols>e))for(o=0;o<this.lines.length;o++)this.lines.get(o).resize(e,i);this._cols=e,this._rows=t},Object.defineProperty(e.prototype,"_isReflowEnabled",{get:function(){return this._hasScrollback&&!this._optionsService.options.windowsMode},enumerable:!1,configurable:!0}),e.prototype._reflow=function(e,t){this._cols!==e&&(e>this._cols?this._reflowLarger(e,t):this._reflowSmaller(e,t))},e.prototype._reflowLarger=function(e,t){var i=a.reflowLargerGetLinesToRemove(this.lines,this._cols,e,this.ybase+this.y,this.getNullCell(r.DEFAULT_ATTR_DATA));if(i.length>0){var n=a.reflowLargerCreateNewLayout(this.lines,i);a.reflowLargerApplyNewLayout(this.lines,n.layout),this._reflowLargerAdjustViewport(e,t,n.countRemoved)}},e.prototype._reflowLargerAdjustViewport=function(e,t,i){for(var n=this.getNullCell(r.DEFAULT_ATTR_DATA),o=i;o-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<t&&this.lines.push(new r.BufferLine(e,n))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-i,0)},e.prototype._reflowSmaller=function(e,t){for(var i=this.getNullCell(r.DEFAULT_ATTR_DATA),n=[],o=0,s=this.lines.length-1;s>=0;s--){var c=this.lines.get(s);if(!(!c||!c.isWrapped&&c.getTrimmedLength()<=e)){for(var l=[c];c.isWrapped&&s>0;)c=this.lines.get(--s),l.unshift(c);var u=this.ybase+this.y;if(!(u>=s&&u<s+l.length)){var h,d=l[l.length-1].getTrimmedLength(),f=a.reflowSmallerGetNewLineLengths(l,this._cols,e),p=f.length-l.length;h=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+p):Math.max(0,this.lines.length-this.lines.maxLength+p);for(var _=[],v=0;v<p;v++){var m=this.getBlankLine(r.DEFAULT_ATTR_DATA,!0);_.push(m)}_.length>0&&(n.push({start:s+l.length+o,newLines:_}),o+=_.length),l.push.apply(l,_);var g=f.length-1,y=f[g];0===y&&(y=f[--g]);for(var b=l.length-p-1,w=d;b>=0;){var C=Math.min(w,y);if(l[g].copyCellsFrom(l[b],w-C,y-C,C,!0),0==(y-=C)&&(y=f[--g]),0==(w-=C)){b--;var S=Math.max(b,0);w=a.getWrappedLineTrimmedLength(l,S,this._cols)}}for(v=0;v<l.length;v++)f[v]<e&&l[v].setCell(f[v],i);for(var k=p-h;k-- >0;)0===this.ybase?this.y<t-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+o)-t&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+p,this.ybase+t-1)}}}if(n.length>0){var E=[],x=[];for(v=0;v<this.lines.length;v++)x.push(this.lines.get(v));var L=this.lines.length,M=L-1,T=0,O=n[T];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+o);var R=0;for(v=Math.min(this.lines.maxLength-1,L+o-1);v>=0;v--)if(O&&O.start>M+R){for(var A=O.newLines.length-1;A>=0;A--)this.lines.set(v--,O.newLines[A]);v++,E.push({index:M+1,amount:O.newLines.length}),R+=O.newLines.length,O=n[++T]}else this.lines.set(v,x[M--]);var D=0;for(v=E.length-1;v>=0;v--)E[v].index+=D,this.lines.onInsertEmitter.fire(E[v]),D+=E[v].amount;var I=Math.max(0,L+o-this.lines.maxLength);I>0&&this.lines.onTrimEmitter.fire(I)}},e.prototype.stringIndexToBufferIndex=function(e,t,i){for(void 0===i&&(i=!1);t;){var n=this.lines.get(e);if(!n)return[-1,-1];for(var r=i?n.getTrimmedLength():n.length,o=0;o<r;++o)if(n.get(o)[s.CHAR_DATA_WIDTH_INDEX]&&(t-=n.get(o)[s.CHAR_DATA_CHAR_INDEX].length||1),t<0)return[e,o];e++}return[e,0]},e.prototype.translateBufferLineToString=function(e,t,i,n){void 0===i&&(i=0);var r=this.lines.get(e);return r?r.translateToString(t,i,n):""},e.prototype.getWrappedRangeForLine=function(e){for(var t=e,i=e;t>0&&this.lines.get(t).isWrapped;)t--;for(;i+1<this.lines.length&&this.lines.get(i+1).isWrapped;)i++;return{first:t,last:i}},e.prototype.setupTabStops=function(e){for(null!=e?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this._cols;e+=this._optionsService.options.tabStopWidth)this.tabs[e]=!0},e.prototype.prevStop=function(e){for(null==e&&(e=this.x);!this.tabs[--e]&&e>0;);return e>=this._cols?this._cols-1:e<0?0:e},e.prototype.nextStop=function(e){for(null==e&&(e=this.x);!this.tabs[++e]&&e<this._cols;);return e>=this._cols?this._cols-1:e<0?0:e},e.prototype.addMarker=function(e){var t=this,i=new c.Marker(e);return this.markers.push(i),i.register(this.lines.onTrim((function(e){i.line-=e,i.line<0&&i.dispose()}))),i.register(this.lines.onInsert((function(e){i.line>=e.index&&(i.line+=e.amount)}))),i.register(this.lines.onDelete((function(e){i.line>=e.index&&i.line<e.index+e.amount&&i.dispose(),i.line>e.index&&(i.line-=e.amount)}))),i.register(i.onDispose((function(){return t._removeMarker(i)}))),i},e.prototype._removeMarker=function(e){this.markers.splice(this.markers.indexOf(e),1)},e.prototype.iterator=function(e,t,i,n,r){return new d(this,e,t,i,n,r)},e}();t.Buffer=h;var d=function(){function e(e,t,i,n,r,o){void 0===i&&(i=0),void 0===n&&(n=e.lines.length),void 0===r&&(r=0),void 0===o&&(o=0),this._buffer=e,this._trimRight=t,this._startIndex=i,this._endIndex=n,this._startOverscan=r,this._endOverscan=o,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}return e.prototype.hasNext=function(){return this._current<this._endIndex},e.prototype.next=function(){var e=this._buffer.getWrappedRangeForLine(this._current);e.first<this._startIndex-this._startOverscan&&(e.first=this._startIndex-this._startOverscan),e.last>this._endIndex+this._endOverscan&&(e.last=this._endIndex+this._endOverscan),e.first=Math.max(e.first,0),e.last=Math.min(e.last,this._buffer.lines.length);for(var t="",i=e.first;i<=e.last;++i)t+=this._buffer.translateBufferLineToString(i,this._trimRight);return this._current=e.last+1,{range:e,content:t}},e}();t.BufferStringIterator=d},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CircularList=void 0;var n=i(0),r=function(){function e(e){this._maxLength=e,this.onDeleteEmitter=new n.EventEmitter,this.onInsertEmitter=new n.EventEmitter,this.onTrimEmitter=new n.EventEmitter,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}return Object.defineProperty(e.prototype,"onDelete",{get:function(){return this.onDeleteEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onInsert",{get:function(){return this.onInsertEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onTrim",{get:function(){return this.onTrimEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLength",{get:function(){return this._maxLength},set:function(e){if(this._maxLength!==e){for(var t=new Array(e),i=0;i<Math.min(e,this.length);i++)t[i]=this._array[this._getCyclicIndex(i)];this._array=t,this._maxLength=e,this._startIndex=0}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},set:function(e){if(e>this._length)for(var t=this._length;t<e;t++)this._array[t]=void 0;this._length=e},enumerable:!1,configurable:!0}),e.prototype.get=function(e){return this._array[this._getCyclicIndex(e)]},e.prototype.set=function(e,t){this._array[this._getCyclicIndex(e)]=t},e.prototype.push=function(e){this._array[this._getCyclicIndex(this._length)]=e,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++},e.prototype.recycle=function(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]},Object.defineProperty(e.prototype,"isFull",{get:function(){return this._length===this._maxLength},enumerable:!1,configurable:!0}),e.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},e.prototype.splice=function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];if(t){for(var r=e;r<this._length-t;r++)this._array[this._getCyclicIndex(r)]=this._array[this._getCyclicIndex(r+t)];this._length-=t}for(r=this._length-1;r>=e;r--)this._array[this._getCyclicIndex(r+i.length)]=this._array[this._getCyclicIndex(r)];for(r=0;r<i.length;r++)this._array[this._getCyclicIndex(e+r)]=i[r];if(this._length+i.length>this._maxLength){var o=this._length+i.length-this._maxLength;this._startIndex+=o,this._length=this._maxLength,this.onTrimEmitter.fire(o)}else this._length+=i.length},e.prototype.trimStart=function(e){e>this._length&&(e=this._length),this._startIndex+=e,this._length-=e,this.onTrimEmitter.fire(e)},e.prototype.shiftElements=function(e,t,i){if(!(t<=0)){if(e<0||e>=this._length)throw new Error("start argument out of range");if(e+i<0)throw new Error("Cannot shift elements in list beyond index 0");if(i>0){for(var n=t-1;n>=0;n--)this.set(e+n+i,this.get(e+n));var r=e+t+i-this._length;if(r>0)for(this._length+=r;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(n=0;n<t;n++)this.set(e+n+i,this.get(e+n))}},e.prototype._getCyclicIndex=function(e){return(this._startIndex+e)%this._maxLength},e}();t.CircularList=r},function(e,t,i){function n(e,t,i){if(t===e.length-1)return e[t].getTrimmedLength();var n=!e[t].hasContent(i-1)&&1===e[t].getWidth(i-1),r=2===e[t+1].getWidth(0);return n&&r?i-1:i}Object.defineProperty(t,"__esModule",{value:!0}),t.getWrappedLineTrimmedLength=t.reflowSmallerGetNewLineLengths=t.reflowLargerApplyNewLayout=t.reflowLargerCreateNewLayout=t.reflowLargerGetLinesToRemove=void 0,t.reflowLargerGetLinesToRemove=function(e,t,i,r,o){for(var s=[],a=0;a<e.length-1;a++){var c=a,l=e.get(++c);if(l.isWrapped){for(var u=[e.get(a)];c<e.length&&l.isWrapped;)u.push(l),l=e.get(++c);if(r>=a&&r<c)a+=u.length-1;else{for(var h=0,d=n(u,h,t),f=1,p=0;f<u.length;){var _=n(u,f,t),v=_-p,m=i-d,g=Math.min(v,m);u[h].copyCellsFrom(u[f],p,d,g,!1),(d+=g)===i&&(h++,d=0),(p+=g)===_&&(f++,p=0),0===d&&0!==h&&2===u[h-1].getWidth(i-1)&&(u[h].copyCellsFrom(u[h-1],i-1,d++,1,!1),u[h-1].setCell(i-1,o))}u[h].replaceCells(d,i,o);for(var y=0,b=u.length-1;b>0&&(b>h||0===u[b].getTrimmedLength());b--)y++;y>0&&(s.push(a+u.length-y),s.push(y)),a+=u.length-1}}}return s},t.reflowLargerCreateNewLayout=function(e,t){for(var i=[],n=0,r=t[n],o=0,s=0;s<e.length;s++)if(r===s){var a=t[++n];e.onDeleteEmitter.fire({index:s-o,amount:a}),s+=a-1,o+=a,r=t[++n]}else i.push(s);return{layout:i,countRemoved:o}},t.reflowLargerApplyNewLayout=function(e,t){for(var i=[],n=0;n<t.length;n++)i.push(e.get(t[n]));for(n=0;n<i.length;n++)e.set(n,i[n]);e.length=t.length},t.reflowSmallerGetNewLineLengths=function(e,t,i){for(var r=[],o=e.map((function(i,r){return n(e,r,t)})).reduce((function(e,t){return e+t})),s=0,a=0,c=0;c<o;){if(o-c<i){r.push(o-c);break}s+=i;var l=n(e,a,t);s>l&&(s-=l,a++);var u=2===e[a].getWidth(s-1);u&&s--;var h=u?i-1:i;r.push(h),c+=h}return r},t.getWrappedLineTrimmedLength=n},function(e,t,i){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.Marker=void 0;var o=i(0),s=function(e){function t(i){var n=e.call(this)||this;return n.line=i,n._id=t._nextId++,n.isDisposed=!1,n._onDispose=new o.EventEmitter,n}return r(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire())},t._nextId=1,t}(i(2).Disposable);t.Marker=s},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.OptionsService=t.DEFAULT_OPTIONS=t.DEFAULT_BELL_SOUND=void 0;var n=i(0),r=i(11),o=i(32);t.DEFAULT_BELL_SOUND="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",t.DEFAULT_OPTIONS=Object.freeze({cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,bellSound:t.DEFAULT_BELL_SOUND,bellStyle:"none",drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,linkTooltipHoverDuration:500,letterSpacing:0,logLevel:"info",scrollback:1e3,scrollSensitivity:1,screenReaderMode:!1,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!0,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:r.isMac,rendererType:"canvas",windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",convertEol:!1,termName:"xterm",cancelEvents:!1});var s=["cols","rows"],a=function(){function e(e){var i=this;this._onOptionChange=new n.EventEmitter,this.options=o.clone(t.DEFAULT_OPTIONS),Object.keys(e).forEach((function(t){if(t in i.options){var n=e[t];i.options[t]=n}}))}return Object.defineProperty(e.prototype,"onOptionChange",{get:function(){return this._onOptionChange.event},enumerable:!1,configurable:!0}),e.prototype.setOption=function(e,i){if(!(e in t.DEFAULT_OPTIONS))throw new Error('No option with key "'+e+'"');if(-1!==s.indexOf(e))throw new Error('Option "'+e+'" can only be set in the constructor');this.options[e]!==i&&(i=this._sanitizeAndValidateOption(e,i),this.options[e]!==i&&(this.options[e]=i,this._onOptionChange.fire(e)))},e.prototype._sanitizeAndValidateOption=function(e,i){switch(e){case"bellStyle":case"cursorStyle":case"fontWeight":case"fontWeightBold":case"rendererType":case"wordSeparator":i||(i=t.DEFAULT_OPTIONS[e]);break;case"cursorWidth":i=Math.floor(i);case"lineHeight":case"tabStopWidth":if(i<1)throw new Error(e+" cannot be less than 1, value: "+i);break;case"minimumContrastRatio":i=Math.max(1,Math.min(21,Math.round(10*i)/10));break;case"scrollback":if((i=Math.min(i,4294967295))<0)throw new Error(e+" cannot be less than 0, value: "+i);break;case"fastScrollSensitivity":case"scrollSensitivity":if(i<=0)throw new Error(e+" cannot be less than or equal to 0, value: "+i)}return i},e.prototype.getOption=function(e){if(!(e in t.DEFAULT_OPTIONS))throw new Error('No option with key "'+e+'"');return this.options[e]},e}();t.OptionsService=a},function(e,t,i){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreService=void 0;var a=i(1),c=i(0),l=i(32),u=i(2),h=Object.freeze({insertMode:!1}),d=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0}),f=function(e){function t(t,i,n,r){var o=e.call(this)||this;return o._bufferService=i,o._logService=n,o._optionsService=r,o.isCursorInitialized=!1,o.isCursorHidden=!1,o._onData=o.register(new c.EventEmitter),o._onUserInput=o.register(new c.EventEmitter),o._onBinary=o.register(new c.EventEmitter),o._scrollToBottom=t,o.register({dispose:function(){return o._scrollToBottom=void 0}}),o.modes=l.clone(h),o.decPrivateModes=l.clone(d),o}return r(t,e),Object.defineProperty(t.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onUserInput",{get:function(){return this._onUserInput.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.modes=l.clone(h),this.decPrivateModes=l.clone(d)},t.prototype.triggerDataEvent=function(e,t){if(void 0===t&&(t=!1),!this._optionsService.options.disableStdin){var i=this._bufferService.buffer;i.ybase!==i.ydisp&&this._scrollToBottom(),t&&this._onUserInput.fire(),this._logService.debug('sending data "'+e+'"',(function(){return e.split("").map((function(e){return e.charCodeAt(0)}))})),this._onData.fire(e)}},t.prototype.triggerBinaryEvent=function(e){this._optionsService.options.disableStdin||(this._logService.debug('sending binary "'+e+'"',(function(){return e.split("").map((function(e){return e.charCodeAt(0)}))})),this._onBinary.fire(e))},o([s(1,a.IBufferService),s(2,a.ILogService),s(3,a.IOptionsService)],t)}(u.Disposable);t.CoreService=f},function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreMouseService=void 0;var o=i(1),s=i(0),a={NONE:{events:0,restrict:function(){return!1}},X10:{events:1,restrict:function(e){return 4!==e.button&&1===e.action&&(e.ctrl=!1,e.alt=!1,e.shift=!1,!0)}},VT200:{events:19,restrict:function(e){return 32!==e.action}},DRAG:{events:23,restrict:function(e){return 32!==e.action||3!==e.button}},ANY:{events:31,restrict:function(e){return!0}}};function c(e,t){var i=(e.ctrl?16:0)|(e.shift?4:0)|(e.alt?8:0);return 4===e.button?(i|=64,i|=e.action):(i|=3&e.button,4&e.button&&(i|=64),8&e.button&&(i|=128),32===e.action?i|=32:0!==e.action||t||(i|=3)),i}var l=String.fromCharCode,u={DEFAULT:function(e){var t=[c(e,!1)+32,e.col+32,e.row+32];return t[0]>255||t[1]>255||t[2]>255?"":"[M"+l(t[0])+l(t[1])+l(t[2])},SGR:function(e){var t=0===e.action&&4!==e.button?"m":"M";return"[<"+c(e,!0)+";"+e.col+";"+e.row+t}},h=function(){function e(e,t){var i=this;this._bufferService=e,this._coreService=t,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._onProtocolChange=new s.EventEmitter,this._lastEvent=null,Object.keys(a).forEach((function(e){return i.addProtocol(e,a[e])})),Object.keys(u).forEach((function(e){return i.addEncoding(e,u[e])})),this.reset()}return e.prototype.addProtocol=function(e,t){this._protocols[e]=t},e.prototype.addEncoding=function(e,t){this._encodings[e]=t},Object.defineProperty(e.prototype,"activeProtocol",{get:function(){return this._activeProtocol},set:function(e){if(!this._protocols[e])throw new Error('unknown protocol "'+e+'"');this._activeProtocol=e,this._onProtocolChange.fire(this._protocols[e].events)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"areMouseEventsActive",{get:function(){return 0!==this._protocols[this._activeProtocol].events},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeEncoding",{get:function(){return this._activeEncoding},set:function(e){if(!this._encodings[e])throw new Error('unknown encoding "'+e+'"');this._activeEncoding=e},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null},Object.defineProperty(e.prototype,"onProtocolChange",{get:function(){return this._onProtocolChange.event},enumerable:!1,configurable:!0}),e.prototype.triggerMouseEvent=function(e){if(e.col<0||e.col>=this._bufferService.cols||e.row<0||e.row>=this._bufferService.rows)return!1;if(4===e.button&&32===e.action)return!1;if(3===e.button&&32!==e.action)return!1;if(4!==e.button&&(2===e.action||3===e.action))return!1;if(e.col++,e.row++,32===e.action&&this._lastEvent&&this._compareEvents(this._lastEvent,e))return!1;if(!this._protocols[this._activeProtocol].restrict(e))return!1;var t=this._encodings[this._activeEncoding](e);return t&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(t):this._coreService.triggerDataEvent(t,!0)),this._lastEvent=e,!0},e.prototype.explainEvents=function(e){return{down:!!(1&e),up:!!(2&e),drag:!!(4&e),move:!!(8&e),wheel:!!(16&e)}},e.prototype._compareEvents=function(e,t){return e.col===t.col&&e.row===t.row&&e.button===t.button&&e.action===t.action&&e.ctrl===t.ctrl&&e.alt===t.alt&&e.shift===t.shift},n([r(0,o.IBufferService),r(1,o.ICoreService)],e)}();t.CoreMouseService=h},function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DirtyRowService=void 0;var o=i(1),s=function(){function e(e){this._bufferService=e,this.clearRange()}return Object.defineProperty(e.prototype,"start",{get:function(){return this._start},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},enumerable:!1,configurable:!0}),e.prototype.clearRange=function(){this._start=this._bufferService.buffer.y,this._end=this._bufferService.buffer.y},e.prototype.markDirty=function(e){e<this._start?this._start=e:e>this._end&&(this._end=e)},e.prototype.markRangeDirty=function(e,t){if(e>t){var i=e;e=t,t=i}e<this._start&&(this._start=e),t>this._end&&(this._end=t)},e.prototype.markAllDirty=function(){this.markRangeDirty(0,this._bufferService.rows-1)},n([r(0,o.IBufferService)],e)}();t.DirtyRowService=s},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeService=void 0;var n=i(0),r=i(78),o=function(){function e(){this._providers=Object.create(null),this._active="",this._onChange=new n.EventEmitter;var e=new r.UnicodeV6;this.register(e),this._active=e.version,this._activeProvider=e}return Object.defineProperty(e.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"versions",{get:function(){return Object.keys(this._providers)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeVersion",{get:function(){return this._active},set:function(e){if(!this._providers[e])throw new Error('unknown Unicode version "'+e+'"');this._active=e,this._activeProvider=this._providers[e],this._onChange.fire(e)},enumerable:!1,configurable:!0}),e.prototype.register=function(e){this._providers[e.version]=e},e.prototype.wcwidth=function(e){return this._activeProvider.wcwidth(e)},e.prototype.getStringCellWidth=function(e){for(var t=0,i=e.length,n=0;n<i;++n){var r=e.charCodeAt(n);if(55296<=r&&r<=56319){if(++n>=i)return t+this.wcwidth(r);var o=e.charCodeAt(n);56320<=o&&o<=57343?r=1024*(r-55296)+o-56320+65536:t+=this.wcwidth(o)}t+=this.wcwidth(r)}return t},e}();t.UnicodeService=o},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeV6=void 0;var n,r=i(15),o=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],s=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],a=function(){function e(){if(this.version="6",!n){n=new Uint8Array(65536),r.fill(n,1),n[0]=0,r.fill(n,0,1,32),r.fill(n,0,127,160),r.fill(n,2,4352,4448),n[9001]=2,n[9002]=2,r.fill(n,2,11904,42192),n[12351]=1,r.fill(n,2,44032,55204),r.fill(n,2,63744,64256),r.fill(n,2,65040,65050),r.fill(n,2,65072,65136),r.fill(n,2,65280,65377),r.fill(n,2,65504,65511);for(var e=0;e<o.length;++e)r.fill(n,0,o[e][0],o[e][1]+1)}}return e.prototype.wcwidth=function(e){return e<32?0:e<127?1:e<65536?n[e]:function(e,t){var i,n=0,r=t.length-1;if(e<t[0][0]||e>t[r][1])return!1;for(;r>=n;)if(e>t[i=n+r>>1][1])n=i+1;else{if(!(e<t[i][0]))return!0;r=i-1}return!1}(e,s)?0:e>=131072&&e<=196605||e>=196608&&e<=262141?2:1},e}();t.UnicodeV6=a},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CharsetService=void 0;var n=function(){function e(){this.glevel=0,this._charsets=[]}return e.prototype.reset=function(){this.charset=void 0,this._charsets=[],this.glevel=0},e.prototype.setgLevel=function(e){this.glevel=e,this.charset=this._charsets[e]},e.prototype.setgCharset=function(e,t){this._charsets[e]=t,this.glevel===e&&(this.charset=t)},e}();t.CharsetService=n},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.updateWindowsModeWrappedState=void 0;var n=i(3);t.updateWindowsModeWrappedState=function(e){var t=e.buffer.lines.get(e.buffer.ybase+e.buffer.y-1),i=null==t?void 0:t.get(e.cols-1),r=e.buffer.lines.get(e.buffer.ybase+e.buffer.y);r&&i&&(r.isWrapped=i[n.CHAR_DATA_CODE_INDEX]!==n.NULL_CELL_CODE&&i[n.CHAR_DATA_CODE_INDEX]!==n.WHITESPACE_CELL_CODE)}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.WriteBuffer=void 0;var n=function(){function e(e){this._action=e,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0}return e.prototype.writeSync=function(e){if(this._writeBuffer.length){for(var t=this._bufferOffset;t<this._writeBuffer.length;++t){var i=this._writeBuffer[t],n=this._callbacks[t];this._action(i),n&&n()}this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=2147483647}this._action(e)},e.prototype.write=function(e,t){var i=this;if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");this._writeBuffer.length||(this._bufferOffset=0,setTimeout((function(){return i._innerWrite()}))),this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t)},e.prototype._innerWrite=function(){for(var e=this,t=Date.now();this._writeBuffer.length>this._bufferOffset;){var i=this._writeBuffer[this._bufferOffset],n=this._callbacks[this._bufferOffset];if(this._bufferOffset++,this._action(i),this._pendingData-=i.length,n&&n(),Date.now()-t>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((function(){return e._innerWrite()}),0)):(this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0)},e}();t.WriteBuffer=n},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.AddonManager=void 0;var n=function(){function e(){this._addons=[]}return e.prototype.dispose=function(){for(var e=this._addons.length-1;e>=0;e--)this._addons[e].instance.dispose()},e.prototype.loadAddon=function(e,t){var i=this,n={instance:t,dispose:t.dispose,isDisposed:!1};this._addons.push(n),t.dispose=function(){return i._wrappedAddonDispose(n)},t.activate(e)},e.prototype._wrappedAddonDispose=function(e){if(!e.isDisposed){for(var t=-1,i=0;i<this._addons.length;i++)if(this._addons[i]===e){t=i;break}if(-1===t)throw new Error("Could not dispose an addon that has not been loaded");e.isDisposed=!0,e.dispose.apply(e.instance),this._addons.splice(t,1)}},e}();t.AddonManager=n}])})));class Da{constructor(e){this.size=e,this.entries=[],this.cursor=0}push(e){if(""===e.trim())return;e!=this.entries[this.entries.length-1]&&(this.entries.push(e),this.entries.length>this.size&&this.entries.pop(0),this.cursor=this.entries.length)}rewind(){this.cursor=this.entries.length}getPrevious(){const e=Math.max(0,this.cursor-1);return this.cursor=e,this.entries[e]}getNext(){const e=Math.min(this.entries.length,this.cursor+1);return this.cursor=e,this.entries[e]}}for(var Ia="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(",">>",">\\&","[&;()|<>]"].join("|")+")",Pa="",Ba=0;Ba<4;Ba++)Pa+=(Math.pow(16,8)*Math.random()).toString(16);var $a=function(e,t,i){var n=function(e,t,i){var n=new RegExp(["("+Ia+")","((\\\\['\"|&;()<> \\t]|[^\\s'\"|&;()<> \\t])+|\"((\\\\\"|[^\"])*?)\"|'((\\\\'|[^'])*?)')*"].join("|"),"g"),r=e.match(n).filter(Boolean),o=!1;if(!r)return[];t||(t={});i||(i={});return r.map((function(e,n){if(!o){if(RegExp("^"+Ia+"$").test(e))return{op:e};for(var s=i.escape||"\\",a=!1,c=!1,l="",u=!1,h=0,d=e.length;h<d;h++){var f=e.charAt(h);if(u=u||!a&&("*"===f||"?"===f),c)l+=f,c=!1;else if(a)f===a?a=!1:"'"==a?l+=f:f===s?(h+=1,l+='"'===(f=e.charAt(h))||f===s||"$"===f?f:s+f):l+="$"===f?p():f;else if('"'===f||"'"===f)a=f;else{if(RegExp("^"+Ia+"$").test(f))return{op:e};if(RegExp("^#$").test(f))return o=!0,l.length?[l,{comment:e.slice(h+1)+r.slice(n+1).join(" ")}]:[{comment:e.slice(h+1)+r.slice(n+1).join(" ")}];f===s?c=!0:l+="$"===f?p():f}}return u?{op:"glob",pattern:l}:l}function p(){var i,n;if(h+=1,"{"===e.charAt(h)){if(h+=1,"}"===e.charAt(h))throw new Error("Bad substitution: "+e.substr(h-2,3));if((i=e.indexOf("}",h))<0)throw new Error("Bad substitution: "+e.substr(h));n=e.substr(h,i-h),h=i}else/[*@#?$!_\-]/.test(e.charAt(h))?(n=e.charAt(h),h+=1):(i=e.substr(h).match(/[^\w\d_]/))?(n=e.substr(h,i.index),h+=i.index-1):(n=e.substr(h),h=e.length);return function(e,i,n){var r="function"==typeof t?t(n):t[n];void 0===r&&""!=n?r="":void 0===r&&(r="$");return"object"==typeof r?i+Pa+JSON.stringify(r)+Pa:i+r}(0,"",n)}})).reduce((function(e,t){return void 0===t?e:e.concat(t)}),[])}(e,t,i);return"function"!=typeof t?n:n.reduce((function(e,t){if("object"==typeof t)return e.concat(t);var i=t.split(RegExp("("+Pa+".*?"+Pa+")","g"));return 1===i.length?e.concat(i[0]):e.concat(i.filter(Boolean).map((function(e){return RegExp("^"+Pa).test(e)?JSON.parse(e.split(Pa)[1]):e})))}),[])};function Ha(e,t=!0){let i;const n=[],r=/\w+/g;for(;i=r.exec(e);)t?n.push(i.index):n.push(i.index+i[0].length);return n}function ja(e,t){const i=Ha(e,!0).reverse().find(e=>e<t);return null==i?0:i}function Wa(e,t,i){let n=0,r=0;for(let o=0;o<t;++o){"\n"==e.charAt(o)?(r=0,n+=1):(r+=1,r>i&&(r=0,n+=1))}return{row:n,col:r}}function Fa(e,t){return Wa(e,e.length,t).row+1}function Na(e){return null!=e.match(/[^\\][ \t]$/m)}function Ua(e){if(""===e.trim())return"";if(Na(e))return"";return $a(e).pop()||""}class qa{constructor(e,t={}){this.term=e,this._handleTermData=this.handleTermData.bind(this),this._handleTermResize=this.handleTermResize.bind(this),this.history=new Da(t.historySize||10),this.maxAutocompleteEntries=t.maxAutocompleteEntries||100,this._autocompleteHandlers=[],this._active=!1,this._input="",this._cursor=0,this._activePrompt=null,this._activeCharPrompt=null,this._termSize={cols:this.term.cols,rows:this.term.rows},this.attach()}detach(){this.term.off("data",this._handleTermData),this.term.off("resize",this._handleTermResize)}attach(){this.term.onData(this._handleTermData),this.term.onResize(this._handleTermResize)}addAutocompleteHandler(e,...t){this._autocompleteHandlers.push({fn:e,args:t})}removeAutocompleteHandler(e){const t=this._autocompleteHandlers.findIndex(t=>t.fn===e);-1!==t&&this._autocompleteHandlers.splice(t,1)}read(e,t="> "){return new Promise((i,n)=>{this.term.write(e),this._activePrompt={prompt:e,continuationPrompt:t,resolve:i,reject:n},this._input="",this._cursor=0,this._active=!0})}readChar(e){return new Promise((t,i)=>{this.term.write(e),this._activeCharPrompt={prompt:e,resolve:t,reject:i}})}abortRead(e="aborted"){null==this._activePrompt&&null==this._activeCharPrompt||this.term.write("\r\n"),null!=this._activePrompt&&(this._activePrompt.reject(e),this._activePrompt=null),null!=this._activeCharPrompt&&(this._activeCharPrompt.reject(e),this._activeCharPrompt=null),this._active=!1}println(e){this.print(e+"\n")}print(e){const t=e.replace(/[\r\n]+/g,"\n");this.term.write(t.replace(/\n/g,"\r\n"))}printWide(e,t=2){if(0==e.length)return println("");const i=e.reduce((e,t)=>Math.max(e,t.length),0)+t,n=Math.floor(this._termSize.cols/i),r=Math.ceil(e.length/n);let o=0;for(let t=0;t<r;++t){let t="";for(let r=0;r<n;++r)if(o<e.length){let n=e[o++];n+=" ".repeat(i-n.length),t+=n}this.println(t)}}applyPrompts(e){const t=(this._activePrompt||{}).prompt||"",i=(this._activePrompt||{}).continuationPrompt||"";return t+e.replace(/\n/g,"\n"+i)}applyPromptOffset(e,t){return this.applyPrompts(e.substr(0,t)).length}clearInput(){const e=this.applyPrompts(this._input),t=Fa(e,this._termSize.cols),i=this.applyPromptOffset(this._input,this._cursor),{col:n,row:r}=Wa(e,i,this._termSize.cols),o=t-r-1;for(var s=0;s<o;++s)this.term.write("[E");this.term.write("\r[K");for(s=1;s<t;++s)this.term.write("[F[K")}setInput(e,t=!0){t&&this.clearInput();const i=this.applyPrompts(e);this.print(i),this._cursor>e.length&&(this._cursor=e.length);const n=this.applyPromptOffset(e,this._cursor),r=Fa(i,this._termSize.cols),{col:o,row:s}=Wa(i,n,this._termSize.cols),a=r-s-1;this.term.write("\r");for(var c=0;c<a;++c)this.term.write("[F");for(c=0;c<o;++c)this.term.write("[C");this._input=e}printAndRestartPrompt(e){const t=this._cursor;this.setCursor(this._input.length),this.term.write("\r\n");const i=()=>{this._cursor=t,this.setInput(this._input)},n=e();null==n?i():n.then(i)}setCursor(e){e<0&&(e=0),e>this._input.length&&(e=this._input.length);const t=this.applyPrompts(this._input),i=(Fa(t,this._termSize.cols),this.applyPromptOffset(this._input,this._cursor)),{col:n,row:r}=Wa(t,i,this._termSize.cols),o=this.applyPromptOffset(this._input,e),{col:s,row:a}=Wa(t,o,this._termSize.cols);if(a>r)for(let e=r;e<a;++e)this.term.write("[B");else for(let e=a;e<r;++e)this.term.write("[A");if(s>n)for(let e=n;e<s;++e)this.term.write("[C");else for(let e=s;e<n;++e)this.term.write("[D");this._cursor=e}handleCursorMove(e){if(e>0){const t=Math.min(e,this._input.length-this._cursor);this.setCursor(this._cursor+t)}else if(e<0){const t=Math.max(e,-this._cursor);this.setCursor(this._cursor+t)}}handleCursorErase(e){const{_cursor:t,_input:i}=this;if(e){if(t<=0)return;const e=i.substr(0,t-1)+i.substr(t);this.clearInput(),this._cursor-=1,this.setInput(e,!1)}else{const e=i.substr(0,t)+i.substr(t+1);this.setInput(e)}}handleCursorInsert(e){const{_cursor:t,_input:i}=this,n=i.substr(0,t)+e+i.substr(t);this._cursor+=e.length,this.setInput(n)}handleReadComplete(){this.history&&this.history.push(this._input),this._activePrompt&&(this._activePrompt.resolve(this._input),this._activePrompt=null),this.term.write("\r\n"),this._active=!1}handleTermResize(e){const{rows:t,cols:i}=e;this.clearInput(),this._termSize={cols:i,rows:t},this.setInput(this._input,!1)}handleTermData(e){if(this._active){if(null!=this._activeCharPrompt)return this._activeCharPrompt.resolve(e),this._activeCharPrompt=null,void this.term.write("\r\n");if(e.length>3&&27!==e.charCodeAt(0)){const t=e.replace(/[\r\n]+/g,"\r");Array.from(t).forEach(e=>this.handleData(e))}else this.handleData(e)}}handleData(e){if(!this._active)return;const t=e.charCodeAt(0);let i;if(27==t)switch(e.substr(1)){case"[A":if(this.history){let e=this.history.getPrevious();e&&(this.setInput(e),this.setCursor(e.length))}break;case"[B":if(this.history){let e=this.history.getNext();e||(e=""),this.setInput(e),this.setCursor(e.length)}break;case"[D":this.handleCursorMove(-1);break;case"[C":this.handleCursorMove(1);break;case"[3~":this.handleCursorErase(!1);break;case"[F":this.setCursor(this._input.length);break;case"[H":this.setCursor(0);break;case"b":i=ja(this._input,this._cursor),null!=i&&this.setCursor(i);break;case"f":i=function(e,t){const i=Ha(e,!1).find(e=>e>t);return null==i?e.length:i}(this._input,this._cursor),null!=i&&this.setCursor(i);break;case"":i=ja(this._input,this._cursor),null!=i&&(this.setInput(this._input.substr(0,i)+this._input.substr(this._cursor)),this.setCursor(i))}else if(t<32||127===t)switch(e){case"\r":""!=(n=this._input).trim()&&((n.match(/'/g)||[]).length%2!=0||(n.match(/"/g)||[]).length%2!=0||""==n.split(/(\|\||\||&&)/g).pop().trim()||n.endsWith("\\")&&!n.endsWith("\\\\"))?this.handleCursorInsert("\n"):this.handleReadComplete();break;case"":this.handleCursorErase(!0);break;case"\t":if(this._autocompleteHandlers.length>0){const e=this._input.substr(0,this._cursor),t=Na(e),i=function(e,t){const i=$a(t);let n=i.length-1,r=i[n]||"";return""===t.trim()?(n=0,r=""):Na(t)&&(n+=1,r=""),e.reduce((e,{fn:t,args:r})=>{try{return e.concat(t(n,i,...r))}catch(t){return console.error("Auto-complete error:",t),e}},[]).filter(e=>e.startsWith(r))}(this._autocompleteHandlers,e);if(i.sort(),0===i.length)t||this.handleCursorInsert(" ");else if(1===i.length){const t=Ua(e);this.handleCursorInsert(i[0].substr(t.length)+" ")}else if(i.length<=this.maxAutocompleteEntries){const t=function e(t,i){if(t.length>=i[0].length)return t;const n=t;t+=i[0].slice(t.length,t.length+1);for(let e=0;e<i.length;e++){if(!i[e].startsWith(n))return null;if(!i[e].startsWith(t))return n}return e(t,i)}(e,i);if(t){const i=Ua(e);this.handleCursorInsert(t.substr(i.length))}this.printAndRestartPrompt(()=>{this.printWide(i)})}else this.printAndRestartPrompt(()=>this.readChar(`Display all ${i.length} possibilities? (y or n)`).then(e=>{"y"!=e&&"Y"!=e||this.printWide(i)}))}else this.handleCursorInsert("    ");break;case"":this.setCursor(this._input.length),this.term.write("^C\r\n"+((this._activePrompt||{}).prompt||"")),this._input="",this._cursor=0,this.history&&this.history.rewind()}else this.handleCursorInsert(e);var n}}var za=n((function(e,t){window,e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.FitAddon=void 0;var n=function(){function e(){}return e.prototype.activate=function(e){this._terminal=e},e.prototype.dispose=function(){},e.prototype.fit=function(){var e=this.proposeDimensions();if(e&&this._terminal){var t=this._terminal._core;this._terminal.rows===e.rows&&this._terminal.cols===e.cols||(t._renderService.clear(),this._terminal.resize(e.cols,e.rows))}},e.prototype.proposeDimensions=function(){if(this._terminal&&this._terminal.element&&this._terminal.element.parentElement){var e=this._terminal._core,t=window.getComputedStyle(this._terminal.element.parentElement),i=parseInt(t.getPropertyValue("height")),n=Math.max(0,parseInt(t.getPropertyValue("width"))),r=window.getComputedStyle(this._terminal.element),o=i-(parseInt(r.getPropertyValue("padding-top"))+parseInt(r.getPropertyValue("padding-bottom"))),s=n-(parseInt(r.getPropertyValue("padding-right"))+parseInt(r.getPropertyValue("padding-left")))-e.viewport.scrollBarWidth;return{cols:Math.max(2,Math.floor(s/e._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(o/e._renderService.dimensions.actualCellHeight))}}},e}();t.FitAddon=n}])})),Ya=i(za);za.FitAddon;const Va={id:"Dungeon001_Room1",name:"Main Chamber",description:"You reach the Main Chamber of the Catacomb. The noise increases but you can't make out the origin of it.",detail:"You look closer to all sides of the room. After a thorough investigation you can see that parts of a wall are made up of loose rocks. You might be able to [move] these rocks.",exits:[{exit:"north",description:"Follow the door to the left",target:"Dungeon001_Entrance"},{exit:"hidden path",hidden:!0,description:"You follow the hidden path on the east wall",target:"Dungeon001_End"}],actions:[{action:"move rocks",description:"You try to move one of the medium sized rocks. Parts of the wall start to crumble and a hidden path opens up."}]},Ka={};function Ga(e){let t,i=new Map,n=Va,r={};i.enterRoom=t=>{n=t.room,e(t.message)},i.characterSelected=t=>{r=t.character,e(t.message)};const o=e=>{t&&t.send(JSON.stringify({message:e,type:"message"}))},s=async e=>""+e,a={onInput:async e=>{const t=await s(e);o(t)},setWSClient:async n=>{t=n,t.addEventListener("message",(function(t){var n=JSON.parse(t.data);if(i.has(n.type))i[n.type](n);else{let t=n.message;n.username&&(t=n.username+":  "+n.message),e(t)}}))}};return W(Ka,a),a}function Za(){return F(Ka)}const{console:Xa}=oe,Ja="src/game/Game.svelte";function Qa(e){let t,i;const n={c:function(){t=C("div"),i=C("div"),ge(i,"id","terminal"),a(i,Ja,124,2,3039),ge(t,"id","terminalWindow"),ge(t,"class","z-depth-5 svelte-19cdi4u"),a(t,Ja,123,0,2993)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,n){_e(e,t,n),pe(t,i)},p:r,i:r,o:r,d:function(e){e&&ve(t)}};return fe("SvelteRegisterBlock",{block:n,id:Qa.name,type:"component",source:"",ctx:e}),n}function ec(e){return new Promise(t=>setTimeout(t,e))}function tc(e,t){return 0==e?["north","east","south","west","say"]:[]}function ic(e,t,i){let n,r,o,s,a,c,l,u;const{isLoading:h,isAuthenticated:d,login:p,logout:v,authToken:m,authError:g,userInfo:y}=Ys();function b(e,t){e.read("~$ ").then(t=>{c.onInput(t),b(e)}).catch(e=>console.log("Error reading: "+e))}f(h,"isLoading"),_(e,h,e=>i(9,n=e)),f(d,"isAuthenticated"),_(e,d,e=>i(10,r=e)),f(m,"authToken"),_(e,m,e=>i(13,a=e)),f(g,"authError"),_(e,g,e=>i(11,o=e)),f(y,"userInfo"),_(e,y,e=>i(12,s=e));const w=(e,t)=>i=>{t.clearInput(),e.writeln(i)};async function C(){l=new Aa.Terminal;var e=new Ya.FitAddon;l.loadAddon(e),l.setOption("cursorBlink",!0),l.setOption("convertEol",!0),l.open(document.getElementById("terminal")),e.fit();const t=new qa(l);t.addAutocompleteHandler(tc),i(5,c=Ga(w(l,t))),b(t)}P(async()=>{document.body.style.backgroundImage="url('/bg.jpg')",document.body.style.backdropFilter="blur(10px) saturate(30%) brightness(50%)",document.querySelector("nav").style.backgroundColor="#00000000",C()}),H(async()=>{document.body.style.backgroundImage="",document.body.style.backdropFilter="",document.querySelector("nav").style.backgroundColor="#00000055",C()});const S=[];Object.keys(t).forEach(e=>{~S.indexOf(e)||"$$"===e.slice(0,2)||Xa.warn(`<Game> was created with unknown prop '${e}'`)});let k,{$$slots:E={},$$scope:x}=t;return we("Game",E,[]),e.$capture_state=()=>({onMount:P,onDestroy:H,createAuth:zs,getAuth:Ys,axios:Ra,xterm:Aa,LocalEchoController:qa,fit:Ya,createClient:Ga,getClient:Za,wsbackend:"wss://talesofapirate.com/ws",client:c,term:l,ws:u,isLoading:h,isAuthenticated:d,login:p,logout:v,authToken:m,authError:g,userInfo:y,sleep:ec,readLine:b,createRenderer:w,setupTerminal:C,autocompleteCommonCommands:tc,state:k,$isLoading:n,$isAuthenticated:r,$authError:o,$userInfo:s,$authToken:a}),e.$inject_state=e=>{"client"in e&&i(5,c=e.client),"term"in e&&(l=e.term),"ws"in e&&i(7,u=e.ws),"state"in e&&(k=e.state)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{if(15872&e.$$.dirty&&(k={isLoading:n,isAuthenticated:r,authError:o,userInfo:s?s.name:null,authToken:a.slice(0,20)}),9376&e.$$.dirty&&r&&a&&c&&!u){i(7,u=new WebSocket("wss://talesofapirate.com/ws?access_token="+a)),c.setWSClient(u)}},[h,d,m,g,y]}class nc extends Ce{constructor(e){super(e),de(this,e,ic,Qa,d,{}),fe("SvelteRegisterComponent",{component:this,tagName:"Game",options:e,id:Qa.name})}}const{console:rc}=oe,oc="src/UserMenu.svelte";function sc(e){let t,i,n,o,s,c;const l={c:function(){t=C("li"),i=C("p"),i.textContent="Signup",n=E(),o=C("li"),s=C("button"),s.textContent="Log in",ge(i,"class","btn-small userbutton green svelte-1ujdy1x"),a(i,oc,73,4,1372),ge(t,"class","right-align"),a(t,oc,72,2,1343),ge(s,"class","btn-small userbutton green svelte-1ujdy1x"),a(s,oc,76,4,1488),ge(o,"class","right-align"),a(o,oc,75,2,1459)},m:function(r,a,l){_e(r,t,a),pe(t,i),_e(r,n,a),_e(r,o,a),pe(o,s),l&&u(c),c=[me(i,"click",e[14],!1,!1,!1),me(s,"click",e[15],!1,!1,!1)]},p:r,d:function(e){e&&ve(t),e&&ve(n),e&&ve(o),u(c)}};return fe("SvelteRegisterBlock",{block:l,id:sc.name,type:"if",source:"(72:28) ",ctx:e}),l}function ac(e){let t;const i={c:function(){t=C("li"),t.textContent="...",ge(t,"class","right-align"),a(t,oc,70,2,1279)},m:function(e,i){_e(e,t,i)},p:r,d:function(e){e&&ve(t)}};return fe("SvelteRegisterBlock",{block:i,id:ac.name,type:"if",source:"(70:0) {#if $isLoading}",ctx:e}),i}function cc(e){let t,i,n,r;const o={c:function(){t=C("img"),n=E(),r=C("i"),r.textContent="arrow_drop_down",t.src!==(i=e[2].picture)&&ge(t,"src",i),ge(t,"alt",""),ge(t,"class","circle img  svelte-1ujdy1x"),a(t,oc,87,8,1742),ge(r,"class","material-icons left"),a(r,oc,88,8,1811)},m:function(e,i){_e(e,t,i),_e(e,n,i),_e(e,r,i)},p:function(e,n){4&n&&t.src!==(i=e[2].picture)&&ge(t,"src",i)},d:function(e){e&&ve(t),e&&ve(n),e&&ve(r)}};return fe("SvelteRegisterBlock",{block:o,id:cc.name,type:"if",source:"(87:6) {#if $isAuthenticated}",ctx:e}),o}function lc(e){let t,i,n,o,s,c,l,u,h,d,f,p;function _(e,t){return e[1]?ac:e[0]?void 0:sc}let v=_(e),m=v&&v(e),g=e[0]&&cc(e);const y={c:function(){t=C("ul"),i=C("li"),n=C("a"),n.textContent="logout",o=E(),s=C("li"),c=C("a"),c.textContent="profile",l=E(),m&&m.c(),u=E(),h=C("li"),d=C("a"),f=C("span"),g&&g.c(),ge(n,"href","#!"),a(n,oc,62,4,1144),a(i,oc,61,2,1135),ge(c,"href","account"),a(c,oc,65,4,1215),a(s,oc,64,2,1206),ge(t,"id","dropdown1"),ge(t,"class","dropdown-content"),a(t,oc,60,0,1088),ge(f,"class","valign-wrapper"),a(f,oc,84,4,1674),ge(d,"class","dropdown-trigger"),ge(d,"href","#"),ge(d,"data-target","dropdown1"),a(d,oc,83,2,1608),a(h,oc,81,0,1600)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(r,a,_){_e(r,t,a),pe(t,i),pe(i,n),pe(t,o),pe(t,s),pe(s,c),_e(r,l,a),m&&m.m(r,a),_e(r,u,a),_e(r,h,a),pe(h,d),pe(d,f),g&&g.m(f,null),_&&p(),p=me(n,"click",e[13],!1,!1,!1)},p:function(e,[t]){v===(v=_(e))&&m?m.p(e,t):(m&&m.d(1),m=v&&v(e),m&&(m.c(),m.m(u.parentNode,u))),e[0]?g?g.p(e,t):(g=cc(e),g.c(),g.m(f,null)):g&&(g.d(1),g=null)},i:r,o:r,d:function(e){e&&ve(t),e&&ve(l),m&&m.d(e),e&&ve(u),e&&ve(h),g&&g.d(),p()}};return fe("SvelteRegisterBlock",{block:y,id:lc.name,type:"component",source:"",ctx:e}),y}function uc(e,t,i){let n,r,o,s;const{isLoading:a,isAuthenticated:c,login:l,logout:u,authToken:h,authError:d,userInfo:p}=Ys();async function v(){axios("http://localhost:8010/api/user",{method:"GET",mode:"no-cors",credentials:"same-origin",headers:{Authorization:"Bearer "+n}}).then(e=>console.log(e)).catch(e=>console.log(e))}async function m(){await l(),r&&await v()}f(a,"isLoading"),_(e,a,e=>i(1,o=e)),f(c,"isAuthenticated"),_(e,c,e=>i(0,r=e)),f(h,"authToken"),_(e,h,e=>i(10,n=e)),f(p,"userInfo"),_(e,p,e=>i(2,s=e)),P(()=>{document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".dropdown-trigger");M.Dropdown.init(e)}))});const g=[];Object.keys(t).forEach(e=>{~g.indexOf(e)||"$$"===e.slice(0,2)||rc.warn(`<UserMenu> was created with unknown prop '${e}'`)});let{$$slots:y={},$$scope:b}=t;we("UserMenu",y,[]);return e.$capture_state=()=>({onMount:P,UserIcon:Ze,getAuth:Ys,isLoading:a,isAuthenticated:c,login:l,logout:u,authToken:h,authError:d,userInfo:p,loadUserData:v,signup:m,$authToken:n,$isAuthenticated:r,$isLoading:o,$userInfo:s}),[r,o,s,a,c,l,u,h,p,m,n,d,v,()=>u(),()=>m(),()=>l()]}class hc extends Ce{constructor(e){super(e),de(this,e,uc,lc,d,{}),fe("SvelteRegisterComponent",{component:this,tagName:"UserMenu",options:e,id:lc.name})}}const dc="src/Input.svelte";function fc(e){let t,i,n,o,s,c,l,h,d;const f={c:function(){t=C("div"),i=C("form"),n=C("div"),o=C("textarea"),s=E(),c=C("label"),c.textContent="leave a message",l=E(),h=C("button"),h.textContent="send",ge(o,"id","icon_prefix2"),ge(o,"class","materialize-textarea svelte-1cnwt6i"),a(o,dc,53,6,1590),ge(c,"for","icon_prefix2"),a(c,dc,58,6,1717),ge(n,"class","input-field col s12 white-text"),a(n,dc,52,4,1539),ge(h,"class","waves-effect waves-light btn-small white-text grey darken-2"),a(h,dc,60,4,1782),ge(i,"class","col s12 valign-wrapper left-align"),a(i,dc,50,2,1485),ge(t,"class","row left-align"),a(t,dc,49,0,1454)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(r,a,f){_e(r,t,a),pe(t,i),pe(i,n),pe(n,o),O(o,e[0]),pe(n,s),pe(n,c),pe(i,l),pe(i,h),f&&u(d),d=[me(o,"input",e[2]),me(h,"click",e[1],!1,!1,!1)]},p:function(e,[t]){1&t&&O(o,e[0])},i:r,o:r,d:function(e){e&&ve(t),u(d)}};return fe("SvelteRegisterBlock",{block:f,id:fc.name,type:"component",source:"",ctx:e}),f}async function pc(e="",t={}){return(await fetch(e,{method:"POST",mode:"no-cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)})).json()}function _c(e,t,i){let n="";async function r(){if(""===n)return;pc("https://leaveamessage.ey.r.appspot.com/api/messages",{text:n}).then(e=>{i(0,n="")})}const o=[];Object.keys(t).forEach(e=>{~o.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<Input> was created with unknown prop '${e}'`)});let{$$slots:s={},$$scope:a}=t;return we("Input",s,[]),e.$capture_state=()=>({fade:Ht,writable:Je,input:n,postData:pc,post:r}),e.$inject_state=e=>{"input"in e&&i(0,n=e.input)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[n,r,function(){n=this.value,i(0,n)}]}class vc extends Ce{constructor(e){super(e),de(this,e,_c,fc,d,{}),fe("SvelteRegisterComponent",{component:this,tagName:"Input",options:e,id:fc.name})}}const mc=e=>({matches:1&e}),gc=e=>({matches:e[0]});function yc(e){let t;const i=e[8].default,n=v(i,e,e[7],gc),r={c:function(){n&&n.c()},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,i){n&&n.m(e,i),t=!0},p:function(e,[t]){n&&n.p&&129&t&&n.p(m(i,e,e[7],gc),g(i,e[7],t,mc))},i:function(e){t||(ne(n,e),t=!0)},o:function(e){re(n,e),t=!1},d:function(e){n&&n.d(e)}};return fe("SvelteRegisterBlock",{block:r,id:yc.name,type:"component",source:"",ctx:e}),r}function bc(e,t,i){let n,r,{query:o}=t,s=!1,a=!1;function c(e){n=window.matchMedia(e),r=e=>i(0,a=e.matches),n.addListener(r),i(0,a=n.matches)}function l(){n&&r&&n.removeListener(r)}P(()=>(i(4,s=!0),()=>{l()}));const u=["query"];Object.keys(t).forEach(e=>{~u.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<MediaQuery> was created with unknown prop '${e}'`)});let{$$slots:h={},$$scope:d}=t;return we("MediaQuery",h,["default"]),e.$set=e=>{"query"in e&&i(1,o=e.query),"$$scope"in e&&i(7,d=e.$$scope)},e.$capture_state=()=>({onMount:P,query:o,mql:n,mqlListener:r,wasMounted:s,matches:a,addNewListener:c,removeActiveListener:l}),e.$inject_state=e=>{"query"in e&&i(1,o=e.query),"mql"in e&&(n=e.mql),"mqlListener"in e&&(r=e.mqlListener),"wasMounted"in e&&i(4,s=e.wasMounted),"matches"in e&&i(0,a=e.matches)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{18&e.$$.dirty&&s&&(l(),c(o))},[a,o,n,r,s,c,l,d,h]}class wc extends Ce{constructor(e){super(e),de(this,e,bc,yc,d,{query:1}),fe("SvelteRegisterComponent",{component:this,tagName:"MediaQuery",options:e,id:yc.name});const{ctx:t}=this.$$,i=e.props||{};void 0!==t[1]||"query"in i||console.warn("<MediaQuery> was created without expected prop 'query'")}get query(){throw new Error("<MediaQuery>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set query(e){throw new Error("<MediaQuery>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var Cc=n((function(e,i){e.exports=function(){var i,n;function r(){return i.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(a(e,t))return!1;return!0}function l(e){return void 0===e}function u(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function h(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var i,n=[];for(i=0;i<e.length;++i)n.push(t(e[i],i));return n}function f(e,t){for(var i in t)a(t,i)&&(e[i]=t[i]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,i,n){return Et(e,t,i,n,!0).utc()}function _(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function v(e){if(null==e._isValid){var t=_(e),i=n.call(t.parsedDateParts,(function(e){return null!=e})),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function m(e){var t=p(NaN);return null!=e?f(_(t),e):_(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,i=Object(this),n=i.length>>>0;for(t=0;t<n;t++)if(t in i&&e.call(this,i[t],t,i))return!0;return!1};var g=r.momentProperties=[],y=!1;function b(e,t){var i,n,r;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=_(t)),l(t._locale)||(e._locale=t._locale),g.length>0)for(i=0;i<g.length;i++)l(r=t[n=g[i]])||(e[n]=r);return e}function w(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,r.updateOffset(this),y=!1)}function C(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function S(e){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function k(e,t){var i=!0;return f((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),i){var n,o,s,c=[];for(o=0;o<arguments.length;o++){if(n="","object"==typeof arguments[o]){for(s in n+="\n["+o+"] ",arguments[0])a(arguments[0],s)&&(n+=s+": "+arguments[0][s]+", ");n=n.slice(0,-2)}else n=arguments[o];c.push(n)}S(e+"\nArguments: "+Array.prototype.slice.call(c).join("")+"\n"+(new Error).stack),i=!1}return t.apply(this,arguments)}),t)}var E,x={};function L(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),x[e]||(S(t),x[e]=!0)}function M(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function T(e,t){var i,n=f({},e);for(i in t)a(t,i)&&(s(e[i])&&s(t[i])?(n[i]={},f(n[i],e[i]),f(n[i],t[i])):null!=t[i]?n[i]=t[i]:delete n[i]);for(i in e)a(e,i)&&!a(t,i)&&s(e[i])&&(n[i]=f({},n[i]));return n}function O(e){null!=e&&this.set(e)}function R(e,t,i){var n=""+Math.abs(e),r=t-n.length;return(e>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,E=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)a(e,t)&&i.push(t);return i};var A=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,D=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,I={},P={};function B(e,t,i,n){var r=n;"string"==typeof n&&(r=function(){return this[n]()}),e&&(P[e]=r),t&&(P[t[0]]=function(){return R(r.apply(this,arguments),t[1],t[2])}),i&&(P[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function $(e,t){return e.isValid()?(t=H(t,e.localeData()),I[t]=I[t]||function(e){var t,i,n,r=e.match(A);for(t=0,i=r.length;t<i;t++)P[r[t]]?r[t]=P[r[t]]:r[t]=(n=r[t]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(t){var n,o="";for(n=0;n<i;n++)o+=M(r[n])?r[n].call(t,e):r[n];return o}}(t),I[t](e)):e.localeData().invalidDate()}function H(e,t){var i=5;function n(e){return t.longDateFormat(e)||e}for(D.lastIndex=0;i>=0&&D.test(e);)e=e.replace(D,n),D.lastIndex=0,i-=1;return e}var j={};function W(e,t){var i=e.toLowerCase();j[i]=j[i+"s"]=j[t]=e}function F(e){return"string"==typeof e?j[e]||j[e.toLowerCase()]:void 0}function N(e){var t,i,n={};for(i in e)a(e,i)&&(t=F(i))&&(n[t]=e[i]);return n}var U={};function q(e,t){U[e]=t}function z(e){return e%4==0&&e%100!=0||e%400==0}function Y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function V(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=Y(t)),i}function K(e,t){return function(i){return null!=i?(Z(this,e,i),r.updateOffset(this,t),this):G(this,e)}}function G(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Z(e,t,i){e.isValid()&&!isNaN(i)&&("FullYear"===t&&z(e.year())&&1===e.month()&&29===e.date()?(i=V(i),e._d["set"+(e._isUTC?"UTC":"")+t](i,e.month(),Ce(i,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](i))}var X,J=/\d/,Q=/\d\d/,ee=/\d{3}/,te=/\d{4}/,ie=/[+-]?\d{6}/,ne=/\d\d?/,re=/\d\d\d\d?/,oe=/\d\d\d\d\d\d?/,se=/\d{1,3}/,ae=/\d{1,4}/,ce=/[+-]?\d{1,6}/,le=/\d+/,ue=/[+-]?\d+/,he=/Z|[+-]\d\d:?\d\d/gi,de=/Z|[+-]\d\d(?::?\d\d)?/gi,fe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function pe(e,t,i){X[e]=M(t)?t:function(e,n){return e&&i?i:t}}function _e(e,t){return a(X,e)?X[e](t._strict,t._locale):new RegExp(function(e){return ve(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,i,n,r){return t||i||n||r})))}(e))}function ve(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}X={};var me,ge={};function ye(e,t){var i,n=t;for("string"==typeof e&&(e=[e]),u(t)&&(n=function(e,i){i[t]=V(e)}),i=0;i<e.length;i++)ge[e[i]]=n}function be(e,t){ye(e,(function(e,i,n,r){n._w=n._w||{},t(e,n._w,n,r)}))}function we(e,t,i){null!=t&&a(ge,e)&&ge[e](t,i._a,i,e)}function Ce(e,t){if(isNaN(e)||isNaN(t))return NaN;var i=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-i)/12,1===i?z(e)?29:28:31-i%7%2}me=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},B("M",["MM",2],"Mo",(function(){return this.month()+1})),B("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),B("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),W("month","M"),q("month",8),pe("M",ne),pe("MM",ne,Q),pe("MMM",(function(e,t){return t.monthsShortRegex(e)})),pe("MMMM",(function(e,t){return t.monthsRegex(e)})),ye(["M","MM"],(function(e,t){t[1]=V(e)-1})),ye(["MMM","MMMM"],(function(e,t,i,n){var r=i._locale.monthsParse(e,n,i._strict);null!=r?t[1]=r:_(i).invalidMonth=e}));var Se="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ke="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ee=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,xe=fe,Le=fe;function Me(e,t,i){var n,r,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)o=p([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(o,"").toLocaleLowerCase();return i?"MMM"===t?-1!==(r=me.call(this._shortMonthsParse,s))?r:null:-1!==(r=me.call(this._longMonthsParse,s))?r:null:"MMM"===t?-1!==(r=me.call(this._shortMonthsParse,s))||-1!==(r=me.call(this._longMonthsParse,s))?r:null:-1!==(r=me.call(this._longMonthsParse,s))||-1!==(r=me.call(this._shortMonthsParse,s))?r:null}function Te(e,t){var i;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=V(t);else if(!u(t=e.localeData().monthsParse(t)))return e;return i=Math.min(e.date(),Ce(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function Oe(e){return null!=e?(Te(this,e),r.updateOffset(this,!0),this):G(this,"Month")}function Re(){function e(e,t){return t.length-e.length}var t,i,n=[],r=[],o=[];for(t=0;t<12;t++)i=p([2e3,t]),n.push(this.monthsShort(i,"")),r.push(this.months(i,"")),o.push(this.months(i,"")),o.push(this.monthsShort(i,""));for(n.sort(e),r.sort(e),o.sort(e),t=0;t<12;t++)n[t]=ve(n[t]),r[t]=ve(r[t]);for(t=0;t<24;t++)o[t]=ve(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Ae(e){return z(e)?366:365}B("Y",0,0,(function(){var e=this.year();return e<=9999?R(e,4):"+"+e})),B(0,["YY",2],0,(function(){return this.year()%100})),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),W("year","y"),q("year",1),pe("Y",ue),pe("YY",ne,Q),pe("YYYY",ae,te),pe("YYYYY",ce,ie),pe("YYYYYY",ce,ie),ye(["YYYYY","YYYYYY"],0),ye("YYYY",(function(e,t){t[0]=2===e.length?r.parseTwoDigitYear(e):V(e)})),ye("YY",(function(e,t){t[0]=r.parseTwoDigitYear(e)})),ye("Y",(function(e,t){t[0]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return V(e)+(V(e)>68?1900:2e3)};var De=K("FullYear",!0);function Ie(e,t,i,n,r,o,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,i,n,r,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,i,n,r,o,s),a}function Pe(e){var t,i;return e<100&&e>=0?((i=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,i)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Be(e,t,i){var n=7+t-i;return-(7+Pe(e,0,n).getUTCDay()-t)%7+n-1}function $e(e,t,i,n,r){var o,s,a=1+7*(t-1)+(7+i-n)%7+Be(e,n,r);return a<=0?s=Ae(o=e-1)+a:a>Ae(e)?(o=e+1,s=a-Ae(e)):(o=e,s=a),{year:o,dayOfYear:s}}function He(e,t,i){var n,r,o=Be(e.year(),t,i),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?n=s+je(r=e.year()-1,t,i):s>je(e.year(),t,i)?(n=s-je(e.year(),t,i),r=e.year()+1):(r=e.year(),n=s),{week:n,year:r}}function je(e,t,i){var n=Be(e,t,i),r=Be(e+1,t,i);return(Ae(e)-n+r)/7}function We(e,t){return e.slice(t,7).concat(e.slice(0,t))}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),W("week","w"),W("isoWeek","W"),q("week",5),q("isoWeek",5),pe("w",ne),pe("ww",ne,Q),pe("W",ne),pe("WW",ne,Q),be(["w","ww","W","WW"],(function(e,t,i,n){t[n.substr(0,1)]=V(e)})),B("d",0,"do","day"),B("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),B("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),B("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),W("day","d"),W("weekday","e"),W("isoWeekday","E"),q("day",11),q("weekday",11),q("isoWeekday",11),pe("d",ne),pe("e",ne),pe("E",ne),pe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),pe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),pe("dddd",(function(e,t){return t.weekdaysRegex(e)})),be(["dd","ddd","dddd"],(function(e,t,i,n){var r=i._locale.weekdaysParse(e,n,i._strict);null!=r?t.d=r:_(i).invalidWeekday=e})),be(["d","e","E"],(function(e,t,i,n){t[n]=V(e)}));var Fe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ne="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ue="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),qe=fe,ze=fe,Ye=fe;function Ve(e,t,i){var n,r,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)o=p([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(o,"").toLocaleLowerCase();return i?"dddd"===t?-1!==(r=me.call(this._weekdaysParse,s))?r:null:"ddd"===t?-1!==(r=me.call(this._shortWeekdaysParse,s))?r:null:-1!==(r=me.call(this._minWeekdaysParse,s))?r:null:"dddd"===t?-1!==(r=me.call(this._weekdaysParse,s))||-1!==(r=me.call(this._shortWeekdaysParse,s))||-1!==(r=me.call(this._minWeekdaysParse,s))?r:null:"ddd"===t?-1!==(r=me.call(this._shortWeekdaysParse,s))||-1!==(r=me.call(this._weekdaysParse,s))||-1!==(r=me.call(this._minWeekdaysParse,s))?r:null:-1!==(r=me.call(this._minWeekdaysParse,s))||-1!==(r=me.call(this._weekdaysParse,s))||-1!==(r=me.call(this._shortWeekdaysParse,s))?r:null}function Ke(){function e(e,t){return t.length-e.length}var t,i,n,r,o,s=[],a=[],c=[],l=[];for(t=0;t<7;t++)i=p([2e3,1]).day(t),n=ve(this.weekdaysMin(i,"")),r=ve(this.weekdaysShort(i,"")),o=ve(this.weekdays(i,"")),s.push(n),a.push(r),c.push(o),l.push(n),l.push(r),l.push(o);s.sort(e),a.sort(e),c.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Ge(){return this.hours()%12||12}function Ze(e,t){B(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Xe(e,t){return t._meridiemParse}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,Ge),B("k",["kk",2],0,(function(){return this.hours()||24})),B("hmm",0,0,(function(){return""+Ge.apply(this)+R(this.minutes(),2)})),B("hmmss",0,0,(function(){return""+Ge.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)})),B("Hmm",0,0,(function(){return""+this.hours()+R(this.minutes(),2)})),B("Hmmss",0,0,(function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)})),Ze("a",!0),Ze("A",!1),W("hour","h"),q("hour",13),pe("a",Xe),pe("A",Xe),pe("H",ne),pe("h",ne),pe("k",ne),pe("HH",ne,Q),pe("hh",ne,Q),pe("kk",ne,Q),pe("hmm",re),pe("hmmss",oe),pe("Hmm",re),pe("Hmmss",oe),ye(["H","HH"],3),ye(["k","kk"],(function(e,t,i){var n=V(e);t[3]=24===n?0:n})),ye(["a","A"],(function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e})),ye(["h","hh"],(function(e,t,i){t[3]=V(e),_(i).bigHour=!0})),ye("hmm",(function(e,t,i){var n=e.length-2;t[3]=V(e.substr(0,n)),t[4]=V(e.substr(n)),_(i).bigHour=!0})),ye("hmmss",(function(e,t,i){var n=e.length-4,r=e.length-2;t[3]=V(e.substr(0,n)),t[4]=V(e.substr(n,2)),t[5]=V(e.substr(r)),_(i).bigHour=!0})),ye("Hmm",(function(e,t,i){var n=e.length-2;t[3]=V(e.substr(0,n)),t[4]=V(e.substr(n))})),ye("Hmmss",(function(e,t,i){var n=e.length-4,r=e.length-2;t[3]=V(e.substr(0,n)),t[4]=V(e.substr(n,2)),t[5]=V(e.substr(r))}));var Je,Qe=K("Hours",!0),et={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Se,monthsShort:ke,week:{dow:0,doy:6},weekdays:Fe,weekdaysMin:Ue,weekdaysShort:Ne,meridiemParse:/[ap]\.?m?\.?/i},tt={},it={};function nt(e,t){var i,n=Math.min(e.length,t.length);for(i=0;i<n;i+=1)if(e[i]!==t[i])return i;return n}function rt(e){return e?e.toLowerCase().replace("_","-"):e}function ot(i){var n=null;if(void 0===tt[i]&&e&&e.exports)try{n=Je._abbr,t(),st(n)}catch(e){tt[i]=null}return tt[i]}function st(e,t){var i;return e&&((i=l(t)?ct(e):at(e,t))?Je=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Je._abbr}function at(e,t){if(null!==t){var i,n=et;if(t.abbr=e,null!=tt[e])L("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=tt[e]._config;else if(null!=t.parentLocale)if(null!=tt[t.parentLocale])n=tt[t.parentLocale]._config;else{if(null==(i=ot(t.parentLocale)))return it[t.parentLocale]||(it[t.parentLocale]=[]),it[t.parentLocale].push({name:e,config:t}),null;n=i._config}return tt[e]=new O(T(n,t)),it[e]&&it[e].forEach((function(e){at(e.name,e.config)})),st(e),tt[e]}return delete tt[e],null}function ct(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Je;if(!o(e)){if(t=ot(e))return t;e=[e]}return function(e){for(var t,i,n,r,o=0;o<e.length;){for(t=(r=rt(e[o]).split("-")).length,i=(i=rt(e[o+1]))?i.split("-"):null;t>0;){if(n=ot(r.slice(0,t).join("-")))return n;if(i&&i.length>=t&&nt(r,i)>=t-1)break;t--}o++}return Je}(e)}function lt(e){var t,i=e._a;return i&&-2===_(e).overflow&&(t=i[1]<0||i[1]>11?1:i[2]<1||i[2]>Ce(i[0],i[1])?2:i[3]<0||i[3]>24||24===i[3]&&(0!==i[4]||0!==i[5]||0!==i[6])?3:i[4]<0||i[4]>59?4:i[5]<0||i[5]>59?5:i[6]<0||i[6]>999?6:-1,_(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),_(e)._overflowWeeks&&-1===t&&(t=7),_(e)._overflowWeekday&&-1===t&&(t=8),_(e).overflow=t),e}var ut=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ht=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dt=/Z|[+-]\d\d(?::?\d\d)?/,ft=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],pt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],_t=/^\/?Date\((-?\d+)/i,vt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,mt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function gt(e){var t,i,n,r,o,s,a=e._i,c=ut.exec(a)||ht.exec(a);if(c){for(_(e).iso=!0,t=0,i=ft.length;t<i;t++)if(ft[t][1].exec(c[1])){r=ft[t][0],n=!1!==ft[t][2];break}if(null==r)return void(e._isValid=!1);if(c[3]){for(t=0,i=pt.length;t<i;t++)if(pt[t][1].exec(c[3])){o=(c[2]||" ")+pt[t][0];break}if(null==o)return void(e._isValid=!1)}if(!n&&null!=o)return void(e._isValid=!1);if(c[4]){if(!dt.exec(c[4]))return void(e._isValid=!1);s="Z"}e._f=r+(o||"")+(s||""),St(e)}else e._isValid=!1}function yt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function bt(e){var t,i,n,r,o,s,a,c,l=vt.exec(function(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(e._i));if(l){if(i=l[4],n=l[3],r=l[2],o=l[5],s=l[6],a=l[7],c=[yt(i),ke.indexOf(n),parseInt(r,10),parseInt(o,10),parseInt(s,10)],a&&c.push(parseInt(a,10)),t=c,!function(e,t,i){return!e||Ne.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(_(i).weekdayMismatch=!0,i._isValid=!1,!1)}(l[1],t,e))return;e._a=t,e._tzm=function(e,t,i){if(e)return mt[e];if(t)return 0;var n=parseInt(i,10),r=n%100;return(n-r)/100*60+r}(l[8],l[9],l[10]),e._d=Pe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),_(e).rfc2822=!0}else e._isValid=!1}function wt(e,t,i){return null!=e?e:null!=t?t:i}function Ct(e){var t,i,n,o,s,a=[];if(!e._d){for(n=function(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,i,n,r,o,s,a,c,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,s=4,i=wt(t.GG,e._a[0],He(xt(),1,4).year),n=wt(t.W,1),((r=wt(t.E,1))<1||r>7)&&(c=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,l=He(xt(),o,s),i=wt(t.gg,e._a[0],l.year),n=wt(t.w,l.week),null!=t.d?((r=t.d)<0||r>6)&&(c=!0):null!=t.e?(r=t.e+o,(t.e<0||t.e>6)&&(c=!0)):r=o),n<1||n>je(i,o,s)?_(e)._overflowWeeks=!0:null!=c?_(e)._overflowWeekday=!0:(a=$e(i,n,r,o,s),e._a[0]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(s=wt(e._a[0],n[0]),(e._dayOfYear>Ae(s)||0===e._dayOfYear)&&(_(e)._overflowDayOfYear=!0),i=Pe(s,0,e._dayOfYear),e._a[1]=i.getUTCMonth(),e._a[2]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=n[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Pe:Ie).apply(null,a),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(_(e).weekdayMismatch=!0)}}function St(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],_(e).empty=!0;var t,i,n,o,s,a,c=""+e._i,l=c.length,u=0;for(n=H(e._f,e._locale).match(A)||[],t=0;t<n.length;t++)o=n[t],(i=(c.match(_e(o,e))||[])[0])&&((s=c.substr(0,c.indexOf(i))).length>0&&_(e).unusedInput.push(s),c=c.slice(c.indexOf(i)+i.length),u+=i.length),P[o]?(i?_(e).empty=!1:_(e).unusedTokens.push(o),we(o,i,e)):e._strict&&!i&&_(e).unusedTokens.push(o);_(e).charsLeftOver=l-u,c.length>0&&_(e).unusedInput.push(c),e._a[3]<=12&&!0===_(e).bigHour&&e._a[3]>0&&(_(e).bigHour=void 0),_(e).parsedDateParts=e._a.slice(0),_(e).meridiem=e._meridiem,e._a[3]=function(e,t,i){var n;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?((n=e.isPM(i))&&t<12&&(t+=12),n||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),null!==(a=_(e).era)&&(e._a[0]=e._locale.erasConvertYear(a,e._a[0])),Ct(e),lt(e)}else bt(e);else gt(e)}function kt(e){var t=e._i,i=e._f;return e._locale=e._locale||ct(e._l),null===t||void 0===i&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),C(t)?new w(lt(t)):(h(t)?e._d=t:o(i)?function(e){var t,i,n,r,o,s,a=!1;if(0===e._f.length)return _(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)o=0,s=!1,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],St(t),v(t)&&(s=!0),o+=_(t).charsLeftOver,o+=10*_(t).unusedTokens.length,_(t).score=o,a?o<n&&(n=o,i=t):(null==n||o<n||s)&&(n=o,i=t,s&&(a=!0));f(e,i||t)}(e):i?St(e):function(e){var t=e._i;l(t)?e._d=new Date(r.now()):h(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=_t.exec(e._i);null===t?(gt(e),!1===e._isValid&&(delete e._isValid,bt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):o(t)?(e._a=d(t.slice(0),(function(e){return parseInt(e,10)})),Ct(e)):s(t)?function(e){if(!e._d){var t=N(e._i),i=void 0===t.day?t.date:t.day;e._a=d([t.year,t.month,i,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Ct(e)}}(e):u(t)?e._d=new Date(t):r.createFromInputFallback(e)}(e),v(e)||(e._d=null),e))}function Et(e,t,i,n,r){var a,l={};return!0!==t&&!1!==t||(n=t,t=void 0),!0!==i&&!1!==i||(n=i,i=void 0),(s(e)&&c(e)||o(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=r,l._l=i,l._i=e,l._f=t,l._strict=n,(a=new w(lt(kt(l))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function xt(e,t,i,n){return Et(e,t,i,n,!1)}r.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Lt=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=xt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()})),Mt=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=xt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}));function Tt(e,t){var i,n;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return xt();for(i=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](i)||(i=t[n]);return i}var Ot=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Rt(e){var t=N(e),i=t.year||0,n=t.quarter||0,r=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,c=t.hour||0,l=t.minute||0,u=t.second||0,h=t.millisecond||0;this._isValid=function(e){var t,i,n=!1;for(t in e)if(a(e,t)&&(-1===me.call(Ot,t)||null!=e[t]&&isNaN(e[t])))return!1;for(i=0;i<Ot.length;++i)if(e[Ot[i]]){if(n)return!1;parseFloat(e[Ot[i]])!==V(e[Ot[i]])&&(n=!0)}return!0}(t),this._milliseconds=+h+1e3*u+6e4*l+1e3*c*60*60,this._days=+s+7*o,this._months=+r+3*n+12*i,this._data={},this._locale=ct(),this._bubble()}function At(e){return e instanceof Rt}function Dt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function It(e,t){B(e,0,0,(function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+R(~~(e/60),2)+t+R(~~e%60,2)}))}It("Z",":"),It("ZZ",""),pe("Z",de),pe("ZZ",de),ye(["Z","ZZ"],(function(e,t,i){i._useUTC=!0,i._tzm=Bt(de,e)}));var Pt=/([\+\-]|\d\d)/gi;function Bt(e,t){var i,n,r=(t||"").match(e);return null===r?null:0===(n=60*(i=((r[r.length-1]||[])+"").match(Pt)||["-",0,0])[1]+V(i[2]))?0:"+"===i[0]?n:-n}function $t(e,t){var i,n;return t._isUTC?(i=t.clone(),n=(C(e)||h(e)?e.valueOf():xt(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+n),r.updateOffset(i,!1),i):xt(e).local()}function Ht(e){return-Math.round(e._d.getTimezoneOffset())}function jt(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Wt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ft=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Nt(e,t){var i,n,r,o,s,c,l=e,h=null;return At(e)?l={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(l={},t?l[t]=+e:l.milliseconds=+e):(h=Wt.exec(e))?(i="-"===h[1]?-1:1,l={y:0,d:V(h[2])*i,h:V(h[3])*i,m:V(h[4])*i,s:V(h[5])*i,ms:V(Dt(1e3*h[6]))*i}):(h=Ft.exec(e))?(i="-"===h[1]?-1:1,l={y:Ut(h[2],i),M:Ut(h[3],i),w:Ut(h[4],i),d:Ut(h[5],i),h:Ut(h[6],i),m:Ut(h[7],i),s:Ut(h[8],i)}):null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(o=xt(l.from),s=xt(l.to),r=o.isValid()&&s.isValid()?(s=$t(s,o),o.isBefore(s)?c=qt(o,s):((c=qt(s,o)).milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0},(l={}).ms=r.milliseconds,l.M=r.months),n=new Rt(l),At(e)&&a(e,"_locale")&&(n._locale=e._locale),At(e)&&a(e,"_isValid")&&(n._isValid=e._isValid),n}function Ut(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function qt(e,t){var i={};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function zt(e,t){return function(i,n){var r;return null===n||isNaN(+n)||(L(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=n,n=r),Yt(this,Nt(i,n),e),this}}function Yt(e,t,i,n){var o=t._milliseconds,s=Dt(t._days),a=Dt(t._months);e.isValid()&&(n=null==n||n,a&&Te(e,G(e,"Month")+a*i),s&&Z(e,"Date",G(e,"Date")+s*i),o&&e._d.setTime(e._d.valueOf()+o*i),n&&r.updateOffset(e,s||a))}Nt.fn=Rt.prototype,Nt.invalid=function(){return Nt(NaN)};var Vt=zt(1,"add"),Kt=zt(-1,"subtract");function Gt(e){return"string"==typeof e||e instanceof String}function Zt(e){return C(e)||h(e)||Gt(e)||u(e)||function(e){var t=o(e),i=!1;return t&&(i=0===e.filter((function(t){return!u(t)&&Gt(e)})).length),t&&i}(e)||function(e){var t,i,n=s(e)&&!c(e),r=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<o.length;t+=1)i=o[t],r=r||a(e,i);return n&&r}(e)||null==e}function Xt(e){var t,i=s(e)&&!c(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<r.length;t+=1)n=n||a(e,r[t]);return i&&n}function Jt(e,t){if(e.date()<t.date())return-Jt(t,e);var i=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(i,"months");return-(i+(t-n<0?(t-n)/(n-e.clone().add(i-1,"months")):(t-n)/(e.clone().add(i+1,"months")-n)))||0}function Qt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ct(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ei=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function ti(){return this._locale}function ii(e,t){return(e%t+t)%t}function ni(e,t,i){return e<100&&e>=0?new Date(e+400,t,i)-126227808e5:new Date(e,t,i).valueOf()}function ri(e,t,i){return e<100&&e>=0?Date.UTC(e+400,t,i)-126227808e5:Date.UTC(e,t,i)}function oi(e,t){return t.erasAbbrRegex(e)}function si(){var e,t,i=[],n=[],r=[],o=[],s=this.eras();for(e=0,t=s.length;e<t;++e)n.push(ve(s[e].name)),i.push(ve(s[e].abbr)),r.push(ve(s[e].narrow)),o.push(ve(s[e].name)),o.push(ve(s[e].abbr)),o.push(ve(s[e].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function ai(e,t){B(0,[e,e.length],0,t)}function ci(e,t,i,n,r){var o;return null==e?He(this,n,r).year:(t>(o=je(e,n,r))&&(t=o),li.call(this,e,t,i,n,r))}function li(e,t,i,n,r){var o=$e(e,t,i,n,r),s=Pe(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}B("N",0,0,"eraAbbr"),B("NN",0,0,"eraAbbr"),B("NNN",0,0,"eraAbbr"),B("NNNN",0,0,"eraName"),B("NNNNN",0,0,"eraNarrow"),B("y",["y",1],"yo","eraYear"),B("y",["yy",2],0,"eraYear"),B("y",["yyy",3],0,"eraYear"),B("y",["yyyy",4],0,"eraYear"),pe("N",oi),pe("NN",oi),pe("NNN",oi),pe("NNNN",(function(e,t){return t.erasNameRegex(e)})),pe("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),ye(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,i,n){var r=i._locale.erasParse(e,n,i._strict);r?_(i).era=r:_(i).invalidEra=e})),pe("y",le),pe("yy",le),pe("yyy",le),pe("yyyy",le),pe("yo",(function(e,t){return t._eraYearOrdinalRegex||le})),ye(["y","yy","yyy","yyyy"],0),ye(["yo"],(function(e,t,i,n){var r;i._locale._eraYearOrdinalRegex&&(r=e.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?t[0]=i._locale.eraYearOrdinalParse(e,r):t[0]=parseInt(e,10)})),B(0,["gg",2],0,(function(){return this.weekYear()%100})),B(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),ai("gggg","weekYear"),ai("ggggg","weekYear"),ai("GGGG","isoWeekYear"),ai("GGGGG","isoWeekYear"),W("weekYear","gg"),W("isoWeekYear","GG"),q("weekYear",1),q("isoWeekYear",1),pe("G",ue),pe("g",ue),pe("GG",ne,Q),pe("gg",ne,Q),pe("GGGG",ae,te),pe("gggg",ae,te),pe("GGGGG",ce,ie),pe("ggggg",ce,ie),be(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,i,n){t[n.substr(0,2)]=V(e)})),be(["gg","GG"],(function(e,t,i,n){t[n]=r.parseTwoDigitYear(e)})),B("Q",0,"Qo","quarter"),W("quarter","Q"),q("quarter",7),pe("Q",J),ye("Q",(function(e,t){t[1]=3*(V(e)-1)})),B("D",["DD",2],"Do","date"),W("date","D"),q("date",9),pe("D",ne),pe("DD",ne,Q),pe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),ye(["D","DD"],2),ye("Do",(function(e,t){t[2]=V(e.match(ne)[0])}));var ui=K("Date",!0);B("DDD",["DDDD",3],"DDDo","dayOfYear"),W("dayOfYear","DDD"),q("dayOfYear",4),pe("DDD",se),pe("DDDD",ee),ye(["DDD","DDDD"],(function(e,t,i){i._dayOfYear=V(e)})),B("m",["mm",2],0,"minute"),W("minute","m"),q("minute",14),pe("m",ne),pe("mm",ne,Q),ye(["m","mm"],4);var hi=K("Minutes",!1);B("s",["ss",2],0,"second"),W("second","s"),q("second",15),pe("s",ne),pe("ss",ne,Q),ye(["s","ss"],5);var di,fi,pi=K("Seconds",!1);for(B("S",0,0,(function(){return~~(this.millisecond()/100)})),B(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),B(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),B(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),B(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),B(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),B(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),W("millisecond","ms"),q("millisecond",16),pe("S",se,J),pe("SS",se,Q),pe("SSS",se,ee),di="SSSS";di.length<=9;di+="S")pe(di,le);function _i(e,t){t[6]=V(1e3*("0."+e))}for(di="S";di.length<=9;di+="S")ye(di,_i);fi=K("Milliseconds",!1),B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var vi=w.prototype;function mi(e){return e}vi.add=Vt,vi.calendar=function(e,t){1===arguments.length&&(Zt(arguments[0])?(e=arguments[0],t=void 0):Xt(arguments[0])&&(t=arguments[0],e=void 0));var i=e||xt(),n=$t(i,this).startOf("day"),o=r.calendarFormat(this,n)||"sameElse",s=t&&(M(t[o])?t[o].call(this,i):t[o]);return this.format(s||this.localeData().calendar(o,this,xt(i)))},vi.clone=function(){return new w(this)},vi.diff=function(e,t,i){var n,r,o;if(!this.isValid())return NaN;if(!(n=$t(e,this)).isValid())return NaN;switch(r=6e4*(n.utcOffset()-this.utcOffset()),t=F(t)){case"year":o=Jt(this,n)/12;break;case"month":o=Jt(this,n);break;case"quarter":o=Jt(this,n)/3;break;case"second":o=(this-n)/1e3;break;case"minute":o=(this-n)/6e4;break;case"hour":o=(this-n)/36e5;break;case"day":o=(this-n-r)/864e5;break;case"week":o=(this-n-r)/6048e5;break;default:o=this-n}return i?o:Y(o)},vi.endOf=function(e){var t,i;if(void 0===(e=F(e))||"millisecond"===e||!this.isValid())return this;switch(i=this._isUTC?ri:ni,e){case"year":t=i(this.year()+1,0,1)-1;break;case"quarter":t=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=i(this.year(),this.month()+1,1)-1;break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-ii(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-ii(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-ii(t,1e3)-1}return this._d.setTime(t),r.updateOffset(this,!0),this},vi.format=function(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=$(this,e);return this.localeData().postformat(t)},vi.from=function(e,t){return this.isValid()&&(C(e)&&e.isValid()||xt(e).isValid())?Nt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},vi.fromNow=function(e){return this.from(xt(),e)},vi.to=function(e,t){return this.isValid()&&(C(e)&&e.isValid()||xt(e).isValid())?Nt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},vi.toNow=function(e){return this.to(xt(),e)},vi.get=function(e){return M(this[e=F(e)])?this[e]():this},vi.invalidAt=function(){return _(this).overflow},vi.isAfter=function(e,t){var i=C(e)?e:xt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=F(t)||"millisecond")?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())},vi.isBefore=function(e,t){var i=C(e)?e:xt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=F(t)||"millisecond")?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())},vi.isBetween=function(e,t,i,n){var r=C(e)?e:xt(e),o=C(t)?t:xt(t);return!!(this.isValid()&&r.isValid()&&o.isValid())&&(("("===(n=n||"()")[0]?this.isAfter(r,i):!this.isBefore(r,i))&&(")"===n[1]?this.isBefore(o,i):!this.isAfter(o,i)))},vi.isSame=function(e,t){var i,n=C(e)?e:xt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=F(t)||"millisecond")?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))},vi.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},vi.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},vi.isValid=function(){return v(this)},vi.lang=ei,vi.locale=Qt,vi.localeData=ti,vi.max=Mt,vi.min=Lt,vi.parsingFlags=function(){return f({},_(this))},vi.set=function(e,t){if("object"==typeof e){var i,n=function(e){var t,i=[];for(t in e)a(e,t)&&i.push({unit:t,priority:U[t]});return i.sort((function(e,t){return e.priority-t.priority})),i}(e=N(e));for(i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit])}else if(M(this[e=F(e)]))return this[e](t);return this},vi.startOf=function(e){var t,i;if(void 0===(e=F(e))||"millisecond"===e||!this.isValid())return this;switch(i=this._isUTC?ri:ni,e){case"year":t=i(this.year(),0,1);break;case"quarter":t=i(this.year(),this.month()-this.month()%3,1);break;case"month":t=i(this.year(),this.month(),1);break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=i(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=ii(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=ii(t,6e4);break;case"second":t=this._d.valueOf(),t-=ii(t,1e3)}return this._d.setTime(t),r.updateOffset(this,!0),this},vi.subtract=Kt,vi.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},vi.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},vi.toDate=function(){return new Date(this.valueOf())},vi.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,i=t?this.clone().utc():this;return i.year()<0||i.year()>9999?$(i,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):M(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",$(i,"Z")):$(i,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},vi.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,i,n="moment",r="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),e="["+n+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=r+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+i)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(vi[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),vi.toJSON=function(){return this.isValid()?this.toISOString():null},vi.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},vi.unix=function(){return Math.floor(this.valueOf()/1e3)},vi.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},vi.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},vi.eraName=function(){var e,t,i,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(i=this.startOf("day").valueOf(),n[e].since<=i&&i<=n[e].until)return n[e].name;if(n[e].until<=i&&i<=n[e].since)return n[e].name}return""},vi.eraNarrow=function(){var e,t,i,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(i=this.startOf("day").valueOf(),n[e].since<=i&&i<=n[e].until)return n[e].narrow;if(n[e].until<=i&&i<=n[e].since)return n[e].narrow}return""},vi.eraAbbr=function(){var e,t,i,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(i=this.startOf("day").valueOf(),n[e].since<=i&&i<=n[e].until)return n[e].abbr;if(n[e].until<=i&&i<=n[e].since)return n[e].abbr}return""},vi.eraYear=function(){var e,t,i,n,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(i=o[e].since<=o[e].until?1:-1,n=this.startOf("day").valueOf(),o[e].since<=n&&n<=o[e].until||o[e].until<=n&&n<=o[e].since)return(this.year()-r(o[e].since).year())*i+o[e].offset;return this.year()},vi.year=De,vi.isLeapYear=function(){return z(this.year())},vi.weekYear=function(e){return ci.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},vi.isoWeekYear=function(e){return ci.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},vi.quarter=vi.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},vi.month=Oe,vi.daysInMonth=function(){return Ce(this.year(),this.month())},vi.week=vi.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},vi.isoWeek=vi.isoWeeks=function(e){var t=He(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},vi.weeksInYear=function(){var e=this.localeData()._week;return je(this.year(),e.dow,e.doy)},vi.weeksInWeekYear=function(){var e=this.localeData()._week;return je(this.weekYear(),e.dow,e.doy)},vi.isoWeeksInYear=function(){return je(this.year(),1,4)},vi.isoWeeksInISOWeekYear=function(){return je(this.isoWeekYear(),1,4)},vi.date=ui,vi.day=vi.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},vi.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},vi.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},vi.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},vi.hour=vi.hours=Qe,vi.minute=vi.minutes=hi,vi.second=vi.seconds=pi,vi.millisecond=vi.milliseconds=fi,vi.utcOffset=function(e,t,i){var n,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Bt(de,e)))return this}else Math.abs(e)<16&&!i&&(e*=60);return!this._isUTC&&t&&(n=Ht(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),o!==e&&(!t||this._changeInProgress?Yt(this,Nt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Ht(this)},vi.utc=function(e){return this.utcOffset(0,e)},vi.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ht(this),"m")),this},vi.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Bt(he,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},vi.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?xt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},vi.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},vi.isLocal=function(){return!!this.isValid()&&!this._isUTC},vi.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},vi.isUtc=jt,vi.isUTC=jt,vi.zoneAbbr=function(){return this._isUTC?"UTC":""},vi.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},vi.dates=k("dates accessor is deprecated. Use date instead.",ui),vi.months=k("months accessor is deprecated. Use month instead",Oe),vi.years=k("years accessor is deprecated. Use year instead",De),vi.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),vi.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e,t={};return b(t,this),(t=kt(t))._a?(e=t._isUTC?p(t._a):xt(t._a),this._isDSTShifted=this.isValid()&&function(e,t,i){var n,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(n=0;n<r;n++)(i&&e[n]!==t[n]||!i&&V(e[n])!==V(t[n]))&&s++;return s+o}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var gi=O.prototype;function yi(e,t,i,n){var r=ct(),o=p().set(n,t);return r[i](o,e)}function bi(e,t,i){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return yi(e,t,i,"month");var n,r=[];for(n=0;n<12;n++)r[n]=yi(e,n,i,"month");return r}function wi(e,t,i,n){"boolean"==typeof e?(u(t)&&(i=t,t=void 0),t=t||""):(i=t=e,e=!1,u(t)&&(i=t,t=void 0),t=t||"");var r,o=ct(),s=e?o._week.dow:0,a=[];if(null!=i)return yi(t,(i+s)%7,n,"day");for(r=0;r<7;r++)a[r]=yi(t,(r+s)%7,n,"day");return a}gi.calendar=function(e,t,i){var n=this._calendar[e]||this._calendar.sameElse;return M(n)?n.call(t,i):n},gi.longDateFormat=function(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.match(A).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},gi.invalidDate=function(){return this._invalidDate},gi.ordinal=function(e){return this._ordinal.replace("%d",e)},gi.preparse=mi,gi.postformat=mi,gi.relativeTime=function(e,t,i,n){var r=this._relativeTime[i];return M(r)?r(e,t,i,n):r.replace(/%d/i,e)},gi.pastFuture=function(e,t){var i=this._relativeTime[e>0?"future":"past"];return M(i)?i(t):i.replace(/%s/i,t)},gi.set=function(e){var t,i;for(i in e)a(e,i)&&(M(t=e[i])?this[i]=t:this["_"+i]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},gi.eras=function(e,t){var i,n,o,s=this._eras||ct("en")._eras;for(i=0,n=s.length;i<n;++i){switch(typeof s[i].since){case"string":o=r(s[i].since).startOf("day"),s[i].since=o.valueOf()}switch(typeof s[i].until){case"undefined":s[i].until=1/0;break;case"string":o=r(s[i].until).startOf("day").valueOf(),s[i].until=o.valueOf()}}return s},gi.erasParse=function(e,t,i){var n,r,o,s,a,c=this.eras();for(e=e.toUpperCase(),n=0,r=c.length;n<r;++n)if(o=c[n].name.toUpperCase(),s=c[n].abbr.toUpperCase(),a=c[n].narrow.toUpperCase(),i)switch(t){case"N":case"NN":case"NNN":if(s===e)return c[n];break;case"NNNN":if(o===e)return c[n];break;case"NNNNN":if(a===e)return c[n]}else if([o,s,a].indexOf(e)>=0)return c[n]},gi.erasConvertYear=function(e,t){var i=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*i},gi.erasAbbrRegex=function(e){return a(this,"_erasAbbrRegex")||si.call(this),e?this._erasAbbrRegex:this._erasRegex},gi.erasNameRegex=function(e){return a(this,"_erasNameRegex")||si.call(this),e?this._erasNameRegex:this._erasRegex},gi.erasNarrowRegex=function(e){return a(this,"_erasNarrowRegex")||si.call(this),e?this._erasNarrowRegex:this._erasRegex},gi.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ee).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},gi.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ee.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},gi.monthsParse=function(e,t,i){var n,r,o;if(this._monthsParseExact)return Me.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=p([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}},gi.monthsRegex=function(e){return this._monthsParseExact?(a(this,"_monthsRegex")||Re.call(this),e?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Le),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},gi.monthsShortRegex=function(e){return this._monthsParseExact?(a(this,"_monthsRegex")||Re.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=xe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},gi.week=function(e){return He(e,this._week.dow,this._week.doy).week},gi.firstDayOfYear=function(){return this._week.doy},gi.firstDayOfWeek=function(){return this._week.dow},gi.weekdays=function(e,t){var i=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?We(i,this._week.dow):e?i[e.day()]:i},gi.weekdaysMin=function(e){return!0===e?We(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},gi.weekdaysShort=function(e){return!0===e?We(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},gi.weekdaysParse=function(e,t,i){var n,r,o;if(this._weekdaysParseExact)return Ve.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=p([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(o.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(i&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(i&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!i&&this._weekdaysParse[n].test(e))return n}},gi.weekdaysRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ke.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=qe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},gi.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ke.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ze),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},gi.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ke.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ye),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},gi.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},gi.meridiem=function(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"},st("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===V(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=k("moment.lang is deprecated. Use moment.locale instead.",st),r.langData=k("moment.langData is deprecated. Use moment.localeData instead.",ct);var Ci=Math.abs;function Si(e,t,i,n){var r=Nt(t,i);return e._milliseconds+=n*r._milliseconds,e._days+=n*r._days,e._months+=n*r._months,e._bubble()}function ki(e){return e<0?Math.floor(e):Math.ceil(e)}function Ei(e){return 4800*e/146097}function xi(e){return 146097*e/4800}function Li(e){return function(){return this.as(e)}}var Mi=Li("ms"),Ti=Li("s"),Oi=Li("m"),Ri=Li("h"),Ai=Li("d"),Di=Li("w"),Ii=Li("M"),Pi=Li("Q"),Bi=Li("y");function $i(e){return function(){return this.isValid()?this._data[e]:NaN}}var Hi=$i("milliseconds"),ji=$i("seconds"),Wi=$i("minutes"),Fi=$i("hours"),Ni=$i("days"),Ui=$i("months"),qi=$i("years"),zi=Math.round,Yi={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Vi(e,t,i,n,r){return r.relativeTime(t||1,!!i,e,n)}var Ki=Math.abs;function Gi(e){return(e>0)-(e<0)||+e}function Zi(){if(!this.isValid())return this.localeData().invalidDate();var e,t,i,n,r,o,s,a,c=Ki(this._milliseconds)/1e3,l=Ki(this._days),u=Ki(this._months),h=this.asSeconds();return h?(e=Y(c/60),t=Y(e/60),c%=60,e%=60,i=Y(u/12),u%=12,n=c?c.toFixed(3).replace(/\.?0+$/,""):"",r=h<0?"-":"",o=Gi(this._months)!==Gi(h)?"-":"",s=Gi(this._days)!==Gi(h)?"-":"",a=Gi(this._milliseconds)!==Gi(h)?"-":"",r+"P"+(i?o+i+"Y":"")+(u?o+u+"M":"")+(l?s+l+"D":"")+(t||e||c?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(c?a+n+"S":"")):"P0D"}var Xi=Rt.prototype;return Xi.isValid=function(){return this._isValid},Xi.abs=function(){var e=this._data;return this._milliseconds=Ci(this._milliseconds),this._days=Ci(this._days),this._months=Ci(this._months),e.milliseconds=Ci(e.milliseconds),e.seconds=Ci(e.seconds),e.minutes=Ci(e.minutes),e.hours=Ci(e.hours),e.months=Ci(e.months),e.years=Ci(e.years),this},Xi.add=function(e,t){return Si(this,e,t,1)},Xi.subtract=function(e,t){return Si(this,e,t,-1)},Xi.as=function(e){if(!this.isValid())return NaN;var t,i,n=this._milliseconds;if("month"===(e=F(e))||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,i=this._months+Ei(t),e){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(t=this._days+Math.round(xi(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},Xi.asMilliseconds=Mi,Xi.asSeconds=Ti,Xi.asMinutes=Oi,Xi.asHours=Ri,Xi.asDays=Ai,Xi.asWeeks=Di,Xi.asMonths=Ii,Xi.asQuarters=Pi,Xi.asYears=Bi,Xi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*V(this._months/12):NaN},Xi._bubble=function(){var e,t,i,n,r,o=this._milliseconds,s=this._days,a=this._months,c=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*ki(xi(a)+s),s=0,a=0),c.milliseconds=o%1e3,e=Y(o/1e3),c.seconds=e%60,t=Y(e/60),c.minutes=t%60,i=Y(t/60),c.hours=i%24,s+=Y(i/24),r=Y(Ei(s)),a+=r,s-=ki(xi(r)),n=Y(a/12),a%=12,c.days=s,c.months=a,c.years=n,this},Xi.clone=function(){return Nt(this)},Xi.get=function(e){return e=F(e),this.isValid()?this[e+"s"]():NaN},Xi.milliseconds=Hi,Xi.seconds=ji,Xi.minutes=Wi,Xi.hours=Fi,Xi.days=Ni,Xi.weeks=function(){return Y(this.days()/7)},Xi.months=Ui,Xi.years=qi,Xi.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var i,n,r=!1,o=Yi;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(r=e),"object"==typeof t&&(o=Object.assign({},Yi,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),i=this.localeData(),n=function(e,t,i,n){var r=Nt(e).abs(),o=zi(r.as("s")),s=zi(r.as("m")),a=zi(r.as("h")),c=zi(r.as("d")),l=zi(r.as("M")),u=zi(r.as("w")),h=zi(r.as("y")),d=o<=i.ss&&["s",o]||o<i.s&&["ss",o]||s<=1&&["m"]||s<i.m&&["mm",s]||a<=1&&["h"]||a<i.h&&["hh",a]||c<=1&&["d"]||c<i.d&&["dd",c];return null!=i.w&&(d=d||u<=1&&["w"]||u<i.w&&["ww",u]),(d=d||l<=1&&["M"]||l<i.M&&["MM",l]||h<=1&&["y"]||["yy",h])[2]=t,d[3]=+e>0,d[4]=n,Vi.apply(null,d)}(this,!r,o,i),r&&(n=i.pastFuture(+this,n)),i.postformat(n)},Xi.toISOString=Zi,Xi.toString=Zi,Xi.toJSON=Zi,Xi.locale=Qt,Xi.localeData=ti,Xi.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Zi),Xi.lang=ei,B("X",0,0,"unix"),B("x",0,0,"valueOf"),pe("x",ue),pe("X",/[+-]?\d+(\.\d{1,3})?/),ye("X",(function(e,t,i){i._d=new Date(1e3*parseFloat(e))})),ye("x",(function(e,t,i){i._d=new Date(V(e))})),
//! moment.js
r.version="2.26.0",i=xt,r.fn=vi,r.min=function(){var e=[].slice.call(arguments,0);return Tt("isBefore",e)},r.max=function(){var e=[].slice.call(arguments,0);return Tt("isAfter",e)},r.now=function(){return Date.now?Date.now():+new Date},r.utc=p,r.unix=function(e){return xt(1e3*e)},r.months=function(e,t){return bi(e,t,"months")},r.isDate=h,r.locale=st,r.invalid=m,r.duration=Nt,r.isMoment=C,r.weekdays=function(e,t,i){return wi(e,t,i,"weekdays")},r.parseZone=function(){return xt.apply(null,arguments).parseZone()},r.localeData=ct,r.isDuration=At,r.monthsShort=function(e,t){return bi(e,t,"monthsShort")},r.weekdaysMin=function(e,t,i){return wi(e,t,i,"weekdaysMin")},r.defineLocale=at,r.updateLocale=function(e,t){if(null!=t){var i,n,r=et;null!=tt[e]&&null!=tt[e].parentLocale?tt[e].set(T(tt[e]._config,t)):(null!=(n=ot(e))&&(r=n._config),t=T(r,t),null==n&&(t.abbr=e),(i=new O(t)).parentLocale=tt[e],tt[e]=i),st(e)}else null!=tt[e]&&(null!=tt[e].parentLocale?(tt[e]=tt[e].parentLocale,e===st()&&st(e)):null!=tt[e]&&delete tt[e]);return tt[e]},r.locales=function(){return E(tt)},r.weekdaysShort=function(e,t,i){return wi(e,t,i,"weekdaysShort")},r.normalizeUnits=F,r.relativeTimeRounding=function(e){return void 0===e?zi:"function"==typeof e&&(zi=e,!0)},r.relativeTimeThreshold=function(e,t){return void 0!==Yi[e]&&(void 0===t?Yi[e]:(Yi[e]=t,"s"===e&&(Yi.ss=t-1),!0))},r.calendarFormat=function(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},r.prototype=vi,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()}));const Sc="src/CharacterCard.svelte";function kc(e){let t,i,n,o,s,c,l,u,h,d,f,p,_,v,m,g;const y={c:function(){t=C("div"),i=C("div"),n=C("img"),s=E(),c=C("span"),l=k(e[0]),u=E(),h=C("div"),d=C("p"),f=k(e[1]),p=E(),_=C("p"),_.textContent=""+e[2](),v=E(),m=C("div"),g=C("button"),g.textContent="Details",n.src!==(o=e[3]())&&ge(n,"src",o),ge(n,"alt",""),ge(n,"class","circle img svelte-1erxp9n"),a(n,Sc,31,6,604),ge(c,"class","card-title"),a(c,Sc,32,6,661),ge(i,"class","card-content white-text"),a(i,Sc,30,4,560),a(d,Sc,35,6,748),a(_,Sc,36,6,775),ge(h,"class","card-content"),a(h,Sc,34,4,715),ge(g,"class","waves-effect waves-teal btn-flat grey"),ge(g,"href",""),a(g,Sc,39,6,847),ge(m,"class","card-action"),a(m,Sc,38,4,815),ge(t,"class","card cyan darken-3 hoverable characterCard center-align svelte-1erxp9n"),a(t,Sc,29,2,486)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){_e(e,t,r),pe(t,i),pe(i,n),pe(i,s),pe(i,c),pe(c,l),pe(t,u),pe(t,h),pe(h,d),pe(d,f),pe(h,p),pe(h,_),pe(t,v),pe(t,m),pe(m,g)},p:function(e,[t]){1&t&&ye(l,e[0]),2&t&&ye(f,e[1])},i:r,o:r,d:function(e){e&&ve(t)}};return fe("SvelteRegisterBlock",{block:y,id:kc.name,type:"component",source:"",ctx:e}),y}function Ec(e,t,i){let{name:n}=t,{description:r}=t,{created:o}=t;function s(){return Cc(o).format("MMMM Do YYYY, h:mm:ss a")}function a(){return"https://robohash.org/"+n}const c=["name","description","created"];Object.keys(t).forEach(e=>{~c.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<CharacterCard> was created with unknown prop '${e}'`)});let{$$slots:l={},$$scope:u}=t;return we("CharacterCard",l,[]),e.$set=e=>{"name"in e&&i(0,n=e.name),"description"in e&&i(1,r=e.description),"created"in e&&i(4,o=e.created)},e.$capture_state=()=>({MediaQuery:wc,fade:Ht,moment:Cc,name:n,description:r,created:o,formattedDate:s,avatar:a}),e.$inject_state=e=>{"name"in e&&i(0,n=e.name),"description"in e&&i(1,r=e.description),"created"in e&&i(4,o=e.created)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[n,r,s,a,o]}class xc extends Ce{constructor(e){super(e),de(this,e,Ec,kc,d,{name:0,description:1,created:4}),fe("SvelteRegisterComponent",{component:this,tagName:"CharacterCard",options:e,id:kc.name});const{ctx:t}=this.$$,i=e.props||{};void 0!==t[0]||"name"in i||console.warn("<CharacterCard> was created without expected prop 'name'"),void 0!==t[1]||"description"in i||console.warn("<CharacterCard> was created without expected prop 'description'"),void 0!==t[4]||"created"in i||console.warn("<CharacterCard> was created without expected prop 'created'")}get name(){throw new Error("<CharacterCard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set name(e){throw new Error("<CharacterCard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get description(){throw new Error("<CharacterCard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set description(e){throw new Error("<CharacterCard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get created(){throw new Error("<CharacterCard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set created(e){throw new Error("<CharacterCard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function Lc(e,t){const i=setInterval(e,t);H(()=>{clearInterval(i)})}const{console:Mc}=oe;function Tc(e,t,i){const n=e.slice();return n[16]=t[i],n}function Oc(e){let t;const i=new xc({props:{name:e[16].name,description:e[16].description,created:e[16].created},$$inline:!0}),n={c:function(){ce(i.$$.fragment)},m:function(e,n){le(i,e,n),t=!0},p:function(e,t){const n={};1&t&&(n.name=e[16].name),1&t&&(n.description=e[16].description),1&t&&(n.created=e[16].created),i.$set(n)},i:function(e){t||(ne(i.$$.fragment,e),t=!0)},o:function(e){re(i.$$.fragment,e),t=!1},d:function(e){ue(i,e)}};return fe("SvelteRegisterBlock",{block:n,id:Oc.name,type:"each",source:"(62:4) {#each data as character}",ctx:e}),n}function Rc(e){let t,i,n,r=e[0];be(r);let o=[];for(let t=0;t<r.length;t+=1)o[t]=Oc(Tc(e,r,t));const s=e=>re(o[e],1,1,()=>{o[e]=null}),c={c:function(){t=C("div"),i=C("div");for(let e=0;e<o.length;e+=1)o[e].c();ge(i,"class","col s12"),a(i,"src/Home.svelte",60,2,1200),ge(t,"class","row"),a(t,"src/Home.svelte",59,0,1180)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){_e(e,t,r),pe(t,i);for(let e=0;e<o.length;e+=1)o[e].m(i,null);n=!0},p:function(e,[t]){if(1&t){let n;for(r=e[0],be(r),n=0;n<r.length;n+=1){const s=Tc(e,r,n);o[n]?(o[n].p(s,t),ne(o[n],1)):(o[n]=Oc(s),o[n].c(),ne(o[n],1),o[n].m(i,null))}for(te(),n=r.length;n<o.length;n+=1)s(n);ie()}},i:function(e){if(!n){for(let e=0;e<r.length;e+=1)ne(o[e]);n=!0}},o:function(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)re(o[e]);n=!1},d:function(e){e&&ve(t),w(o,e)}};return fe("SvelteRegisterBlock",{block:c,id:Rc.name,type:"component",source:"",ctx:e}),c}function Ac(e,t,i){let n,r,o,s,a,c=[];const{isLoading:l,isAuthenticated:u,login:h,logout:d,authToken:p,authError:v,userInfo:m}=Ys();f(l,"isLoading"),_(e,l,e=>i(7,n=e)),f(u,"isAuthenticated"),_(e,u,e=>i(8,r=e)),f(p,"authToken"),_(e,p,e=>i(11,a=e)),f(v,"authError"),_(e,v,e=>i(9,o=e)),f(m,"userInfo"),_(e,m,e=>i(10,s=e));let g=async e=>{};async function y(e){n||Ra("http://localhost:8010/api/characters",{method:"GET",mode:"no-cors",credentials:"same-origin",headers:{Authorization:"Bearer "+a}}).then(e=>i(0,c=e.data)).catch(e=>console.log(e))}Lc(()=>g(y()),4e3);const b=[];Object.keys(t).forEach(e=>{~b.indexOf(e)||"$$"===e.slice(0,2)||Mc.warn(`<Home> was created with unknown prop '${e}'`)});let w,{$$slots:C={},$$scope:S}=t;return we("Home",C,[]),e.$capture_state=()=>({CharacterCard:xc,onMount:P,user:Bt,createAuth:zs,getAuth:Ys,axios:Ra,onInterval:Lc,apiURL:"",data:c,isLoading:l,isAuthenticated:u,login:h,logout:d,authToken:p,authError:v,userInfo:m,loggedIn:g,update:y,state:w,$isLoading:n,$isAuthenticated:r,$authError:o,$userInfo:s,$authToken:a}),e.$inject_state=e=>{"data"in e&&i(0,c=e.data),"loggedIn"in e&&(g=e.loggedIn),"state"in e&&(w=e.state)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{3968&e.$$.dirty&&(w={isLoading:n,isAuthenticated:r,authError:o,userInfo:s?s.name:null,authToken:a.slice(0,20)})},[c,l,u,p,v,m]}class Dc extends Ce{constructor(e){super(e),de(this,e,Ac,Rc,d,{}),fe("SvelteRegisterComponent",{component:this,tagName:"Home",options:e,id:Rc.name})}}const Ic="src/Welcome.svelte";function Pc(e){let t,i,n,o,s,c,l,u;const h={c:function(){t=C("div"),i=C("h4"),i.textContent="Welcome Stranger",n=E(),o=C("p"),s=k("Please\n    "),c=C("a"),c.textContent="log",l=k("\n    in or\n    "),u=C("a"),u.textContent="signup",a(i,Ic,11,2,148),ge(c,"href","/login"),ge(c,"class","loginText svelte-qctch4"),a(c,Ic,14,4,195),ge(u,"href","/signup"),ge(u,"class","loginText svelte-qctch4"),a(u,Ic,16,4,252),a(o,Ic,12,2,176),ge(t,"class","center-align"),a(t,Ic,10,0,119)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){_e(e,t,r),pe(t,i),pe(t,n),pe(t,o),pe(o,s),pe(o,c),pe(o,l),pe(o,u)},p:r,i:r,o:r,d:function(e){e&&ve(t)}};return fe("SvelteRegisterBlock",{block:h,id:Pc.name,type:"component",source:"",ctx:e}),h}function Bc(e,t,i){const n=[];Object.keys(t).forEach(e=>{~n.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<Welcome> was created with unknown prop '${e}'`)});let{$$slots:r={},$$scope:o}=t;return we("Welcome",r,[]),e.$capture_state=()=>({user:Bt}),[]}class $c extends Ce{constructor(e){super(e),de(this,e,Bc,Pc,d,{}),fe("SvelteRegisterComponent",{component:this,tagName:"Welcome",options:e,id:Pc.name})}}function Hc(e,t,i){Ra.get("/api/world/map",{mode:"no-cors",credentials:"same-origin",headers:{Authorization:"Bearer "+e}}).then(e=>t(e.data)).catch(e=>i(e))}const{console:jc}=oe,Wc="src/creator/WorldEditor.svelte";function Fc(e){let t,i;const n={c:function(){t=C("img"),ge(t,"class","responsive-img z-depth-3"),t.src!==(i=e[0])&&ge(t,"src",i),ge(t,"alt","world map"),a(t,Wc,52,4,940)},m:function(e,i){_e(e,t,i)},p:function(e,n){1&n&&t.src!==(i=e[0])&&ge(t,"src",i)},d:function(e){e&&ve(t)}};return fe("SvelteRegisterBlock",{block:n,id:Fc.name,type:"if",source:"(52:2) {#if $isAuthenticated}",ctx:e}),n}function Nc(e){let t,i,n,o=e[1]&&Fc(e);const s={c:function(){t=C("div"),i=C("h4"),i.textContent="Map of Rooms",n=E(),o&&o.c(),a(i,Wc,50,2,889),ge(t,"class","row"),a(t,Wc,49,0,869)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){_e(e,t,r),pe(t,i),pe(t,n),o&&o.m(t,null)},p:function(e,[i]){e[1]?o?o.p(e,i):(o=Fc(e),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},i:r,o:r,d:function(e){e&&ve(t),o&&o.d()}};return fe("SvelteRegisterBlock",{block:s,id:Nc.name,type:"component",source:"",ctx:e}),s}function Uc(e,t,i){let n,r,o,s,a,c,{location:l}=t;const{isLoading:u,isAuthenticated:h,login:d,logout:p,authToken:v,authError:m,userInfo:g}=Ys();f(u,"isLoading"),_(e,u,e=>i(9,n=e)),f(h,"isAuthenticated"),_(e,h,e=>i(1,r=e)),f(v,"authToken"),_(e,v,e=>i(12,a=e)),f(m,"authError"),_(e,m,e=>i(10,o=e)),f(g,"userInfo"),_(e,g,e=>i(11,s=e)),P(async()=>{});const y=["location"];Object.keys(t).forEach(e=>{~y.indexOf(e)||"$$"===e.slice(0,2)||jc.warn(`<WorldEditor> was created with unknown prop '${e}'`)});let b,{$$slots:w={},$$scope:C}=t;return we("WorldEditor",w,[]),e.$set=e=>{"location"in e&&i(7,l=e.location)},e.$capture_state=()=>({writable:Je,onMount:P,createAuth:zs,getAuth:Ys,getWorldMap:Hc,axios:Ra,location:l,img:c,isLoading:u,isAuthenticated:h,login:d,logout:p,authToken:v,authError:m,userInfo:g,state:b,$isLoading:n,$isAuthenticated:r,$authError:o,$userInfo:s,$authToken:a}),e.$inject_state=e=>{"location"in e&&i(7,l=e.location),"img"in e&&i(0,c=e.img),"state"in e&&(b=e.state)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{7682&e.$$.dirty&&(b={isLoading:n,isAuthenticated:r,authError:o,userInfo:s?s.name:null,authToken:a.slice(0,20)}),4610&e.$$.dirty&&!n&&r&&v&&Hc(a,e=>{i(0,c=e)},e=>console.log(e))},[c,r,u,h,v,m,g,l]}class qc extends Ce{constructor(e){super(e),de(this,e,Uc,Nc,d,{location:7}),fe("SvelteRegisterComponent",{component:this,tagName:"WorldEditor",options:e,id:Nc.name});const{ctx:t}=this.$$,i=e.props||{};void 0!==t[7]||"location"in i||jc.warn("<WorldEditor> was created without expected prop 'location'")}get location(){throw new Error("<WorldEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set location(e){throw new Error("<WorldEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const zc=function(){const{subscribe:e,set:t,update:i}=Je({rooms:[],filteredRooms:[],selectedRoom:null,filter:""});return{subscribe:e,setSelectedRoom:e=>i(t=>(t.selectedRoom=e,t)),setFilter:e=>{i(t=>(t.filter=e,t.filteredRooms=rooms.filter(t=>t.name.includes(e)),t))},setRooms:e=>{i(t=>(console.log("SET ROOMS: COUNT "+e.length),t.rooms=e,t.filteredRooms=e,t))}}}();function Yc(e,t,i,n){Ra.get("/api/rooms/"+t,{mode:"no-cors",credentials:"same-origin",headers:{Authorization:"Bearer "+e}}).then(e=>i(e.data)).catch(e=>n(e))}function Vc(e,t,i,n){Ra.delete("/api/rooms/"+t,{mode:"no-cors",credentials:"same-origin",headers:{Authorization:"Bearer "+e}}).then(e=>i(e.data)).catch(e=>n(e))}function Kc(e,t,i){Ra.get("/api/rooms",{mode:"no-cors",credentials:"same-origin",headers:{Authorization:"Bearer "+e}}).then(e=>t(e.data)).catch(e=>i(e))}function Gc(e,t,i,n,r){Ra.put("/api/rooms/"+t,i,{mode:"no-cors",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}).then(e=>n(e.data)).catch(e=>r(e))}function Zc(e,t,i,n){Ra.post("/api/rooms",t,{mode:"no-cors",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}).then(e=>i(e.data)).catch(e=>n(e))}const{console:Xc}=oe,Jc="src/creator/RoomsEditor.svelte";function Qc(e,t,i){const n=e.slice();return n[26]=t[i],n}function el(e,t,i){const n=e.slice();return n[29]=t[i],n}function tl(e){let t,i,n,r,o=e[29].name+"";const s={c:function(){t=C("a"),i=k(o),n=E(),ge(t,"href","#!"),ge(t,"class","collection-item svelte-gfhy5w"),a(t,Jc,176,8,3350)},m:function(o,s,a){_e(o,t,s),pe(t,i),pe(t,n),a&&r(),r=me(t,"click",(function(){h(zc.setSelectedRoom(e[29]))&&zc.setSelectedRoom(e[29]).apply(this,arguments)}),!1,!1,!1)},p:function(t,n){e=t,1&n[0]&&o!==(o=e[29].name+"")&&ye(i,o)},d:function(e){e&&ve(t),r()}};return fe("SvelteRegisterBlock",{block:s,id:tl.name,type:"each",source:"(176:6) {#each $store.rooms as room}",ctx:e}),s}function il(e){let t,i,n,r,o,s,c,l,h,d,f,p;function _(e,t){return e[0].selectedRoom.isNew?rl:nl}let v=_(e),m=v(e),g=e[0].selectedRoom.exits&&ol(e);const y={c:function(){t=C("div"),i=C("div"),n=C("div"),r=C("input"),o=E(),m.c(),s=E(),c=C("input"),h=E(),d=C("textarea"),f=E(),g&&g.c(),ge(r,"placeholder","Room Name"),ge(r,"id","room_name"),ge(r,"type","text"),ge(r,"class","col s8 svelte-gfhy5w"),a(r,Jc,193,10,3666),ge(c,"placeholder","Room ID"),ge(c,"id","room_id"),ge(c,"type","text"),c.value=l=e[0].selectedRoom.id,c.disabled=!0,ge(c,"class","svelte-gfhy5w"),a(c,Jc,214,10,4374),ge(d,"placeholder","Room Description"),ge(d,"id","room_description"),ge(d,"type","text"),ge(d,"class","materialize-textarea svelte-gfhy5w"),a(d,Jc,222,10,4554),ge(n,"class","card-panel cyan darken-4"),a(n,Jc,191,8,3616),ge(i,"class","col s12 m8"),a(i,Jc,190,6,3583),a(t,Jc,188,4,3570)},m:function(a,l,_){_e(a,t,l),pe(t,i),pe(i,n),pe(n,r),O(r,e[0].selectedRoom.name),pe(n,o),m.m(n,null),pe(n,s),pe(n,c),pe(n,h),pe(n,d),O(d,e[0].selectedRoom.description),pe(i,f),g&&g.m(i,null),_&&u(p),p=[me(r,"input",e[21]),me(d,"input",e[25])]},p:function(e,t){var o,a,u;1&t[0]&&r.value!==e[0].selectedRoom.name&&O(r,e[0].selectedRoom.name),v===(v=_(e))&&m?m.p(e,t):(m.d(1),m=v(e),m&&(m.c(),m.m(n,s))),1&t[0]&&l!==(l=e[0].selectedRoom.id)&&c.value!==l&&(u=l,(o=c)[a="value"]=u,fe("SvelteDOMSetProperty",{node:o,property:a,value:u})),1&t[0]&&O(d,e[0].selectedRoom.description),e[0].selectedRoom.exits?g?g.p(e,t):(g=ol(e),g.c(),g.m(i,null)):g&&(g.d(1),g=null)},d:function(e){e&&ve(t),m.d(),g&&g.d(),u(p)}};return fe("SvelteRegisterBlock",{block:y,id:il.name,type:"if",source:"(188:2) {#if $store.selectedRoom}",ctx:e}),y}function nl(e){let t,i,n,o;const s={c:function(){t=C("button"),t.textContent="Update",i=E(),n=C("button"),n.textContent="Delete",ge(t,"class","waves-effect waves-light btn-small green right svelte-gfhy5w"),a(t,Jc,206,12,4066),ge(n,"class","waves-effect waves-light btn-small red right svelte-gfhy5w"),a(n,Jc,209,12,4213)},m:function(r,s,a){_e(r,t,s),_e(r,i,s),_e(r,n,s),a&&u(o),o=[me(t,"click",e[23],!1,!1,!1),me(n,"click",e[24],!1,!1,!1)]},p:r,d:function(e){e&&ve(t),e&&ve(i),e&&ve(n),u(o)}};return fe("SvelteRegisterBlock",{block:s,id:nl.name,type:"else",source:"(206:10) {:else}",ctx:e}),s}function rl(e){let t,i;const n={c:function(){t=C("button"),t.textContent="Create",ge(t,"class","waves-effect waves-light btn-small green svelte-gfhy5w"),a(t,Jc,202,12,3907)},m:function(n,r,o){_e(n,t,r),o&&i(),i=me(t,"click",e[22],!1,!1,!1)},p:r,d:function(e){e&&ve(t),i()}};return fe("SvelteRegisterBlock",{block:n,id:rl.name,type:"if",source:"(202:10) {#if $store.selectedRoom.isNew}",ctx:e}),n}function ol(e){let t,i,n,r=e[0].selectedRoom.exits;be(r);let o=[];for(let t=0;t<r.length;t+=1)o[t]=sl(Qc(e,r,t));const s={c:function(){t=C("h6"),t.textContent="Exits",i=E(),n=C("ul");for(let e=0;e<o.length;e+=1)o[e].c();a(t,Jc,233,10,4855),ge(n,"class","collection svelte-gfhy5w"),a(n,Jc,235,10,4881)},m:function(e,r){_e(e,t,r),_e(e,i,r),_e(e,n,r);for(let e=0;e<o.length;e+=1)o[e].m(n,null)},p:function(e,t){if(1&t[0]){let i;for(r=e[0].selectedRoom.exits,be(r),i=0;i<r.length;i+=1){const s=Qc(e,r,i);o[i]?o[i].p(s,t):(o[i]=sl(s),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},d:function(e){e&&ve(t),e&&ve(i),e&&ve(n),w(o,e)}};return fe("SvelteRegisterBlock",{block:s,id:ol.name,type:"if",source:"(233:8) {#if $store.selectedRoom.exits}",ctx:e}),s}function sl(e){let t,i,n,r,o,s,c,l=e[26].name+"",u=e[26].description+"";const h={c:function(){t=C("li"),i=C("div"),n=k(l),r=E(),o=C("div"),s=k(u),c=E(),a(i,Jc,239,16,5019),a(o,Jc,240,16,5058),ge(t,"class","collection-item svelte-gfhy5w"),a(t,Jc,238,14,4974)},m:function(e,a){_e(e,t,a),pe(t,i),pe(i,n),pe(t,r),pe(t,o),pe(o,s),pe(t,c)},p:function(e,t){1&t[0]&&l!==(l=e[26].name+"")&&ye(n,l),1&t[0]&&u!==(u=e[26].description+"")&&ye(s,u)},d:function(e){e&&ve(t)}};return fe("SvelteRegisterBlock",{block:h,id:sl.name,type:"each",source:"(238:12) {#each $store.selectedRoom.exits as exit}",ctx:e}),h}function al(e){let t,i,n,r,o,s,c,l,u,h,d,f;const p=new Ne({props:{size:"14"},$$inline:!0});let _=e[0].rooms;be(_);let v=[];for(let t=0;t<_.length;t+=1)v[t]=tl(el(e,_,t));let m=e[0].selectedRoom&&il(e);const g={c:function(){t=C("div"),i=C("div"),n=C("span"),n.textContent="Manage Rooms",r=E(),o=C("button"),ce(p.$$.fragment),s=k("\n      NEW"),c=E(),l=C("div"),u=C("div");for(let e=0;e<v.length;e+=1)v[e].c();h=E(),m&&m.c(),ge(n,"class","title col s6 valign-wrapper svelte-gfhy5w"),a(n,Jc,167,4,3033),ge(o,"class","waves-effect waves-light btn-small green col s2 svelte-gfhy5w"),a(o,Jc,168,4,3099),ge(i,"class","row"),a(i,Jc,166,2,3011),ge(u,"class","collection svelte-gfhy5w"),a(u,Jc,174,4,3282),ge(l,"class","col s3"),a(l,Jc,173,2,3257),ge(t,"class","row"),a(t,Jc,165,0,2991)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(a,_,g){_e(a,t,_),pe(t,i),pe(i,n),pe(i,r),pe(i,o),le(p,o,null),pe(o,s),pe(t,c),pe(t,l),pe(l,u);for(let e=0;e<v.length;e+=1)v[e].m(u,null);pe(t,h),m&&m.m(t,null),d=!0,g&&f(),f=me(o,"click",e[20],!1,!1,!1)},p:function(e,i){if(1&i[0]){let t;for(_=e[0].rooms,be(_),t=0;t<_.length;t+=1){const n=el(e,_,t);v[t]?v[t].p(n,i):(v[t]=tl(n),v[t].c(),v[t].m(u,null))}for(;t<v.length;t+=1)v[t].d(1);v.length=_.length}e[0].selectedRoom?m?m.p(e,i):(m=il(e),m.c(),m.m(t,null)):m&&(m.d(1),m=null)},i:function(e){d||(ne(p.$$.fragment,e),d=!0)},o:function(e){re(p.$$.fragment,e),d=!1},d:function(e){e&&ve(t),ue(p),w(v,e),m&&m.d(),f()}};return fe("SvelteRegisterBlock",{block:g,id:al.name,type:"component",source:"",ctx:e}),g}function cl(e,t,i){let n,r,o,s,a,c;f(zc,"store"),_(e,zc,e=>i(0,c=e));let{location:l}=t;const{isLoading:u,isAuthenticated:h,login:d,logout:p,authToken:v,authError:m,userInfo:g}=Ys();f(u,"isLoading"),_(e,u,e=>i(12,n=e)),f(h,"isAuthenticated"),_(e,h,e=>i(13,r=e)),f(v,"authToken"),_(e,v,e=>i(16,a=e)),f(m,"authError"),_(e,m,e=>i(14,o=e)),f(g,"userInfo"),_(e,g,e=>i(15,s=e));const y=async e=>{n&&!r||Kc(a,t=>{zc.setRooms(t),e&&e()},e=>console.log(e))};P(async()=>{document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".collapsible");M.Collapsible.init(e)})),y(()=>{zc.setSelectedRoom(c.rooms[0]),M.updateTextFields()})});const b=()=>{Zc(a,{name:"New Room",description:"",isNew:!0,exits:[],actions:[]},e=>{y(),zc.setSelectedRoom(e)},e=>console.log(e))},w=async e=>{Vc(a,c.selectedRoom.id,()=>{console.log("delete successful."),y(()=>{zc.setSelectedRoom(c.rooms[0])})},()=>{console.log("create error.")})},C=async()=>{Zc(a,c.selectedRoom,e=>{console.log("create successful."),y(),function(e,t,i=t){e.set(i)}(zc,c.selectedRoom=e,c)},()=>{console.log("create error.")})},S=()=>{Gc(a,c.selectedRoom.id,c.selectedRoom,()=>{console.log("update successful."),y()},()=>{console.log("update error.")})},k=["location"];Object.keys(t).forEach(e=>{~k.indexOf(e)||"$$"===e.slice(0,2)||Xc.warn(`<RoomsEditor> was created with unknown prop '${e}'`)});let{$$slots:E={},$$scope:x}=t;we("RoomsEditor",E,[]);let L;return e.$set=e=>{"location"in e&&i(10,l=e.location)},e.$capture_state=()=>({store:zc,PlusIcon:Ne,writable:Je,onMount:P,createAuth:zs,getAuth:Ys,axios:Ra,getRoom:Yc,deleteRoom:Vc,getRooms:Kc,updateRoom:Gc,createRoom:Zc,location:l,isLoading:u,isAuthenticated:h,login:d,logout:p,authToken:v,authError:m,userInfo:g,loadData:y,newRoom:b,delRoom:w,create:C,update:S,state:L,$isLoading:n,$isAuthenticated:r,$authError:o,$userInfo:s,$authToken:a,$store:c}),e.$inject_state=e=>{"location"in e&&i(10,l=e.location),"state"in e&&(L=e.state)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{126976&e.$$.dirty[0]&&(L={isLoading:n,isAuthenticated:r,authError:o,userInfo:s?s.name:null,authToken:a.slice(0,20)})},[c,u,h,v,m,g,b,w,C,S,l,L,n,r,o,s,a,d,p,y,()=>b(),function(){c.selectedRoom.name=this.value,zc.set(c)},()=>C(),()=>S(),()=>w(),function(){c.selectedRoom.description=this.value,zc.set(c)}]}class ll extends Ce{constructor(e){super(e),de(this,e,cl,al,d,{location:10},[-1,-1]),fe("SvelteRegisterComponent",{component:this,tagName:"RoomsEditor",options:e,id:al.name});const{ctx:t}=this.$$,i=e.props||{};void 0!==t[10]||"location"in i||Xc.warn("<RoomsEditor> was created without expected prop 'location'")}get location(){throw new Error("<RoomsEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set location(e){throw new Error("<RoomsEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const ul="src/creator/ItemsEditor.svelte";function hl(e){let t,i;const n={c:function(){t=C("div"),i=C("h4"),i.textContent="Manage Items",a(i,ul,43,2,696),ge(t,"class","row"),a(t,ul,42,0,676)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,n){_e(e,t,n),pe(t,i)},p:r,i:r,o:r,d:function(e){e&&ve(t)}};return fe("SvelteRegisterBlock",{block:n,id:hl.name,type:"component",source:"",ctx:e}),n}function dl(e,t,i){let n,r,o,s,a,{location:c}=t,l=[],u={};const{isLoading:h,isAuthenticated:d,login:p,logout:v,authToken:m,authError:g,userInfo:y}=Ys();f(h,"isLoading"),_(e,h,e=>i(7,n=e)),f(d,"isAuthenticated"),_(e,d,e=>i(8,r=e)),f(m,"authToken"),_(e,m,e=>i(11,a=e)),f(g,"authError"),_(e,g,e=>i(9,o=e)),f(y,"userInfo"),_(e,y,e=>i(10,s=e)),P(async()=>{});const b=["location"];Object.keys(t).forEach(e=>{~b.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<ItemsEditor> was created with unknown prop '${e}'`)});let w,{$$slots:C={},$$scope:S}=t;return we("ItemsEditor",C,[]),e.$set=e=>{"location"in e&&i(5,c=e.location)},e.$capture_state=()=>({writable:Je,onMount:P,createAuth:zs,getAuth:Ys,axios:Ra,location:c,items:l,selectedItem:u,isLoading:h,isAuthenticated:d,login:p,logout:v,authToken:m,authError:g,userInfo:y,state:w,$isLoading:n,$isAuthenticated:r,$authError:o,$userInfo:s,$authToken:a}),e.$inject_state=e=>{"location"in e&&i(5,c=e.location),"items"in e&&(l=e.items),"selectedItem"in e&&(u=e.selectedItem),"state"in e&&(w=e.state)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{3968&e.$$.dirty&&(w={isLoading:n,isAuthenticated:r,authError:o,userInfo:s?s.name:null,authToken:a.slice(0,20)})},[h,d,m,g,y,c]}class fl extends Ce{constructor(e){super(e),de(this,e,dl,hl,d,{location:5}),fe("SvelteRegisterComponent",{component:this,tagName:"ItemsEditor",options:e,id:hl.name});const{ctx:t}=this.$$,i=e.props||{};void 0!==t[5]||"location"in i||console.warn("<ItemsEditor> was created without expected prop 'location'")}get location(){throw new Error("<ItemsEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set location(e){throw new Error("<ItemsEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function pl(e){let t,i,n,o;const s=new Lt({props:{path:"rooms",component:ll},$$inline:!0}),c=new Lt({props:{path:"items",component:fl},$$inline:!0}),l=new Lt({props:{path:"world",component:qc},$$inline:!0}),u={c:function(){t=C("row"),ce(s.$$.fragment),i=E(),ce(c.$$.fragment),n=E(),ce(l.$$.fragment),a(t,"src/creator/Creator.svelte",69,2,1354)},m:function(e,r){_e(e,t,r),le(s,t,null),pe(t,i),le(c,t,null),pe(t,n),le(l,t,null),o=!0},p:r,i:function(e){o||(ne(s.$$.fragment,e),ne(c.$$.fragment,e),ne(l.$$.fragment,e),o=!0)},o:function(e){re(s.$$.fragment,e),re(c.$$.fragment,e),re(l.$$.fragment,e),o=!1},d:function(e){e&&ve(t),ue(s),ue(c),ue(l)}};return fe("SvelteRegisterBlock",{block:u,id:pl.name,type:"slot",source:'(68:0) <Router url=\\"{url}\\">',ctx:e}),u}function _l(e){let t;const i=new yt({props:{url:e[0],$$slots:{default:[pl]},$$scope:{ctx:e}},$$inline:!0}),n={c:function(){ce(i.$$.fragment)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,n){le(i,e,n),t=!0},p:function(e,[t]){const n={};1&t&&(n.url=e[0]),16384&t&&(n.$$scope={dirty:t,ctx:e}),i.$set(n)},i:function(e){t||(ne(i.$$.fragment,e),t=!0)},o:function(e){re(i.$$.fragment,e),t=!1},d:function(e){ue(i,e)}};return fe("SvelteRegisterBlock",{block:n,id:_l.name,type:"component",source:"",ctx:e}),n}function vl(e,t,i){let n,r,o,s,a;const{isLoading:c,isAuthenticated:l,login:u,logout:h,authToken:d,authError:p,userInfo:v}=Ys();f(c,"isLoading"),_(e,c,e=>i(7,n=e)),f(l,"isAuthenticated"),_(e,l,e=>i(8,r=e)),f(d,"authToken"),_(e,d,e=>i(11,a=e)),f(p,"authError"),_(e,p,e=>i(9,o=e)),f(v,"userInfo"),_(e,v,e=>i(10,s=e)),P(async()=>{var e=document.querySelectorAll(".tabs");M.Tabs.init(e);document.body.style.backgroundImage="",$t.setItems([{name:"ROOMS",nav:"creator/rooms"},{name:"ITEMS",nav:"creator/items"},{name:"WORLD",nav:"creator/world"}]),$t.show()}),H(async()=>{$t.hide()});let{url:m=""}=t;const g=["url"];Object.keys(t).forEach(e=>{~g.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<Creator> was created with unknown prop '${e}'`)});let y,{$$slots:b={},$$scope:w}=t;return we("Creator",b,[]),e.$set=e=>{"url"in e&&i(0,m=e.url)},e.$capture_state=()=>({WorldEditor:qc,RoomsEditor:ll,ItemsEditor:fl,Router:yt,Route:Lt,writable:Je,onMount:P,onDestroy:H,createAuth:zs,getAuth:Ys,subMenu:$t,axios:Ra,isLoading:c,isAuthenticated:l,login:u,logout:h,authToken:d,authError:p,userInfo:v,url:m,state:y,$isLoading:n,$isAuthenticated:r,$authError:o,$userInfo:s,$authToken:a}),e.$inject_state=e=>{"url"in e&&i(0,m=e.url),"state"in e&&(y=e.state)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{3968&e.$$.dirty&&(y={isLoading:n,isAuthenticated:r,authError:o,userInfo:s?s.name:null,authToken:a.slice(0,20)})},[m,c,l,d,p,v]}class ml extends Ce{constructor(e){super(e),de(this,e,vl,_l,d,{url:0}),fe("SvelteRegisterComponent",{component:this,tagName:"Creator",options:e,id:_l.name})}get url(){throw new Error("<Creator>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set url(e){throw new Error("<Creator>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const gl="src/UserForm.svelte";function yl(e){let t,i,n,o,s,c,l,h,d,f,p,_,v,m,g,y,b,w,S,x,L,M,T,R,A,D,I,P,B,$,H,j,W,F;const N={c:function(){t=C("div"),i=C("h3"),i.textContent="Your Account data",n=E(),o=C("form"),s=C("div"),c=C("div"),l=C("input"),h=E(),d=C("label"),d.textContent="Reference ID",f=E(),p=C("div"),_=C("div"),v=C("input"),m=E(),g=C("label"),g.textContent="Name",y=E(),b=C("div"),w=C("div"),S=C("input"),x=E(),L=C("label"),L.textContent="Nickname",M=E(),T=C("div"),R=C("div"),A=C("input"),D=E(),I=C("label"),I.textContent="E-Mail",P=E(),B=C("div"),$=C("div"),H=C("button"),j=k("Submit\n        "),W=C("i"),W.textContent="send",a(i,gl,76,2,1453),ge(l,"id","refid"),ge(l,"type","text"),l.disabled=!0,ge(l,"class","svelte-10o4r89"),a(l,gl,81,8,1576),ge(d,"id","refidlabel"),ge(d,"for","refid"),ge(d,"class","active svelte-10o4r89"),a(d,gl,87,8,1701),ge(c,"class","input-field col s12"),a(c,gl,80,6,1534),ge(s,"class","row"),a(s,gl,79,4,1510),ge(v,"id","username"),ge(v,"type","text"),ge(v,"class","validate svelte-10o4r89"),a(v,gl,93,8,1867),ge(g,"for","username"),ge(g,"class","active"),a(g,gl,99,8,2002),ge(_,"class","input-field col s12"),a(_,gl,92,6,1825),ge(p,"class","row"),a(p,gl,91,4,1801),ge(S,"id","usernickname"),ge(S,"type","text"),ge(S,"class","validate svelte-10o4r89"),a(S,gl,104,8,2146),ge(L,"for","usernickname"),ge(L,"class","active"),a(L,gl,110,8,2289),ge(w,"class","input-field col s12"),a(w,gl,103,6,2104),ge(b,"class","row"),a(b,gl,102,4,2080),ge(A,"id","useremail"),ge(A,"type","text"),ge(A,"class","validate svelte-10o4r89"),a(A,gl,115,8,2441),ge(I,"for","useremail"),ge(I,"class","active"),a(I,gl,121,8,2578),ge(R,"class","input-field col s12"),a(R,gl,114,6,2399),ge(T,"class","row"),a(T,gl,113,4,2375),ge(o,"class","col s12"),a(o,gl,77,2,1482),ge(W,"class","material-icons right"),a(W,gl,133,8,2856),ge(H,"class","btn waves-effect waves-light"),a(H,gl,128,6,2730),ge($,"class","input-field col s12"),a($,gl,127,4,2690),ge(B,"class","row"),a(B,gl,126,2,2668),ge(t,"class","row"),a(t,gl,75,0,1433)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(r,a,C){_e(r,t,a),pe(t,i),pe(t,n),pe(t,o),pe(o,s),pe(s,c),pe(c,l),O(l,e[0].refid),pe(c,h),pe(c,d),pe(o,f),pe(o,p),pe(p,_),pe(_,v),O(v,e[0].name),pe(_,m),pe(_,g),pe(o,y),pe(o,b),pe(b,w),pe(w,S),O(S,e[0].nickname),pe(w,x),pe(w,L),pe(o,M),pe(o,T),pe(T,R),pe(R,A),O(A,e[0].email),pe(R,D),pe(R,I),pe(t,P),pe(t,B),pe(B,$),pe($,H),pe(H,j),pe(H,W),C&&u(F),F=[me(l,"input",e[16]),me(v,"input",e[17]),me(S,"input",e[18]),me(A,"input",e[19]),me(H,"click",e[20],!1,!1,!1)]},p:function(e,[t]){1&t&&l.value!==e[0].refid&&O(l,e[0].refid),1&t&&v.value!==e[0].name&&O(v,e[0].name),1&t&&S.value!==e[0].nickname&&O(S,e[0].nickname),1&t&&A.value!==e[0].email&&O(A,e[0].email)},i:r,o:r,d:function(e){e&&ve(t),u(F)}};return fe("SvelteRegisterBlock",{block:N,id:yl.name,type:"component",source:"",ctx:e}),N}function bl(e,t,i){let n,r,o,s,a,c,l=Je({});f(l,"user"),_(e,l,e=>i(0,c=e));const{isLoading:u,isAuthenticated:h,login:d,logout:p,authToken:v,authError:m,userInfo:g}=Ys();async function y(e){r&&Ra.put("http://localhost:8010/api/user",c,{mode:"no-cors",credentials:"same-origin",headers:{Authorization:"Bearer "+a}})}f(u,"isLoading"),_(e,u,e=>i(9,n=e)),f(h,"isAuthenticated"),_(e,h,e=>i(10,r=e)),f(v,"authToken"),_(e,v,e=>i(13,a=e)),f(m,"authError"),_(e,m,e=>i(11,o=e)),f(g,"userInfo"),_(e,g,e=>i(12,s=e));const b=[];Object.keys(t).forEach(e=>{~b.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<UserForm> was created with unknown prop '${e}'`)});let{$$slots:w={},$$scope:C}=t;we("UserForm",w,[]);let S;return e.$capture_state=()=>({writable:Je,CharacterCard:xc,onMount:P,createAuth:zs,getAuth:Ys,axios:Ra,onInterval:Lc,user:l,isLoading:u,isAuthenticated:h,login:d,logout:p,authToken:v,authError:m,userInfo:g,handleSubmit:y,state:S,$isLoading:n,$isAuthenticated:r,$authError:o,$userInfo:s,$authToken:a,$user:c}),e.$inject_state=e=>{"user"in e&&i(1,l=e.user),"state"in e&&(S=e.state)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{15872&e.$$.dirty&&(S={isLoading:n,isAuthenticated:r,authError:o,userInfo:s?s.name:null,authToken:a.slice(0,20),user:l}),8192&e.$$.dirty&&Ra("http://localhost:8010/api/user",{method:"GET",mode:"no-cors",credentials:"same-origin",headers:{Authorization:"Bearer "+a}}).then(e=>{l.update(t=>e.data)})},[c,l,u,h,v,m,g,y,S,n,r,o,s,a,d,p,function(){c.refid=this.value,l.set(c)},function(){c.name=this.value,l.set(c)},function(){c.nickname=this.value,l.set(c)},function(){c.email=this.value,l.set(c)},()=>y()]}class wl extends Ce{constructor(e){super(e),de(this,e,bl,yl,d,{}),fe("SvelteRegisterComponent",{component:this,tagName:"UserForm",options:e,id:yl.name})}}const Cl="src/App.svelte";function Sl(e,t,i){const n=e.slice();return n[16]=t[i],n}function kl(e){let t;const i={c:function(){t=k("Tales")},m:function(e,i){_e(e,t,i)},d:function(e){e&&ve(t)}};return fe("SvelteRegisterBlock",{block:i,id:kl.name,type:"slot",source:'(137:10) <NavLink to=\\"/\\">',ctx:e}),i}function El(e){let t,i,n,o;const s=new He({props:{size:"18"},$$inline:!0}),c={c:function(){t=C("span"),i=C("span"),ce(s.$$.fragment),n=k("\n              Play"),ge(i,"class","iconspacing valign-wrapper svelte-1tmve32"),a(i,Cl,145,14,3249),ge(t,"class","valign-wrapper"),a(t,Cl,144,12,3205)},m:function(e,r){_e(e,t,r),pe(t,i),le(s,i,null),pe(t,n),o=!0},p:r,i:function(e){o||(ne(s.$$.fragment,e),o=!0)},o:function(e){re(s.$$.fragment,e),o=!1},d:function(e){e&&ve(t),ue(s)}};return fe("SvelteRegisterBlock",{block:c,id:El.name,type:"slot",source:'(144:10) <NavLink to=\\"/play\\">',ctx:e}),c}function xl(e){let t,i;const n=new Pt({props:{to:"/creator/rooms",$$slots:{default:[Ll]},$$scope:{ctx:e}},$$inline:!0}),r={c:function(){t=C("li"),ce(n.$$.fragment),a(t,Cl,154,10,3468)},m:function(e,r){_e(e,t,r),le(n,t,null),i=!0},i:function(e){i||(ne(n.$$.fragment,e),i=!0)},o:function(e){re(n.$$.fragment,e),i=!1},d:function(e){e&&ve(t),ue(n)}};return fe("SvelteRegisterBlock",{block:r,id:xl.name,type:"if",source:"(154:8) {#if $isAuthenticated}",ctx:e}),r}function Ll(e){let t,i,n,o;const s=new Oe({props:{size:"18"},$$inline:!0}),c={c:function(){t=C("span"),i=C("span"),ce(s.$$.fragment),n=k("\n                Creator"),ge(i,"class","iconspacing valign-wrapper svelte-1tmve32"),a(i,Cl,157,16,3575),ge(t,"class","valign-wrapper"),a(t,Cl,156,14,3529)},m:function(e,r){_e(e,t,r),pe(t,i),le(s,i,null),pe(t,n),o=!0},p:r,i:function(e){o||(ne(s.$$.fragment,e),o=!0)},o:function(e){re(s.$$.fragment,e),o=!1},d:function(e){e&&ve(t),ue(s)}};return fe("SvelteRegisterBlock",{block:c,id:Ll.name,type:"slot",source:'(156:12) <NavLink to=\\"/creator/rooms\\">',ctx:e}),c}function Ml(e){let t;const i={c:function(){t=k("News")},m:function(e,i){_e(e,t,i)},d:function(e){e&&ve(t)}};return fe("SvelteRegisterBlock",{block:i,id:Ml.name,type:"slot",source:'(167:10) <NavLink to=\\"signup\\">',ctx:e}),i}function Tl(e){let t,i,n,r=e[2].entries;be(r);let o=[];for(let t=0;t<r.length;t+=1)o[t]=Rl(Sl(e,r,t));const s=e=>re(o[e],1,1,()=>{o[e]=null}),c={c:function(){t=C("div"),i=C("ul");for(let e=0;e<o.length;e+=1)o[e].c();ge(i,"class","tabs tabs-transparent"),a(i,Cl,174,8,3975),ge(t,"class","nav-content container"),a(t,Cl,173,6,3931)},m:function(e,r){_e(e,t,r),pe(t,i);for(let e=0;e<o.length;e+=1)o[e].m(i,null);n=!0},p:function(e,t){if(4&t){let n;for(r=e[2].entries,be(r),n=0;n<r.length;n+=1){const s=Sl(e,r,n);o[n]?(o[n].p(s,t),ne(o[n],1)):(o[n]=Rl(s),o[n].c(),ne(o[n],1),o[n].m(i,null))}for(te(),n=r.length;n<o.length;n+=1)s(n);ie()}},i:function(e){if(!n){for(let e=0;e<r.length;e+=1)ne(o[e]);n=!0}},o:function(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)re(o[e]);n=!1},d:function(e){e&&ve(t),w(o,e)}};return fe("SvelteRegisterBlock",{block:c,id:Tl.name,type:"if",source:"(173:4) {#if $subMenu.active}",ctx:e}),c}function Ol(e){let t,i=e[16].name+"";const n={c:function(){t=k(i)},m:function(e,i){_e(e,t,i)},p:function(e,n){4&n&&i!==(i=e[16].name+"")&&ye(t,i)},d:function(e){e&&ve(t)}};return fe("SvelteRegisterBlock",{block:n,id:Ol.name,type:"slot",source:'(178:14) <NavLink to=\\"{entry.nav}\\">',ctx:e}),n}function Rl(e){let t,i,n;const r=new Pt({props:{to:e[16].nav,$$slots:{default:[Ol]},$$scope:{ctx:e}},$$inline:!0}),o={c:function(){t=C("li"),ce(r.$$.fragment),i=E(),ge(t,"class","tab"),a(t,Cl,176,12,4066)},m:function(e,o){_e(e,t,o),le(r,t,null),pe(t,i),n=!0},p:function(e,t){const i={};4&t&&(i.to=e[16].nav),524292&t&&(i.$$scope={dirty:t,ctx:e}),r.$set(i)},i:function(e){n||(ne(r.$$.fragment,e),n=!0)},o:function(e){re(r.$$.fragment,e),n=!1},d:function(e){e&&ve(t),ue(r)}};return fe("SvelteRegisterBlock",{block:o,id:Rl.name,type:"each",source:"(176:10) {#each $subMenu.entries as entry}",ctx:e}),o}function Al(e){let t;const i=new $c({$$inline:!0}),n={c:function(){ce(i.$$.fragment)},m:function(e,n){le(i,e,n),t=!0},i:function(e){t||(ne(i.$$.fragment,e),t=!0)},o:function(e){re(i.$$.fragment,e),t=!1},d:function(e){ue(i,e)}};return fe("SvelteRegisterBlock",{block:n,id:Al.name,type:"else",source:"(196:6) {:else}",ctx:e}),n}function Dl(e){let t;const i=new nc({$$inline:!0}),n={c:function(){ce(i.$$.fragment)},m:function(e,n){le(i,e,n),t=!0},i:function(e){t||(ne(i.$$.fragment,e),t=!0)},o:function(e){re(i.$$.fragment,e),t=!1},d:function(e){ue(i,e)}};return fe("SvelteRegisterBlock",{block:n,id:Dl.name,type:"if",source:"(194:6) {#if $isAuthenticated}",ctx:e}),n}function Il(e){let t,i,n,r;const o=[Dl,Al],s=[];function a(e,t){return e[1]?0:1}t=a(e),i=s[t]=o[t](e);const c={c:function(){i.c(),n=x()},m:function(e,i){s[t].m(e,i),_e(e,n,i),r=!0},p:function(e,r){let c=t;t=a(e),t!==c&&(te(),re(s[c],1,1,()=>{s[c]=null}),ie(),i=s[t],i||(i=s[t]=o[t](e),i.c()),ne(i,1),i.m(n.parentNode,n))},i:function(e){r||(ne(i),r=!0)},o:function(e){re(i),r=!1},d:function(e){s[t].d(e),e&&ve(n)}};return fe("SvelteRegisterBlock",{block:c,id:Il.name,type:"slot",source:'(193:4) <Route path=\\"/\\">',ctx:e}),c}function Pl(e){let t,i,n,r,o,s,c,l,u,h,d,f,p,_,v,m,g,y,b,w;const S=new xe({props:{size:"24"},$$inline:!0}),k=new Pt({props:{to:"/",$$slots:{default:[kl]},$$scope:{ctx:e}},$$inline:!0}),x=new Pt({props:{to:"/play",$$slots:{default:[El]},$$scope:{ctx:e}},$$inline:!0});let L=e[1]&&xl(e);const M=new Pt({props:{to:"signup",$$slots:{default:[Ml]},$$scope:{ctx:e}},$$inline:!0}),T=new hc({$$inline:!0});let O=e[2].active&&Tl(e);const R=new Lt({props:{path:"account",component:wl},$$inline:!0}),A=new Lt({props:{path:"creator/*",component:ml},$$inline:!0}),D=new Lt({props:{path:"play",component:nc},$$inline:!0}),I=new Lt({props:{path:"/",$$slots:{default:[Il]},$$scope:{ctx:e}},$$inline:!0}),P={c:function(){t=C("nav"),i=C("div"),n=C("a"),r=C("span"),o=C("span"),ce(S.$$.fragment),s=E(),ce(k.$$.fragment),c=E(),l=C("ul"),u=C("li"),ce(x.$$.fragment),h=E(),L&&L.c(),d=E(),f=C("li"),ce(M.$$.fragment),p=E(),ce(T.$$.fragment),_=E(),O&&O.c(),v=E(),m=C("main"),ce(R.$$.fragment),g=E(),ce(A.$$.fragment),y=E(),ce(D.$$.fragment),b=E(),ce(I.$$.fragment),ge(o,"class","iconspacing svelte-1tmve32"),a(o,Cl,133,10,2948),ge(r,"class","valign-wrapper italic"),a(r,Cl,132,8,2901),ge(n,"href","#"),ge(n,"class","brand-logo"),a(n,Cl,131,6,2861),a(u,Cl,142,8,3157),a(f,Cl,165,8,3789),ge(l,"class","right hide-on-med-and-down"),a(l,Cl,140,6,3108),ge(i,"class","nav-wrapper container"),a(i,Cl,130,4,2819),ge(t,"class","nav-extended svelte-1tmve32"),a(t,Cl,129,2,2788),ge(m,"class","container"),a(m,Cl,186,2,4232)},m:function(e,a){_e(e,t,a),pe(t,i),pe(i,n),pe(n,r),pe(r,o),le(S,o,null),pe(r,s),le(k,r,null),pe(i,c),pe(i,l),pe(l,u),le(x,u,null),pe(l,h),L&&L.m(l,null),pe(l,d),pe(l,f),le(M,f,null),pe(l,p),le(T,l,null),pe(t,_),O&&O.m(t,null),_e(e,v,a),_e(e,m,a),le(R,m,null),pe(m,g),le(A,m,null),pe(m,y),le(D,m,null),pe(m,b),le(I,m,null),w=!0},p:function(e,i){const n={};524288&i&&(n.$$scope={dirty:i,ctx:e}),k.$set(n);const r={};524288&i&&(r.$$scope={dirty:i,ctx:e}),x.$set(r),e[1]?L?2&i&&ne(L,1):(L=xl(e),L.c(),ne(L,1),L.m(l,d)):L&&(te(),re(L,1,1,()=>{L=null}),ie());const o={};524288&i&&(o.$$scope={dirty:i,ctx:e}),M.$set(o),e[2].active?O?(O.p(e,i),4&i&&ne(O,1)):(O=Tl(e),O.c(),ne(O,1),O.m(t,null)):O&&(te(),re(O,1,1,()=>{O=null}),ie());const s={};524290&i&&(s.$$scope={dirty:i,ctx:e}),I.$set(s)},i:function(e){w||(ne(S.$$.fragment,e),ne(k.$$.fragment,e),ne(x.$$.fragment,e),ne(L),ne(M.$$.fragment,e),ne(T.$$.fragment,e),ne(O),ne(R.$$.fragment,e),ne(A.$$.fragment,e),ne(D.$$.fragment,e),ne(I.$$.fragment,e),w=!0)},o:function(e){re(S.$$.fragment,e),re(k.$$.fragment,e),re(x.$$.fragment,e),re(L),re(M.$$.fragment,e),re(T.$$.fragment,e),re(O),re(R.$$.fragment,e),re(A.$$.fragment,e),re(D.$$.fragment,e),re(I.$$.fragment,e),w=!1},d:function(e){e&&ve(t),ue(S),ue(k),ue(x),L&&L.d(),ue(M),ue(T),O&&O.d(),e&&ve(v),e&&ve(m),ue(R),ue(A),ue(D),ue(I)}};return fe("SvelteRegisterBlock",{block:P,id:Pl.name,type:"slot",source:'(129:0) <Router url=\\"{url}\\">',ctx:e}),P}function Bl(e){let t,i,n,r,o,s,c,l;const u=new yt({props:{url:e[0],$$slots:{default:[Pl]},$$scope:{ctx:e}},$$inline:!0}),h={c:function(){t=C("script"),n=C("link"),r=C("script"),s=C("link"),c=E(),ce(u.$$.fragment),t.src!==(i="https://cdn.auth0.com/js/auth0/9.0/auth0.min.js")&&ge(t,"src","https://cdn.auth0.com/js/auth0/9.0/auth0.min.js"),a(t,Cl,110,2,2327),ge(n,"rel","stylesheet"),ge(n,"href","https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"),a(n,Cl,113,2,2405),r.src!==(o="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js")&&ge(r,"src","https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js"),a(r,Cl,117,2,2531),ge(s,"rel","stylesheet"),ge(s,"href","https://fonts.googleapis.com/icon?family=Material+Icons"),a(s,Cl,121,2,2649)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,i){pe(document.head,t),pe(document.head,n),pe(document.head,r),pe(document.head,s),_e(e,c,i),le(u,e,i),l=!0},p:function(e,[t]){const i={};1&t&&(i.url=e[0]),524294&t&&(i.$$scope={dirty:t,ctx:e}),u.$set(i)},i:function(e){l||(ne(u.$$.fragment,e),l=!0)},o:function(e){re(u.$$.fragment,e),l=!1},d:function(e){ve(t),ve(n),ve(r),ve(s),e&&ve(c),ue(u,e)}};return fe("SvelteRegisterBlock",{block:h,id:Bl.name,type:"component",source:"",ctx:e}),h}function $l(e,t,i){let n,r,o,s,a,c;f($t,"subMenu"),_(e,$t,e=>i(2,c=e));const l={domain:"owndnd.eu.auth0.com",client_id:"mxcEqTuAUOzrL798mbVTpqFxpGGVp3gI",audience:"http://talesofapirate.com/dnd/api"},{isLoading:u,isAuthenticated:h,login:d,logout:p,authToken:v,authError:m,userInfo:g}=zs(l);f(u,"isLoading"),_(e,u,e=>i(9,n=e)),f(h,"isAuthenticated"),_(e,h,e=>i(1,r=e)),f(v,"authToken"),_(e,v,e=>i(12,a=e)),f(m,"authError"),_(e,m,e=>i(10,o=e)),f(g,"userInfo"),_(e,g,e=>i(11,s=e)),P(async()=>{});let{url:y=""}=t;const b=["url"];Object.keys(t).forEach(e=>{~b.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<App> was created with unknown prop '${e}'`)});let w,{$$slots:C={},$$scope:S}=t;return we("App",C,[]),e.$set=e=>{"url"in e&&i(0,y=e.url)},e.$capture_state=()=>({HashIcon:Ie,ShieldIcon:Ye,BookOpenIcon:xe,EditIcon:Oe,PlayIcon:He,Router:yt,Link:Ot,Route:Lt,navigate:rt,afterUpdate:B,onMount:P,NavLink:Pt,user:Bt,subMenu:$t,fade:Ht,Game:nc,UserMenu:hc,Input:vc,Home:Dc,Welcome:$c,Creator:ml,UserForm:wl,createAuth:zs,config:l,isLoading:u,isAuthenticated:h,login:d,logout:p,authToken:v,authError:m,userInfo:g,url:y,state:w,$isLoading:n,$isAuthenticated:r,$authError:o,$userInfo:s,$authToken:a,$subMenu:c}),e.$inject_state=e=>{"url"in e&&i(0,y=e.url),"state"in e&&(w=e.state)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{7682&e.$$.dirty&&(w={isLoading:n,isAuthenticated:r,authError:o,userInfo:s?s.name:null,authToken:a.slice(0,20)})},[y,r,c,u,h,v,m,g]}const Hl=new class extends Ce{constructor(e){super(e),de(this,e,$l,Bl,d,{url:0}),fe("SvelteRegisterComponent",{component:this,tagName:"App",options:e,id:Bl.name})}get url(){throw new Error("<App>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set url(e){throw new Error("<App>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}({target:document.body,props:{}});return M.AutoInit(),Hl}();
//# sourceMappingURL=bundle.js.map
